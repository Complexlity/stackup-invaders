/**
 * Skipped minification because the original files appears to be already minified.
 * Original file: /npm/@imtbl/sdk@0.44.0/dist/index.browser.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).immutable={})}(this,(function(e){"use strict";function t(e,t){return function(){return e.apply(t,arguments)}}const{toString:n}=Object.prototype,{getPrototypeOf:r}=Object,i=(a=Object.create(null),e=>{const t=n.call(e);return a[t]||(a[t]=t.slice(8,-1).toLowerCase())});var a;const s=e=>(e=e.toLowerCase(),t=>i(t)===e),o=e=>t=>typeof t===e,{isArray:c}=Array,u=o("undefined");const d=s("ArrayBuffer");const f=o("string"),l=o("function"),h=o("number"),p=e=>null!==e&&"object"==typeof e,m=e=>{if("object"!==i(e))return!1;const t=r(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)},b=s("Date"),y=s("File"),g=s("Blob"),v=s("FileList"),w=s("URLSearchParams");function _(e,t,{allOwnKeys:n=!1}={}){if(null==e)return;let r,i;if("object"!=typeof e&&(e=[e]),c(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{const i=n?Object.getOwnPropertyNames(e):Object.keys(e),a=i.length;let s;for(r=0;r<a;r++)s=i[r],t.call(null,e[s],s,e)}}function E(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,i=n.length;for(;i-- >0;)if(r=n[i],t===r.toLowerCase())return r;return null}const T="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,A=e=>!u(e)&&e!==T;const R=(S="undefined"!=typeof Uint8Array&&r(Uint8Array),e=>S&&e instanceof S);var S;const k=s("HTMLFormElement"),O=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),I=s("RegExp"),x=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};_(n,((n,i)=>{let a;!1!==(a=t(n,i,e))&&(r[i]=a||n)})),Object.defineProperties(e,r)},C="abcdefghijklmnopqrstuvwxyz",M="0123456789",P={DIGIT:M,ALPHA:C,ALPHA_DIGIT:C+C.toUpperCase()+M};const N=s("AsyncFunction");var B={isArray:c,isArrayBuffer:d,isBuffer:function(e){return null!==e&&!u(e)&&null!==e.constructor&&!u(e.constructor)&&l(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||l(e.append)&&("formdata"===(t=i(e))||"object"===t&&l(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&d(e.buffer),t},isString:f,isNumber:h,isBoolean:e=>!0===e||!1===e,isObject:p,isPlainObject:m,isUndefined:u,isDate:b,isFile:y,isBlob:g,isRegExp:I,isFunction:l,isStream:e=>p(e)&&l(e.pipe),isURLSearchParams:w,isTypedArray:R,isFileList:v,forEach:_,merge:function e(){const{caseless:t}=A(this)&&this||{},n={},r=(r,i)=>{const a=t&&E(n,i)||i;m(n[a])&&m(r)?n[a]=e(n[a],r):m(r)?n[a]=e({},r):c(r)?n[a]=r.slice():n[a]=r};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&_(arguments[e],r);return n},extend:(e,n,r,{allOwnKeys:i}={})=>(_(n,((n,i)=>{r&&l(n)?e[i]=t(n,r):e[i]=n}),{allOwnKeys:i}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,i)=>{let a,s,o;const c={};if(t=t||{},null==e)return t;do{for(a=Object.getOwnPropertyNames(e),s=a.length;s-- >0;)o=a[s],i&&!i(o,e,t)||c[o]||(t[o]=e[o],c[o]=!0);e=!1!==n&&r(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:i,kindOfTest:s,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(c(e))return e;let t=e.length;if(!h(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:k,hasOwnProperty:O,hasOwnProp:O,reduceDescriptors:x,freezeMethods:e=>{x(e,((t,n)=>{if(l(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];l(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return c(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>(e=+e,Number.isFinite(e)?e:t),findKey:E,global:T,isContextDefined:A,ALPHABET:P,generateString:(e=16,t=P.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&l(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(p(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const i=c(e)?[]:{};return _(e,((e,t)=>{const a=n(e,r+1);!u(a)&&(i[t]=a)})),t[r]=void 0,i}}return e};return n(e,0)},isAsyncFn:N,isThenable:e=>e&&(p(e)||l(e))&&l(e.then)&&l(e.catch)};function D(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}B.inherits(D,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:B.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const L=D.prototype,F={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{F[e]={value:e}})),Object.defineProperties(D,F),Object.defineProperty(L,"isAxiosError",{value:!0}),D.from=(e,t,n,r,i,a)=>{const s=Object.create(L);return B.toFlatObject(e,s,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),D.call(s,e.message,t,n,r,i),s.cause=e,s.name=e.name,a&&Object.assign(s,a),s};function U(e){return B.isPlainObject(e)||B.isArray(e)}function j(e){return B.endsWith(e,"[]")?e.slice(0,-2):e}function q(e,t,n){return e?e.concat(t).map((function(e,t){return e=j(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const z=B.toFlatObject(B,{},null,(function(e){return/^is[A-Z]/.test(e)}));function H(e,t,n){if(!B.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=B.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!B.isUndefined(t[e])}))).metaTokens,i=n.visitor||u,a=n.dots,s=n.indexes,o=(n.Blob||"undefined"!=typeof Blob&&Blob)&&B.isSpecCompliantForm(t);if(!B.isFunction(i))throw new TypeError("visitor must be a function");function c(e){if(null===e)return"";if(B.isDate(e))return e.toISOString();if(!o&&B.isBlob(e))throw new D("Blob is not supported. Use a Buffer instead.");return B.isArrayBuffer(e)||B.isTypedArray(e)?o&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function u(e,n,i){let o=e;if(e&&!i&&"object"==typeof e)if(B.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(B.isArray(e)&&function(e){return B.isArray(e)&&!e.some(U)}(e)||(B.isFileList(e)||B.endsWith(n,"[]"))&&(o=B.toArray(e)))return n=j(n),o.forEach((function(e,r){!B.isUndefined(e)&&null!==e&&t.append(!0===s?q([n],r,a):null===s?n:n+"[]",c(e))})),!1;return!!U(e)||(t.append(q(i,n,a),c(e)),!1)}const d=[],f=Object.assign(z,{defaultVisitor:u,convertValue:c,isVisitable:U});if(!B.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!B.isUndefined(n)){if(-1!==d.indexOf(n))throw Error("Circular reference detected in "+r.join("."));d.push(n),B.forEach(n,(function(n,a){!0===(!(B.isUndefined(n)||null===n)&&i.call(t,n,B.isString(a)?a.trim():a,r,f))&&e(n,r?r.concat(a):[a])})),d.pop()}}(e),t}function G(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function W(e,t){this._pairs=[],e&&H(e,this,t)}const V=W.prototype;function K(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function X(e,t,n){if(!t)return e;const r=n&&n.encode||K,i=n&&n.serialize;let a;if(a=i?i(t,n):B.isURLSearchParams(t)?t.toString():new W(t,n).toString(r),a){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}V.append=function(e,t){this._pairs.push([e,t])},V.toString=function(e){const t=e?function(t){return e.call(this,t,G)}:G;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var $=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){B.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},J={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Y={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:W,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]};const Q="undefined"!=typeof window&&"undefined"!=typeof document,Z=(ee="undefined"!=typeof navigator&&navigator.product,Q&&["ReactNative","NativeScript","NS"].indexOf(ee)<0);var ee;const te="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts;var ne={...Object.freeze({__proto__:null,hasBrowserEnv:Q,hasStandardBrowserEnv:Z,hasStandardBrowserWebWorkerEnv:te}),...Y};function re(e){function t(e,n,r,i){let a=e[i++];if("__proto__"===a)return!0;const s=Number.isFinite(+a),o=i>=e.length;if(a=!a&&B.isArray(r)?r.length:a,o)return B.hasOwnProp(r,a)?r[a]=[r[a],n]:r[a]=n,!s;r[a]&&B.isObject(r[a])||(r[a]=[]);return t(e,n,r[a],i)&&B.isArray(r[a])&&(r[a]=function(e){const t={},n=Object.keys(e);let r;const i=n.length;let a;for(r=0;r<i;r++)a=n[r],t[a]=e[a];return t}(r[a])),!s}if(B.isFormData(e)&&B.isFunction(e.entries)){const n={};return B.forEachEntry(e,((e,r)=>{t(function(e){return B.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null}const ie={transitional:J,adapter:["xhr","http"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,i=B.isObject(e);i&&B.isHTMLForm(e)&&(e=new FormData(e));if(B.isFormData(e))return r&&r?JSON.stringify(re(e)):e;if(B.isArrayBuffer(e)||B.isBuffer(e)||B.isStream(e)||B.isFile(e)||B.isBlob(e))return e;if(B.isArrayBufferView(e))return e.buffer;if(B.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return H(e,new ne.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return ne.isNode&&B.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((a=B.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return H(a?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||r?(t.setContentType("application/json",!1),function(e,t,n){if(B.isString(e))try{return(t||JSON.parse)(e),B.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||ie.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(e&&B.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(e){if(n){if("SyntaxError"===e.name)throw D.from(e,D.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ne.classes.FormData,Blob:ne.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};B.forEach(["delete","get","head","post","put","patch"],(e=>{ie.headers[e]={}}));var ae=ie;const se=B.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);const oe=Symbol("internals");function ce(e){return e&&String(e).trim().toLowerCase()}function ue(e){return!1===e||null==e?e:B.isArray(e)?e.map(ue):String(e)}function de(e,t,n,r,i){return B.isFunction(r)?r.call(this,t,n):(i&&(t=n),B.isString(t)?B.isString(r)?-1!==t.indexOf(r):B.isRegExp(r)?r.test(t):void 0:void 0)}let fe=class{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function i(e,t,n){const i=ce(t);if(!i)throw new Error("header name must be a non-empty string");const a=B.findKey(r,i);(!a||void 0===r[a]||!0===n||void 0===n&&!1!==r[a])&&(r[a||t]=ue(e))}const a=(e,t)=>B.forEach(e,((e,n)=>i(e,n,t)));return B.isPlainObject(e)||e instanceof this.constructor?a(e,t):B.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim())?a((e=>{const t={};let n,r,i;return e&&e.split("\n").forEach((function(e){i=e.indexOf(":"),n=e.substring(0,i).trim().toLowerCase(),r=e.substring(i+1).trim(),!n||t[n]&&se[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t):null!=e&&i(t,e,n),this}get(e,t){if(e=ce(e)){const n=B.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(B.isFunction(t))return t.call(this,e,n);if(B.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=ce(e)){const n=B.findKey(this,e);return!(!n||void 0===this[n]||t&&!de(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function i(e){if(e=ce(e)){const i=B.findKey(n,e);!i||t&&!de(0,n[i],i,t)||(delete n[i],r=!0)}}return B.isArray(e)?e.forEach(i):i(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const i=t[n];e&&!de(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}normalize(e){const t=this,n={};return B.forEach(this,((r,i)=>{const a=B.findKey(n,i);if(a)return t[a]=ue(r),void delete t[i];const s=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(i):String(i).trim();s!==i&&delete t[i],t[s]=ue(r),n[s]=!0})),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return B.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&B.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([e,t])=>e+": "+t)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach((e=>n.set(e))),n}static accessor(e){const t=(this[oe]=this[oe]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=ce(e);t[r]||(!function(e,t){const n=B.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return B.isArray(e)?e.forEach(r):r(e),this}};fe.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),B.reduceDescriptors(fe.prototype,(({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[n]=e}}})),B.freezeMethods(fe);var le=fe;function he(e,t){const n=this||ae,r=t||n,i=le.from(r.headers);let a=r.data;return B.forEach(e,(function(e){a=e.call(n,a,i.normalize(),t?t.status:void 0)})),i.normalize(),a}function pe(e){return!(!e||!e.__CANCEL__)}function me(e,t,n){D.call(this,null==e?"canceled":e,D.ERR_CANCELED,t,n),this.name="CanceledError"}B.inherits(me,D,{__CANCEL__:!0});var be=ne.hasStandardBrowserEnv?{write(e,t,n,r,i,a){const s=[e+"="+encodeURIComponent(t)];B.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),B.isString(r)&&s.push("path="+r),B.isString(i)&&s.push("domain="+i),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function ye(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}var ge=ne.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let n;function r(n){let r=n;return e&&(t.setAttribute("href",r),r=t.href),t.setAttribute("href",r),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return n=r(window.location.href),function(e){const t=B.isString(e)?r(e):e;return t.protocol===n.protocol&&t.host===n.host}}():function(){return!0};function ve(e,t){let n=0;const r=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i,a=0,s=0;return t=void 0!==t?t:1e3,function(o){const c=Date.now(),u=r[s];i||(i=c),n[a]=o,r[a]=c;let d=s,f=0;for(;d!==a;)f+=n[d++],d%=e;if(a=(a+1)%e,a===s&&(s=(s+1)%e),c-i<t)return;const l=u&&c-u;return l?Math.round(1e3*f/l):void 0}}(50,250);return i=>{const a=i.loaded,s=i.lengthComputable?i.total:void 0,o=a-n,c=r(o);n=a;const u={loaded:a,total:s,progress:s?a/s:void 0,bytes:o,rate:c||void 0,estimated:c&&s&&a<=s?(s-a)/c:void 0,event:i};u[t?"download":"upload"]=!0,e(u)}}var we="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){let r=e.data;const i=le.from(e.headers).normalize();let a,s,{responseType:o,withXSRFToken:c}=e;function u(){e.cancelToken&&e.cancelToken.unsubscribe(a),e.signal&&e.signal.removeEventListener("abort",a)}if(B.isFormData(r))if(ne.hasStandardBrowserEnv||ne.hasStandardBrowserWebWorkerEnv)i.setContentType(!1);else if(!1!==(s=i.getContentType())){const[e,...t]=s?s.split(";").map((e=>e.trim())).filter(Boolean):[];i.setContentType([e||"multipart/form-data",...t].join("; "))}let d=new XMLHttpRequest;if(e.auth){const t=e.auth.username||"",n=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";i.set("Authorization","Basic "+btoa(t+":"+n))}const f=ye(e.baseURL,e.url);function l(){if(!d)return;const r=le.from("getAllResponseHeaders"in d&&d.getAllResponseHeaders());!function(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new D("Request failed with status code "+n.status,[D.ERR_BAD_REQUEST,D.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}((function(e){t(e),u()}),(function(e){n(e),u()}),{data:o&&"text"!==o&&"json"!==o?d.response:d.responseText,status:d.status,statusText:d.statusText,headers:r,config:e,request:d}),d=null}if(d.open(e.method.toUpperCase(),X(f,e.params,e.paramsSerializer),!0),d.timeout=e.timeout,"onloadend"in d?d.onloadend=l:d.onreadystatechange=function(){d&&4===d.readyState&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))&&setTimeout(l)},d.onabort=function(){d&&(n(new D("Request aborted",D.ECONNABORTED,e,d)),d=null)},d.onerror=function(){n(new D("Network Error",D.ERR_NETWORK,e,d)),d=null},d.ontimeout=function(){let t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const r=e.transitional||J;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new D(t,r.clarifyTimeoutError?D.ETIMEDOUT:D.ECONNABORTED,e,d)),d=null},ne.hasStandardBrowserEnv&&(c&&B.isFunction(c)&&(c=c(e)),c||!1!==c&&ge(f))){const t=e.xsrfHeaderName&&e.xsrfCookieName&&be.read(e.xsrfCookieName);t&&i.set(e.xsrfHeaderName,t)}void 0===r&&i.setContentType(null),"setRequestHeader"in d&&B.forEach(i.toJSON(),(function(e,t){d.setRequestHeader(t,e)})),B.isUndefined(e.withCredentials)||(d.withCredentials=!!e.withCredentials),o&&"json"!==o&&(d.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&d.addEventListener("progress",ve(e.onDownloadProgress,!0)),"function"==typeof e.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",ve(e.onUploadProgress)),(e.cancelToken||e.signal)&&(a=t=>{d&&(n(!t||t.type?new me(null,e,d):t),d.abort(),d=null)},e.cancelToken&&e.cancelToken.subscribe(a),e.signal&&(e.signal.aborted?a():e.signal.addEventListener("abort",a)));const h=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(f);h&&-1===ne.protocols.indexOf(h)?n(new D("Unsupported protocol "+h+":",D.ERR_BAD_REQUEST,e)):d.send(r||null)}))};const _e={http:null,xhr:we};B.forEach(_e,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}}));const Ee=e=>`- ${e}`,Te=e=>B.isFunction(e)||null===e||!1===e;var Ae=e=>{e=B.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let a=0;a<t;a++){let t;if(n=e[a],r=n,!Te(n)&&(r=_e[(t=String(n)).toLowerCase()],void 0===r))throw new D(`Unknown adapter '${t}'`);if(r)break;i[t||"#"+a]=r}if(!r){const e=Object.entries(i).map((([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build")));throw new D("There is no suitable adapter to dispatch the request "+(t?e.length>1?"since :\n"+e.map(Ee).join("\n"):" "+Ee(e[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return r};function Re(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new me(null,e)}function Se(e){Re(e),e.headers=le.from(e.headers),e.data=he.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return Ae(e.adapter||ae.adapter)(e).then((function(t){return Re(e),t.data=he.call(e,e.transformResponse,t),t.headers=le.from(t.headers),t}),(function(t){return pe(t)||(Re(e),t&&t.response&&(t.response.data=he.call(e,e.transformResponse,t.response),t.response.headers=le.from(t.response.headers))),Promise.reject(t)}))}const ke=e=>e instanceof le?e.toJSON():e;function Oe(e,t){t=t||{};const n={};function r(e,t,n){return B.isPlainObject(e)&&B.isPlainObject(t)?B.merge.call({caseless:n},e,t):B.isPlainObject(t)?B.merge({},t):B.isArray(t)?t.slice():t}function i(e,t,n){return B.isUndefined(t)?B.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function a(e,t){if(!B.isUndefined(t))return r(void 0,t)}function s(e,t){return B.isUndefined(t)?B.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function o(n,i,a){return a in t?r(n,i):a in e?r(void 0,n):void 0}const c={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:o,headers:(e,t)=>i(ke(e),ke(t),!0)};return B.forEach(Object.keys(Object.assign({},e,t)),(function(r){const a=c[r]||i,s=a(e[r],t[r],r);B.isUndefined(s)&&a!==o||(n[r]=s)})),n}const Ie="1.6.5",xe={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{xe[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const Ce={};xe.transitional=function(e,t,n){function r(e,t){return"[Axios v1.6.5] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,i,a)=>{if(!1===e)throw new D(r(i," has been removed"+(t?" in "+t:"")),D.ERR_DEPRECATED);return t&&!Ce[i]&&(Ce[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,a)}};var Me={assertOptions:function(e,t,n){if("object"!=typeof e)throw new D("options must be an object",D.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const a=r[i],s=t[a];if(s){const t=e[a],n=void 0===t||s(t,a,e);if(!0!==n)throw new D("option "+a+" must be "+n,D.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new D("Unknown option "+a,D.ERR_BAD_OPTION)}},validators:xe};const Pe=Me.validators;let Ne=class{constructor(e){this.defaults=e,this.interceptors={request:new $,response:new $}}request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=Oe(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:i}=t;void 0!==n&&Me.assertOptions(n,{silentJSONParsing:Pe.transitional(Pe.boolean),forcedJSONParsing:Pe.transitional(Pe.boolean),clarifyTimeoutError:Pe.transitional(Pe.boolean)},!1),null!=r&&(B.isFunction(r)?t.paramsSerializer={serialize:r}:Me.assertOptions(r,{encode:Pe.function,serialize:Pe.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=i&&B.merge(i.common,i[t.method]);i&&B.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete i[e]})),t.headers=le.concat(a,i);const s=[];let o=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,s.unshift(e.fulfilled,e.rejected))}));const c=[];let u;this.interceptors.response.forEach((function(e){c.push(e.fulfilled,e.rejected)}));let d,f=0;if(!o){const e=[Se.bind(this),void 0];for(e.unshift.apply(e,s),e.push.apply(e,c),d=e.length,u=Promise.resolve(t);f<d;)u=u.then(e[f++],e[f++]);return u}d=s.length;let l=t;for(f=0;f<d;){const e=s[f++],t=s[f++];try{l=e(l)}catch(e){t.call(this,e);break}}try{u=Se.call(this,l)}catch(e){return Promise.reject(e)}for(f=0,d=c.length;f<d;)u=u.then(c[f++],c[f++]);return u}getUri(e){return X(ye((e=Oe(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}};B.forEach(["delete","get","head","options"],(function(e){Ne.prototype[e]=function(t,n){return this.request(Oe(n||{},{method:e,url:t,data:(n||{}).data}))}})),B.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(Oe(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Ne.prototype[e]=t(),Ne.prototype[e+"Form"]=t(!0)}));var Be=Ne;var De=class e{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,i){n.reason||(n.reason=new me(e,r,i),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let t;const n=new e((function(e){t=e}));return{token:n,cancel:t}}};const Le={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Le).forEach((([e,t])=>{Le[t]=e}));var Fe=Le;const Ue=function e(n){const r=new Be(n),i=t(Be.prototype.request,r);return B.extend(i,Be.prototype,r,{allOwnKeys:!0}),B.extend(i,r,null,{allOwnKeys:!0}),i.create=function(t){return e(Oe(n,t))},i}(ae);Ue.Axios=Be,Ue.CanceledError=me,Ue.CancelToken=De,Ue.isCancel=pe,Ue.VERSION=Ie,Ue.toFormData=H,Ue.AxiosError=D,Ue.Cancel=Ue.CanceledError,Ue.all=function(e){return Promise.all(e)},Ue.spread=function(e){return function(t){return e.apply(null,t)}},Ue.isAxiosError=function(e){return B.isObject(e)&&!0===e.isAxiosError},Ue.mergeConfig=Oe,Ue.AxiosHeaders=le,Ue.formToJSON=e=>re(B.isHTMLForm(e)?new FormData(e):e),Ue.getAdapter=Ae,Ue.HttpStatusCode=Fe,Ue.default=Ue;var je=Ue;const{Axios:qe,AxiosError:ze,CanceledError:He,isCancel:Ge,CancelToken:We,VERSION:Ve,all:Ke,Cancel:Xe,isAxiosError:$e,spread:Je,toFormData:Ye,AxiosHeaders:Qe,HttpStatusCode:Ze,formToJSON:et,getAdapter:tt,mergeConfig:nt}=je;var rt;!function(e){e.PRODUCTION="production",e.SANDBOX="sandbox"}(rt||(rt={}));class it{environment;rateLimitingKey;apiKey;publishableKey;constructor(e){this.environment=e.environment}}var at=Object.freeze({__proto__:null,get Environment(){return rt},ImmutableConfiguration:it,addApiKeyToAxiosHeader:e=>{if(!e.startsWith("sk_imapik-"))throw new Error("Invalid API key. Create your api key in Immutable developer hub. https://hub.immutable.com");je.defaults.headers.common["x-immutable-api-key"]=e},addPublishableKeyToAxiosHeader:e=>{if(!e.startsWith("pk_imapik-"))throw new Error("Invalid Publishable key. Create your Publishable key in Immutable developer hub. https://hub.immutable.com");je.defaults.headers.common["x-immutable-publishable-key"]=e},addRateLimitingKeyToAxiosHeader:e=>{je.defaults.headers.common["x-api-key"]=e}});const st="https://api.sandbox.x.immutable.com".replace(/\/+$/,"");let ot=class{basePath;axios;configuration;constructor(e,t=st,n=je){this.basePath=t,this.axios=n,e&&(this.configuration=e,this.basePath=e.basePath||this.basePath)}},ct=class extends Error{field;name="RequiredError";constructor(e,t){super(t),this.field=e}};const ut="https://example.com",dt=function(e,t,n){if(null==n)throw new ct(t,`Required parameter ${t} was null or undefined when calling ${e}.`)};function ft(e,t,n=""){"object"==typeof t?Array.isArray(t)?t.forEach((t=>ft(e,t,n))):Object.keys(t).forEach((r=>ft(e,t[r],`${n}${""!==n?".":""}${r}`))):e.has(n)?e.append(n,t):e.set(n,t)}const lt=function(e,...t){const n=new URLSearchParams(e.search);ft(n,t),e.search=n.toString()},ht=function(e,t,n){const r="string"!=typeof e;return(r&&n&&n.isJsonMime?n.isJsonMime(t.headers["Content-Type"]):r)?JSON.stringify(void 0!==e?e:{}):e||""},pt=function(e){return e.pathname+e.search+e.hash},mt=function(e,t,n,r){return(i=t,a=n)=>{const s={...e.options,url:(r?.basePath||a)+e.url};return i.request(s)}},bt=function(e){const t=function(e){return{getAsset:async(t,n,r,i={})=>{dt("getAsset","tokenAddress",t),dt("getAsset","tokenId",n);const a="/v1/assets/{token_address}/{token_id}".replace("{token_address}",encodeURIComponent(String(t))).replace("{token_id}",encodeURIComponent(String(n))),s=new URL(a,ut);let o;e&&(o=e.baseOptions);const c={method:"GET",...o,...i},u={};void 0!==r&&(u.include_fees=r),lt(s,u);let d=o&&o.headers?o.headers:{};return c.headers={...d,...i.headers},{url:pt(s),options:c}},listAssets:async(t,n,r,i,a,s,o,c,u,d,f,l,h,p,m,b,y={})=>{const g=new URL("/v1/assets",ut);let v;e&&(v=e.baseOptions);const w={method:"GET",...v,...y},_={};void 0!==t&&(_.page_size=t),void 0!==n&&(_.cursor=n),void 0!==r&&(_.order_by=r),void 0!==i&&(_.direction=i),void 0!==a&&(_.user=a),void 0!==s&&(_.status=s),void 0!==o&&(_.name=o),void 0!==c&&(_.metadata=c),void 0!==u&&(_.sell_orders=u),void 0!==d&&(_.buy_orders=d),void 0!==f&&(_.include_fees=f),void 0!==l&&(_.collection=l),void 0!==h&&(_.updated_min_timestamp=h),void 0!==p&&(_.updated_max_timestamp=p),void 0!==m&&(_.auxiliary_fee_percentages=m),void 0!==b&&(_.auxiliary_fee_recipients=b),lt(g,_);let E=v&&v.headers?v.headers:{};return w.headers={...E,...y.headers},{url:pt(g),options:w}}}}(e);return{async getAsset(n,r,i,a){const s=await t.getAsset(n,r,i,a);return mt(s,je,st,e)},async listAssets(n,r,i,a,s,o,c,u,d,f,l,h,p,m,b,y,g){const v=await t.listAssets(n,r,i,a,s,o,c,u,d,f,l,h,p,m,b,y,g);return mt(v,je,st,e)}}};class yt extends ot{getAsset(e,t){return bt(this.configuration).getAsset(e.tokenAddress,e.tokenId,e.includeFees,t).then((e=>e(this.axios,this.basePath)))}listAssets(e={},t){return bt(this.configuration).listAssets(e.pageSize,e.cursor,e.orderBy,e.direction,e.user,e.status,e.name,e.metadata,e.sellOrders,e.buyOrders,e.includeFees,e.collection,e.updatedMinTimestamp,e.updatedMaxTimestamp,e.auxiliaryFeePercentages,e.auxiliaryFeeRecipients,t).then((e=>e(this.axios,this.basePath)))}}const gt=function(e){const t=function(e){return{getBalance:async(t,n,r={})=>{dt("getBalance","owner",t),dt("getBalance","address",n);const i="/v2/balances/{owner}/{address}".replace("{owner}",encodeURIComponent(String(t))).replace("{address}",encodeURIComponent(String(n))),a=new URL(i,ut);let s;e&&(s=e.baseOptions);const o={method:"GET",...s,...r};lt(a,{});let c=s&&s.headers?s.headers:{};return o.headers={...c,...r.headers},{url:pt(a),options:o}},listBalances:async(t,n,r,i,a,s={})=>{dt("listBalances","owner",t);const o="/v2/balances/{owner}".replace("{owner}",encodeURIComponent(String(t))),c=new URL(o,ut);let u;e&&(u=e.baseOptions);const d={method:"GET",...u,...s},f={};void 0!==n&&(f.page_size=n),void 0!==r&&(f.cursor=r),void 0!==i&&(f.order_by=i),void 0!==a&&(f.direction=a),lt(c,f);let l=u&&u.headers?u.headers:{};return d.headers={...l,...s.headers},{url:pt(c),options:d}}}}(e);return{async getBalance(n,r,i){const a=await t.getBalance(n,r,i);return mt(a,je,st,e)},async listBalances(n,r,i,a,s,o){const c=await t.listBalances(n,r,i,a,s,o);return mt(c,je,st,e)}}};class vt extends ot{getBalance(e,t){return gt(this.configuration).getBalance(e.owner,e.address,t).then((e=>e(this.axios,this.basePath)))}listBalances(e,t){return gt(this.configuration).listBalances(e.owner,e.pageSize,e.cursor,e.orderBy,e.direction,t).then((e=>e(this.axios,this.basePath)))}}const wt=function(e){const t=function(e){return{createCollection:async(t,n,r,i={})=>{dt("createCollection","iMXSignature",t),dt("createCollection","iMXTimestamp",n),dt("createCollection","createCollectionRequest",r);const a=new URL("/v1/collections",ut);let s;e&&(s=e.baseOptions);const o={method:"POST",...s,...i},c={};null!=t&&(c["IMX-Signature"]=String(t)),null!=n&&(c["IMX-Timestamp"]=String(n)),c["Content-Type"]="application/json",lt(a,{});let u=s&&s.headers?s.headers:{};return o.headers={...c,...u,...i.headers},o.data=ht(r,o,e),{url:pt(a),options:o}},getCollection:async(t,n={})=>{dt("getCollection","address",t);const r="/v1/collections/{address}".replace("{address}",encodeURIComponent(String(t))),i=new URL(r,ut);let a;e&&(a=e.baseOptions);const s={method:"GET",...a,...n};lt(i,{});let o=a&&a.headers?a.headers:{};return s.headers={...o,...n.headers},{url:pt(i),options:s}},listCollectionFilters:async(t,n,r,i={})=>{dt("listCollectionFilters","address",t);const a="/v1/collections/{address}/filters".replace("{address}",encodeURIComponent(String(t))),s=new URL(a,ut);let o;e&&(o=e.baseOptions);const c={method:"GET",...o,...i},u={};void 0!==n&&(u.page_size=n),void 0!==r&&(u.next_page_token=r),lt(s,u);let d=o&&o.headers?o.headers:{};return c.headers={...d,...i.headers},{url:pt(s),options:c}},listCollections:async(t,n,r,i,a,s,o,c={})=>{const u=new URL("/v1/collections",ut);let d;e&&(d=e.baseOptions);const f={method:"GET",...d,...c},l={};void 0!==t&&(l.page_size=t),void 0!==n&&(l.cursor=n),void 0!==r&&(l.order_by=r),void 0!==i&&(l.direction=i),void 0!==a&&(l.blacklist=a),void 0!==s&&(l.whitelist=s),void 0!==o&&(l.keyword=o),lt(u,l);let h=d&&d.headers?d.headers:{};return f.headers={...h,...c.headers},{url:pt(u),options:f}},updateCollection:async(t,n,r,i,a={})=>{dt("updateCollection","address",t),dt("updateCollection","iMXSignature",n),dt("updateCollection","iMXTimestamp",r),dt("updateCollection","updateCollectionRequest",i);const s="/v1/collections/{address}".replace("{address}",encodeURIComponent(String(t))),o=new URL(s,ut);let c;e&&(c=e.baseOptions);const u={method:"PATCH",...c,...a},d={};null!=n&&(d["IMX-Signature"]=String(n)),null!=r&&(d["IMX-Timestamp"]=String(r)),d["Content-Type"]="application/json",lt(o,{});let f=c&&c.headers?c.headers:{};return u.headers={...d,...f,...a.headers},u.data=ht(i,u,e),{url:pt(o),options:u}}}}(e);return{async createCollection(n,r,i,a){const s=await t.createCollection(n,r,i,a);return mt(s,je,st,e)},async getCollection(n,r){const i=await t.getCollection(n,r);return mt(i,je,st,e)},async listCollectionFilters(n,r,i,a){const s=await t.listCollectionFilters(n,r,i,a);return mt(s,je,st,e)},async listCollections(n,r,i,a,s,o,c,u){const d=await t.listCollections(n,r,i,a,s,o,c,u);return mt(d,je,st,e)},async updateCollection(n,r,i,a,s){const o=await t.updateCollection(n,r,i,a,s);return mt(o,je,st,e)}}};let _t=class extends ot{createCollection(e,t){return wt(this.configuration).createCollection(e.iMXSignature,e.iMXTimestamp,e.createCollectionRequest,t).then((e=>e(this.axios,this.basePath)))}getCollection(e,t){return wt(this.configuration).getCollection(e.address,t).then((e=>e(this.axios,this.basePath)))}listCollectionFilters(e,t){return wt(this.configuration).listCollectionFilters(e.address,e.pageSize,e.nextPageToken,t).then((e=>e(this.axios,this.basePath)))}listCollections(e={},t){return wt(this.configuration).listCollections(e.pageSize,e.cursor,e.orderBy,e.direction,e.blacklist,e.whitelist,e.keyword,t).then((e=>e(this.axios,this.basePath)))}updateCollection(e,t){return wt(this.configuration).updateCollection(e.address,e.iMXSignature,e.iMXTimestamp,e.updateCollectionRequest,t).then((e=>e(this.axios,this.basePath)))}};const Et=function(e){const t=function(e){return{getDeposit:async(t,n={})=>{dt("getDeposit","id",t);const r="/v1/deposits/{id}".replace("{id}",encodeURIComponent(String(t))),i=new URL(r,ut);let a;e&&(a=e.baseOptions);const s={method:"GET",...a,...n};lt(i,{});let o=a&&a.headers?a.headers:{};return s.headers={...o,...n.headers},{url:pt(i),options:s}},getSignableDeposit:async(t,n={})=>{dt("getSignableDeposit","getSignableDepositRequest",t);const r=new URL("/v1/signable-deposit-details",ut);let i;e&&(i=e.baseOptions);const a={method:"POST",...i,...n},s={"Content-Type":"application/json"};lt(r,{});let o=i&&i.headers?i.headers:{};return a.headers={...s,...o,...n.headers},a.data=ht(t,a,e),{url:pt(r),options:a}},listDeposits:async(t,n,r,i,a,s,o,c,u,d,f,l,h,p,m,b,y={})=>{const g=new URL("/v1/deposits",ut);let v;e&&(v=e.baseOptions);const w={method:"GET",...v,...y},_={};void 0!==t&&(_.page_size=t),void 0!==n&&(_.cursor=n),void 0!==r&&(_.order_by=r),void 0!==i&&(_.direction=i),void 0!==a&&(_.user=a),void 0!==s&&(_.status=s),void 0!==o&&(_.min_timestamp=o),void 0!==c&&(_.max_timestamp=c),void 0!==u&&(_.token_type=u),void 0!==d&&(_.token_id=d),void 0!==f&&(_.asset_id=f),void 0!==l&&(_.token_address=l),void 0!==h&&(_.token_name=h),void 0!==p&&(_.min_quantity=p),void 0!==m&&(_.max_quantity=m),void 0!==b&&(_.metadata=b),lt(g,_);let E=v&&v.headers?v.headers:{};return w.headers={...E,...y.headers},{url:pt(g),options:w}}}}(e);return{async getDeposit(n,r){const i=await t.getDeposit(n,r);return mt(i,je,st,e)},async getSignableDeposit(n,r){const i=await t.getSignableDeposit(n,r);return mt(i,je,st,e)},async listDeposits(n,r,i,a,s,o,c,u,d,f,l,h,p,m,b,y,g){const v=await t.listDeposits(n,r,i,a,s,o,c,u,d,f,l,h,p,m,b,y,g);return mt(v,je,st,e)}}};class Tt extends ot{getDeposit(e,t){return Et(this.configuration).getDeposit(e.id,t).then((e=>e(this.axios,this.basePath)))}getSignableDeposit(e,t){return Et(this.configuration).getSignableDeposit(e.getSignableDepositRequest,t).then((e=>e(this.axios,this.basePath)))}listDeposits(e={},t){return Et(this.configuration).listDeposits(e.pageSize,e.cursor,e.orderBy,e.direction,e.user,e.status,e.minTimestamp,e.maxTimestamp,e.tokenType,e.tokenId,e.assetId,e.tokenAddress,e.tokenName,e.minQuantity,e.maxQuantity,e.metadata,t).then((e=>e(this.axios,this.basePath)))}}const At=function(e){const t=function(e){return{encodeAsset:async(t,n,r={})=>{dt("encodeAsset","assetType",t),dt("encodeAsset","encodeAssetRequest",n);const i="/v1/encode/{assetType}".replace("{assetType}",encodeURIComponent(String(t))),a=new URL(i,ut);let s;e&&(s=e.baseOptions);const o={method:"POST",...s,...r},c={"Content-Type":"application/json"};lt(a,{});let u=s&&s.headers?s.headers:{};return o.headers={...c,...u,...r.headers},o.data=ht(n,o,e),{url:pt(a),options:o}}}}(e);return{async encodeAsset(n,r,i){const a=await t.encodeAsset(n,r,i);return mt(a,je,st,e)}}};class Rt extends ot{encodeAsset(e,t){return At(this.configuration).encodeAsset(e.assetType,e.encodeAssetRequest,t).then((e=>e(this.axios,this.basePath)))}}const St=function(e){const t=function(e){return{createExchange:async(t,n={})=>{dt("createExchange","createExchangeAPIRequest",t);const r=new URL("/v3/exchanges",ut);let i;e&&(i=e.baseOptions);const a={method:"POST",...i,...n},s={"Content-Type":"application/json"};lt(r,{});let o=i&&i.headers?i.headers:{};return a.headers={...s,...o,...n.headers},a.data=ht(t,a,e),{url:pt(r),options:a}},createExchangeTransfer:async(t,n,r,i,a,s={})=>{dt("createExchangeTransfer","id",t),dt("createExchangeTransfer","createTransferRequest",n);const o="/v2/exchanges/{id}/transfers".replace("{id}",encodeURIComponent(String(t))),c=new URL(o,ut);let u;e&&(u=e.baseOptions);const d={method:"POST",...u,...s},f={};null!=r&&(f["x-imx-eth-address"]=String(r)),null!=i&&(f["x-imx-eth-signature"]=String(i)),null!=a&&(f.Authorization=String(a)),f["Content-Type"]="application/json",lt(c,{});let l=u&&u.headers?u.headers:{};return d.headers={...f,...l,...s.headers},d.data=ht(n,d,e),{url:pt(c),options:d}},getExchange:async(t,n={})=>{dt("getExchange","id",t);const r="/v3/exchanges/{id}".replace("{id}",encodeURIComponent(String(t))),i=new URL(r,ut);let a;e&&(a=e.baseOptions);const s={method:"GET",...a,...n};lt(i,{});let o=a&&a.headers?a.headers:{};return s.headers={...o,...n.headers},{url:pt(i),options:s}},getExchangeSignableTransfer:async(t,n,r={})=>{dt("getExchangeSignableTransfer","id",t),dt("getExchangeSignableTransfer","getSignableTransferRequest",n);const i="/v2/exchanges/{id}/signable-transfer-details".replace("{id}",encodeURIComponent(String(t))),a=new URL(i,ut);let s;e&&(s=e.baseOptions);const o={method:"POST",...s,...r},c={"Content-Type":"application/json"};lt(a,{});let u=s&&s.headers?s.headers:{};return o.headers={...c,...u,...r.headers},o.data=ht(n,o,e),{url:pt(a),options:o}},getExchanges:async(t,n,r,i,a,s,o,c,u,d={})=>{const f=new URL("/v3/exchanges",ut);let l;e&&(l=e.baseOptions);const h={method:"GET",...l,...d},p={};void 0!==t&&(p.page_size=t),void 0!==n&&(p.cursor=n),void 0!==r&&(p.order_by=r),void 0!==i&&(p.direction=i),void 0!==a&&(p.id=a),void 0!==s&&(p.wallet_address=s),void 0!==o&&(p.status=o),void 0!==c&&(p.provider=c),void 0!==u&&(p.transfer_id=u),lt(f,p);let m=l&&l.headers?l.headers:{};return h.headers={...m,...d.headers},{url:pt(f),options:h}}}}(e);return{async createExchange(n,r){const i=await t.createExchange(n,r);return mt(i,je,st,e)},async createExchangeTransfer(n,r,i,a,s,o){const c=await t.createExchangeTransfer(n,r,i,a,s,o);return mt(c,je,st,e)},async getExchange(n,r){const i=await t.getExchange(n,r);return mt(i,je,st,e)},async getExchangeSignableTransfer(n,r,i){const a=await t.getExchangeSignableTransfer(n,r,i);return mt(a,je,st,e)},async getExchanges(n,r,i,a,s,o,c,u,d,f){const l=await t.getExchanges(n,r,i,a,s,o,c,u,d,f);return mt(l,je,st,e)}}};class kt extends ot{createExchange(e,t){return St(this.configuration).createExchange(e.createExchangeAPIRequest,t).then((e=>e(this.axios,this.basePath)))}createExchangeTransfer(e,t){return St(this.configuration).createExchangeTransfer(e.id,e.createTransferRequest,e.xImxEthAddress,e.xImxEthSignature,e.authorization,t).then((e=>e(this.axios,this.basePath)))}getExchange(e,t){return St(this.configuration).getExchange(e.id,t).then((e=>e(this.axios,this.basePath)))}getExchangeSignableTransfer(e,t){return St(this.configuration).getExchangeSignableTransfer(e.id,e.getSignableTransferRequest,t).then((e=>e(this.axios,this.basePath)))}getExchanges(e={},t){return St(this.configuration).getExchanges(e.pageSize,e.cursor,e.orderBy,e.direction,e.id,e.walletAddress,e.status,e.provider,e.transferId,t).then((e=>e(this.axios,this.basePath)))}}const Ot=function(e){const t=function(e){return{addMetadataSchemaToCollection:async(t,n,r,i,a={})=>{dt("addMetadataSchemaToCollection","address",t),dt("addMetadataSchemaToCollection","iMXSignature",n),dt("addMetadataSchemaToCollection","iMXTimestamp",r),dt("addMetadataSchemaToCollection","addMetadataSchemaToCollectionRequest",i);const s="/v1/collections/{address}/metadata-schema".replace("{address}",encodeURIComponent(String(t))),o=new URL(s,ut);let c;e&&(c=e.baseOptions);const u={method:"POST",...c,...a},d={};null!=n&&(d["IMX-Signature"]=String(n)),null!=r&&(d["IMX-Timestamp"]=String(r)),d["Content-Type"]="application/json",lt(o,{});let f=c&&c.headers?c.headers:{};return u.headers={...d,...f,...a.headers},u.data=ht(i,u,e),{url:pt(o),options:u}},getMetadataSchema:async(t,n={})=>{dt("getMetadataSchema","address",t);const r="/v1/collections/{address}/metadata-schema".replace("{address}",encodeURIComponent(String(t))),i=new URL(r,ut);let a;e&&(a=e.baseOptions);const s={method:"GET",...a,...n};lt(i,{});let o=a&&a.headers?a.headers:{};return s.headers={...o,...n.headers},{url:pt(i),options:s}},updateMetadataSchemaByName:async(t,n,r,i,a,s={})=>{dt("updateMetadataSchemaByName","address",t),dt("updateMetadataSchemaByName","name",n),dt("updateMetadataSchemaByName","iMXSignature",r),dt("updateMetadataSchemaByName","iMXTimestamp",i),dt("updateMetadataSchemaByName","metadataSchemaRequest",a);const o="/v1/collections/{address}/metadata-schema/{name}".replace("{address}",encodeURIComponent(String(t))).replace("{name}",encodeURIComponent(String(n))),c=new URL(o,ut);let u;e&&(u=e.baseOptions);const d={method:"PATCH",...u,...s},f={};null!=r&&(f["IMX-Signature"]=String(r)),null!=i&&(f["IMX-Timestamp"]=String(i)),f["Content-Type"]="application/json",lt(c,{});let l=u&&u.headers?u.headers:{};return d.headers={...f,...l,...s.headers},d.data=ht(a,d,e),{url:pt(c),options:d}}}}(e);return{async addMetadataSchemaToCollection(n,r,i,a,s){const o=await t.addMetadataSchemaToCollection(n,r,i,a,s);return mt(o,je,st,e)},async getMetadataSchema(n,r){const i=await t.getMetadataSchema(n,r);return mt(i,je,st,e)},async updateMetadataSchemaByName(n,r,i,a,s,o){const c=await t.updateMetadataSchemaByName(n,r,i,a,s,o);return mt(c,je,st,e)}}};let It=class extends ot{addMetadataSchemaToCollection(e,t){return Ot(this.configuration).addMetadataSchemaToCollection(e.address,e.iMXSignature,e.iMXTimestamp,e.addMetadataSchemaToCollectionRequest,t).then((e=>e(this.axios,this.basePath)))}getMetadataSchema(e,t){return Ot(this.configuration).getMetadataSchema(e.address,t).then((e=>e(this.axios,this.basePath)))}updateMetadataSchemaByName(e,t){return Ot(this.configuration).updateMetadataSchemaByName(e.address,e.name,e.iMXSignature,e.iMXTimestamp,e.metadataSchemaRequest,t).then((e=>e(this.axios,this.basePath)))}};const xt=function(e){const t=function(e){return{getAListOfMetadataRefreshes:async(t,n,r,i,a,s,o={})=>{dt("getAListOfMetadataRefreshes","xImxEthSignature",t),dt("getAListOfMetadataRefreshes","xImxEthTimestamp",n),dt("getAListOfMetadataRefreshes","xImxEthAddress",r);const c=new URL("/v1/metadata-refreshes",ut);let u;e&&(u=e.baseOptions);const d={method:"GET",...u,...o},f={},l={};void 0!==i&&(l.page_size=i),void 0!==a&&(l.cursor=a),void 0!==s&&(l.collection_address=s),null!=t&&(f["x-imx-eth-signature"]=String(t)),null!=n&&(f["x-imx-eth-timestamp"]=String(n)),null!=r&&(f["x-imx-eth-address"]=String(r)),lt(c,l);let h=u&&u.headers?u.headers:{};return d.headers={...f,...h,...o.headers},{url:pt(c),options:d}},getMetadataRefreshErrors:async(t,n,r,i,a,s,o={})=>{dt("getMetadataRefreshErrors","refreshId",t),dt("getMetadataRefreshErrors","xImxEthSignature",n),dt("getMetadataRefreshErrors","xImxEthTimestamp",r),dt("getMetadataRefreshErrors","xImxEthAddress",i);const c="/v1/metadata-refreshes/{refresh_id}/errors".replace("{refresh_id}",encodeURIComponent(String(t))),u=new URL(c,ut);let d;e&&(d=e.baseOptions);const f={method:"GET",...d,...o},l={},h={};void 0!==a&&(h.page_size=a),void 0!==s&&(h.cursor=s),null!=n&&(l["x-imx-eth-signature"]=String(n)),null!=r&&(l["x-imx-eth-timestamp"]=String(r)),null!=i&&(l["x-imx-eth-address"]=String(i)),lt(u,h);let p=d&&d.headers?d.headers:{};return f.headers={...l,...p,...o.headers},{url:pt(u),options:f}},getMetadataRefreshResults:async(t,n,r,i,a={})=>{dt("getMetadataRefreshResults","refreshId",t),dt("getMetadataRefreshResults","xImxEthSignature",n),dt("getMetadataRefreshResults","xImxEthTimestamp",r),dt("getMetadataRefreshResults","xImxEthAddress",i);const s="/v1/metadata-refreshes/{refresh_id}".replace("{refresh_id}",encodeURIComponent(String(t))),o=new URL(s,ut);let c;e&&(c=e.baseOptions);const u={method:"GET",...c,...a},d={};null!=n&&(d["x-imx-eth-signature"]=String(n)),null!=r&&(d["x-imx-eth-timestamp"]=String(r)),null!=i&&(d["x-imx-eth-address"]=String(i)),lt(o,{});let f=c&&c.headers?c.headers:{};return u.headers={...d,...f,...a.headers},{url:pt(o),options:u}},requestAMetadataRefresh:async(t,n,r,i,a={})=>{dt("requestAMetadataRefresh","xImxEthSignature",t),dt("requestAMetadataRefresh","xImxEthTimestamp",n),dt("requestAMetadataRefresh","xImxEthAddress",r),dt("requestAMetadataRefresh","createMetadataRefreshRequest",i);const s=new URL("/v1/metadata-refreshes",ut);let o;e&&(o=e.baseOptions);const c={method:"POST",...o,...a},u={};null!=t&&(u["x-imx-eth-signature"]=String(t)),null!=n&&(u["x-imx-eth-timestamp"]=String(n)),null!=r&&(u["x-imx-eth-address"]=String(r)),u["Content-Type"]="application/json",lt(s,{});let d=o&&o.headers?o.headers:{};return c.headers={...u,...d,...a.headers},c.data=ht(i,c,e),{url:pt(s),options:c}}}}(e);return{async getAListOfMetadataRefreshes(n,r,i,a,s,o,c){const u=await t.getAListOfMetadataRefreshes(n,r,i,a,s,o,c);return mt(u,je,st,e)},async getMetadataRefreshErrors(n,r,i,a,s,o,c){const u=await t.getMetadataRefreshErrors(n,r,i,a,s,o,c);return mt(u,je,st,e)},async getMetadataRefreshResults(n,r,i,a,s){const o=await t.getMetadataRefreshResults(n,r,i,a,s);return mt(o,je,st,e)},async requestAMetadataRefresh(n,r,i,a,s){const o=await t.requestAMetadataRefresh(n,r,i,a,s);return mt(o,je,st,e)}}};class Ct extends ot{getAListOfMetadataRefreshes(e,t){return xt(this.configuration).getAListOfMetadataRefreshes(e.xImxEthSignature,e.xImxEthTimestamp,e.xImxEthAddress,e.pageSize,e.cursor,e.collectionAddress,t).then((e=>e(this.axios,this.basePath)))}getMetadataRefreshErrors(e,t){return xt(this.configuration).getMetadataRefreshErrors(e.refreshId,e.xImxEthSignature,e.xImxEthTimestamp,e.xImxEthAddress,e.pageSize,e.cursor,t).then((e=>e(this.axios,this.basePath)))}getMetadataRefreshResults(e,t){return xt(this.configuration).getMetadataRefreshResults(e.refreshId,e.xImxEthSignature,e.xImxEthTimestamp,e.xImxEthAddress,t).then((e=>e(this.axios,this.basePath)))}requestAMetadataRefresh(e,t){return xt(this.configuration).requestAMetadataRefresh(e.xImxEthSignature,e.xImxEthTimestamp,e.xImxEthAddress,e.createMetadataRefreshRequest,t).then((e=>e(this.axios,this.basePath)))}}const Mt=function(e){const t=function(e){return{getMint:async(t,n={})=>{dt("getMint","id",t);const r="/v1/mints/{id}".replace("{id}",encodeURIComponent(String(t))),i=new URL(r,ut);let a;e&&(a=e.baseOptions);const s={method:"GET",...a,...n};lt(i,{});let o=a&&a.headers?a.headers:{};return s.headers={...o,...n.headers},{url:pt(i),options:s}},getMintableTokenDetailsByClientTokenId:async(t,n,r={})=>{dt("getMintableTokenDetailsByClientTokenId","tokenAddress",t),dt("getMintableTokenDetailsByClientTokenId","tokenId",n);const i="/v1/mintable-token/{token_address}/{token_id}".replace("{token_address}",encodeURIComponent(String(t))).replace("{token_id}",encodeURIComponent(String(n))),a=new URL(i,ut);let s;e&&(s=e.baseOptions);const o={method:"GET",...s,...r};lt(a,{});let c=s&&s.headers?s.headers:{};return o.headers={...c,...r.headers},{url:pt(a),options:o}},listMints:async(t,n,r,i,a,s,o,c,u,d,f,l,h,p,m,b={})=>{const y=new URL("/v1/mints",ut);let g;e&&(g=e.baseOptions);const v={method:"GET",...g,...b},w={};void 0!==t&&(w.page_size=t),void 0!==n&&(w.cursor=n),void 0!==r&&(w.order_by=r),void 0!==i&&(w.direction=i),void 0!==a&&(w.user=a),void 0!==s&&(w.status=s),void 0!==o&&(w.min_timestamp=o),void 0!==c&&(w.max_timestamp=c),void 0!==u&&(w.token_type=u),void 0!==d&&(w.token_id=d),void 0!==f&&(w.token_name=f),void 0!==l&&(w.token_address=l),void 0!==h&&(w.min_quantity=h),void 0!==p&&(w.max_quantity=p),void 0!==m&&(w.metadata=m),lt(y,w);let _=g&&g.headers?g.headers:{};return v.headers={..._,...b.headers},{url:pt(y),options:v}},mintTokens:async(t,n={})=>{dt("mintTokens","mintTokensRequestV2",t);const r=new URL("/v2/mints",ut);let i;e&&(i=e.baseOptions);const a={method:"POST",...i,...n},s={"Content-Type":"application/json"};lt(r,{});let o=i&&i.headers?i.headers:{};return a.headers={...s,...o,...n.headers},a.data=ht(t,a,e),{url:pt(r),options:a}}}}(e);return{async getMint(n,r){const i=await t.getMint(n,r);return mt(i,je,st,e)},async getMintableTokenDetailsByClientTokenId(n,r,i){const a=await t.getMintableTokenDetailsByClientTokenId(n,r,i);return mt(a,je,st,e)},async listMints(n,r,i,a,s,o,c,u,d,f,l,h,p,m,b,y){const g=await t.listMints(n,r,i,a,s,o,c,u,d,f,l,h,p,m,b,y);return mt(g,je,st,e)},async mintTokens(n,r){const i=await t.mintTokens(n,r);return mt(i,je,st,e)}}};class Pt extends ot{getMint(e,t){return Mt(this.configuration).getMint(e.id,t).then((e=>e(this.axios,this.basePath)))}getMintableTokenDetailsByClientTokenId(e,t){return Mt(this.configuration).getMintableTokenDetailsByClientTokenId(e.tokenAddress,e.tokenId,t).then((e=>e(this.axios,this.basePath)))}listMints(e={},t){return Mt(this.configuration).listMints(e.pageSize,e.cursor,e.orderBy,e.direction,e.user,e.status,e.minTimestamp,e.maxTimestamp,e.tokenType,e.tokenId,e.tokenName,e.tokenAddress,e.minQuantity,e.maxQuantity,e.metadata,t).then((e=>e(this.axios,this.basePath)))}mintTokens(e,t){return Mt(this.configuration).mintTokens(e.mintTokensRequestV2,t).then((e=>e(this.axios,this.basePath)))}}const Nt=function(e){const t=function(e){return{createNftPrimary:async(t,n={})=>{dt("createNftPrimary","createAPIRequest",t);const r=new URL("/v2/nft/primary",ut);let i;e&&(i=e.baseOptions);const a={method:"POST",...i,...n},s={"Content-Type":"application/json"};lt(r,{});let o=i&&i.headers?i.headers:{};return a.headers={...s,...o,...n.headers},a.data=ht(t,a,e),{url:pt(r),options:a}},getCurrenciesNFTCheckoutPrimary:async(t,n,r={})=>{const i=new URL("/v2/nft/primary/currencies",ut);let a;e&&(a=e.baseOptions);const s={method:"GET",...a,...r},o={};void 0!==t&&(o.provider=t),void 0!==n&&(o.include_limits=n),lt(i,o);let c=a&&a.headers?a.headers:{};return s.headers={...c,...r.headers},{url:pt(i),options:s}},getNftPrimaryTransaction:async(t,n={})=>{dt("getNftPrimaryTransaction","transactionId",t);const r="/v2/nft/primary/{transaction_id}".replace("{transaction_id}",encodeURIComponent(String(t))),i=new URL(r,ut);let a;e&&(a=e.baseOptions);const s={method:"GET",...a,...n};lt(i,{});let o=a&&a.headers?a.headers:{};return s.headers={...o,...n.headers},{url:pt(i),options:s}},getNftPrimaryTransactions:async(t,n,r,i,a,s,o,c,u,d,f,l={})=>{const h=new URL("/v2/nft/primary",ut);let p;e&&(p=e.baseOptions);const m={method:"GET",...p,...l},b={};void 0!==t&&(b.page_size=t),void 0!==n&&(b.cursor=n),void 0!==r&&(b.order_by=r),void 0!==i&&(b.direction=i),void 0!==a&&(b.transaction_id=a),void 0!==s&&(b.contract_address=s),void 0!==o&&(b.seller_wallet_address=o),void 0!==c&&(b.user_wallet_address=c),void 0!==u&&(b.status=u),void 0!==d&&(b.provider=d),void 0!==f&&(b.mint_id=f),lt(h,b);let y=p&&p.headers?p.headers:{};return m.headers={...y,...l.headers},{url:pt(h),options:m}},registerNftPrimarySalesContract:async(t,n={})=>{dt("registerNftPrimarySalesContract","createAPIRequest",t);const r=new URL("/v2/nft/primary/register",ut);let i;e&&(i=e.baseOptions);const a={method:"POST",...i,...n},s={"Content-Type":"application/json"};lt(r,{});let o=i&&i.headers?i.headers:{};return a.headers={...s,...o,...n.headers},a.data=ht(t,a,e),{url:pt(r),options:a}}}}(e);return{async createNftPrimary(n,r){const i=await t.createNftPrimary(n,r);return mt(i,je,st,e)},async getCurrenciesNFTCheckoutPrimary(n,r,i){const a=await t.getCurrenciesNFTCheckoutPrimary(n,r,i);return mt(a,je,st,e)},async getNftPrimaryTransaction(n,r){const i=await t.getNftPrimaryTransaction(n,r);return mt(i,je,st,e)},async getNftPrimaryTransactions(n,r,i,a,s,o,c,u,d,f,l,h){const p=await t.getNftPrimaryTransactions(n,r,i,a,s,o,c,u,d,f,l,h);return mt(p,je,st,e)},async registerNftPrimarySalesContract(n,r){const i=await t.registerNftPrimarySalesContract(n,r);return mt(i,je,st,e)}}};class Bt extends ot{createNftPrimary(e,t){return Nt(this.configuration).createNftPrimary(e.createAPIRequest,t).then((e=>e(this.axios,this.basePath)))}getCurrenciesNFTCheckoutPrimary(e={},t){return Nt(this.configuration).getCurrenciesNFTCheckoutPrimary(e.provider,e.includeLimits,t).then((e=>e(this.axios,this.basePath)))}getNftPrimaryTransaction(e,t){return Nt(this.configuration).getNftPrimaryTransaction(e.transactionId,t).then((e=>e(this.axios,this.basePath)))}getNftPrimaryTransactions(e={},t){return Nt(this.configuration).getNftPrimaryTransactions(e.pageSize,e.cursor,e.orderBy,e.direction,e.transactionId,e.contractAddress,e.sellerWalletAddress,e.userWalletAddress,e.status,e.provider,e.mintId,t).then((e=>e(this.axios,this.basePath)))}registerNftPrimarySalesContract(e,t){return Nt(this.configuration).registerNftPrimarySalesContract(e.createAPIRequest,t).then((e=>e(this.axios,this.basePath)))}}const Dt=function(e){const t=function(e){return{cancelOrder:async(t,n,r,i,a,s={})=>{dt("cancelOrder","id",t),dt("cancelOrder","cancelOrderRequest",n);const o="/v1/orders/{id}".replace("{id}",encodeURIComponent(String(t))),c=new URL(o,ut);let u;e&&(u=e.baseOptions);const d={method:"DELETE",...u,...s},f={};null!=r&&(f["x-imx-eth-address"]=String(r)),null!=i&&(f["x-imx-eth-signature"]=String(i)),null!=a&&(f.Authorization=String(a)),f["Content-Type"]="application/json",lt(c,{});let l=u&&u.headers?u.headers:{};return d.headers={...f,...l,...s.headers},d.data=ht(n,d,e),{url:pt(c),options:d}},cancelOrderV3:async(t,n,r,i,a,s={})=>{dt("cancelOrderV3","id",t),dt("cancelOrderV3","cancelOrderRequest",n);const o="/v3/orders/{id}".replace("{id}",encodeURIComponent(String(t))),c=new URL(o,ut);let u;e&&(u=e.baseOptions);const d={method:"DELETE",...u,...s},f={};null!=r&&(f["x-imx-eth-address"]=String(r)),null!=i&&(f["x-imx-eth-signature"]=String(i)),null!=a&&(f.Authorization=String(a)),f["Content-Type"]="application/json",lt(c,{});let l=u&&u.headers?u.headers:{};return d.headers={...f,...l,...s.headers},d.data=ht(n,d,e),{url:pt(c),options:d}},createOrder:async(t,n,r,i,a={})=>{dt("createOrder","createOrderRequest",t);const s=new URL("/v1/orders",ut);let o;e&&(o=e.baseOptions);const c={method:"POST",...o,...a},u={};null!=n&&(u["x-imx-eth-address"]=String(n)),null!=r&&(u["x-imx-eth-signature"]=String(r)),null!=i&&(u.Authorization=String(i)),u["Content-Type"]="application/json",lt(s,{});let d=o&&o.headers?o.headers:{};return c.headers={...u,...d,...a.headers},c.data=ht(t,c,e),{url:pt(s),options:c}},createOrderV3:async(t,n,r,i,a={})=>{dt("createOrderV3","createOrderRequest",t);const s=new URL("/v3/orders",ut);let o;e&&(o=e.baseOptions);const c={method:"POST",...o,...a},u={};null!=n&&(u["x-imx-eth-address"]=String(n)),null!=r&&(u["x-imx-eth-signature"]=String(r)),null!=i&&(u.Authorization=String(i)),u["Content-Type"]="application/json",lt(s,{});let d=o&&o.headers?o.headers:{};return c.headers={...u,...d,...a.headers},c.data=ht(t,c,e),{url:pt(s),options:c}},getOrder:async(t,n,r,i,a={})=>{dt("getOrder","id",t);const s="/v1/orders/{id}".replace("{id}",encodeURIComponent(String(t))),o=new URL(s,ut);let c;e&&(c=e.baseOptions);const u={method:"GET",...c,...a},d={};void 0!==n&&(d.include_fees=n),void 0!==r&&(d.auxiliary_fee_percentages=r),void 0!==i&&(d.auxiliary_fee_recipients=i),lt(o,d);let f=c&&c.headers?c.headers:{};return u.headers={...f,...a.headers},{url:pt(o),options:u}},getOrderV3:async(t,n,r,i,a={})=>{dt("getOrderV3","id",t);const s="/v3/orders/{id}".replace("{id}",encodeURIComponent(String(t))),o=new URL(s,ut);let c;e&&(c=e.baseOptions);const u={method:"GET",...c,...a},d={};void 0!==n&&(d.include_fees=n),void 0!==r&&(d.auxiliary_fee_percentages=r),void 0!==i&&(d.auxiliary_fee_recipients=i),lt(o,d);let f=c&&c.headers?c.headers:{};return u.headers={...f,...a.headers},{url:pt(o),options:u}},getSignableCancelOrder:async(t,n={})=>{dt("getSignableCancelOrder","getSignableCancelOrderRequest",t);const r=new URL("/v1/signable-cancel-order-details",ut);let i;e&&(i=e.baseOptions);const a={method:"POST",...i,...n},s={"Content-Type":"application/json"};lt(r,{});let o=i&&i.headers?i.headers:{};return a.headers={...s,...o,...n.headers},a.data=ht(t,a,e),{url:pt(r),options:a}},getSignableCancelOrderV3:async(t,n={})=>{dt("getSignableCancelOrderV3","getSignableCancelOrderRequest",t);const r=new URL("/v3/signable-cancel-order-details",ut);let i;e&&(i=e.baseOptions);const a={method:"POST",...i,...n},s={"Content-Type":"application/json"};lt(r,{});let o=i&&i.headers?i.headers:{};return a.headers={...s,...o,...n.headers},a.data=ht(t,a,e),{url:pt(r),options:a}},getSignableOrder:async(t,n={})=>{dt("getSignableOrder","getSignableOrderRequestV3",t);const r=new URL("/v3/signable-order-details",ut);let i;e&&(i=e.baseOptions);const a={method:"POST",...i,...n},s={"Content-Type":"application/json"};lt(r,{});let o=i&&i.headers?i.headers:{};return a.headers={...s,...o,...n.headers},a.data=ht(t,a,e),{url:pt(r),options:a}},listOrders:async(t,n,r,i,a,s,o,c,u,d,f,l,h,p,m,b,y,g,v,w,_,E,T,A,R,S,k,O,I,x={})=>{const C=new URL("/v1/orders",ut);let M;e&&(M=e.baseOptions);const P={method:"GET",...M,...x},N={};void 0!==t&&(N.page_size=t),void 0!==n&&(N.cursor=n),void 0!==r&&(N.order_by=r),void 0!==i&&(N.direction=i),void 0!==a&&(N.user=a),void 0!==s&&(N.status=s),void 0!==o&&(N.min_timestamp=o),void 0!==c&&(N.max_timestamp=c),void 0!==u&&(N.updated_min_timestamp=u),void 0!==d&&(N.updated_max_timestamp=d),void 0!==f&&(N.buy_token_type=f),void 0!==l&&(N.buy_token_id=l),void 0!==h&&(N.buy_asset_id=h),void 0!==p&&(N.buy_token_address=p),void 0!==m&&(N.buy_token_name=m),void 0!==b&&(N.buy_min_quantity=b),void 0!==y&&(N.buy_max_quantity=y),void 0!==g&&(N.buy_metadata=g),void 0!==v&&(N.sell_token_type=v),void 0!==w&&(N.sell_token_id=w),void 0!==_&&(N.sell_asset_id=_),void 0!==E&&(N.sell_token_address=E),void 0!==T&&(N.sell_token_name=T),void 0!==A&&(N.sell_min_quantity=A),void 0!==R&&(N.sell_max_quantity=R),void 0!==S&&(N.sell_metadata=S),void 0!==k&&(N.auxiliary_fee_percentages=k),void 0!==O&&(N.auxiliary_fee_recipients=O),void 0!==I&&(N.include_fees=I),lt(C,N);let B=M&&M.headers?M.headers:{};return P.headers={...B,...x.headers},{url:pt(C),options:P}},listOrdersV3:async(t,n,r,i,a,s,o,c,u,d,f,l,h,p,m,b,y,g,v,w,_,E,T,A,R,S,k,O,I,x={})=>{const C=new URL("/v3/orders",ut);let M;e&&(M=e.baseOptions);const P={method:"GET",...M,...x},N={};void 0!==t&&(N.page_size=t),void 0!==n&&(N.cursor=n),void 0!==r&&(N.order_by=r),void 0!==i&&(N.direction=i),void 0!==a&&(N.user=a),void 0!==s&&(N.status=s),void 0!==o&&(N.min_timestamp=o),void 0!==c&&(N.max_timestamp=c),void 0!==u&&(N.updated_min_timestamp=u),void 0!==d&&(N.updated_max_timestamp=d),void 0!==f&&(N.buy_token_type=f),void 0!==l&&(N.buy_token_id=l),void 0!==h&&(N.buy_asset_id=h),void 0!==p&&(N.buy_token_address=p),void 0!==m&&(N.buy_token_name=m),void 0!==b&&(N.buy_min_quantity=b),void 0!==y&&(N.buy_max_quantity=y),void 0!==g&&(N.buy_metadata=g),void 0!==v&&(N.sell_token_type=v),void 0!==w&&(N.sell_token_id=w),void 0!==_&&(N.sell_asset_id=_),void 0!==E&&(N.sell_token_address=E),void 0!==T&&(N.sell_token_name=T),void 0!==A&&(N.sell_min_quantity=A),void 0!==R&&(N.sell_max_quantity=R),void 0!==S&&(N.sell_metadata=S),void 0!==k&&(N.auxiliary_fee_percentages=k),void 0!==O&&(N.auxiliary_fee_recipients=O),void 0!==I&&(N.include_fees=I),lt(C,N);let B=M&&M.headers?M.headers:{};return P.headers={...B,...x.headers},{url:pt(C),options:P}}}}(e);return{async cancelOrder(n,r,i,a,s,o){const c=await t.cancelOrder(n,r,i,a,s,o);return mt(c,je,st,e)},async cancelOrderV3(n,r,i,a,s,o){const c=await t.cancelOrderV3(n,r,i,a,s,o);return mt(c,je,st,e)},async createOrder(n,r,i,a,s){const o=await t.createOrder(n,r,i,a,s);return mt(o,je,st,e)},async createOrderV3(n,r,i,a,s){const o=await t.createOrderV3(n,r,i,a,s);return mt(o,je,st,e)},async getOrder(n,r,i,a,s){const o=await t.getOrder(n,r,i,a,s);return mt(o,je,st,e)},async getOrderV3(n,r,i,a,s){const o=await t.getOrderV3(n,r,i,a,s);return mt(o,je,st,e)},async getSignableCancelOrder(n,r){const i=await t.getSignableCancelOrder(n,r);return mt(i,je,st,e)},async getSignableCancelOrderV3(n,r){const i=await t.getSignableCancelOrderV3(n,r);return mt(i,je,st,e)},async getSignableOrder(n,r){const i=await t.getSignableOrder(n,r);return mt(i,je,st,e)},async listOrders(n,r,i,a,s,o,c,u,d,f,l,h,p,m,b,y,g,v,w,_,E,T,A,R,S,k,O,I,x,C){const M=await t.listOrders(n,r,i,a,s,o,c,u,d,f,l,h,p,m,b,y,g,v,w,_,E,T,A,R,S,k,O,I,x,C);return mt(M,je,st,e)},async listOrdersV3(n,r,i,a,s,o,c,u,d,f,l,h,p,m,b,y,g,v,w,_,E,T,A,R,S,k,O,I,x,C){const M=await t.listOrdersV3(n,r,i,a,s,o,c,u,d,f,l,h,p,m,b,y,g,v,w,_,E,T,A,R,S,k,O,I,x,C);return mt(M,je,st,e)}}};let Lt=class extends ot{cancelOrder(e,t){return Dt(this.configuration).cancelOrder(e.id,e.cancelOrderRequest,e.xImxEthAddress,e.xImxEthSignature,e.authorization,t).then((e=>e(this.axios,this.basePath)))}cancelOrderV3(e,t){return Dt(this.configuration).cancelOrderV3(e.id,e.cancelOrderRequest,e.xImxEthAddress,e.xImxEthSignature,e.authorization,t).then((e=>e(this.axios,this.basePath)))}createOrder(e,t){return Dt(this.configuration).createOrder(e.createOrderRequest,e.xImxEthAddress,e.xImxEthSignature,e.authorization,t).then((e=>e(this.axios,this.basePath)))}createOrderV3(e,t){return Dt(this.configuration).createOrderV3(e.createOrderRequest,e.xImxEthAddress,e.xImxEthSignature,e.authorization,t).then((e=>e(this.axios,this.basePath)))}getOrder(e,t){return Dt(this.configuration).getOrder(e.id,e.includeFees,e.auxiliaryFeePercentages,e.auxiliaryFeeRecipients,t).then((e=>e(this.axios,this.basePath)))}getOrderV3(e,t){return Dt(this.configuration).getOrderV3(e.id,e.includeFees,e.auxiliaryFeePercentages,e.auxiliaryFeeRecipients,t).then((e=>e(this.axios,this.basePath)))}getSignableCancelOrder(e,t){return Dt(this.configuration).getSignableCancelOrder(e.getSignableCancelOrderRequest,t).then((e=>e(this.axios,this.basePath)))}getSignableCancelOrderV3(e,t){return Dt(this.configuration).getSignableCancelOrderV3(e.getSignableCancelOrderRequest,t).then((e=>e(this.axios,this.basePath)))}getSignableOrder(e,t){return Dt(this.configuration).getSignableOrder(e.getSignableOrderRequestV3,t).then((e=>e(this.axios,this.basePath)))}listOrders(e={},t){return Dt(this.configuration).listOrders(e.pageSize,e.cursor,e.orderBy,e.direction,e.user,e.status,e.minTimestamp,e.maxTimestamp,e.updatedMinTimestamp,e.updatedMaxTimestamp,e.buyTokenType,e.buyTokenId,e.buyAssetId,e.buyTokenAddress,e.buyTokenName,e.buyMinQuantity,e.buyMaxQuantity,e.buyMetadata,e.sellTokenType,e.sellTokenId,e.sellAssetId,e.sellTokenAddress,e.sellTokenName,e.sellMinQuantity,e.sellMaxQuantity,e.sellMetadata,e.auxiliaryFeePercentages,e.auxiliaryFeeRecipients,e.includeFees,t).then((e=>e(this.axios,this.basePath)))}listOrdersV3(e={},t){return Dt(this.configuration).listOrdersV3(e.pageSize,e.cursor,e.orderBy,e.direction,e.user,e.status,e.minTimestamp,e.maxTimestamp,e.updatedMinTimestamp,e.updatedMaxTimestamp,e.buyTokenType,e.buyTokenId,e.buyAssetId,e.buyTokenAddress,e.buyTokenName,e.buyMinQuantity,e.buyMaxQuantity,e.buyMetadata,e.sellTokenType,e.sellTokenId,e.sellAssetId,e.sellTokenAddress,e.sellTokenName,e.sellMinQuantity,e.sellMaxQuantity,e.sellMetadata,e.auxiliaryFeePercentages,e.auxiliaryFeeRecipients,e.includeFees,t).then((e=>e(this.axios,this.basePath)))}};const Ft=function(e){const t=function(e){return{createProject:async(t,n,r,i={})=>{dt("createProject","iMXSignature",t),dt("createProject","iMXTimestamp",n),dt("createProject","createProjectRequest",r);const a=new URL("/v1/projects",ut);let s;e&&(s=e.baseOptions);const o={method:"POST",...s,...i},c={};null!=t&&(c["IMX-Signature"]=String(t)),null!=n&&(c["IMX-Timestamp"]=String(n)),c["Content-Type"]="application/json",lt(a,{});let u=s&&s.headers?s.headers:{};return o.headers={...c,...u,...i.headers},o.data=ht(r,o,e),{url:pt(a),options:o}},createProjectAPIKey:async(t,n={})=>{dt("createProjectAPIKey","id",t);const r="/v1/projects/{id}/api-key".replace("{id}",encodeURIComponent(String(t))),i=new URL(r,ut);let a;e&&(a=e.baseOptions);const s={method:"POST",...a,...n};lt(i,{});let o=a&&a.headers?a.headers:{};return s.headers={...o,...n.headers},{url:pt(i),options:s}},createProjectGroup:async(t,n={})=>{dt("createProjectGroup","createProjectGroupRequest",t);const r=new URL("/v1/project_groups",ut);let i;e&&(i=e.baseOptions);const a={method:"POST",...i,...n},s={"Content-Type":"application/json"};lt(r,{});let o=i&&i.headers?i.headers:{};return a.headers={...s,...o,...n.headers},a.data=ht(t,a,e),{url:pt(r),options:a}},getProject:async(t,n,r,i={})=>{dt("getProject","id",t),dt("getProject","iMXSignature",n),dt("getProject","iMXTimestamp",r);const a="/v1/projects/{id}".replace("{id}",encodeURIComponent(String(t))),s=new URL(a,ut);let o;e&&(o=e.baseOptions);const c={method:"GET",...o,...i},u={};null!=n&&(u["IMX-Signature"]=String(n)),null!=r&&(u["IMX-Timestamp"]=String(r)),lt(s,{});let d=o&&o.headers?o.headers:{};return c.headers={...u,...d,...i.headers},{url:pt(s),options:c}},getProjectGroup:async(t,n={})=>{dt("getProjectGroup","id",t);const r="/v1/project_groups/{id}".replace("{id}",encodeURIComponent(String(t))),i=new URL(r,ut);let a;e&&(a=e.baseOptions);const s={method:"GET",...a,...n};lt(i,{});let o=a&&a.headers?a.headers:{};return s.headers={...o,...n.headers},{url:pt(i),options:s}},getProjectGroups:async(t,n,r,i,a={})=>{const s=new URL("/v1/project_groups",ut);let o;e&&(o=e.baseOptions);const c={method:"GET",...o,...a},u={};void 0!==t&&(u.page_size=t),void 0!==n&&(u.cursor=n),void 0!==r&&(u.order_by=r),void 0!==i&&(u.direction=i),lt(s,u);let d=o&&o.headers?o.headers:{};return c.headers={...d,...a.headers},{url:pt(s),options:c}},getProjects:async(t,n,r,i,a,s,o={})=>{dt("getProjects","iMXSignature",t),dt("getProjects","iMXTimestamp",n);const c=new URL("/v1/projects",ut);let u;e&&(u=e.baseOptions);const d={method:"GET",...u,...o},f={},l={};void 0!==r&&(l.page_size=r),void 0!==i&&(l.cursor=i),void 0!==a&&(l.order_by=a),void 0!==s&&(l.direction=s),null!=t&&(f["IMX-Signature"]=String(t)),null!=n&&(f["IMX-Timestamp"]=String(n)),lt(c,l);let h=u&&u.headers?u.headers:{};return d.headers={...f,...h,...o.headers},{url:pt(c),options:d}},getSdkVersion:async(t,n,r,i={})=>{dt("getSdkVersion","details",t);const a=new URL("/v1/projects/sdk",ut);let s;e&&(s=e.baseOptions);const o={method:"GET",...s,...i},c={};void 0!==t&&(c.details=t),void 0!==n&&(c.version=n),void 0!==r&&(c.id=r),lt(a,c);let u=s&&s.headers?s.headers:{};return o.headers={...u,...i.headers},{url:pt(a),options:o}}}}(e);return{async createProject(n,r,i,a){const s=await t.createProject(n,r,i,a);return mt(s,je,st,e)},async createProjectAPIKey(n,r){const i=await t.createProjectAPIKey(n,r);return mt(i,je,st,e)},async createProjectGroup(n,r){const i=await t.createProjectGroup(n,r);return mt(i,je,st,e)},async getProject(n,r,i,a){const s=await t.getProject(n,r,i,a);return mt(s,je,st,e)},async getProjectGroup(n,r){const i=await t.getProjectGroup(n,r);return mt(i,je,st,e)},async getProjectGroups(n,r,i,a,s){const o=await t.getProjectGroups(n,r,i,a,s);return mt(o,je,st,e)},async getProjects(n,r,i,a,s,o,c){const u=await t.getProjects(n,r,i,a,s,o,c);return mt(u,je,st,e)},async getSdkVersion(n,r,i,a){const s=await t.getSdkVersion(n,r,i,a);return mt(s,je,st,e)}}};class Ut extends ot{createProject(e,t){return Ft(this.configuration).createProject(e.iMXSignature,e.iMXTimestamp,e.createProjectRequest,t).then((e=>e(this.axios,this.basePath)))}createProjectAPIKey(e,t){return Ft(this.configuration).createProjectAPIKey(e.id,t).then((e=>e(this.axios,this.basePath)))}createProjectGroup(e,t){return Ft(this.configuration).createProjectGroup(e.createProjectGroupRequest,t).then((e=>e(this.axios,this.basePath)))}getProject(e,t){return Ft(this.configuration).getProject(e.id,e.iMXSignature,e.iMXTimestamp,t).then((e=>e(this.axios,this.basePath)))}getProjectGroup(e,t){return Ft(this.configuration).getProjectGroup(e.id,t).then((e=>e(this.axios,this.basePath)))}getProjectGroups(e={},t){return Ft(this.configuration).getProjectGroups(e.pageSize,e.cursor,e.orderBy,e.direction,t).then((e=>e(this.axios,this.basePath)))}getProjects(e,t){return Ft(this.configuration).getProjects(e.iMXSignature,e.iMXTimestamp,e.pageSize,e.cursor,e.orderBy,e.direction,t).then((e=>e(this.axios,this.basePath)))}getSdkVersion(e,t){return Ft(this.configuration).getSdkVersion(e.details,e.version,e.id,t).then((e=>e(this.axios,this.basePath)))}}const jt=function(e){const t=function(e){return{getToken:async(t,n={})=>{dt("getToken","address",t);const r="/v1/tokens/{address}".replace("{address}",encodeURIComponent(String(t))),i=new URL(r,ut);let a;e&&(a=e.baseOptions);const s={method:"GET",...a,...n};lt(i,{});let o=a&&a.headers?a.headers:{};return s.headers={...o,...n.headers},{url:pt(i),options:s}},listTokens:async(t,n,r,i,a,s,o={})=>{const c=new URL("/v1/tokens",ut);let u;e&&(u=e.baseOptions);const d={method:"GET",...u,...o},f={};void 0!==t&&(f.page_size=t),void 0!==n&&(f.cursor=n),void 0!==r&&(f.order_by=r),void 0!==i&&(f.direction=i),void 0!==a&&(f.address=a),void 0!==s&&(f.symbols=s),lt(c,f);let l=u&&u.headers?u.headers:{};return d.headers={...l,...o.headers},{url:pt(c),options:d}}}}(e);return{async getToken(n,r){const i=await t.getToken(n,r);return mt(i,je,st,e)},async listTokens(n,r,i,a,s,o,c){const u=await t.listTokens(n,r,i,a,s,o,c);return mt(u,je,st,e)}}};let qt=class extends ot{getToken(e,t){return jt(this.configuration).getToken(e.address,t).then((e=>e(this.axios,this.basePath)))}listTokens(e={},t){return jt(this.configuration).listTokens(e.pageSize,e.cursor,e.orderBy,e.direction,e.address,e.symbols,t).then((e=>e(this.axios,this.basePath)))}};const zt=function(e){const t=function(e){return{createTrade:async(t,n,r,i,a={})=>{dt("createTrade","createTradeRequest",t);const s=new URL("/v1/trades",ut);let o;e&&(o=e.baseOptions);const c={method:"POST",...o,...a},u={};null!=n&&(u["x-imx-eth-address"]=String(n)),null!=r&&(u["x-imx-eth-signature"]=String(r)),null!=i&&(u.Authorization=String(i)),u["Content-Type"]="application/json",lt(s,{});let d=o&&o.headers?o.headers:{};return c.headers={...u,...d,...a.headers},c.data=ht(t,c,e),{url:pt(s),options:c}},createTradeV3:async(t,n,r,i,a={})=>{dt("createTradeV3","createTradeRequest",t);const s=new URL("/v3/trades",ut);let o;e&&(o=e.baseOptions);const c={method:"POST",...o,...a},u={};null!=n&&(u["x-imx-eth-address"]=String(n)),null!=r&&(u["x-imx-eth-signature"]=String(r)),null!=i&&(u.Authorization=String(i)),u["Content-Type"]="application/json",lt(s,{});let d=o&&o.headers?o.headers:{};return c.headers={...u,...d,...a.headers},c.data=ht(t,c,e),{url:pt(s),options:c}},getSignableTrade:async(t,n={})=>{dt("getSignableTrade","getSignableTradeRequest",t);const r=new URL("/v3/signable-trade-details",ut);let i;e&&(i=e.baseOptions);const a={method:"POST",...i,...n},s={"Content-Type":"application/json"};lt(r,{});let o=i&&i.headers?i.headers:{};return a.headers={...s,...o,...n.headers},a.data=ht(t,a,e),{url:pt(r),options:a}},getTrade:async(t,n={})=>{dt("getTrade","id",t);const r="/v1/trades/{id}".replace("{id}",encodeURIComponent(String(t))),i=new URL(r,ut);let a;e&&(a=e.baseOptions);const s={method:"GET",...a,...n};lt(i,{});let o=a&&a.headers?a.headers:{};return s.headers={...o,...n.headers},{url:pt(i),options:s}},getTradeV3:async(t,n={})=>{dt("getTradeV3","id",t);const r="/v3/trades/{id}".replace("{id}",encodeURIComponent(String(t))),i=new URL(r,ut);let a;e&&(a=e.baseOptions);const s={method:"GET",...a,...n};lt(i,{});let o=a&&a.headers?a.headers:{};return s.headers={...o,...n.headers},{url:pt(i),options:s}},listTrades:async(t,n,r,i,a,s,o,c,u,d,f,l={})=>{const h=new URL("/v1/trades",ut);let p;e&&(p=e.baseOptions);const m={method:"GET",...p,...l},b={};void 0!==t&&(b.party_a_token_type=t),void 0!==n&&(b.party_a_token_address=n),void 0!==r&&(b.party_b_token_type=r),void 0!==i&&(b.party_b_token_address=i),void 0!==a&&(b.party_b_token_id=a),void 0!==s&&(b.page_size=s),void 0!==o&&(b.cursor=o),void 0!==c&&(b.order_by=c),void 0!==u&&(b.direction=u),void 0!==d&&(b.min_timestamp=d),void 0!==f&&(b.max_timestamp=f),lt(h,b);let y=p&&p.headers?p.headers:{};return m.headers={...y,...l.headers},{url:pt(h),options:m}},listTradesV3:async(t,n,r,i,a,s,o,c,u,d,f,l={})=>{const h=new URL("/v3/trades",ut);let p;e&&(p=e.baseOptions);const m={method:"GET",...p,...l},b={};void 0!==t&&(b.party_a_token_type=t),void 0!==n&&(b.party_a_token_address=n),void 0!==r&&(b.party_b_token_type=r),void 0!==i&&(b.party_b_token_address=i),void 0!==a&&(b.party_b_token_id=a),void 0!==s&&(b.page_size=s),void 0!==o&&(b.cursor=o),void 0!==c&&(b.order_by=c),void 0!==u&&(b.direction=u),void 0!==d&&(b.min_timestamp=d),void 0!==f&&(b.max_timestamp=f),lt(h,b);let y=p&&p.headers?p.headers:{};return m.headers={...y,...l.headers},{url:pt(h),options:m}}}}(e);return{async createTrade(n,r,i,a,s){const o=await t.createTrade(n,r,i,a,s);return mt(o,je,st,e)},async createTradeV3(n,r,i,a,s){const o=await t.createTradeV3(n,r,i,a,s);return mt(o,je,st,e)},async getSignableTrade(n,r){const i=await t.getSignableTrade(n,r);return mt(i,je,st,e)},async getTrade(n,r){const i=await t.getTrade(n,r);return mt(i,je,st,e)},async getTradeV3(n,r){const i=await t.getTradeV3(n,r);return mt(i,je,st,e)},async listTrades(n,r,i,a,s,o,c,u,d,f,l,h){const p=await t.listTrades(n,r,i,a,s,o,c,u,d,f,l,h);return mt(p,je,st,e)},async listTradesV3(n,r,i,a,s,o,c,u,d,f,l,h){const p=await t.listTradesV3(n,r,i,a,s,o,c,u,d,f,l,h);return mt(p,je,st,e)}}};class Ht extends ot{createTrade(e,t){return zt(this.configuration).createTrade(e.createTradeRequest,e.xImxEthAddress,e.xImxEthSignature,e.authorization,t).then((e=>e(this.axios,this.basePath)))}createTradeV3(e,t){return zt(this.configuration).createTradeV3(e.createTradeRequest,e.xImxEthAddress,e.xImxEthSignature,e.authorization,t).then((e=>e(this.axios,this.basePath)))}getSignableTrade(e,t){return zt(this.configuration).getSignableTrade(e.getSignableTradeRequest,t).then((e=>e(this.axios,this.basePath)))}getTrade(e,t){return zt(this.configuration).getTrade(e.id,t).then((e=>e(this.axios,this.basePath)))}getTradeV3(e,t){return zt(this.configuration).getTradeV3(e.id,t).then((e=>e(this.axios,this.basePath)))}listTrades(e={},t){return zt(this.configuration).listTrades(e.partyATokenType,e.partyATokenAddress,e.partyBTokenType,e.partyBTokenAddress,e.partyBTokenId,e.pageSize,e.cursor,e.orderBy,e.direction,e.minTimestamp,e.maxTimestamp,t).then((e=>e(this.axios,this.basePath)))}listTradesV3(e={},t){return zt(this.configuration).listTradesV3(e.partyATokenType,e.partyATokenAddress,e.partyBTokenType,e.partyBTokenAddress,e.partyBTokenId,e.pageSize,e.cursor,e.orderBy,e.direction,e.minTimestamp,e.maxTimestamp,t).then((e=>e(this.axios,this.basePath)))}}const Gt=function(e){const t=function(e){return{createTransfer:async(t,n,r,i,a={})=>{dt("createTransfer","createTransferRequestV2",t);const s=new URL("/v2/transfers",ut);let o;e&&(o=e.baseOptions);const c={method:"POST",...o,...a},u={};null!=n&&(u["x-imx-eth-address"]=String(n)),null!=r&&(u["x-imx-eth-signature"]=String(r)),null!=i&&(u.Authorization=String(i)),u["Content-Type"]="application/json",lt(s,{});let d=o&&o.headers?o.headers:{};return c.headers={...u,...d,...a.headers},c.data=ht(t,c,e),{url:pt(s),options:c}},createTransferV1:async(t,n,r,i,a={})=>{dt("createTransferV1","createTransferRequest",t);const s=new URL("/v1/transfers",ut);let o;e&&(o=e.baseOptions);const c={method:"POST",...o,...a},u={};null!=n&&(u["x-imx-eth-address"]=String(n)),null!=r&&(u["x-imx-eth-signature"]=String(r)),null!=i&&(u.Authorization=String(i)),u["Content-Type"]="application/json",lt(s,{});let d=o&&o.headers?o.headers:{};return c.headers={...u,...d,...a.headers},c.data=ht(t,c,e),{url:pt(s),options:c}},getSignableTransfer:async(t,n={})=>{dt("getSignableTransfer","getSignableTransferRequestV2",t);const r=new URL("/v2/signable-transfer-details",ut);let i;e&&(i=e.baseOptions);const a={method:"POST",...i,...n},s={"Content-Type":"application/json"};lt(r,{});let o=i&&i.headers?i.headers:{};return a.headers={...s,...o,...n.headers},a.data=ht(t,a,e),{url:pt(r),options:a}},getSignableTransferV1:async(t,n={})=>{dt("getSignableTransferV1","getSignableTransferRequest",t);const r=new URL("/v1/signable-transfer-details",ut);let i;e&&(i=e.baseOptions);const a={method:"POST",...i,...n},s={"Content-Type":"application/json"};lt(r,{});let o=i&&i.headers?i.headers:{};return a.headers={...s,...o,...n.headers},a.data=ht(t,a,e),{url:pt(r),options:a}},getTransfer:async(t,n={})=>{dt("getTransfer","id",t);const r="/v1/transfers/{id}".replace("{id}",encodeURIComponent(String(t))),i=new URL(r,ut);let a;e&&(a=e.baseOptions);const s={method:"GET",...a,...n};lt(i,{});let o=a&&a.headers?a.headers:{};return s.headers={...o,...n.headers},{url:pt(i),options:s}},listTransfers:async(t,n,r,i,a,s,o,c,u,d,f,l,h,p,m,b,y,g={})=>{const v=new URL("/v1/transfers",ut);let w;e&&(w=e.baseOptions);const _={method:"GET",...w,...g},E={};void 0!==t&&(E.page_size=t),void 0!==n&&(E.cursor=n),void 0!==r&&(E.order_by=r),void 0!==i&&(E.direction=i),void 0!==a&&(E.user=a),void 0!==s&&(E.receiver=s),void 0!==o&&(E.status=o),void 0!==c&&(E.min_timestamp=c),void 0!==u&&(E.max_timestamp=u),void 0!==d&&(E.token_type=d),void 0!==f&&(E.token_id=f),void 0!==l&&(E.asset_id=l),void 0!==h&&(E.token_address=h),void 0!==p&&(E.token_name=p),void 0!==m&&(E.min_quantity=m),void 0!==b&&(E.max_quantity=b),void 0!==y&&(E.metadata=y),lt(v,E);let T=w&&w.headers?w.headers:{};return _.headers={...T,...g.headers},{url:pt(v),options:_}}}}(e);return{async createTransfer(n,r,i,a,s){const o=await t.createTransfer(n,r,i,a,s);return mt(o,je,st,e)},async createTransferV1(n,r,i,a,s){const o=await t.createTransferV1(n,r,i,a,s);return mt(o,je,st,e)},async getSignableTransfer(n,r){const i=await t.getSignableTransfer(n,r);return mt(i,je,st,e)},async getSignableTransferV1(n,r){const i=await t.getSignableTransferV1(n,r);return mt(i,je,st,e)},async getTransfer(n,r){const i=await t.getTransfer(n,r);return mt(i,je,st,e)},async listTransfers(n,r,i,a,s,o,c,u,d,f,l,h,p,m,b,y,g,v){const w=await t.listTransfers(n,r,i,a,s,o,c,u,d,f,l,h,p,m,b,y,g,v);return mt(w,je,st,e)}}};class Wt extends ot{createTransfer(e,t){return Gt(this.configuration).createTransfer(e.createTransferRequestV2,e.xImxEthAddress,e.xImxEthSignature,e.authorization,t).then((e=>e(this.axios,this.basePath)))}createTransferV1(e,t){return Gt(this.configuration).createTransferV1(e.createTransferRequest,e.xImxEthAddress,e.xImxEthSignature,e.authorization,t).then((e=>e(this.axios,this.basePath)))}getSignableTransfer(e,t){return Gt(this.configuration).getSignableTransfer(e.getSignableTransferRequestV2,t).then((e=>e(this.axios,this.basePath)))}getSignableTransferV1(e,t){return Gt(this.configuration).getSignableTransferV1(e.getSignableTransferRequest,t).then((e=>e(this.axios,this.basePath)))}getTransfer(e,t){return Gt(this.configuration).getTransfer(e.id,t).then((e=>e(this.axios,this.basePath)))}listTransfers(e={},t){return Gt(this.configuration).listTransfers(e.pageSize,e.cursor,e.orderBy,e.direction,e.user,e.receiver,e.status,e.minTimestamp,e.maxTimestamp,e.tokenType,e.tokenId,e.assetId,e.tokenAddress,e.tokenName,e.minQuantity,e.maxQuantity,e.metadata,t).then((e=>e(this.axios,this.basePath)))}}const Vt=function(e){const t=function(e){return{getSignableRegistration:async(t,n={})=>{dt("getSignableRegistration","getSignableRegistrationRequest",t);const r=new URL("/v1/signable-registration",ut);let i;e&&(i=e.baseOptions);const a={method:"POST",...i,...n},s={"Content-Type":"application/json"};lt(r,{});let o=i&&i.headers?i.headers:{};return a.headers={...s,...o,...n.headers},a.data=ht(t,a,e),{url:pt(r),options:a}},getSignableRegistrationOffchain:async(t,n={})=>{dt("getSignableRegistrationOffchain","getSignableRegistrationRequest",t);const r=new URL("/v1/signable-registration-offchain",ut);let i;e&&(i=e.baseOptions);const a={method:"POST",...i,...n},s={"Content-Type":"application/json"};lt(r,{});let o=i&&i.headers?i.headers:{};return a.headers={...s,...o,...n.headers},a.data=ht(t,a,e),{url:pt(r),options:a}},getUsers:async(t,n={})=>{dt("getUsers","user",t);const r="/v1/users/{user}".replace("{user}",encodeURIComponent(String(t))),i=new URL(r,ut);let a;e&&(a=e.baseOptions);const s={method:"GET",...a,...n};lt(i,{});let o=a&&a.headers?a.headers:{};return s.headers={...o,...n.headers},{url:pt(i),options:s}},registerPassportUser:async(t,n,r={})=>{dt("registerPassportUser","authorization",t),dt("registerPassportUser","registerPassportUserRequest",n);const i=new URL("/v1/passport/users",ut);let a;e&&(a=e.baseOptions);const s={method:"POST",...a,...r},o={};null!=t&&(o.Authorization=String(t)),o["Content-Type"]="application/json",lt(i,{});let c=a&&a.headers?a.headers:{};return s.headers={...o,...c,...r.headers},s.data=ht(n,s,e),{url:pt(i),options:s}},registerPassportUserV2:async(t,n,r={})=>{dt("registerPassportUserV2","authorization",t),dt("registerPassportUserV2","registerPassportUserRequest",n);const i=new URL("/v2/passport/users",ut);let a;e&&(a=e.baseOptions);const s={method:"POST",...a,...r},o={};null!=t&&(o.Authorization=String(t)),o["Content-Type"]="application/json",lt(i,{});let c=a&&a.headers?a.headers:{};return s.headers={...o,...c,...r.headers},s.data=ht(n,s,e),{url:pt(i),options:s}},registerUser:async(t,n={})=>{dt("registerUser","registerUserRequest",t);const r=new URL("/v1/users",ut);let i;e&&(i=e.baseOptions);const a={method:"POST",...i,...n},s={"Content-Type":"application/json"};lt(r,{});let o=i&&i.headers?i.headers:{};return a.headers={...s,...o,...n.headers},a.data=ht(t,a,e),{url:pt(r),options:a}}}}(e);return{async getSignableRegistration(n,r){const i=await t.getSignableRegistration(n,r);return mt(i,je,st,e)},async getSignableRegistrationOffchain(n,r){const i=await t.getSignableRegistrationOffchain(n,r);return mt(i,je,st,e)},async getUsers(n,r){const i=await t.getUsers(n,r);return mt(i,je,st,e)},async registerPassportUser(n,r,i){const a=await t.registerPassportUser(n,r,i);return mt(a,je,st,e)},async registerPassportUserV2(n,r,i){const a=await t.registerPassportUserV2(n,r,i);return mt(a,je,st,e)},async registerUser(n,r){const i=await t.registerUser(n,r);return mt(i,je,st,e)}}};class Kt extends ot{getSignableRegistration(e,t){return Vt(this.configuration).getSignableRegistration(e.getSignableRegistrationRequest,t).then((e=>e(this.axios,this.basePath)))}getSignableRegistrationOffchain(e,t){return Vt(this.configuration).getSignableRegistrationOffchain(e.getSignableRegistrationRequest,t).then((e=>e(this.axios,this.basePath)))}getUsers(e,t){return Vt(this.configuration).getUsers(e.user,t).then((e=>e(this.axios,this.basePath)))}registerPassportUser(e,t){return Vt(this.configuration).registerPassportUser(e.authorization,e.registerPassportUserRequest,t).then((e=>e(this.axios,this.basePath)))}registerPassportUserV2(e,t){return Vt(this.configuration).registerPassportUserV2(e.authorization,e.registerPassportUserRequest,t).then((e=>e(this.axios,this.basePath)))}registerUser(e,t){return Vt(this.configuration).registerUser(e.registerUserRequest,t).then((e=>e(this.axios,this.basePath)))}}const Xt=function(e){const t=function(e){return{createWithdrawal:async(t,n,r,i={})=>{dt("createWithdrawal","xImxEthAddress",t),dt("createWithdrawal","xImxEthSignature",n),dt("createWithdrawal","createWithdrawalRequest",r);const a=new URL("/v1/withdrawals",ut);let s;e&&(s=e.baseOptions);const o={method:"POST",...s,...i},c={};null!=t&&(c["x-imx-eth-address"]=String(t)),null!=n&&(c["x-imx-eth-signature"]=String(n)),c["Content-Type"]="application/json",lt(a,{});let u=s&&s.headers?s.headers:{};return o.headers={...c,...u,...i.headers},o.data=ht(r,o,e),{url:pt(a),options:o}},getSignableWithdrawal:async(t,n={})=>{dt("getSignableWithdrawal","getSignableWithdrawalRequest",t);const r=new URL("/v1/signable-withdrawal-details",ut);let i;e&&(i=e.baseOptions);const a={method:"POST",...i,...n},s={"Content-Type":"application/json"};lt(r,{});let o=i&&i.headers?i.headers:{};return a.headers={...s,...o,...n.headers},a.data=ht(t,a,e),{url:pt(r),options:a}},getWithdrawal:async(t,n={})=>{dt("getWithdrawal","id",t);const r="/v1/withdrawals/{id}".replace("{id}",encodeURIComponent(String(t))),i=new URL(r,ut);let a;e&&(a=e.baseOptions);const s={method:"GET",...a,...n};lt(i,{});let o=a&&a.headers?a.headers:{};return s.headers={...o,...n.headers},{url:pt(i),options:s}},listWithdrawals:async(t,n,r,i,a,s,o,c,u,d,f,l,h,p,m,b,y,g,v={})=>{const w=new URL("/v1/withdrawals",ut);let _;e&&(_=e.baseOptions);const E={method:"GET",..._,...v},T={};void 0!==t&&(T.withdrawn_to_wallet=t),void 0!==n&&(T.rollup_status=n),void 0!==r&&(T.page_size=r),void 0!==i&&(T.cursor=i),void 0!==a&&(T.order_by=a),void 0!==s&&(T.direction=s),void 0!==o&&(T.user=o),void 0!==c&&(T.status=c),void 0!==u&&(T.min_timestamp=u),void 0!==d&&(T.max_timestamp=d),void 0!==f&&(T.token_type=f),void 0!==l&&(T.token_id=l),void 0!==h&&(T.asset_id=h),void 0!==p&&(T.token_address=p),void 0!==m&&(T.token_name=m),void 0!==b&&(T.min_quantity=b),void 0!==y&&(T.max_quantity=y),void 0!==g&&(T.metadata=g),lt(w,T);let A=_&&_.headers?_.headers:{};return E.headers={...A,...v.headers},{url:pt(w),options:E}}}}(e);return{async createWithdrawal(n,r,i,a){const s=await t.createWithdrawal(n,r,i,a);return mt(s,je,st,e)},async getSignableWithdrawal(n,r){const i=await t.getSignableWithdrawal(n,r);return mt(i,je,st,e)},async getWithdrawal(n,r){const i=await t.getWithdrawal(n,r);return mt(i,je,st,e)},async listWithdrawals(n,r,i,a,s,o,c,u,d,f,l,h,p,m,b,y,g,v,w){const _=await t.listWithdrawals(n,r,i,a,s,o,c,u,d,f,l,h,p,m,b,y,g,v,w);return mt(_,je,st,e)}}};class $t extends ot{createWithdrawal(e,t){return Xt(this.configuration).createWithdrawal(e.xImxEthAddress,e.xImxEthSignature,e.createWithdrawalRequest,t).then((e=>e(this.axios,this.basePath)))}getSignableWithdrawal(e,t){return Xt(this.configuration).getSignableWithdrawal(e.getSignableWithdrawalRequest,t).then((e=>e(this.axios,this.basePath)))}getWithdrawal(e,t){return Xt(this.configuration).getWithdrawal(e.id,t).then((e=>e(this.axios,this.basePath)))}listWithdrawals(e={},t){return Xt(this.configuration).listWithdrawals(e.withdrawnToWallet,e.rollupStatus,e.pageSize,e.cursor,e.orderBy,e.direction,e.user,e.status,e.minTimestamp,e.maxTimestamp,e.tokenType,e.tokenId,e.assetId,e.tokenAddress,e.tokenName,e.minQuantity,e.maxQuantity,e.metadata,t).then((e=>e(this.axios,this.basePath)))}}const Jt="https://api.sandbox.immutable.com".replace(/\/+$/,"");let Yt=class{basePath;axios;configuration;constructor(e,t=Jt,n=je){this.basePath=t,this.axios=n,e&&(this.configuration=e,this.basePath=e.basePath||this.basePath)}},Qt=class extends Error{field;constructor(e,t){super(t),this.field=e,this.name="RequiredError"}};const Zt="https://example.com",en=function(e,t,n){if(null==n)throw new Qt(t,`Required parameter ${t} was null or undefined when calling ${e}.`)},tn=async function(e,t,n){if(n&&n.apiKey){const r="function"==typeof n.apiKey?await n.apiKey(t):await n.apiKey;e[t]=r}},nn=async function(e,t){if(t&&t.accessToken){const n="function"==typeof t.accessToken?await t.accessToken():await t.accessToken;e.Authorization="Bearer "+n}};function rn(e,t,n=""){null!=t&&("object"==typeof t?Array.isArray(t)?t.forEach((t=>rn(e,t,n))):Object.keys(t).forEach((r=>rn(e,t[r],`${n}${""!==n?".":""}${r}`))):e.has(n)?e.append(n,t):e.set(n,t))}const an=function(e,...t){const n=new URLSearchParams(e.search);rn(n,t),e.search=n.toString()},sn=function(e,t,n){const r="string"!=typeof e;return(r&&n&&n.isJsonMime?n.isJsonMime(t.headers["Content-Type"]):r)?JSON.stringify(void 0!==e?e:{}):e||""},on=function(e){return e.pathname+e.search+e.hash},cn=function(e,t,n,r){return(i=t,a=n)=>{const s={...e.options,url:(r?.basePath||i.defaults.baseURL||a)+e.url};return i.request(s)}},un=function(e){return{getActivity:async(t,n,r={})=>{en("getActivity","chainName",t),en("getActivity","activityId",n);const i="/v1/chains/{chain_name}/activities/{activity_id}".replace("{chain_name}",encodeURIComponent(String(t))).replace("{activity_id}",encodeURIComponent(String(n))),a=new URL(i,Zt);let s;e&&(s=e.baseOptions);const o={method:"GET",...s,...r};an(a,{});let c=s&&s.headers?s.headers:{};return o.headers={...c,...r.headers},{url:on(a),options:o}},listActivities:async(t,n,r,i,a,s,o,c,u={})=>{en("listActivities","chainName",t);const d="/v1/chains/{chain_name}/activities".replace("{chain_name}",encodeURIComponent(String(t))),f=new URL(d,Zt);let l;e&&(l=e.baseOptions);const h={method:"GET",...l,...u},p={};void 0!==n&&(p.contract_address=n),void 0!==r&&(p.token_id=r),void 0!==i&&(p.account_address=i),void 0!==a&&(p.activity_type=a),void 0!==s&&(p.transaction_hash=s),void 0!==o&&(p.page_cursor=o),void 0!==c&&(p.page_size=c),an(f,p);let m=l&&l.headers?l.headers:{};return h.headers={...m,...u.headers},{url:on(f),options:h}},listActivityHistory:async(t,n,r,i,a,s,o={})=>{en("listActivityHistory","chainName",t),en("listActivityHistory","fromUpdatedAt",n);const c="/v1/chains/{chain_name}/activity-history".replace("{chain_name}",encodeURIComponent(String(t))),u=new URL(c,Zt);let d;e&&(d=e.baseOptions);const f={method:"GET",...d,...o},l={};void 0!==n&&(l.from_updated_at=n instanceof Date?n.toISOString():n),void 0!==r&&(l.to_updated_at=r instanceof Date?r.toISOString():r),void 0!==i&&(l.contract_address=i),void 0!==a&&(l.page_cursor=a),void 0!==s&&(l.page_size=s),an(u,l);let h=d&&d.headers?d.headers:{};return f.headers={...h,...o.headers},{url:on(u),options:f}}}},dn=function(e){const t=un(e);return{async getActivity(n,r,i){const a=await t.getActivity(n,r,i);return cn(a,je,Jt,e)},async listActivities(n,r,i,a,s,o,c,u,d){const f=await t.listActivities(n,r,i,a,s,o,c,u,d);return cn(f,je,Jt,e)},async listActivityHistory(n,r,i,a,s,o,c){const u=await t.listActivityHistory(n,r,i,a,s,o,c);return cn(u,je,Jt,e)}}};class fn extends Yt{getActivity(e,t){return dn(this.configuration).getActivity(e.chainName,e.activityId,t).then((e=>e(this.axios,this.basePath)))}listActivities(e,t){return dn(this.configuration).listActivities(e.chainName,e.contractAddress,e.tokenId,e.accountAddress,e.activityType,e.transactionHash,e.pageCursor,e.pageSize,t).then((e=>e(this.axios,this.basePath)))}listActivityHistory(e,t){return dn(this.configuration).listActivityHistory(e.chainName,e.fromUpdatedAt,e.toUpdatedAt,e.contractAddress,e.pageCursor,e.pageSize,t).then((e=>e(this.axios,this.basePath)))}}const ln=function(e){return{listChains:async(t,n,r={})=>{const i=new URL("/v1/chains",Zt);let a;e&&(a=e.baseOptions);const s={method:"GET",...a,...r},o={};void 0!==t&&(o.page_cursor=t),void 0!==n&&(o.page_size=n),an(i,o);let c=a&&a.headers?a.headers:{};return s.headers={...c,...r.headers},{url:on(i),options:s}}}},hn=function(e){const t=ln(e);return{async listChains(n,r,i){const a=await t.listChains(n,r,i);return cn(a,je,Jt,e)}}};class pn extends Yt{listChains(e={},t){return hn(this.configuration).listChains(e.pageCursor,e.pageSize,t).then((e=>e(this.axios,this.basePath)))}}const mn=function(e){return{getCollection:async(t,n,r={})=>{en("getCollection","contractAddress",t),en("getCollection","chainName",n);const i="/v1/chains/{chain_name}/collections/{contract_address}".replace("{contract_address}",encodeURIComponent(String(t))).replace("{chain_name}",encodeURIComponent(String(n))),a=new URL(i,Zt);let s;e&&(s=e.baseOptions);const o={method:"GET",...s,...r};an(a,{});let c=s&&s.headers?s.headers:{};return o.headers={...c,...r.headers},{url:on(a),options:o}},listCollections:async(t,n,r,i,a,s={})=>{en("listCollections","chainName",t);const o="/v1/chains/{chain_name}/collections".replace("{chain_name}",encodeURIComponent(String(t))),c=new URL(o,Zt);let u;e&&(u=e.baseOptions);const d={method:"GET",...u,...s},f={};n&&(f.contract_address=n),void 0!==r&&(f.from_updated_at=r instanceof Date?r.toISOString():r),void 0!==i&&(f.page_cursor=i),void 0!==a&&(f.page_size=a),an(c,f);let l=u&&u.headers?u.headers:{};return d.headers={...l,...s.headers},{url:on(c),options:d}},listCollectionsByNFTOwner:async(t,n,r,i,a={})=>{en("listCollectionsByNFTOwner","accountAddress",t),en("listCollectionsByNFTOwner","chainName",n);const s="/v1/chains/{chain_name}/accounts/{account_address}/collections".replace("{account_address}",encodeURIComponent(String(t))).replace("{chain_name}",encodeURIComponent(String(n))),o=new URL(s,Zt);let c;e&&(c=e.baseOptions);const u={method:"GET",...c,...a},d={};void 0!==r&&(d.page_cursor=r),void 0!==i&&(d.page_size=i),an(o,d);let f=c&&c.headers?c.headers:{};return u.headers={...f,...a.headers},{url:on(o),options:u}},refreshCollectionMetadata:async(t,n,r,i={})=>{en("refreshCollectionMetadata","contractAddress",t),en("refreshCollectionMetadata","chainName",n),en("refreshCollectionMetadata","refreshCollectionMetadataRequest",r);const a="/v1/chains/{chain_name}/collections/{contract_address}/refresh-metadata".replace("{contract_address}",encodeURIComponent(String(t))).replace("{chain_name}",encodeURIComponent(String(n))),s=new URL(a,Zt);let o;e&&(o=e.baseOptions);const c={method:"POST",...o,...i},u={};await tn(u,"x-immutable-api-key",e),u["Content-Type"]="application/json",an(s,{});let d=o&&o.headers?o.headers:{};return c.headers={...u,...d,...i.headers},c.data=sn(r,c,e),{url:on(s),options:c}}}},bn=function(e){const t=mn(e);return{async getCollection(n,r,i){const a=await t.getCollection(n,r,i);return cn(a,je,Jt,e)},async listCollections(n,r,i,a,s,o){const c=await t.listCollections(n,r,i,a,s,o);return cn(c,je,Jt,e)},async listCollectionsByNFTOwner(n,r,i,a,s){const o=await t.listCollectionsByNFTOwner(n,r,i,a,s);return cn(o,je,Jt,e)},async refreshCollectionMetadata(n,r,i,a){const s=await t.refreshCollectionMetadata(n,r,i,a);return cn(s,je,Jt,e)}}};class yn extends Yt{getCollection(e,t){return bn(this.configuration).getCollection(e.contractAddress,e.chainName,t).then((e=>e(this.axios,this.basePath)))}listCollections(e,t){return bn(this.configuration).listCollections(e.chainName,e.contractAddress,e.fromUpdatedAt,e.pageCursor,e.pageSize,t).then((e=>e(this.axios,this.basePath)))}listCollectionsByNFTOwner(e,t){return bn(this.configuration).listCollectionsByNFTOwner(e.accountAddress,e.chainName,e.pageCursor,e.pageSize,t).then((e=>e(this.axios,this.basePath)))}refreshCollectionMetadata(e,t){return bn(this.configuration).refreshCollectionMetadata(e.contractAddress,e.chainName,e.refreshCollectionMetadataRequest,t).then((e=>e(this.axios,this.basePath)))}}const gn=function(e){return{getMetadata:async(t,n,r,i={})=>{en("getMetadata","chainName",t),en("getMetadata","contractAddress",n),en("getMetadata","metadataId",r);const a="/v1/chains/{chain_name}/collections/{contract_address}/metadata/{metadata_id}".replace("{chain_name}",encodeURIComponent(String(t))).replace("{contract_address}",encodeURIComponent(String(n))).replace("{metadata_id}",encodeURIComponent(String(r))),s=new URL(a,Zt);let o;e&&(o=e.baseOptions);const c={method:"GET",...o,...i};an(s,{});let u=o&&o.headers?o.headers:{};return c.headers={...u,...i.headers},{url:on(s),options:c}},listMetadata:async(t,n,r,i,a,s={})=>{en("listMetadata","chainName",t),en("listMetadata","contractAddress",n);const o="/v1/chains/{chain_name}/collections/{contract_address}/metadata".replace("{chain_name}",encodeURIComponent(String(t))).replace("{contract_address}",encodeURIComponent(String(n))),c=new URL(o,Zt);let u;e&&(u=e.baseOptions);const d={method:"GET",...u,...s},f={};void 0!==r&&(f.from_updated_at=r instanceof Date?r.toISOString():r),void 0!==i&&(f.page_cursor=i),void 0!==a&&(f.page_size=a),an(c,f);let l=u&&u.headers?u.headers:{};return d.headers={...l,...s.headers},{url:on(c),options:d}},listMetadataForChain:async(t,n,r,i,a={})=>{en("listMetadataForChain","chainName",t);const s="/v1/chains/{chain_name}/metadata".replace("{chain_name}",encodeURIComponent(String(t))),o=new URL(s,Zt);let c;e&&(c=e.baseOptions);const u={method:"GET",...c,...a},d={};void 0!==n&&(d.from_updated_at=n instanceof Date?n.toISOString():n),void 0!==r&&(d.page_cursor=r),void 0!==i&&(d.page_size=i),an(o,d);let f=c&&c.headers?c.headers:{};return u.headers={...f,...a.headers},{url:on(o),options:u}},refreshMetadataByID:async(t,n,r,i={})=>{en("refreshMetadataByID","chainName",t),en("refreshMetadataByID","contractAddress",n),en("refreshMetadataByID","refreshMetadataByIDRequest",r);const a="/v1/chains/{chain_name}/collections/{contract_address}/metadata/refresh-metadata".replace("{chain_name}",encodeURIComponent(String(t))).replace("{contract_address}",encodeURIComponent(String(n))),s=new URL(a,Zt);let o;e&&(o=e.baseOptions);const c={method:"POST",...o,...i},u={};await tn(u,"x-immutable-api-key",e),u["Content-Type"]="application/json",an(s,{});let d=o&&o.headers?o.headers:{};return c.headers={...u,...d,...i.headers},c.data=sn(r,c,e),{url:on(s),options:c}},refreshNFTMetadataByTokenID:async(t,n,r,i={})=>{en("refreshNFTMetadataByTokenID","contractAddress",t),en("refreshNFTMetadataByTokenID","chainName",n),en("refreshNFTMetadataByTokenID","refreshNFTMetadataByTokenIDRequest",r);const a="/v1/chains/{chain_name}/collections/{contract_address}/nfts/refresh-metadata".replace("{contract_address}",encodeURIComponent(String(t))).replace("{chain_name}",encodeURIComponent(String(n))),s=new URL(a,Zt);let o;e&&(o=e.baseOptions);const c={method:"POST",...o,...i},u={};await tn(u,"x-immutable-api-key",e),u["Content-Type"]="application/json",an(s,{});let d=o&&o.headers?o.headers:{};return c.headers={...u,...d,...i.headers},c.data=sn(r,c,e),{url:on(s),options:c}}}},vn=function(e){const t=gn(e);return{async getMetadata(n,r,i,a){const s=await t.getMetadata(n,r,i,a);return cn(s,je,Jt,e)},async listMetadata(n,r,i,a,s,o){const c=await t.listMetadata(n,r,i,a,s,o);return cn(c,je,Jt,e)},async listMetadataForChain(n,r,i,a,s){const o=await t.listMetadataForChain(n,r,i,a,s);return cn(o,je,Jt,e)},async refreshMetadataByID(n,r,i,a){const s=await t.refreshMetadataByID(n,r,i,a);return cn(s,je,Jt,e)},async refreshNFTMetadataByTokenID(n,r,i,a){const s=await t.refreshNFTMetadataByTokenID(n,r,i,a);return cn(s,je,Jt,e)}}};const wn=function(e){return{listAllNFTOwners:async(t,n,r,i,a={})=>{en("listAllNFTOwners","chainName",t);const s="/v1/chains/{chain_name}/nft-owners".replace("{chain_name}",encodeURIComponent(String(t))),o=new URL(s,Zt);let c;e&&(c=e.baseOptions);const u={method:"GET",...c,...a},d={};void 0!==n&&(d.from_updated_at=n instanceof Date?n.toISOString():n),void 0!==r&&(d.page_cursor=r),void 0!==i&&(d.page_size=i),an(o,d);let f=c&&c.headers?c.headers:{};return u.headers={...f,...a.headers},{url:on(o),options:u}},listNFTOwners:async(t,n,r,i,a,s={})=>{en("listNFTOwners","contractAddress",t),en("listNFTOwners","tokenId",n),en("listNFTOwners","chainName",r);const o="/v1/chains/{chain_name}/collections/{contract_address}/nfts/{token_id}/owners".replace("{contract_address}",encodeURIComponent(String(t))).replace("{token_id}",encodeURIComponent(String(n))).replace("{chain_name}",encodeURIComponent(String(r))),c=new URL(o,Zt);let u;e&&(u=e.baseOptions);const d={method:"GET",...u,...s},f={};void 0!==i&&(f.page_cursor=i),void 0!==a&&(f.page_size=a),an(c,f);let l=u&&u.headers?u.headers:{};return d.headers={...l,...s.headers},{url:on(c),options:d}},listOwnersByContractAddress:async(t,n,r,i,a,s={})=>{en("listOwnersByContractAddress","contractAddress",t),en("listOwnersByContractAddress","chainName",n);const o="/v1/chains/{chain_name}/collections/{contract_address}/owners".replace("{contract_address}",encodeURIComponent(String(t))).replace("{chain_name}",encodeURIComponent(String(n))),c=new URL(o,Zt);let u;e&&(u=e.baseOptions);const d={method:"GET",...u,...s},f={};void 0!==r&&(f.from_updated_at=r instanceof Date?r.toISOString():r),void 0!==i&&(f.page_cursor=i),void 0!==a&&(f.page_size=a),an(c,f);let l=u&&u.headers?u.headers:{};return d.headers={...l,...s.headers},{url:on(c),options:d}}}},_n=function(e){const t=wn(e);return{async listAllNFTOwners(n,r,i,a,s){const o=await t.listAllNFTOwners(n,r,i,a,s);return cn(o,je,Jt,e)},async listNFTOwners(n,r,i,a,s,o){const c=await t.listNFTOwners(n,r,i,a,s,o);return cn(c,je,Jt,e)},async listOwnersByContractAddress(n,r,i,a,s,o){const c=await t.listOwnersByContractAddress(n,r,i,a,s,o);return cn(c,je,Jt,e)}}};class En extends Yt{listAllNFTOwners(e,t){return _n(this.configuration).listAllNFTOwners(e.chainName,e.fromUpdatedAt,e.pageCursor,e.pageSize,t).then((e=>e(this.axios,this.basePath)))}listNFTOwners(e,t){return _n(this.configuration).listNFTOwners(e.contractAddress,e.tokenId,e.chainName,e.pageCursor,e.pageSize,t).then((e=>e(this.axios,this.basePath)))}listOwnersByContractAddress(e,t){return _n(this.configuration).listOwnersByContractAddress(e.contractAddress,e.chainName,e.fromUpdatedAt,e.pageCursor,e.pageSize,t).then((e=>e(this.axios,this.basePath)))}}const Tn=function(e){return{getNFT:async(t,n,r,i={})=>{en("getNFT","contractAddress",t),en("getNFT","tokenId",n),en("getNFT","chainName",r);const a="/v1/chains/{chain_name}/collections/{contract_address}/nfts/{token_id}".replace("{contract_address}",encodeURIComponent(String(t))).replace("{token_id}",encodeURIComponent(String(n))).replace("{chain_name}",encodeURIComponent(String(r))),s=new URL(a,Zt);let o;e&&(o=e.baseOptions);const c={method:"GET",...o,...i};an(s,{});let u=o&&o.headers?o.headers:{};return c.headers={...u,...i.headers},{url:on(s),options:c}},listAllNFTs:async(t,n,r,i,a={})=>{en("listAllNFTs","chainName",t);const s="/v1/chains/{chain_name}/nfts".replace("{chain_name}",encodeURIComponent(String(t))),o=new URL(s,Zt);let c;e&&(c=e.baseOptions);const u={method:"GET",...c,...a},d={};void 0!==n&&(d.from_updated_at=n instanceof Date?n.toISOString():n),void 0!==r&&(d.page_cursor=r),void 0!==i&&(d.page_size=i),an(o,d);let f=c&&c.headers?c.headers:{};return u.headers={...f,...a.headers},{url:on(o),options:u}},listNFTs:async(t,n,r,i,a,s={})=>{en("listNFTs","contractAddress",t),en("listNFTs","chainName",n);const o="/v1/chains/{chain_name}/collections/{contract_address}/nfts".replace("{contract_address}",encodeURIComponent(String(t))).replace("{chain_name}",encodeURIComponent(String(n))),c=new URL(o,Zt);let u;e&&(u=e.baseOptions);const d={method:"GET",...u,...s},f={};void 0!==r&&(f.from_updated_at=r instanceof Date?r.toISOString():r),void 0!==i&&(f.page_cursor=i),void 0!==a&&(f.page_size=a),an(c,f);let l=u&&u.headers?u.headers:{};return d.headers={...l,...s.headers},{url:on(c),options:d}},listNFTsByAccountAddress:async(t,n,r,i,a,s={})=>{en("listNFTsByAccountAddress","accountAddress",t),en("listNFTsByAccountAddress","chainName",n);const o="/v1/chains/{chain_name}/accounts/{account_address}/nfts".replace("{account_address}",encodeURIComponent(String(t))).replace("{chain_name}",encodeURIComponent(String(n))),c=new URL(o,Zt);let u;e&&(u=e.baseOptions);const d={method:"GET",...u,...s},f={};void 0!==r&&(f.contract_address=r),void 0!==i&&(f.page_cursor=i),void 0!==a&&(f.page_size=a),an(c,f);let l=u&&u.headers?u.headers:{};return d.headers={...l,...s.headers},{url:on(c),options:d}}}},An=function(e){const t=Tn(e);return{async getNFT(n,r,i,a){const s=await t.getNFT(n,r,i,a);return cn(s,je,Jt,e)},async listAllNFTs(n,r,i,a,s){const o=await t.listAllNFTs(n,r,i,a,s);return cn(o,je,Jt,e)},async listNFTs(n,r,i,a,s,o){const c=await t.listNFTs(n,r,i,a,s,o);return cn(c,je,Jt,e)},async listNFTsByAccountAddress(n,r,i,a,s,o){const c=await t.listNFTsByAccountAddress(n,r,i,a,s,o);return cn(c,je,Jt,e)}}};class Rn extends Yt{getNFT(e,t){return An(this.configuration).getNFT(e.contractAddress,e.tokenId,e.chainName,t).then((e=>e(this.axios,this.basePath)))}listAllNFTs(e,t){return An(this.configuration).listAllNFTs(e.chainName,e.fromUpdatedAt,e.pageCursor,e.pageSize,t).then((e=>e(this.axios,this.basePath)))}listNFTs(e,t){return An(this.configuration).listNFTs(e.contractAddress,e.chainName,e.fromUpdatedAt,e.pageCursor,e.pageSize,t).then((e=>e(this.axios,this.basePath)))}listNFTsByAccountAddress(e,t){return An(this.configuration).listNFTsByAccountAddress(e.accountAddress,e.chainName,e.contractAddress,e.pageCursor,e.pageSize,t).then((e=>e(this.axios,this.basePath)))}}const Sn=function(e){return{cancelOrders:async(t,n,r={})=>{en("cancelOrders","chainName",t),en("cancelOrders","cancelOrdersRequestBody",n);const i="/v1/chains/{chain_name}/orders/cancel".replace("{chain_name}",encodeURIComponent(String(t))),a=new URL(i,Zt);let s;e&&(s=e.baseOptions);const o={method:"POST",...s,...r},c={};c["Content-Type"]="application/json",an(a,{});let u=s&&s.headers?s.headers:{};return o.headers={...c,...u,...r.headers},o.data=sn(n,o,e),{url:on(a),options:o}},createListing:async(t,n,r={})=>{en("createListing","chainName",t),en("createListing","createListingRequestBody",n);const i="/v1/chains/{chain_name}/orders/listings".replace("{chain_name}",encodeURIComponent(String(t))),a=new URL(i,Zt);let s;e&&(s=e.baseOptions);const o={method:"POST",...s,...r},c={};c["Content-Type"]="application/json",an(a,{});let u=s&&s.headers?s.headers:{};return o.headers={...c,...u,...r.headers},o.data=sn(n,o,e),{url:on(a),options:o}},fulfillmentData:async(t,n,r={})=>{en("fulfillmentData","chainName",t),en("fulfillmentData","fulfillmentDataRequest",n);const i="/v1/chains/{chain_name}/orders/fulfillment-data".replace("{chain_name}",encodeURIComponent(String(t))),a=new URL(i,Zt);let s;e&&(s=e.baseOptions);const o={method:"POST",...s,...r},c={};c["Content-Type"]="application/json",an(a,{});let u=s&&s.headers?s.headers:{};return o.headers={...c,...u,...r.headers},o.data=sn(n,o,e),{url:on(a),options:o}},getListing:async(t,n,r={})=>{en("getListing","chainName",t),en("getListing","listingId",n);const i="/v1/chains/{chain_name}/orders/listings/{listing_id}".replace("{chain_name}",encodeURIComponent(String(t))).replace("{listing_id}",encodeURIComponent(String(n))),a=new URL(i,Zt);let s;e&&(s=e.baseOptions);const o={method:"GET",...s,...r};an(a,{});let c=s&&s.headers?s.headers:{};return o.headers={...c,...r.headers},{url:on(a),options:o}},getTrade:async(t,n,r={})=>{en("getTrade","chainName",t),en("getTrade","tradeId",n);const i="/v1/chains/{chain_name}/trades/{trade_id}".replace("{chain_name}",encodeURIComponent(String(t))).replace("{trade_id}",encodeURIComponent(String(n))),a=new URL(i,Zt);let s;e&&(s=e.baseOptions);const o={method:"GET",...s,...r};an(a,{});let c=s&&s.headers?s.headers:{};return o.headers={...c,...r.headers},{url:on(a),options:o}},listListings:async(t,n,r,i,a,s,o,c,u,d,f,l,h={})=>{en("listListings","chainName",t);const p="/v1/chains/{chain_name}/orders/listings".replace("{chain_name}",encodeURIComponent(String(t))),m=new URL(p,Zt);let b;e&&(b=e.baseOptions);const y={method:"GET",...b,...h},g={};void 0!==n&&(g.status=n),void 0!==r&&(g.sell_item_contract_address=r),void 0!==i&&(g.buy_item_contract_address=i),void 0!==a&&(g.account_address=a),void 0!==s&&(g.sell_item_metadata_id=s),void 0!==o&&(g.sell_item_token_id=o),void 0!==c&&(g.from_updated_at=c instanceof Date?c.toISOString():c),void 0!==u&&(g.page_size=u),void 0!==d&&(g.sort_by=d),void 0!==f&&(g.sort_direction=f),void 0!==l&&(g.page_cursor=l),an(m,g);let v=b&&b.headers?b.headers:{};return y.headers={...v,...h.headers},{url:on(m),options:y}},listTrades:async(t,n,r,i,a,s,o,c={})=>{en("listTrades","chainName",t);const u="/v1/chains/{chain_name}/trades".replace("{chain_name}",encodeURIComponent(String(t))),d=new URL(u,Zt);let f;e&&(f=e.baseOptions);const l={method:"GET",...f,...c},h={};void 0!==n&&(h.account_address=n),void 0!==r&&(h.from_indexed_at=r instanceof Date?r.toISOString():r),void 0!==i&&(h.page_size=i),void 0!==a&&(h.sort_by=a),void 0!==s&&(h.sort_direction=s),void 0!==o&&(h.page_cursor=o),an(d,h);let p=f&&f.headers?f.headers:{};return l.headers={...p,...c.headers},{url:on(d),options:l}}}},kn=function(e){const t=Sn(e);return{async cancelOrders(n,r,i){const a=await t.cancelOrders(n,r,i);return cn(a,je,Jt,e)},async createListing(n,r,i){const a=await t.createListing(n,r,i);return cn(a,je,Jt,e)},async fulfillmentData(n,r,i){const a=await t.fulfillmentData(n,r,i);return cn(a,je,Jt,e)},async getListing(n,r,i){const a=await t.getListing(n,r,i);return cn(a,je,Jt,e)},async getTrade(n,r,i){const a=await t.getTrade(n,r,i);return cn(a,je,Jt,e)},async listListings(n,r,i,a,s,o,c,u,d,f,l,h,p){const m=await t.listListings(n,r,i,a,s,o,c,u,d,f,l,h,p);return cn(m,je,Jt,e)},async listTrades(n,r,i,a,s,o,c,u){const d=await t.listTrades(n,r,i,a,s,o,c,u);return cn(d,je,Jt,e)}}};class On extends Yt{cancelOrders(e,t){return kn(this.configuration).cancelOrders(e.chainName,e.cancelOrdersRequestBody,t).then((e=>e(this.axios,this.basePath)))}createListing(e,t){return kn(this.configuration).createListing(e.chainName,e.createListingRequestBody,t).then((e=>e(this.axios,this.basePath)))}fulfillmentData(e,t){return kn(this.configuration).fulfillmentData(e.chainName,e.fulfillmentDataRequest,t).then((e=>e(this.axios,this.basePath)))}getListing(e,t){return kn(this.configuration).getListing(e.chainName,e.listingId,t).then((e=>e(this.axios,this.basePath)))}getTrade(e,t){return kn(this.configuration).getTrade(e.chainName,e.tradeId,t).then((e=>e(this.axios,this.basePath)))}listListings(e,t){return kn(this.configuration).listListings(e.chainName,e.status,e.sellItemContractAddress,e.buyItemContractAddress,e.accountAddress,e.sellItemMetadataId,e.sellItemTokenId,e.fromUpdatedAt,e.pageSize,e.sortBy,e.sortDirection,e.pageCursor,t).then((e=>e(this.axios,this.basePath)))}listTrades(e,t){return kn(this.configuration).listTrades(e.chainName,e.accountAddress,e.fromIndexedAt,e.pageSize,e.sortBy,e.sortDirection,e.pageCursor,t).then((e=>e(this.axios,this.basePath)))}}const In=function(e){return{createCounterfactualAddress:async(t,n,r={})=>{en("createCounterfactualAddress","chainName",t),en("createCounterfactualAddress","createCounterfactualAddressRequest",n);const i="/v1/chains/{chain_name}/passport/counterfactual-address".replace("{chain_name}",encodeURIComponent(String(t))),a=new URL(i,Zt);let s;e&&(s=e.baseOptions);const o={method:"POST",...s,...r},c={};await nn(c,e),c["Content-Type"]="application/json",an(a,{});let u=s&&s.headers?s.headers:{};return o.headers={...c,...u,...r.headers},o.data=sn(n,o,e),{url:on(a),options:o}},createCounterfactualAddressDeprecated:async(t,n={})=>{en("createCounterfactualAddressDeprecated","createCounterfactualAddressRequestDeprecated",t);const r=new URL("/passport-mr/v1/counterfactual-address",Zt);let i;e&&(i=e.baseOptions);const a={method:"POST",...i,...n},s={};await nn(s,e),s["Content-Type"]="application/json",an(r,{});let o=i&&i.headers?i.headers:{};return a.headers={...s,...o,...n.headers},a.data=sn(t,a,e),{url:on(r),options:a}},createCounterfactualAddressV2:async(t,n,r={})=>{en("createCounterfactualAddressV2","chainName",t),en("createCounterfactualAddressV2","createCounterfactualAddressRequest",n);const i="/v2/chains/{chain_name}/passport/counterfactual-address".replace("{chain_name}",encodeURIComponent(String(t))),a=new URL(i,Zt);let s;e&&(s=e.baseOptions);const o={method:"POST",...s,...r},c={};await nn(c,e),c["Content-Type"]="application/json",an(a,{});let u=s&&s.headers?s.headers:{};return o.headers={...c,...u,...r.headers},o.data=sn(n,o,e),{url:on(a),options:o}},getContractAbi:async(t,n,r,i={})=>{en("getContractAbi","chainName",t),en("getContractAbi","contractAddress",n),en("getContractAbi","methodId",r);const a="/v1/chains/{chain_name}/passport/transaction-metadata".replace("{chain_name}",encodeURIComponent(String(t))),s=new URL(a,Zt);let o;e&&(o=e.baseOptions);const c={method:"GET",...o,...i},u={},d={};await nn(u,e),void 0!==n&&(d.contract_address=n),void 0!==r&&(d.method_id=r),an(s,d);let f=o&&o.headers?o.headers:{};return c.headers={...u,...f,...i.headers},{url:on(s),options:c}},getLinkedAddresses:async(t,n,r={})=>{en("getLinkedAddresses","userId",t),en("getLinkedAddresses","chainName",n);const i="/v1/chains/{chain_name}/passport/users/{user_id}/linked-addresses".replace("{user_id}",encodeURIComponent(String(t))).replace("{chain_name}",encodeURIComponent(String(n))),a=new URL(i,Zt);let s;e&&(s=e.baseOptions);const o={method:"GET",...s,...r},c={};await nn(c,e),an(a,{});let u=s&&s.headers?s.headers:{};return o.headers={...c,...u,...r.headers},{url:on(a),options:o}},getLinkedAddressesDeprecated:async(t,n={})=>{en("getLinkedAddressesDeprecated","userId",t);const r="/passport-mr/v1/users/{userId}/linked-addresses".replace("{userId}",encodeURIComponent(String(t))),i=new URL(r,Zt);let a;e&&(a=e.baseOptions);const s={method:"GET",...a,...n},o={};await nn(o,e),an(i,{});let c=a&&a.headers?a.headers:{};return s.headers={...o,...c,...n.headers},{url:on(i),options:s}}}},xn=function(e){const t=In(e);return{async createCounterfactualAddress(n,r,i){const a=await t.createCounterfactualAddress(n,r,i);return cn(a,je,Jt,e)},async createCounterfactualAddressDeprecated(n,r){const i=await t.createCounterfactualAddressDeprecated(n,r);return cn(i,je,Jt,e)},async createCounterfactualAddressV2(n,r,i){const a=await t.createCounterfactualAddressV2(n,r,i);return cn(a,je,Jt,e)},async getContractAbi(n,r,i,a){const s=await t.getContractAbi(n,r,i,a);return cn(s,je,Jt,e)},async getLinkedAddresses(n,r,i){const a=await t.getLinkedAddresses(n,r,i);return cn(a,je,Jt,e)},async getLinkedAddressesDeprecated(n,r){const i=await t.getLinkedAddressesDeprecated(n,r);return cn(i,je,Jt,e)}}};class Cn extends Yt{createCounterfactualAddress(e,t){return xn(this.configuration).createCounterfactualAddress(e.chainName,e.createCounterfactualAddressRequest,t).then((e=>e(this.axios,this.basePath)))}createCounterfactualAddressDeprecated(e,t){return xn(this.configuration).createCounterfactualAddressDeprecated(e.createCounterfactualAddressRequestDeprecated,t).then((e=>e(this.axios,this.basePath)))}createCounterfactualAddressV2(e,t){return xn(this.configuration).createCounterfactualAddressV2(e.chainName,e.createCounterfactualAddressRequest,t).then((e=>e(this.axios,this.basePath)))}getContractAbi(e,t){return xn(this.configuration).getContractAbi(e.chainName,e.contractAddress,e.methodId,t).then((e=>e(this.axios,this.basePath)))}getLinkedAddresses(e,t){return xn(this.configuration).getLinkedAddresses(e.userId,e.chainName,t).then((e=>e(this.axios,this.basePath)))}getLinkedAddressesDeprecated(e,t){return xn(this.configuration).getLinkedAddressesDeprecated(e.userId,t).then((e=>e(this.axios,this.basePath)))}}const Mn=function(e){return{getERC20Token:async(t,n,r={})=>{en("getERC20Token","contractAddress",t),en("getERC20Token","chainName",n);const i="/v1/chains/{chain_name}/tokens/{contract_address}".replace("{contract_address}",encodeURIComponent(String(t))).replace("{chain_name}",encodeURIComponent(String(n))),a=new URL(i,Zt);let s;e&&(s=e.baseOptions);const o={method:"GET",...s,...r};an(a,{});let c=s&&s.headers?s.headers:{};return o.headers={...c,...r.headers},{url:on(a),options:o}},listERC20Tokens:async(t,n,r,i,a={})=>{en("listERC20Tokens","chainName",t);const s="/v1/chains/{chain_name}/tokens".replace("{chain_name}",encodeURIComponent(String(t))),o=new URL(s,Zt);let c;e&&(c=e.baseOptions);const u={method:"GET",...c,...a},d={};void 0!==n&&(d.from_updated_at=n instanceof Date?n.toISOString():n),void 0!==r&&(d.page_cursor=r),void 0!==i&&(d.page_size=i),an(o,d);let f=c&&c.headers?c.headers:{};return u.headers={...f,...a.headers},{url:on(o),options:u}}}},Pn=function(e){const t=Mn(e);return{async getERC20Token(n,r,i){const a=await t.getERC20Token(n,r,i);return cn(a,je,Jt,e)},async listERC20Tokens(n,r,i,a,s){const o=await t.listERC20Tokens(n,r,i,a,s);return cn(o,je,Jt,e)}}};const Nn={Mint:"mint",Burn:"burn",Transfer:"transfer",Sale:"sale",Deposit:"deposit",Withdrawal:"withdrawal"};var Bn=Object.freeze({__proto__:null,APIError400AllOfCodeEnum:{ValidationError:"VALIDATION_ERROR"},APIError401AllOfCodeEnum:{UnauthorisedRequest:"UNAUTHORISED_REQUEST"},APIError403AllOfCodeEnum:{AuthenticationError:"AUTHENTICATION_ERROR"},APIError404AllOfCodeEnum:{ResourceNotFound:"RESOURCE_NOT_FOUND"},APIError429AllOfCodeEnum:{TooManyRequestsError:"TOO_MANY_REQUESTS_ERROR"},APIError500AllOfCodeEnum:{InternalServerError:"INTERNAL_SERVER_ERROR"},APIError501AllOfCodeEnum:{NotImplementedError:"NOT_IMPLEMENTED_ERROR"},ActiveOrderStatusNameEnum:{Active:"ACTIVE"},ActivitiesApi:fn,ActivitiesApiAxiosParamCreator:un,ActivitiesApiFactory:function(e,t,n){const r=dn(e);return{getActivity:(e,i)=>r.getActivity(e.chainName,e.activityId,i).then((e=>e(n,t))),listActivities:(e,i)=>r.listActivities(e.chainName,e.contractAddress,e.tokenId,e.accountAddress,e.activityType,e.transactionHash,e.pageCursor,e.pageSize,i).then((e=>e(n,t))),listActivityHistory:(e,i)=>r.listActivityHistory(e.chainName,e.fromUpdatedAt,e.toUpdatedAt,e.contractAddress,e.pageCursor,e.pageSize,i).then((e=>e(n,t)))}},ActivitiesApiFp:dn,ActivityType:Nn,CancelledOrderStatusCancellationTypeEnum:{OnChain:"ON_CHAIN",OffChain:"OFF_CHAIN"},CancelledOrderStatusNameEnum:{Cancelled:"CANCELLED"},ChainsApi:pn,ChainsApiAxiosParamCreator:ln,ChainsApiFactory:function(e,t,n){const r=hn(e);return{listChains:(e={},i)=>r.listChains(e.pageCursor,e.pageSize,i).then((e=>e(n,t)))}},ChainsApiFp:hn,CollectionContractType:{Erc721:"ERC721",Erc1155:"ERC1155"},CollectionsApi:yn,CollectionsApiAxiosParamCreator:mn,CollectionsApiFactory:function(e,t,n){const r=bn(e);return{getCollection:(e,i)=>r.getCollection(e.contractAddress,e.chainName,i).then((e=>e(n,t))),listCollections:(e,i)=>r.listCollections(e.chainName,e.contractAddress,e.fromUpdatedAt,e.pageCursor,e.pageSize,i).then((e=>e(n,t))),listCollectionsByNFTOwner:(e,i)=>r.listCollectionsByNFTOwner(e.accountAddress,e.chainName,e.pageCursor,e.pageSize,i).then((e=>e(n,t))),refreshCollectionMetadata:(e,i)=>r.refreshCollectionMetadata(e.contractAddress,e.chainName,e.refreshCollectionMetadataRequest,i).then((e=>e(n,t)))}},CollectionsApiFp:bn,Configuration:class{apiKey;username;password;accessToken;basePath;baseOptions;formDataCtor;constructor(e={}){this.apiKey=e.apiKey,this.username=e.username,this.password=e.password,this.accessToken=e.accessToken,this.basePath=e.basePath,this.baseOptions=e.baseOptions,this.formDataCtor=e.formDataCtor}isJsonMime(e){const t=new RegExp("^(application/json|[^;/ \t]+/[^;/ \t]+[+]json)[ \t]*(;.*)?$","i");return null!==e&&(t.test(e)||"application/json-patch+json"===e.toLowerCase())}},ERC1155ItemTypeEnum:{Erc1155:"ERC1155"},ERC20ItemTypeEnum:{Erc20:"ERC20"},ERC721ItemTypeEnum:{Erc721:"ERC721"},ExpiredOrderStatusNameEnum:{Expired:"EXPIRED"},FailedOrderCancellationReasonCodeEnum:{Filled:"FILLED"},FeeTypeEnum:{Royalty:"ROYALTY",MakerEcosystem:"MAKER_ECOSYSTEM",TakerEcosystem:"TAKER_ECOSYSTEM",Protocol:"PROTOCOL"},FilledOrderStatusNameEnum:{Filled:"FILLED"},GetContractAbiResTransactionTypeEnum:{Erc20Approve:"ERC20_APPROVE"},InactiveOrderStatusNameEnum:{Inactive:"INACTIVE"},ListListingsSortByEnum:{CreatedAt:"created_at",UpdatedAt:"updated_at",BuyItemAmount:"buy_item_amount"},ListListingsSortDirectionEnum:{Asc:"asc",Desc:"desc"},ListTradesSortByEnum:{IndexedAt:"indexed_at"},ListTradesSortDirectionEnum:{Asc:"asc",Desc:"desc"},MetadataApi:class extends Yt{getMetadata(e,t){return vn(this.configuration).getMetadata(e.chainName,e.contractAddress,e.metadataId,t).then((e=>e(this.axios,this.basePath)))}listMetadata(e,t){return vn(this.configuration).listMetadata(e.chainName,e.contractAddress,e.fromUpdatedAt,e.pageCursor,e.pageSize,t).then((e=>e(this.axios,this.basePath)))}listMetadataForChain(e,t){return vn(this.configuration).listMetadataForChain(e.chainName,e.fromUpdatedAt,e.pageCursor,e.pageSize,t).then((e=>e(this.axios,this.basePath)))}refreshMetadataByID(e,t){return vn(this.configuration).refreshMetadataByID(e.chainName,e.contractAddress,e.refreshMetadataByIDRequest,t).then((e=>e(this.axios,this.basePath)))}refreshNFTMetadataByTokenID(e,t){return vn(this.configuration).refreshNFTMetadataByTokenID(e.contractAddress,e.chainName,e.refreshNFTMetadataByTokenIDRequest,t).then((e=>e(this.axios,this.basePath)))}},MetadataApiAxiosParamCreator:gn,MetadataApiFactory:function(e,t,n){const r=vn(e);return{getMetadata:(e,i)=>r.getMetadata(e.chainName,e.contractAddress,e.metadataId,i).then((e=>e(n,t))),listMetadata:(e,i)=>r.listMetadata(e.chainName,e.contractAddress,e.fromUpdatedAt,e.pageCursor,e.pageSize,i).then((e=>e(n,t))),listMetadataForChain:(e,i)=>r.listMetadataForChain(e.chainName,e.fromUpdatedAt,e.pageCursor,e.pageSize,i).then((e=>e(n,t))),refreshMetadataByID:(e,i)=>r.refreshMetadataByID(e.chainName,e.contractAddress,e.refreshMetadataByIDRequest,i).then((e=>e(n,t))),refreshNFTMetadataByTokenID:(e,i)=>r.refreshNFTMetadataByTokenID(e.contractAddress,e.chainName,e.refreshNFTMetadataByTokenIDRequest,i).then((e=>e(n,t)))}},MetadataApiFp:vn,MintRequestStatus:{Pending:"pending",Succeeded:"succeeded",Failed:"failed"},NFTContractType:{Erc721:"ERC721"},NativeItemTypeEnum:{Native:"NATIVE",Erc20:"ERC20",Erc721:"ERC721",Erc1155:"ERC1155"},NftOwnersApi:En,NftOwnersApiAxiosParamCreator:wn,NftOwnersApiFactory:function(e,t,n){const r=_n(e);return{listAllNFTOwners:(e,i)=>r.listAllNFTOwners(e.chainName,e.fromUpdatedAt,e.pageCursor,e.pageSize,i).then((e=>e(n,t))),listNFTOwners:(e,i)=>r.listNFTOwners(e.contractAddress,e.tokenId,e.chainName,e.pageCursor,e.pageSize,i).then((e=>e(n,t))),listOwnersByContractAddress:(e,i)=>r.listOwnersByContractAddress(e.contractAddress,e.chainName,e.fromUpdatedAt,e.pageCursor,e.pageSize,i).then((e=>e(n,t)))}},NftOwnersApiFp:_n,NftsApi:Rn,NftsApiAxiosParamCreator:Tn,NftsApiFactory:function(e,t,n){const r=An(e);return{getNFT:(e,i)=>r.getNFT(e.contractAddress,e.tokenId,e.chainName,i).then((e=>e(n,t))),listAllNFTs:(e,i)=>r.listAllNFTs(e.chainName,e.fromUpdatedAt,e.pageCursor,e.pageSize,i).then((e=>e(n,t))),listNFTs:(e,i)=>r.listNFTs(e.contractAddress,e.chainName,e.fromUpdatedAt,e.pageCursor,e.pageSize,i).then((e=>e(n,t))),listNFTsByAccountAddress:(e,i)=>r.listNFTsByAccountAddress(e.accountAddress,e.chainName,e.contractAddress,e.pageCursor,e.pageSize,i).then((e=>e(n,t)))}},NftsApiFp:An,OrderStatusName:{Pending:"PENDING",Active:"ACTIVE",Inactive:"INACTIVE",Filled:"FILLED",Expired:"EXPIRED",Cancelled:"CANCELLED"},OrderTypeEnum:{Listing:"LISTING"},OrdersApi:On,OrdersApiAxiosParamCreator:Sn,OrdersApiFactory:function(e,t,n){const r=kn(e);return{cancelOrders:(e,i)=>r.cancelOrders(e.chainName,e.cancelOrdersRequestBody,i).then((e=>e(n,t))),createListing:(e,i)=>r.createListing(e.chainName,e.createListingRequestBody,i).then((e=>e(n,t))),fulfillmentData:(e,i)=>r.fulfillmentData(e.chainName,e.fulfillmentDataRequest,i).then((e=>e(n,t))),getListing:(e,i)=>r.getListing(e.chainName,e.listingId,i).then((e=>e(n,t))),getTrade:(e,i)=>r.getTrade(e.chainName,e.tradeId,i).then((e=>e(n,t))),listListings:(e,i)=>r.listListings(e.chainName,e.status,e.sellItemContractAddress,e.buyItemContractAddress,e.accountAddress,e.sellItemMetadataId,e.sellItemTokenId,e.fromUpdatedAt,e.pageSize,e.sortBy,e.sortDirection,e.pageCursor,i).then((e=>e(n,t))),listTrades:(e,i)=>r.listTrades(e.chainName,e.accountAddress,e.fromIndexedAt,e.pageSize,e.sortBy,e.sortDirection,e.pageCursor,i).then((e=>e(n,t)))}},OrdersApiFp:kn,PassportApi:Cn,PassportApiAxiosParamCreator:In,PassportApiFactory:function(e,t,n){const r=xn(e);return{createCounterfactualAddress:(e,i)=>r.createCounterfactualAddress(e.chainName,e.createCounterfactualAddressRequest,i).then((e=>e(n,t))),createCounterfactualAddressDeprecated:(e,i)=>r.createCounterfactualAddressDeprecated(e.createCounterfactualAddressRequestDeprecated,i).then((e=>e(n,t))),createCounterfactualAddressV2:(e,i)=>r.createCounterfactualAddressV2(e.chainName,e.createCounterfactualAddressRequest,i).then((e=>e(n,t))),getContractAbi:(e,i)=>r.getContractAbi(e.chainName,e.contractAddress,e.methodId,i).then((e=>e(n,t))),getLinkedAddresses:(e,i)=>r.getLinkedAddresses(e.userId,e.chainName,i).then((e=>e(n,t))),getLinkedAddressesDeprecated:(e,i)=>r.getLinkedAddressesDeprecated(e.userId,i).then((e=>e(n,t)))}},PassportApiFp:xn,PendingOrderStatusNameEnum:{Pending:"PENDING"},ProtocolDataOrderTypeEnum:{FullRestricted:"FULL_RESTRICTED"},SaleFeeTypeEnum:{Royalty:"ROYALTY"},TokenContractType:{Erc20:"ERC20"},TokensApi:class extends Yt{getERC20Token(e,t){return Pn(this.configuration).getERC20Token(e.contractAddress,e.chainName,t).then((e=>e(this.axios,this.basePath)))}listERC20Tokens(e,t){return Pn(this.configuration).listERC20Tokens(e.chainName,e.fromUpdatedAt,e.pageCursor,e.pageSize,t).then((e=>e(this.axios,this.basePath)))}},TokensApiAxiosParamCreator:Mn,TokensApiFactory:function(e,t,n){const r=Pn(e);return{getERC20Token:(e,i)=>r.getERC20Token(e.contractAddress,e.chainName,i).then((e=>e(n,t))),listERC20Tokens:(e,i)=>r.listERC20Tokens(e.chainName,e.fromUpdatedAt,e.pageCursor,e.pageSize,i).then((e=>e(n,t)))}},TokensApiFp:Pn}),Dn=Object.freeze({__proto__:null,ActivityType:Nn}),Ln=Object.freeze({__proto__:null}),Fn=Object.freeze({__proto__:null}),Un=Object.freeze({__proto__:null}),jn=Object.freeze({__proto__:null}),qn=Object.freeze({__proto__:null}),zn=Object.freeze({__proto__:null});class Hn{config;assetApi;balanceApi;collectionApi;depositsApi;encodingApi;exchangeApi;metadataApi;metadataRefreshesApi;mintsApi;nftCheckoutPrimaryApi;ordersApi;projectsApi;tokensApi;tradesApi;transfersApi;usersApi;withdrawalsApi;constructor(e){this.config=e,this.assetApi=new yt(e),this.balanceApi=new vt(e),this.collectionApi=new _t(e),this.depositsApi=new Tt(e),this.encodingApi=new Rt(e),this.exchangeApi=new kt(e),this.metadataApi=new It(e),this.metadataRefreshesApi=new Ct(e),this.mintsApi=new Pt(e),this.nftCheckoutPrimaryApi=new Bt(e),this.ordersApi=new Lt(e),this.projectsApi=new Ut(e),this.tokensApi=new qt(e),this.tradesApi=new Ht(e),this.transfersApi=new Wt(e),this.usersApi=new Kt(e),this.withdrawalsApi=new $t(e)}}class Gn{config;activitiesApi;chainsApi;collectionApi;nftOwnersApi;nftsApi;ordersApi;passportApi;constructor(e){this.config=e,this.activitiesApi=new fn(e.indexer),this.chainsApi=new pn(e.indexer),this.collectionApi=new yn(e.indexer),this.nftOwnersApi=new En(e.indexer),this.nftsApi=new Rn(e.indexer),this.ordersApi=new On(e.orderBook),this.passportApi=new Cn(e.passport)}}const Wn={"x-sdk-version":"ts-immutable-sdk-0.44.0"},Vn=({basePath:e,headers:t})=>{if(!e.trim())throw Error("basePath can not be empty");const n={basePath:e,baseOptions:{headers:{...Wn,...t||{}}}};return new class{apiKey;username;password;accessToken;basePath;baseOptions;formDataCtor;constructor(e={}){this.apiKey=e.apiKey,this.username=e.username,this.password=e.password,this.accessToken=e.accessToken,this.basePath=e.basePath,this.baseOptions=e.baseOptions,this.formDataCtor=e.formDataCtor}isJsonMime(e){const t=new RegExp("^(application/json|[^;/ \t]+/[^;/ \t]+[+]json)[ \t]*(;.*)?$","i");return null!==e&&(t.test(e)||"application/json-patch+json"===e.toLowerCase())}}(n)},Kn=()=>Vn({basePath:"https://api.x.immutable.com"}),Xn=()=>Vn({basePath:"https://api.sandbox.x.immutable.com"}),$n=()=>({indexer:Vn({basePath:"https://indexer-mr.imtbl.com"}),orderBook:Vn({basePath:"https://order-book-mr.imtbl.com"}),passport:Vn({basePath:"https://api.immutable.com"})}),Jn=()=>({indexer:Vn({basePath:"https://api.sandbox.immutable.com"}),orderBook:Vn({basePath:"https://api.sandbox.immutable.com"}),passport:Vn({basePath:"https://api.sandbox.immutable.com"})});class Yn extends Error{code;details;link;traceId;constructor({message:e,code:t,details:n,link:r,trace_id:i}){super(e),this.code=t,this.details=n,this.link=r,this.traceId=i}}const Qn={sdkVersion:"ts-immutable-sdk-multi-rollup-api-client-0.44.0"},Zn=({baseConfig:e,basePath:t,headers:n})=>{if(!t.trim())throw Error("basePath can not be empty");const r={...e,basePath:t,baseOptions:{headers:{...n||{},...Qn}}};return new Bn.Configuration(r)};class er{apiConfig;baseConfig;constructor({baseConfig:e,overrides:t}){if(this.baseConfig=e,t)this.apiConfig=Zn(t);else switch(e.environment){case rt.SANDBOX:this.apiConfig=Zn({basePath:"https://api.sandbox.immutable.com",baseConfig:e});break;case rt.PRODUCTION:this.apiConfig=Zn({basePath:"https://api.immutable.com",baseConfig:e});break;default:this.apiConfig=Zn({basePath:"https://api.sandbox.immutable.com",baseConfig:e})}}}function tr(e){if(je.isAxiosError(e)&&e.response){const t=e.response.data;return t.code&&t.message?new Yn({code:t.code,message:t.message,details:t.details||null,link:t.link||"",trace_id:t.trace_id||""}):new Yn({code:e.code??e.response?.status.toString()??"unknown_error_code",message:String(e),details:null,link:"",trace_id:""})}return new Yn({code:"unknown_error_code",message:String(e),details:null,link:"",trace_id:""})}class nr{config;activities;chains;collections;nfts;nftOwners;tokens;metadata;constructor(e){this.config=new er(e),this.activities=new Bn.ActivitiesApi(this.config.apiConfig),this.chains=new Bn.ChainsApi(this.config.apiConfig),this.collections=new Bn.CollectionsApi(this.config.apiConfig),this.nfts=new Bn.NftsApi(this.config.apiConfig),this.nftOwners=new Bn.NftOwnersApi(this.config.apiConfig),this.tokens=new Bn.TokensApi(this.config.apiConfig),this.metadata=new Bn.MetadataApi(this.config.apiConfig)}async listActivities(e){return await this.activities.listActivities(e).then((e=>e.data)).catch((e=>{throw tr(e)}))}async listActivityHistory(e){return await this.activities.listActivityHistory(e).then((e=>e.data)).catch((e=>{throw tr(e)}))}async getActivity(e){return await this.activities.getActivity(e).then((e=>e.data)).catch((e=>{throw tr(e)}))}async listChains(e){return await this.chains.listChains(e).then((e=>e.data)).catch((e=>{throw tr(e)}))}async listCollections(e){return await this.collections.listCollections(e).then((e=>e.data)).catch((e=>{throw tr(e)}))}async listCollectionsByNFTOwner(e){return await this.collections.listCollectionsByNFTOwner(e).then((e=>e.data)).catch((e=>{throw tr(e)}))}async getCollection(e){return await this.collections.getCollection(e).then((e=>e.data)).catch((e=>{throw tr(e)}))}async getNFT(e){return await this.nfts.getNFT(e).then((e=>e.data)).catch((e=>{throw tr(e)}))}async listNFTs(e){return await this.nfts.listNFTs(e).then((e=>e.data)).catch((e=>{throw tr(e)}))}async listNFTsByAccountAddress(e){return await this.nfts.listNFTsByAccountAddress(e).then((e=>e.data)).catch((e=>{throw tr(e)}))}async listAllNFTs(e){return await this.nfts.listAllNFTs(e).then((e=>e.data)).catch((e=>{throw tr(e)}))}async listNFTOwners(e){return await this.nftOwners.listNFTOwners(e).then((e=>e.data)).catch((e=>{throw tr(e)}))}async listNFTOwnersByContractAddress(e){return await this.nftOwners.listOwnersByContractAddress(e).then((e=>e.data)).catch((e=>{throw tr(e)}))}async listAllNFTOwners(e){return await this.nftOwners.listAllNFTOwners(e).then((e=>e.data)).catch((e=>{throw tr(e)}))}async listTokens(e){return await this.tokens.listERC20Tokens(e).then((e=>e.data)).catch((e=>{throw tr(e)}))}async getToken(e){return await this.tokens.getERC20Token(e).then((e=>e.data)).catch((e=>{throw tr(e)}))}async getMetadata(e){return await this.metadata.getMetadata(e).then((e=>e.data)).catch((e=>{throw tr(e)}))}async listNFTMetadataByContractAddress(e){return await this.metadata.listMetadata(e).then((e=>e.data)).catch((e=>{throw tr(e)}))}async listNFTMetadataByChain(e){return await this.metadata.listMetadataForChain(e).then((e=>e.data)).catch((e=>{throw tr(e)}))}async refreshCollectionMetadata(e){return await this.collections.refreshCollectionMetadata(e).then((e=>e.data)).catch((e=>{throw tr(e)}))}async refreshNFTMetadata(e){return await this.metadata.refreshNFTMetadataByTokenID(e).then((e=>e.data)).catch((e=>{throw tr(e)}))}async refreshStackedMetadata(e){return await this.metadata.refreshMetadataByID(e).then((e=>e.data)).catch((e=>{throw tr(e)}))}}var rr=Object.freeze({__proto__:null,APIError:Yn,ActivitiesTypes:Dn,BlockchainData:nr,ChainsTypes:Ln,CollectionsTypes:Fn,MetadataTypes:Un,NFTOwnersTypes:jn,NFTsTypes:qn,TokensTypes:zn}),ir="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function ar(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function sr(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var n=function e(){if(this instanceof e){var n=[null];return n.push.apply(n,arguments),new(Function.bind.apply(t,n))}return t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach((function(t){var r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,r.get?r:{enumerable:!0,get:function(){return e[t]}})})),n}var or={exports:{}},cr="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},ur=[],dr=[],fr="undefined"!=typeof Uint8Array?Uint8Array:Array,lr=!1;function hr(){lr=!0;for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=0;t<64;++t)ur[t]=e[t],dr[e.charCodeAt(t)]=t;dr["-".charCodeAt(0)]=62,dr["_".charCodeAt(0)]=63}function pr(e,t,n){for(var r,i,a=[],s=t;s<n;s+=3)r=(e[s]<<16)+(e[s+1]<<8)+e[s+2],a.push(ur[(i=r)>>18&63]+ur[i>>12&63]+ur[i>>6&63]+ur[63&i]);return a.join("")}function mr(e){var t;lr||hr();for(var n=e.length,r=n%3,i="",a=[],s=16383,o=0,c=n-r;o<c;o+=s)a.push(pr(e,o,o+s>c?c:o+s));return 1===r?(t=e[n-1],i+=ur[t>>2],i+=ur[t<<4&63],i+="=="):2===r&&(t=(e[n-2]<<8)+e[n-1],i+=ur[t>>10],i+=ur[t>>4&63],i+=ur[t<<2&63],i+="="),a.push(i),a.join("")}function br(e,t,n,r,i){var a,s,o=8*i-r-1,c=(1<<o)-1,u=c>>1,d=-7,f=n?i-1:0,l=n?-1:1,h=e[t+f];for(f+=l,a=h&(1<<-d)-1,h>>=-d,d+=o;d>0;a=256*a+e[t+f],f+=l,d-=8);for(s=a&(1<<-d)-1,a>>=-d,d+=r;d>0;s=256*s+e[t+f],f+=l,d-=8);if(0===a)a=1-u;else{if(a===c)return s?NaN:1/0*(h?-1:1);s+=Math.pow(2,r),a-=u}return(h?-1:1)*s*Math.pow(2,a-r)}function yr(e,t,n,r,i,a){var s,o,c,u=8*a-i-1,d=(1<<u)-1,f=d>>1,l=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:a-1,p=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(o=isNaN(t)?1:0,s=d):(s=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-s))<1&&(s--,c*=2),(t+=s+f>=1?l/c:l*Math.pow(2,1-f))*c>=2&&(s++,c/=2),s+f>=d?(o=0,s=d):s+f>=1?(o=(t*c-1)*Math.pow(2,i),s+=f):(o=t*Math.pow(2,f-1)*Math.pow(2,i),s=0));i>=8;e[n+h]=255&o,h+=p,o/=256,i-=8);for(s=s<<i|o,u+=i;u>0;e[n+h]=255&s,h+=p,s/=256,u-=8);e[n+h-p]|=128*m}var gr={}.toString,vr=Array.isArray||function(e){return"[object Array]"==gr.call(e)};Tr.TYPED_ARRAY_SUPPORT=void 0===cr.TYPED_ARRAY_SUPPORT||cr.TYPED_ARRAY_SUPPORT;var wr=_r();function _r(){return Tr.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function Er(e,t){if(_r()<t)throw new RangeError("Invalid typed array length");return Tr.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=Tr.prototype:(null===e&&(e=new Tr(t)),e.length=t),e}function Tr(e,t,n){if(!(Tr.TYPED_ARRAY_SUPPORT||this instanceof Tr))return new Tr(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return Sr(this,e)}return Ar(this,e,t,n)}function Ar(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);Tr.TYPED_ARRAY_SUPPORT?(e=t).__proto__=Tr.prototype:e=kr(e,t);return e}(e,t,n,r):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!Tr.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|xr(t,n);e=Er(e,r);var i=e.write(t,n);i!==r&&(e=e.slice(0,i));return e}(e,t,n):function(e,t){if(Ir(t)){var n=0|Or(t.length);return 0===(e=Er(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?Er(e,0):kr(e,t);if("Buffer"===t.type&&vr(t.data))return kr(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function Rr(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function Sr(e,t){if(Rr(t),e=Er(e,t<0?0:0|Or(t)),!Tr.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function kr(e,t){var n=t.length<0?0:0|Or(t.length);e=Er(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function Or(e){if(e>=_r())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+_r().toString(16)+" bytes");return 0|e}function Ir(e){return!(null==e||!e._isBuffer)}function xr(e,t){if(Ir(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return ri(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return ii(e).length;default:if(r)return ri(e).length;t=(""+t).toLowerCase(),r=!0}}function Cr(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return Vr(this,t,n);case"utf8":case"utf-8":return zr(this,t,n);case"ascii":return Gr(this,t,n);case"latin1":case"binary":return Wr(this,t,n);case"base64":return qr(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Kr(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function Mr(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function Pr(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=Tr.from(t,r)),Ir(t))return 0===t.length?-1:Nr(e,t,n,r,i);if("number"==typeof t)return t&=255,Tr.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):Nr(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function Nr(e,t,n,r,i){var a,s=1,o=e.length,c=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,o/=2,c/=2,n/=2}function u(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){var d=-1;for(a=n;a<o;a++)if(u(e,a)===u(t,-1===d?0:a-d)){if(-1===d&&(d=a),a-d+1===c)return d*s}else-1!==d&&(a-=a-d),d=-1}else for(n+c>o&&(n=o-c),a=n;a>=0;a--){for(var f=!0,l=0;l<c;l++)if(u(e,a+l)!==u(t,l)){f=!1;break}if(f)return a}return-1}function Br(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var a=t.length;if(a%2!=0)throw new TypeError("Invalid hex string");r>a/2&&(r=a/2);for(var s=0;s<r;++s){var o=parseInt(t.substr(2*s,2),16);if(isNaN(o))return s;e[n+s]=o}return s}function Dr(e,t,n,r){return ai(ri(t,e.length-n),e,n,r)}function Lr(e,t,n,r){return ai(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function Fr(e,t,n,r){return Lr(e,t,n,r)}function Ur(e,t,n,r){return ai(ii(t),e,n,r)}function jr(e,t,n,r){return ai(function(e,t){for(var n,r,i,a=[],s=0;s<e.length&&!((t-=2)<0);++s)r=(n=e.charCodeAt(s))>>8,i=n%256,a.push(i),a.push(r);return a}(t,e.length-n),e,n,r)}function qr(e,t,n){return 0===t&&n===e.length?mr(e):mr(e.slice(t,n))}function zr(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var a,s,o,c,u=e[i],d=null,f=u>239?4:u>223?3:u>191?2:1;if(i+f<=n)switch(f){case 1:u<128&&(d=u);break;case 2:128==(192&(a=e[i+1]))&&(c=(31&u)<<6|63&a)>127&&(d=c);break;case 3:a=e[i+1],s=e[i+2],128==(192&a)&&128==(192&s)&&(c=(15&u)<<12|(63&a)<<6|63&s)>2047&&(c<55296||c>57343)&&(d=c);break;case 4:a=e[i+1],s=e[i+2],o=e[i+3],128==(192&a)&&128==(192&s)&&128==(192&o)&&(c=(15&u)<<18|(63&a)<<12|(63&s)<<6|63&o)>65535&&c<1114112&&(d=c)}null===d?(d=65533,f=1):d>65535&&(d-=65536,r.push(d>>>10&1023|55296),d=56320|1023&d),r.push(d),i+=f}return function(e){var t=e.length;if(t<=Hr)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=Hr));return n}(r)}Tr.poolSize=8192,Tr._augment=function(e){return e.__proto__=Tr.prototype,e},Tr.from=function(e,t,n){return Ar(null,e,t,n)},Tr.TYPED_ARRAY_SUPPORT&&(Tr.prototype.__proto__=Uint8Array.prototype,Tr.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&Tr[Symbol.species]),Tr.alloc=function(e,t,n){return function(e,t,n,r){return Rr(t),t<=0?Er(e,t):void 0!==n?"string"==typeof r?Er(e,t).fill(n,r):Er(e,t).fill(n):Er(e,t)}(null,e,t,n)},Tr.allocUnsafe=function(e){return Sr(null,e)},Tr.allocUnsafeSlow=function(e){return Sr(null,e)},Tr.isBuffer=si,Tr.compare=function(e,t){if(!Ir(e)||!Ir(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,a=Math.min(n,r);i<a;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},Tr.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Tr.concat=function(e,t){if(!vr(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return Tr.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=Tr.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(!Ir(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},Tr.byteLength=xr,Tr.prototype._isBuffer=!0,Tr.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)Mr(this,t,t+1);return this},Tr.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)Mr(this,t,t+3),Mr(this,t+1,t+2);return this},Tr.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)Mr(this,t,t+7),Mr(this,t+1,t+6),Mr(this,t+2,t+5),Mr(this,t+3,t+4);return this},Tr.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?zr(this,0,e):Cr.apply(this,arguments)},Tr.prototype.equals=function(e){if(!Ir(e))throw new TypeError("Argument must be a Buffer");return this===e||0===Tr.compare(this,e)},Tr.prototype.inspect=function(){var e="";return this.length>0&&(e=this.toString("hex",0,50).match(/.{2}/g).join(" "),this.length>50&&(e+=" ... ")),"<Buffer "+e+">"},Tr.prototype.compare=function(e,t,n,r,i){if(!Ir(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var a=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(t>>>=0),o=Math.min(a,s),c=this.slice(r,i),u=e.slice(t,n),d=0;d<o;++d)if(c[d]!==u[d]){a=c[d],s=u[d];break}return a<s?-1:s<a?1:0},Tr.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},Tr.prototype.indexOf=function(e,t,n){return Pr(this,e,t,n,!0)},Tr.prototype.lastIndexOf=function(e,t,n){return Pr(this,e,t,n,!1)},Tr.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var a=!1;;)switch(r){case"hex":return Br(this,e,t,n);case"utf8":case"utf-8":return Dr(this,e,t,n);case"ascii":return Lr(this,e,t,n);case"latin1":case"binary":return Fr(this,e,t,n);case"base64":return Ur(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return jr(this,e,t,n);default:if(a)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),a=!0}},Tr.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Hr=4096;function Gr(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function Wr(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function Vr(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",a=t;a<n;++a)i+=ni(e[a]);return i}function Kr(e,t,n){for(var r=e.slice(t,n),i="",a=0;a<r.length;a+=2)i+=String.fromCharCode(r[a]+256*r[a+1]);return i}function Xr(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function $r(e,t,n,r,i,a){if(!Ir(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function Jr(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,a=Math.min(e.length-n,2);i<a;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function Yr(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,a=Math.min(e.length-n,4);i<a;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function Qr(e,t,n,r,i,a){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function Zr(e,t,n,r,i){return i||Qr(e,0,n,4),yr(e,t,n,r,23,4),n+4}function ei(e,t,n,r,i){return i||Qr(e,0,n,8),yr(e,t,n,r,52,8),n+8}Tr.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),Tr.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=Tr.prototype;else{var i=t-e;n=new Tr(i,void 0);for(var a=0;a<i;++a)n[a]=this[a+e]}return n},Tr.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||Xr(e,t,this.length);for(var r=this[e],i=1,a=0;++a<t&&(i*=256);)r+=this[e+a]*i;return r},Tr.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||Xr(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},Tr.prototype.readUInt8=function(e,t){return t||Xr(e,1,this.length),this[e]},Tr.prototype.readUInt16LE=function(e,t){return t||Xr(e,2,this.length),this[e]|this[e+1]<<8},Tr.prototype.readUInt16BE=function(e,t){return t||Xr(e,2,this.length),this[e]<<8|this[e+1]},Tr.prototype.readUInt32LE=function(e,t){return t||Xr(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},Tr.prototype.readUInt32BE=function(e,t){return t||Xr(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},Tr.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||Xr(e,t,this.length);for(var r=this[e],i=1,a=0;++a<t&&(i*=256);)r+=this[e+a]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},Tr.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||Xr(e,t,this.length);for(var r=t,i=1,a=this[e+--r];r>0&&(i*=256);)a+=this[e+--r]*i;return a>=(i*=128)&&(a-=Math.pow(2,8*t)),a},Tr.prototype.readInt8=function(e,t){return t||Xr(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},Tr.prototype.readInt16LE=function(e,t){t||Xr(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},Tr.prototype.readInt16BE=function(e,t){t||Xr(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},Tr.prototype.readInt32LE=function(e,t){return t||Xr(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},Tr.prototype.readInt32BE=function(e,t){return t||Xr(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},Tr.prototype.readFloatLE=function(e,t){return t||Xr(e,4,this.length),br(this,e,!0,23,4)},Tr.prototype.readFloatBE=function(e,t){return t||Xr(e,4,this.length),br(this,e,!1,23,4)},Tr.prototype.readDoubleLE=function(e,t){return t||Xr(e,8,this.length),br(this,e,!0,52,8)},Tr.prototype.readDoubleBE=function(e,t){return t||Xr(e,8,this.length),br(this,e,!1,52,8)},Tr.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||$r(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,a=0;for(this[t]=255&e;++a<n&&(i*=256);)this[t+a]=e/i&255;return t+n},Tr.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||$r(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+n},Tr.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||$r(this,e,t,1,255,0),Tr.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},Tr.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||$r(this,e,t,2,65535,0),Tr.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):Jr(this,e,t,!0),t+2},Tr.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||$r(this,e,t,2,65535,0),Tr.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):Jr(this,e,t,!1),t+2},Tr.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||$r(this,e,t,4,4294967295,0),Tr.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):Yr(this,e,t,!0),t+4},Tr.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||$r(this,e,t,4,4294967295,0),Tr.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):Yr(this,e,t,!1),t+4},Tr.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);$r(this,e,t,n,i-1,-i)}var a=0,s=1,o=0;for(this[t]=255&e;++a<n&&(s*=256);)e<0&&0===o&&0!==this[t+a-1]&&(o=1),this[t+a]=(e/s>>0)-o&255;return t+n},Tr.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);$r(this,e,t,n,i-1,-i)}var a=n-1,s=1,o=0;for(this[t+a]=255&e;--a>=0&&(s*=256);)e<0&&0===o&&0!==this[t+a+1]&&(o=1),this[t+a]=(e/s>>0)-o&255;return t+n},Tr.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||$r(this,e,t,1,127,-128),Tr.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},Tr.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||$r(this,e,t,2,32767,-32768),Tr.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):Jr(this,e,t,!0),t+2},Tr.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||$r(this,e,t,2,32767,-32768),Tr.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):Jr(this,e,t,!1),t+2},Tr.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||$r(this,e,t,4,2147483647,-2147483648),Tr.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):Yr(this,e,t,!0),t+4},Tr.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||$r(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),Tr.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):Yr(this,e,t,!1),t+4},Tr.prototype.writeFloatLE=function(e,t,n){return Zr(this,e,t,!0,n)},Tr.prototype.writeFloatBE=function(e,t,n){return Zr(this,e,t,!1,n)},Tr.prototype.writeDoubleLE=function(e,t,n){return ei(this,e,t,!0,n)},Tr.prototype.writeDoubleBE=function(e,t,n){return ei(this,e,t,!1,n)},Tr.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,a=r-n;if(this===e&&n<t&&t<r)for(i=a-1;i>=0;--i)e[i+t]=this[i+n];else if(a<1e3||!Tr.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+a),t);return a},Tr.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!Tr.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var a;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(a=t;a<n;++a)this[a]=e;else{var s=Ir(e)?e:ri(new Tr(e,r).toString()),o=s.length;for(a=0;a<n-t;++a)this[a+t]=s[a%o]}return this};var ti=/[^+\/0-9A-Za-z-_]/g;function ni(e){return e<16?"0"+e.toString(16):e.toString(16)}function ri(e,t){var n;t=t||1/0;for(var r=e.length,i=null,a=[],s=0;s<r;++s){if((n=e.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&a.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&a.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;a.push(n)}else if(n<2048){if((t-=2)<0)break;a.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;a.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return a}function ii(e){return function(e){var t,n,r,i,a,s;lr||hr();var o=e.length;if(o%4>0)throw new Error("Invalid string. Length must be a multiple of 4");a="="===e[o-2]?2:"="===e[o-1]?1:0,s=new fr(3*o/4-a),r=a>0?o-4:o;var c=0;for(t=0,n=0;t<r;t+=4,n+=3)i=dr[e.charCodeAt(t)]<<18|dr[e.charCodeAt(t+1)]<<12|dr[e.charCodeAt(t+2)]<<6|dr[e.charCodeAt(t+3)],s[c++]=i>>16&255,s[c++]=i>>8&255,s[c++]=255&i;return 2===a?(i=dr[e.charCodeAt(t)]<<2|dr[e.charCodeAt(t+1)]>>4,s[c++]=255&i):1===a&&(i=dr[e.charCodeAt(t)]<<10|dr[e.charCodeAt(t+1)]<<4|dr[e.charCodeAt(t+2)]>>2,s[c++]=i>>8&255,s[c++]=255&i),s}(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(ti,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function ai(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function si(e){return null!=e&&(!!e._isBuffer||oi(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&oi(e.slice(0,0))}(e))}function oi(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}var ci=sr(Object.freeze({__proto__:null,Buffer:Tr,INSPECT_MAX_BYTES:50,SlowBuffer:function(e){return+e!=e&&(e=0),Tr.alloc(+e)},isBuffer:si,kMaxLength:wr}));!function(e){!function(e,t){function n(e,t){if(!e)throw new Error(t||"Assertion failed")}function r(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}function i(e,t,n){if(i.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(n=t,t=10),this._init(e||0,t||10,n||"be"))}var a;"object"==typeof e?e.exports=i:t.BN=i,i.BN=i,i.wordSize=26;try{a="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:ci.Buffer}catch(e){}function s(e,t){var r=e.charCodeAt(t);return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:void n(!1,"Invalid character in "+e)}function o(e,t,n){var r=s(e,n);return n-1>=t&&(r|=s(e,n-1)<<4),r}function c(e,t,r,i){for(var a=0,s=0,o=Math.min(e.length,r),c=t;c<o;c++){var u=e.charCodeAt(c)-48;a*=i,s=u>=49?u-49+10:u>=17?u-17+10:u,n(u>=0&&s<i,"Invalid character"),a+=s}return a}function u(e,t){e.words=t.words,e.length=t.length,e.negative=t.negative,e.red=t.red}if(i.isBN=function(e){return e instanceof i||null!==e&&"object"==typeof e&&e.constructor.wordSize===i.wordSize&&Array.isArray(e.words)},i.max=function(e,t){return e.cmp(t)>0?e:t},i.min=function(e,t){return e.cmp(t)<0?e:t},i.prototype._init=function(e,t,r){if("number"==typeof e)return this._initNumber(e,t,r);if("object"==typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,r):(this._parseBase(e,t,i),"le"===r&&this._initArray(this.toArray(),t,r)))},i.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},i.prototype._initArray=function(e,t,r){if(n("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var a,s,o=0;if("be"===r)for(i=e.length-1,a=0;i>=0;i-=3)s=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[a]|=s<<o&67108863,this.words[a+1]=s>>>26-o&67108863,(o+=24)>=26&&(o-=26,a++);else if("le"===r)for(i=0,a=0;i<e.length;i+=3)s=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[a]|=s<<o&67108863,this.words[a+1]=s>>>26-o&67108863,(o+=24)>=26&&(o-=26,a++);return this._strip()},i.prototype._parseHex=function(e,t,n){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var i,a=0,s=0;if("be"===n)for(r=e.length-1;r>=t;r-=2)i=o(e,t,r)<<a,this.words[s]|=67108863&i,a>=18?(a-=18,s+=1,this.words[s]|=i>>>26):a+=8;else for(r=(e.length-t)%2==0?t+1:t;r<e.length;r+=2)i=o(e,t,r)<<a,this.words[s]|=67108863&i,a>=18?(a-=18,s+=1,this.words[s]|=i>>>26):a+=8;this._strip()},i.prototype._parseBase=function(e,t,n){this.words=[0],this.length=1;for(var r=0,i=1;i<=67108863;i*=t)r++;r--,i=i/t|0;for(var a=e.length-n,s=a%r,o=Math.min(a,a-s)+n,u=0,d=n;d<o;d+=r)u=c(e,d,d+r,t),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==s){var f=1;for(u=c(e,d,e.length,t),d=0;d<s;d++)f*=t;this.imuln(f),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this._strip()},i.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},i.prototype._move=function(e){u(e,this)},i.prototype.clone=function(){var e=new i(null);return this.copy(e),e},i.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},i.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=d}catch(e){i.prototype.inspect=d}else i.prototype.inspect=d;function d(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(e,t){var r;if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var i=0,a=0,s=0;s<this.length;s++){var o=this.words[s],c=(16777215&(o<<i|a)).toString(16);a=o>>>24-i&16777215,(i+=2)>=26&&(i-=26,s--),r=0!==a||s!==this.length-1?f[6-c.length]+c+r:c+r}for(0!==a&&(r=a.toString(16)+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var u=l[e],d=h[e];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modrn(d).toString(e);r=(p=p.idivn(d)).isZero()?m+r:f[u-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},i.prototype.toJSON=function(){return this.toString(16,2)},a&&(i.prototype.toBuffer=function(e,t){return this.toArrayLike(a,e,t)}),i.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)};function p(e,t,n){n.negative=t.negative^e.negative;var r=e.length+t.length|0;n.length=r,r=r-1|0;var i=0|e.words[0],a=0|t.words[0],s=i*a,o=67108863&s,c=s/67108864|0;n.words[0]=o;for(var u=1;u<r;u++){for(var d=c>>>26,f=67108863&c,l=Math.min(u,t.length-1),h=Math.max(0,u-e.length+1);h<=l;h++){var p=u-h|0;d+=(s=(i=0|e.words[p])*(a=0|t.words[h])+f)/67108864|0,f=67108863&s}n.words[u]=0|f,c=0|d}return 0!==c?n.words[u]=0|c:n.length--,n._strip()}i.prototype.toArrayLike=function(e,t,r){this._strip();var i=this.byteLength(),a=r||Math.max(1,i);n(i<=a,"byte array longer than desired length"),n(a>0,"Requested array length <= 0");var s=function(e,t){return e.allocUnsafe?e.allocUnsafe(t):new e(t)}(e,a);return this["_toArrayLike"+("le"===t?"LE":"BE")](s,i),s},i.prototype._toArrayLikeLE=function(e,t){for(var n=0,r=0,i=0,a=0;i<this.length;i++){var s=this.words[i]<<a|r;e[n++]=255&s,n<e.length&&(e[n++]=s>>8&255),n<e.length&&(e[n++]=s>>16&255),6===a?(n<e.length&&(e[n++]=s>>24&255),r=0,a=0):(r=s>>>24,a+=2)}if(n<e.length)for(e[n++]=r;n<e.length;)e[n++]=0},i.prototype._toArrayLikeBE=function(e,t){for(var n=e.length-1,r=0,i=0,a=0;i<this.length;i++){var s=this.words[i]<<a|r;e[n--]=255&s,n>=0&&(e[n--]=s>>8&255),n>=0&&(e[n--]=s>>16&255),6===a?(n>=0&&(e[n--]=s>>24&255),r=0,a=0):(r=s>>>24,a+=2)}if(n>=0)for(e[n--]=r;n>=0;)e[n--]=0},Math.clz32?i.prototype._countBits=function(e){return 32-Math.clz32(e)}:i.prototype._countBits=function(e){var t=e,n=0;return t>=4096&&(n+=13,t>>>=13),t>=64&&(n+=7,t>>>=7),t>=8&&(n+=4,t>>>=4),t>=2&&(n+=2,t>>>=2),n+t},i.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,n=0;return 0==(8191&t)&&(n+=13,t>>>=13),0==(127&t)&&(n+=7,t>>>=7),0==(15&t)&&(n+=4,t>>>=4),0==(3&t)&&(n+=2,t>>>=2),0==(1&t)&&n++,n},i.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var n=this._zeroBits(this.words[t]);if(e+=n,26!==n)break}return e},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},i.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return 0!==this.negative},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},i.prototype.ior=function(e){return n(0==(this.negative|e.negative)),this.iuor(e)},i.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},i.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},i.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var n=0;n<t.length;n++)this.words[n]=this.words[n]&e.words[n];return this.length=t.length,this._strip()},i.prototype.iand=function(e){return n(0==(this.negative|e.negative)),this.iuand(e)},i.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},i.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},i.prototype.iuxor=function(e){var t,n;this.length>e.length?(t=this,n=e):(t=e,n=this);for(var r=0;r<n.length;r++)this.words[r]=t.words[r]^n.words[r];if(this!==t)for(;r<t.length;r++)this.words[r]=t.words[r];return this.length=t.length,this._strip()},i.prototype.ixor=function(e){return n(0==(this.negative|e.negative)),this.iuxor(e)},i.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},i.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},i.prototype.inotn=function(e){n("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this._strip()},i.prototype.notn=function(e){return this.clone().inotn(e)},i.prototype.setn=function(e,t){n("number"==typeof e&&e>=0);var r=e/26|0,i=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<i:this.words[r]&~(1<<i),this._strip()},i.prototype.iadd=function(e){var t,n,r;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(n=this,r=e):(n=e,r=this);for(var i=0,a=0;a<r.length;a++)t=(0|n.words[a])+(0|r.words[a])+i,this.words[a]=67108863&t,i=t>>>26;for(;0!==i&&a<n.length;a++)t=(0|n.words[a])+i,this.words[a]=67108863&t,i=t>>>26;if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;a<n.length;a++)this.words[a]=n.words[a];return this},i.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},i.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var n,r,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(n=this,r=e):(n=e,r=this);for(var a=0,s=0;s<r.length;s++)a=(t=(0|n.words[s])-(0|r.words[s])+a)>>26,this.words[s]=67108863&t;for(;0!==a&&s<n.length;s++)a=(t=(0|n.words[s])+a)>>26,this.words[s]=67108863&t;if(0===a&&s<n.length&&n!==this)for(;s<n.length;s++)this.words[s]=n.words[s];return this.length=Math.max(this.length,s),n!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(e){return this.clone().isub(e)};var m=function(e,t,n){var r,i,a,s=e.words,o=t.words,c=n.words,u=0,d=0|s[0],f=8191&d,l=d>>>13,h=0|s[1],p=8191&h,m=h>>>13,b=0|s[2],y=8191&b,g=b>>>13,v=0|s[3],w=8191&v,_=v>>>13,E=0|s[4],T=8191&E,A=E>>>13,R=0|s[5],S=8191&R,k=R>>>13,O=0|s[6],I=8191&O,x=O>>>13,C=0|s[7],M=8191&C,P=C>>>13,N=0|s[8],B=8191&N,D=N>>>13,L=0|s[9],F=8191&L,U=L>>>13,j=0|o[0],q=8191&j,z=j>>>13,H=0|o[1],G=8191&H,W=H>>>13,V=0|o[2],K=8191&V,X=V>>>13,$=0|o[3],J=8191&$,Y=$>>>13,Q=0|o[4],Z=8191&Q,ee=Q>>>13,te=0|o[5],ne=8191&te,re=te>>>13,ie=0|o[6],ae=8191&ie,se=ie>>>13,oe=0|o[7],ce=8191&oe,ue=oe>>>13,de=0|o[8],fe=8191&de,le=de>>>13,he=0|o[9],pe=8191&he,me=he>>>13;n.negative=e.negative^t.negative,n.length=19;var be=(u+(r=Math.imul(f,q))|0)+((8191&(i=(i=Math.imul(f,z))+Math.imul(l,q)|0))<<13)|0;u=((a=Math.imul(l,z))+(i>>>13)|0)+(be>>>26)|0,be&=67108863,r=Math.imul(p,q),i=(i=Math.imul(p,z))+Math.imul(m,q)|0,a=Math.imul(m,z);var ye=(u+(r=r+Math.imul(f,G)|0)|0)+((8191&(i=(i=i+Math.imul(f,W)|0)+Math.imul(l,G)|0))<<13)|0;u=((a=a+Math.imul(l,W)|0)+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,r=Math.imul(y,q),i=(i=Math.imul(y,z))+Math.imul(g,q)|0,a=Math.imul(g,z),r=r+Math.imul(p,G)|0,i=(i=i+Math.imul(p,W)|0)+Math.imul(m,G)|0,a=a+Math.imul(m,W)|0;var ge=(u+(r=r+Math.imul(f,K)|0)|0)+((8191&(i=(i=i+Math.imul(f,X)|0)+Math.imul(l,K)|0))<<13)|0;u=((a=a+Math.imul(l,X)|0)+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,r=Math.imul(w,q),i=(i=Math.imul(w,z))+Math.imul(_,q)|0,a=Math.imul(_,z),r=r+Math.imul(y,G)|0,i=(i=i+Math.imul(y,W)|0)+Math.imul(g,G)|0,a=a+Math.imul(g,W)|0,r=r+Math.imul(p,K)|0,i=(i=i+Math.imul(p,X)|0)+Math.imul(m,K)|0,a=a+Math.imul(m,X)|0;var ve=(u+(r=r+Math.imul(f,J)|0)|0)+((8191&(i=(i=i+Math.imul(f,Y)|0)+Math.imul(l,J)|0))<<13)|0;u=((a=a+Math.imul(l,Y)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,r=Math.imul(T,q),i=(i=Math.imul(T,z))+Math.imul(A,q)|0,a=Math.imul(A,z),r=r+Math.imul(w,G)|0,i=(i=i+Math.imul(w,W)|0)+Math.imul(_,G)|0,a=a+Math.imul(_,W)|0,r=r+Math.imul(y,K)|0,i=(i=i+Math.imul(y,X)|0)+Math.imul(g,K)|0,a=a+Math.imul(g,X)|0,r=r+Math.imul(p,J)|0,i=(i=i+Math.imul(p,Y)|0)+Math.imul(m,J)|0,a=a+Math.imul(m,Y)|0;var we=(u+(r=r+Math.imul(f,Z)|0)|0)+((8191&(i=(i=i+Math.imul(f,ee)|0)+Math.imul(l,Z)|0))<<13)|0;u=((a=a+Math.imul(l,ee)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,r=Math.imul(S,q),i=(i=Math.imul(S,z))+Math.imul(k,q)|0,a=Math.imul(k,z),r=r+Math.imul(T,G)|0,i=(i=i+Math.imul(T,W)|0)+Math.imul(A,G)|0,a=a+Math.imul(A,W)|0,r=r+Math.imul(w,K)|0,i=(i=i+Math.imul(w,X)|0)+Math.imul(_,K)|0,a=a+Math.imul(_,X)|0,r=r+Math.imul(y,J)|0,i=(i=i+Math.imul(y,Y)|0)+Math.imul(g,J)|0,a=a+Math.imul(g,Y)|0,r=r+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(m,Z)|0,a=a+Math.imul(m,ee)|0;var _e=(u+(r=r+Math.imul(f,ne)|0)|0)+((8191&(i=(i=i+Math.imul(f,re)|0)+Math.imul(l,ne)|0))<<13)|0;u=((a=a+Math.imul(l,re)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,r=Math.imul(I,q),i=(i=Math.imul(I,z))+Math.imul(x,q)|0,a=Math.imul(x,z),r=r+Math.imul(S,G)|0,i=(i=i+Math.imul(S,W)|0)+Math.imul(k,G)|0,a=a+Math.imul(k,W)|0,r=r+Math.imul(T,K)|0,i=(i=i+Math.imul(T,X)|0)+Math.imul(A,K)|0,a=a+Math.imul(A,X)|0,r=r+Math.imul(w,J)|0,i=(i=i+Math.imul(w,Y)|0)+Math.imul(_,J)|0,a=a+Math.imul(_,Y)|0,r=r+Math.imul(y,Z)|0,i=(i=i+Math.imul(y,ee)|0)+Math.imul(g,Z)|0,a=a+Math.imul(g,ee)|0,r=r+Math.imul(p,ne)|0,i=(i=i+Math.imul(p,re)|0)+Math.imul(m,ne)|0,a=a+Math.imul(m,re)|0;var Ee=(u+(r=r+Math.imul(f,ae)|0)|0)+((8191&(i=(i=i+Math.imul(f,se)|0)+Math.imul(l,ae)|0))<<13)|0;u=((a=a+Math.imul(l,se)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,r=Math.imul(M,q),i=(i=Math.imul(M,z))+Math.imul(P,q)|0,a=Math.imul(P,z),r=r+Math.imul(I,G)|0,i=(i=i+Math.imul(I,W)|0)+Math.imul(x,G)|0,a=a+Math.imul(x,W)|0,r=r+Math.imul(S,K)|0,i=(i=i+Math.imul(S,X)|0)+Math.imul(k,K)|0,a=a+Math.imul(k,X)|0,r=r+Math.imul(T,J)|0,i=(i=i+Math.imul(T,Y)|0)+Math.imul(A,J)|0,a=a+Math.imul(A,Y)|0,r=r+Math.imul(w,Z)|0,i=(i=i+Math.imul(w,ee)|0)+Math.imul(_,Z)|0,a=a+Math.imul(_,ee)|0,r=r+Math.imul(y,ne)|0,i=(i=i+Math.imul(y,re)|0)+Math.imul(g,ne)|0,a=a+Math.imul(g,re)|0,r=r+Math.imul(p,ae)|0,i=(i=i+Math.imul(p,se)|0)+Math.imul(m,ae)|0,a=a+Math.imul(m,se)|0;var Te=(u+(r=r+Math.imul(f,ce)|0)|0)+((8191&(i=(i=i+Math.imul(f,ue)|0)+Math.imul(l,ce)|0))<<13)|0;u=((a=a+Math.imul(l,ue)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,r=Math.imul(B,q),i=(i=Math.imul(B,z))+Math.imul(D,q)|0,a=Math.imul(D,z),r=r+Math.imul(M,G)|0,i=(i=i+Math.imul(M,W)|0)+Math.imul(P,G)|0,a=a+Math.imul(P,W)|0,r=r+Math.imul(I,K)|0,i=(i=i+Math.imul(I,X)|0)+Math.imul(x,K)|0,a=a+Math.imul(x,X)|0,r=r+Math.imul(S,J)|0,i=(i=i+Math.imul(S,Y)|0)+Math.imul(k,J)|0,a=a+Math.imul(k,Y)|0,r=r+Math.imul(T,Z)|0,i=(i=i+Math.imul(T,ee)|0)+Math.imul(A,Z)|0,a=a+Math.imul(A,ee)|0,r=r+Math.imul(w,ne)|0,i=(i=i+Math.imul(w,re)|0)+Math.imul(_,ne)|0,a=a+Math.imul(_,re)|0,r=r+Math.imul(y,ae)|0,i=(i=i+Math.imul(y,se)|0)+Math.imul(g,ae)|0,a=a+Math.imul(g,se)|0,r=r+Math.imul(p,ce)|0,i=(i=i+Math.imul(p,ue)|0)+Math.imul(m,ce)|0,a=a+Math.imul(m,ue)|0;var Ae=(u+(r=r+Math.imul(f,fe)|0)|0)+((8191&(i=(i=i+Math.imul(f,le)|0)+Math.imul(l,fe)|0))<<13)|0;u=((a=a+Math.imul(l,le)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,r=Math.imul(F,q),i=(i=Math.imul(F,z))+Math.imul(U,q)|0,a=Math.imul(U,z),r=r+Math.imul(B,G)|0,i=(i=i+Math.imul(B,W)|0)+Math.imul(D,G)|0,a=a+Math.imul(D,W)|0,r=r+Math.imul(M,K)|0,i=(i=i+Math.imul(M,X)|0)+Math.imul(P,K)|0,a=a+Math.imul(P,X)|0,r=r+Math.imul(I,J)|0,i=(i=i+Math.imul(I,Y)|0)+Math.imul(x,J)|0,a=a+Math.imul(x,Y)|0,r=r+Math.imul(S,Z)|0,i=(i=i+Math.imul(S,ee)|0)+Math.imul(k,Z)|0,a=a+Math.imul(k,ee)|0,r=r+Math.imul(T,ne)|0,i=(i=i+Math.imul(T,re)|0)+Math.imul(A,ne)|0,a=a+Math.imul(A,re)|0,r=r+Math.imul(w,ae)|0,i=(i=i+Math.imul(w,se)|0)+Math.imul(_,ae)|0,a=a+Math.imul(_,se)|0,r=r+Math.imul(y,ce)|0,i=(i=i+Math.imul(y,ue)|0)+Math.imul(g,ce)|0,a=a+Math.imul(g,ue)|0,r=r+Math.imul(p,fe)|0,i=(i=i+Math.imul(p,le)|0)+Math.imul(m,fe)|0,a=a+Math.imul(m,le)|0;var Re=(u+(r=r+Math.imul(f,pe)|0)|0)+((8191&(i=(i=i+Math.imul(f,me)|0)+Math.imul(l,pe)|0))<<13)|0;u=((a=a+Math.imul(l,me)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,r=Math.imul(F,G),i=(i=Math.imul(F,W))+Math.imul(U,G)|0,a=Math.imul(U,W),r=r+Math.imul(B,K)|0,i=(i=i+Math.imul(B,X)|0)+Math.imul(D,K)|0,a=a+Math.imul(D,X)|0,r=r+Math.imul(M,J)|0,i=(i=i+Math.imul(M,Y)|0)+Math.imul(P,J)|0,a=a+Math.imul(P,Y)|0,r=r+Math.imul(I,Z)|0,i=(i=i+Math.imul(I,ee)|0)+Math.imul(x,Z)|0,a=a+Math.imul(x,ee)|0,r=r+Math.imul(S,ne)|0,i=(i=i+Math.imul(S,re)|0)+Math.imul(k,ne)|0,a=a+Math.imul(k,re)|0,r=r+Math.imul(T,ae)|0,i=(i=i+Math.imul(T,se)|0)+Math.imul(A,ae)|0,a=a+Math.imul(A,se)|0,r=r+Math.imul(w,ce)|0,i=(i=i+Math.imul(w,ue)|0)+Math.imul(_,ce)|0,a=a+Math.imul(_,ue)|0,r=r+Math.imul(y,fe)|0,i=(i=i+Math.imul(y,le)|0)+Math.imul(g,fe)|0,a=a+Math.imul(g,le)|0;var Se=(u+(r=r+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,me)|0)+Math.imul(m,pe)|0))<<13)|0;u=((a=a+Math.imul(m,me)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,r=Math.imul(F,K),i=(i=Math.imul(F,X))+Math.imul(U,K)|0,a=Math.imul(U,X),r=r+Math.imul(B,J)|0,i=(i=i+Math.imul(B,Y)|0)+Math.imul(D,J)|0,a=a+Math.imul(D,Y)|0,r=r+Math.imul(M,Z)|0,i=(i=i+Math.imul(M,ee)|0)+Math.imul(P,Z)|0,a=a+Math.imul(P,ee)|0,r=r+Math.imul(I,ne)|0,i=(i=i+Math.imul(I,re)|0)+Math.imul(x,ne)|0,a=a+Math.imul(x,re)|0,r=r+Math.imul(S,ae)|0,i=(i=i+Math.imul(S,se)|0)+Math.imul(k,ae)|0,a=a+Math.imul(k,se)|0,r=r+Math.imul(T,ce)|0,i=(i=i+Math.imul(T,ue)|0)+Math.imul(A,ce)|0,a=a+Math.imul(A,ue)|0,r=r+Math.imul(w,fe)|0,i=(i=i+Math.imul(w,le)|0)+Math.imul(_,fe)|0,a=a+Math.imul(_,le)|0;var ke=(u+(r=r+Math.imul(y,pe)|0)|0)+((8191&(i=(i=i+Math.imul(y,me)|0)+Math.imul(g,pe)|0))<<13)|0;u=((a=a+Math.imul(g,me)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,r=Math.imul(F,J),i=(i=Math.imul(F,Y))+Math.imul(U,J)|0,a=Math.imul(U,Y),r=r+Math.imul(B,Z)|0,i=(i=i+Math.imul(B,ee)|0)+Math.imul(D,Z)|0,a=a+Math.imul(D,ee)|0,r=r+Math.imul(M,ne)|0,i=(i=i+Math.imul(M,re)|0)+Math.imul(P,ne)|0,a=a+Math.imul(P,re)|0,r=r+Math.imul(I,ae)|0,i=(i=i+Math.imul(I,se)|0)+Math.imul(x,ae)|0,a=a+Math.imul(x,se)|0,r=r+Math.imul(S,ce)|0,i=(i=i+Math.imul(S,ue)|0)+Math.imul(k,ce)|0,a=a+Math.imul(k,ue)|0,r=r+Math.imul(T,fe)|0,i=(i=i+Math.imul(T,le)|0)+Math.imul(A,fe)|0,a=a+Math.imul(A,le)|0;var Oe=(u+(r=r+Math.imul(w,pe)|0)|0)+((8191&(i=(i=i+Math.imul(w,me)|0)+Math.imul(_,pe)|0))<<13)|0;u=((a=a+Math.imul(_,me)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,r=Math.imul(F,Z),i=(i=Math.imul(F,ee))+Math.imul(U,Z)|0,a=Math.imul(U,ee),r=r+Math.imul(B,ne)|0,i=(i=i+Math.imul(B,re)|0)+Math.imul(D,ne)|0,a=a+Math.imul(D,re)|0,r=r+Math.imul(M,ae)|0,i=(i=i+Math.imul(M,se)|0)+Math.imul(P,ae)|0,a=a+Math.imul(P,se)|0,r=r+Math.imul(I,ce)|0,i=(i=i+Math.imul(I,ue)|0)+Math.imul(x,ce)|0,a=a+Math.imul(x,ue)|0,r=r+Math.imul(S,fe)|0,i=(i=i+Math.imul(S,le)|0)+Math.imul(k,fe)|0,a=a+Math.imul(k,le)|0;var Ie=(u+(r=r+Math.imul(T,pe)|0)|0)+((8191&(i=(i=i+Math.imul(T,me)|0)+Math.imul(A,pe)|0))<<13)|0;u=((a=a+Math.imul(A,me)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,r=Math.imul(F,ne),i=(i=Math.imul(F,re))+Math.imul(U,ne)|0,a=Math.imul(U,re),r=r+Math.imul(B,ae)|0,i=(i=i+Math.imul(B,se)|0)+Math.imul(D,ae)|0,a=a+Math.imul(D,se)|0,r=r+Math.imul(M,ce)|0,i=(i=i+Math.imul(M,ue)|0)+Math.imul(P,ce)|0,a=a+Math.imul(P,ue)|0,r=r+Math.imul(I,fe)|0,i=(i=i+Math.imul(I,le)|0)+Math.imul(x,fe)|0,a=a+Math.imul(x,le)|0;var xe=(u+(r=r+Math.imul(S,pe)|0)|0)+((8191&(i=(i=i+Math.imul(S,me)|0)+Math.imul(k,pe)|0))<<13)|0;u=((a=a+Math.imul(k,me)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,r=Math.imul(F,ae),i=(i=Math.imul(F,se))+Math.imul(U,ae)|0,a=Math.imul(U,se),r=r+Math.imul(B,ce)|0,i=(i=i+Math.imul(B,ue)|0)+Math.imul(D,ce)|0,a=a+Math.imul(D,ue)|0,r=r+Math.imul(M,fe)|0,i=(i=i+Math.imul(M,le)|0)+Math.imul(P,fe)|0,a=a+Math.imul(P,le)|0;var Ce=(u+(r=r+Math.imul(I,pe)|0)|0)+((8191&(i=(i=i+Math.imul(I,me)|0)+Math.imul(x,pe)|0))<<13)|0;u=((a=a+Math.imul(x,me)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,r=Math.imul(F,ce),i=(i=Math.imul(F,ue))+Math.imul(U,ce)|0,a=Math.imul(U,ue),r=r+Math.imul(B,fe)|0,i=(i=i+Math.imul(B,le)|0)+Math.imul(D,fe)|0,a=a+Math.imul(D,le)|0;var Me=(u+(r=r+Math.imul(M,pe)|0)|0)+((8191&(i=(i=i+Math.imul(M,me)|0)+Math.imul(P,pe)|0))<<13)|0;u=((a=a+Math.imul(P,me)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,r=Math.imul(F,fe),i=(i=Math.imul(F,le))+Math.imul(U,fe)|0,a=Math.imul(U,le);var Pe=(u+(r=r+Math.imul(B,pe)|0)|0)+((8191&(i=(i=i+Math.imul(B,me)|0)+Math.imul(D,pe)|0))<<13)|0;u=((a=a+Math.imul(D,me)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863;var Ne=(u+(r=Math.imul(F,pe))|0)+((8191&(i=(i=Math.imul(F,me))+Math.imul(U,pe)|0))<<13)|0;return u=((a=Math.imul(U,me))+(i>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,c[0]=be,c[1]=ye,c[2]=ge,c[3]=ve,c[4]=we,c[5]=_e,c[6]=Ee,c[7]=Te,c[8]=Ae,c[9]=Re,c[10]=Se,c[11]=ke,c[12]=Oe,c[13]=Ie,c[14]=xe,c[15]=Ce,c[16]=Me,c[17]=Pe,c[18]=Ne,0!==u&&(c[19]=u,n.length++),n};function b(e,t,n){n.negative=t.negative^e.negative,n.length=e.length+t.length;for(var r=0,i=0,a=0;a<n.length-1;a++){var s=i;i=0;for(var o=67108863&r,c=Math.min(a,t.length-1),u=Math.max(0,a-e.length+1);u<=c;u++){var d=a-u,f=(0|e.words[d])*(0|t.words[u]),l=67108863&f;o=67108863&(l=l+o|0),i+=(s=(s=s+(f/67108864|0)|0)+(l>>>26)|0)>>>26,s&=67108863}n.words[a]=o,r=s,s=i}return 0!==r?n.words[a]=r:n.length--,n._strip()}function y(e,t,n){return b(e,t,n)}Math.imul||(m=p),i.prototype.mulTo=function(e,t){var n=this.length+e.length;return 10===this.length&&10===e.length?m(this,e,t):n<63?p(this,e,t):n<1024?b(this,e,t):y(this,e,t)},i.prototype.mul=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},i.prototype.mulf=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),y(this,e,t)},i.prototype.imul=function(e){return this.clone().mulTo(e,this)},i.prototype.imuln=function(e){var t=e<0;t&&(e=-e),n("number"==typeof e),n(e<67108864);for(var r=0,i=0;i<this.length;i++){var a=(0|this.words[i])*e,s=(67108863&a)+(67108863&r);r>>=26,r+=a/67108864|0,r+=s>>>26,this.words[i]=67108863&s}return 0!==r&&(this.words[i]=r,this.length++),t?this.ineg():this},i.prototype.muln=function(e){return this.clone().imuln(e)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),n=0;n<t.length;n++){var r=n/26|0,i=n%26;t[n]=e.words[r]>>>i&1}return t}(e);if(0===t.length)return new i(1);for(var n=this,r=0;r<t.length&&0===t[r];r++,n=n.sqr());if(++r<t.length)for(var a=n.sqr();r<t.length;r++,a=a.sqr())0!==t[r]&&(n=n.mul(a));return n},i.prototype.iushln=function(e){n("number"==typeof e&&e>=0);var t,r=e%26,i=(e-r)/26,a=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(t=0;t<this.length;t++){var o=this.words[t]&a,c=(0|this.words[t])-o<<r;this.words[t]=c|s,s=o>>>26-r}s&&(this.words[t]=s,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this._strip()},i.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},i.prototype.iushrn=function(e,t,r){var i;n("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var a=e%26,s=Math.min((e-a)/26,this.length),o=67108863^67108863>>>a<<a,c=r;if(i-=s,i=Math.max(0,i),c){for(var u=0;u<s;u++)c.words[u]=this.words[u];c.length=s}if(0===s);else if(this.length>s)for(this.length-=s,u=0;u<this.length;u++)this.words[u]=this.words[u+s];else this.words[0]=0,this.length=1;var d=0;for(u=this.length-1;u>=0&&(0!==d||u>=i);u--){var f=0|this.words[u];this.words[u]=d<<26-a|f>>>a,d=f&o}return c&&0!==d&&(c.words[c.length++]=d),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(e,t,r){return n(0===this.negative),this.iushrn(e,t,r)},i.prototype.shln=function(e){return this.clone().ishln(e)},i.prototype.ushln=function(e){return this.clone().iushln(e)},i.prototype.shrn=function(e){return this.clone().ishrn(e)},i.prototype.ushrn=function(e){return this.clone().iushrn(e)},i.prototype.testn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26,i=1<<t;return!(this.length<=r)&&!!(this.words[r]&i)},i.prototype.imaskn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this._strip()},i.prototype.maskn=function(e){return this.clone().imaskn(e)},i.prototype.iaddn=function(e){return n("number"==typeof e),n(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},i.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},i.prototype.isubn=function(e){if(n("number"==typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this._strip()},i.prototype.addn=function(e){return this.clone().iaddn(e)},i.prototype.subn=function(e){return this.clone().isubn(e)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(e,t,r){var i,a,s=e.length+r;this._expand(s);var o=0;for(i=0;i<e.length;i++){a=(0|this.words[i+r])+o;var c=(0|e.words[i])*t;o=((a-=67108863&c)>>26)-(c/67108864|0),this.words[i+r]=67108863&a}for(;i<this.length-r;i++)o=(a=(0|this.words[i+r])+o)>>26,this.words[i+r]=67108863&a;if(0===o)return this._strip();for(n(-1===o),o=0,i=0;i<this.length;i++)o=(a=-(0|this.words[i])+o)>>26,this.words[i]=67108863&a;return this.negative=1,this._strip()},i.prototype._wordDiv=function(e,t){var n=(this.length,e.length),r=this.clone(),a=e,s=0|a.words[a.length-1];0!==(n=26-this._countBits(s))&&(a=a.ushln(n),r.iushln(n),s=0|a.words[a.length-1]);var o,c=r.length-a.length;if("mod"!==t){(o=new i(null)).length=c+1,o.words=new Array(o.length);for(var u=0;u<o.length;u++)o.words[u]=0}var d=r.clone()._ishlnsubmul(a,1,c);0===d.negative&&(r=d,o&&(o.words[c]=1));for(var f=c-1;f>=0;f--){var l=67108864*(0|r.words[a.length+f])+(0|r.words[a.length+f-1]);for(l=Math.min(l/s|0,67108863),r._ishlnsubmul(a,l,f);0!==r.negative;)l--,r.negative=0,r._ishlnsubmul(a,1,f),r.isZero()||(r.negative^=1);o&&(o.words[f]=l)}return o&&o._strip(),r._strip(),"div"!==t&&0!==n&&r.iushrn(n),{div:o||null,mod:r}},i.prototype.divmod=function(e,t,r){return n(!e.isZero()),this.isZero()?{div:new i(0),mod:new i(0)}:0!==this.negative&&0===e.negative?(o=this.neg().divmod(e,t),"mod"!==t&&(a=o.div.neg()),"div"!==t&&(s=o.mod.neg(),r&&0!==s.negative&&s.iadd(e)),{div:a,mod:s}):0===this.negative&&0!==e.negative?(o=this.divmod(e.neg(),t),"mod"!==t&&(a=o.div.neg()),{div:a,mod:o.mod}):0!=(this.negative&e.negative)?(o=this.neg().divmod(e.neg(),t),"div"!==t&&(s=o.mod.neg(),r&&0!==s.negative&&s.isub(e)),{div:o.div,mod:s}):e.length>this.length||this.cmp(e)<0?{div:new i(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new i(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new i(this.modrn(e.words[0]))}:this._wordDiv(e,t);var a,s,o},i.prototype.div=function(e){return this.divmod(e,"div",!1).div},i.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},i.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},i.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var n=0!==t.div.negative?t.mod.isub(e):t.mod,r=e.ushrn(1),i=e.andln(1),a=n.cmp(r);return a<0||1===i&&0===a?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},i.prototype.modrn=function(e){var t=e<0;t&&(e=-e),n(e<=67108863);for(var r=(1<<26)%e,i=0,a=this.length-1;a>=0;a--)i=(r*i+(0|this.words[a]))%e;return t?-i:i},i.prototype.modn=function(e){return this.modrn(e)},i.prototype.idivn=function(e){var t=e<0;t&&(e=-e),n(e<=67108863);for(var r=0,i=this.length-1;i>=0;i--){var a=(0|this.words[i])+67108864*r;this.words[i]=a/e|0,r=a%e}return this._strip(),t?this.ineg():this},i.prototype.divn=function(e){return this.clone().idivn(e)},i.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var a=new i(1),s=new i(0),o=new i(0),c=new i(1),u=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++u;for(var d=r.clone(),f=t.clone();!t.isZero();){for(var l=0,h=1;0==(t.words[0]&h)&&l<26;++l,h<<=1);if(l>0)for(t.iushrn(l);l-- >0;)(a.isOdd()||s.isOdd())&&(a.iadd(d),s.isub(f)),a.iushrn(1),s.iushrn(1);for(var p=0,m=1;0==(r.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(o.isOdd()||c.isOdd())&&(o.iadd(d),c.isub(f)),o.iushrn(1),c.iushrn(1);t.cmp(r)>=0?(t.isub(r),a.isub(o),s.isub(c)):(r.isub(t),o.isub(a),c.isub(s))}return{a:o,b:c,gcd:r.iushln(u)}},i.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var a,s=new i(1),o=new i(0),c=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var u=0,d=1;0==(t.words[0]&d)&&u<26;++u,d<<=1);if(u>0)for(t.iushrn(u);u-- >0;)s.isOdd()&&s.iadd(c),s.iushrn(1);for(var f=0,l=1;0==(r.words[0]&l)&&f<26;++f,l<<=1);if(f>0)for(r.iushrn(f);f-- >0;)o.isOdd()&&o.iadd(c),o.iushrn(1);t.cmp(r)>=0?(t.isub(r),s.isub(o)):(r.isub(t),o.isub(s))}return(a=0===t.cmpn(1)?s:o).cmpn(0)<0&&a.iadd(e),a},i.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),n=e.clone();t.negative=0,n.negative=0;for(var r=0;t.isEven()&&n.isEven();r++)t.iushrn(1),n.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;n.isEven();)n.iushrn(1);var i=t.cmp(n);if(i<0){var a=t;t=n,n=a}else if(0===i||0===n.cmpn(1))break;t.isub(n)}return n.iushln(r)},i.prototype.invm=function(e){return this.egcd(e).a.umod(e)},i.prototype.isEven=function(){return 0==(1&this.words[0])},i.prototype.isOdd=function(){return 1==(1&this.words[0])},i.prototype.andln=function(e){return this.words[0]&e},i.prototype.bincn=function(e){n("number"==typeof e);var t=e%26,r=(e-t)/26,i=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var a=i,s=r;0!==a&&s<this.length;s++){var o=0|this.words[s];a=(o+=a)>>>26,o&=67108863,this.words[s]=o}return 0!==a&&(this.words[s]=a,this.length++),this},i.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},i.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)t=1;else{r&&(e=-e),n(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},i.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},i.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],i=0|e.words[n];if(r!==i){r<i?t=-1:r>i&&(t=1);break}}return t},i.prototype.gtn=function(e){return 1===this.cmpn(e)},i.prototype.gt=function(e){return 1===this.cmp(e)},i.prototype.gten=function(e){return this.cmpn(e)>=0},i.prototype.gte=function(e){return this.cmp(e)>=0},i.prototype.ltn=function(e){return-1===this.cmpn(e)},i.prototype.lt=function(e){return-1===this.cmp(e)},i.prototype.lten=function(e){return this.cmpn(e)<=0},i.prototype.lte=function(e){return this.cmp(e)<=0},i.prototype.eqn=function(e){return 0===this.cmpn(e)},i.prototype.eq=function(e){return 0===this.cmp(e)},i.red=function(e){return new A(e)},i.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(e){return this.red=e,this},i.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},i.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},i.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},i.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},i.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},i.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},i.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},i.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var g={k256:null,p224:null,p192:null,p25519:null};function v(e,t){this.name=e,this.p=new i(t,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function w(){v.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function _(){v.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function E(){v.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function T(){v.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function A(e){if("string"==typeof e){var t=i._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function R(e){A.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}v.prototype._tmp=function(){var e=new i(null);return e.words=new Array(Math.ceil(this.n/13)),e},v.prototype.ireduce=function(e){var t,n=e;do{this.split(n,this.tmp),t=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(t>this.n);var r=t<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},v.prototype.split=function(e,t){e.iushrn(this.n,0,t)},v.prototype.imulK=function(e){return e.imul(this.k)},r(w,v),w.prototype.split=function(e,t){for(var n=4194303,r=Math.min(e.length,9),i=0;i<r;i++)t.words[i]=e.words[i];if(t.length=r,e.length<=9)return e.words[0]=0,void(e.length=1);var a=e.words[9];for(t.words[t.length++]=a&n,i=10;i<e.length;i++){var s=0|e.words[i];e.words[i-10]=(s&n)<<4|a>>>22,a=s}a>>>=22,e.words[i-10]=a,0===a&&e.length>10?e.length-=10:e.length-=9},w.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,n=0;n<e.length;n++){var r=0|e.words[n];t+=977*r,e.words[n]=67108863&t,t=64*r+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},r(_,v),r(E,v),r(T,v),T.prototype.imulK=function(e){for(var t=0,n=0;n<e.length;n++){var r=19*(0|e.words[n])+t,i=67108863&r;r>>>=26,e.words[n]=i,t=r}return 0!==t&&(e.words[e.length++]=t),e},i._prime=function(e){if(g[e])return g[e];var t;if("k256"===e)t=new w;else if("p224"===e)t=new _;else if("p192"===e)t=new E;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new T}return g[e]=t,t},A.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},A.prototype._verify2=function(e,t){n(0==(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},A.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(u(e,e.umod(this.m)._forceRed(this)),e)},A.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},A.prototype.add=function(e,t){this._verify2(e,t);var n=e.add(t);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},A.prototype.iadd=function(e,t){this._verify2(e,t);var n=e.iadd(t);return n.cmp(this.m)>=0&&n.isub(this.m),n},A.prototype.sub=function(e,t){this._verify2(e,t);var n=e.sub(t);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},A.prototype.isub=function(e,t){this._verify2(e,t);var n=e.isub(t);return n.cmpn(0)<0&&n.iadd(this.m),n},A.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},A.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},A.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},A.prototype.isqr=function(e){return this.imul(e,e.clone())},A.prototype.sqr=function(e){return this.mul(e,e)},A.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2==1),3===t){var r=this.m.add(new i(1)).iushrn(2);return this.pow(e,r)}for(var a=this.m.subn(1),s=0;!a.isZero()&&0===a.andln(1);)s++,a.iushrn(1);n(!a.isZero());var o=new i(1).toRed(this),c=o.redNeg(),u=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new i(2*d*d).toRed(this);0!==this.pow(d,u).cmp(c);)d.redIAdd(c);for(var f=this.pow(d,a),l=this.pow(e,a.addn(1).iushrn(1)),h=this.pow(e,a),p=s;0!==h.cmp(o);){for(var m=h,b=0;0!==m.cmp(o);b++)m=m.redSqr();n(b<p);var y=this.pow(f,new i(1).iushln(p-b-1));l=l.redMul(y),f=y.redSqr(),h=h.redMul(f),p=b}return l},A.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},A.prototype.pow=function(e,t){if(t.isZero())return new i(1).toRed(this);if(0===t.cmpn(1))return e.clone();var n=new Array(16);n[0]=new i(1).toRed(this),n[1]=e;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],e);var a=n[0],s=0,o=0,c=t.bitLength()%26;for(0===c&&(c=26),r=t.length-1;r>=0;r--){for(var u=t.words[r],d=c-1;d>=0;d--){var f=u>>d&1;a!==n[0]&&(a=this.sqr(a)),0!==f||0!==s?(s<<=1,s|=f,(4===++o||0===r&&0===d)&&(a=this.mul(a,n[s]),o=0,s=0)):o=0}c=26}return a},A.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},A.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},i.mont=function(e){return new R(e)},r(R,A),R.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},R.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},R.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var n=e.imul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},R.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new i(0)._forceRed(this);var n=e.mul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),a=n.isub(r).iushrn(this.shift),s=a;return a.cmp(this.m)>=0?s=a.isub(this.m):a.cmpn(0)<0&&(s=a.iadd(this.m)),s._forceRed(this)},R.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e,ir)}(or);var ui=or.exports,di=ar(ui);let fi=!1,li=!1;const hi={debug:1,default:2,info:2,warning:3,error:4,off:5};let pi=hi.default,mi=null;const bi=function(){try{const e=[];if(["NFD","NFC","NFKD","NFKC"].forEach((t=>{try{if("test"!=="test".normalize(t))throw new Error("bad normalize")}catch(n){e.push(t)}})),e.length)throw new Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(e){return e.message}return null}();var yi,gi;!function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"}(yi||(yi={})),function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED",e.ACTION_REJECTED="ACTION_REJECTED"}(gi||(gi={}));const vi="0123456789abcdef";let wi=class e{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){const n=e.toLowerCase();null==hi[n]&&this.throwArgumentError("invalid log level name","logLevel",e),pi>hi[n]||console.log.apply(console,t)}debug(...t){this._log(e.levels.DEBUG,t)}info(...t){this._log(e.levels.INFO,t)}warn(...t){this._log(e.levels.WARNING,t)}makeError(t,n,r){if(li)return this.makeError("censored error",n,{});n||(n=e.errors.UNKNOWN_ERROR),r||(r={});const i=[];Object.keys(r).forEach((e=>{const t=r[e];try{if(t instanceof Uint8Array){let n="";for(let e=0;e<t.length;e++)n+=vi[t[e]>>4],n+=vi[15&t[e]];i.push(e+"=Uint8Array(0x"+n+")")}else i.push(e+"="+JSON.stringify(t))}catch(t){i.push(e+"="+JSON.stringify(r[e].toString()))}})),i.push(`code=${n}`),i.push(`version=${this.version}`);const a=t;let s="";switch(n){case gi.NUMERIC_FAULT:{s="NUMERIC_FAULT";const e=t;switch(e){case"overflow":case"underflow":case"division-by-zero":s+="-"+e;break;case"negative-power":case"negative-width":s+="-unsupported";break;case"unbound-bitwise-result":s+="-unbound-result"}break}case gi.CALL_EXCEPTION:case gi.INSUFFICIENT_FUNDS:case gi.MISSING_NEW:case gi.NONCE_EXPIRED:case gi.REPLACEMENT_UNDERPRICED:case gi.TRANSACTION_REPLACED:case gi.UNPREDICTABLE_GAS_LIMIT:s=n}s&&(t+=" [ See: https://links.ethers.org/v5-errors-"+s+" ]"),i.length&&(t+=" ("+i.join(", ")+")");const o=new Error(t);return o.reason=a,o.code=n,Object.keys(r).forEach((function(e){o[e]=r[e]})),o}throwError(e,t,n){throw this.makeError(e,t,n)}throwArgumentError(t,n,r){return this.throwError(t,e.errors.INVALID_ARGUMENT,{argument:n,value:r})}assert(e,t,n,r){e||this.throwError(t,n,r)}assertArgument(e,t,n,r){e||this.throwArgumentError(t,n,r)}checkNormalize(t){bi&&this.throwError("platform missing String.prototype.normalize",e.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:bi})}checkSafeUint53(t,n){"number"==typeof t&&(null==n&&(n="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(n,e.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(n,e.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,n,r){r=r?": "+r:"",t<n&&this.throwError("missing argument"+r,e.errors.MISSING_ARGUMENT,{count:t,expectedCount:n}),t>n&&this.throwError("too many arguments"+r,e.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:n})}checkNew(t,n){t!==Object&&null!=t||this.throwError("missing new",e.errors.MISSING_NEW,{name:n.name})}checkAbstract(t,n){t===n?this.throwError("cannot instantiate abstract class "+JSON.stringify(n.name)+" directly; use a sub-class",e.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):t!==Object&&null!=t||this.throwError("missing new",e.errors.MISSING_NEW,{name:n.name})}static globalLogger(){return mi||(mi=new e("logger/5.7.0")),mi}static setCensorship(t,n){if(!t&&n&&this.globalLogger().throwError("cannot permanently disable censorship",e.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),fi){if(!t)return;this.globalLogger().throwError("error censorship permanent",e.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}li=!!t,fi=!!n}static setLogLevel(t){const n=hi[t.toLowerCase()];null!=n?pi=n:e.globalLogger().warn("invalid log level - "+t)}static from(t){return new e(t)}};wi.errors=gi,wi.levels=yi;var _i=Object.freeze({__proto__:null,get ErrorCode(){return gi},get LogLevel(){return yi},Logger:wi});const Ei=new wi("bytes/5.7.0");function Ti(e){return!!e.toHexString}function Ai(e){return e.slice||(e.slice=function(){const t=Array.prototype.slice.call(arguments);return Ai(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function Ri(e){return Mi(e)&&!(e.length%2)||ki(e)}function Si(e){return"number"==typeof e&&e==e&&e%1==0}function ki(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"==typeof e)return!1;if(!Si(e.length)||e.length<0)return!1;for(let t=0;t<e.length;t++){const n=e[t];if(!Si(n)||n<0||n>=256)return!1}return!0}function Oi(e,t){if(t||(t={}),"number"==typeof e){Ei.checkSafeUint53(e,"invalid arrayify value");const t=[];for(;e;)t.unshift(255&e),e=parseInt(String(e/256));return 0===t.length&&t.push(0),Ai(new Uint8Array(t))}if(t.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),Ti(e)&&(e=e.toHexString()),Mi(e)){let n=e.substring(2);n.length%2&&("left"===t.hexPad?n="0"+n:"right"===t.hexPad?n+="0":Ei.throwArgumentError("hex data is odd-length","value",e));const r=[];for(let e=0;e<n.length;e+=2)r.push(parseInt(n.substring(e,e+2),16));return Ai(new Uint8Array(r))}return ki(e)?Ai(new Uint8Array(e)):Ei.throwArgumentError("invalid arrayify value","value",e)}function Ii(e){const t=e.map((e=>Oi(e))),n=t.reduce(((e,t)=>e+t.length),0),r=new Uint8Array(n);return t.reduce(((e,t)=>(r.set(t,e),e+t.length)),0),Ai(r)}function xi(e){let t=Oi(e);if(0===t.length)return t;let n=0;for(;n<t.length&&0===t[n];)n++;return n&&(t=t.slice(n)),t}function Ci(e,t){(e=Oi(e)).length>t&&Ei.throwArgumentError("value out of range","value",arguments[0]);const n=new Uint8Array(t);return n.set(e,t-e.length),Ai(n)}function Mi(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!t||e.length===2+2*t)}const Pi="0123456789abcdef";function Ni(e,t){if(t||(t={}),"number"==typeof e){Ei.checkSafeUint53(e,"invalid hexlify value");let t="";for(;e;)t=Pi[15&e]+t,e=Math.floor(e/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if("bigint"==typeof e)return(e=e.toString(16)).length%2?"0x0"+e:"0x"+e;if(t.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),Ti(e))return e.toHexString();if(Mi(e))return e.length%2&&("left"===t.hexPad?e="0x0"+e.substring(2):"right"===t.hexPad?e+="0":Ei.throwArgumentError("hex data is odd-length","value",e)),e.toLowerCase();if(ki(e)){let t="0x";for(let n=0;n<e.length;n++){let r=e[n];t+=Pi[(240&r)>>4]+Pi[15&r]}return t}return Ei.throwArgumentError("invalid hexlify value","value",e)}function Bi(e){if("string"!=typeof e)e=Ni(e);else if(!Mi(e)||e.length%2)return null;return(e.length-2)/2}function Di(e,t,n){return"string"!=typeof e?e=Ni(e):(!Mi(e)||e.length%2)&&Ei.throwArgumentError("invalid hexData","value",e),t=2+2*t,null!=n?"0x"+e.substring(t,2+2*n):"0x"+e.substring(t)}function Li(e){let t="0x";return e.forEach((e=>{t+=Ni(e).substring(2)})),t}function Fi(e){const t=Ui(Ni(e,{hexPad:"left"}));return"0x"===t?"0x0":t}function Ui(e){"string"!=typeof e&&(e=Ni(e)),Mi(e)||Ei.throwArgumentError("invalid hex string","value",e),e=e.substring(2);let t=0;for(;t<e.length&&"0"===e[t];)t++;return"0x"+e.substring(t)}function ji(e,t){for("string"!=typeof e?e=Ni(e):Mi(e)||Ei.throwArgumentError("invalid hex string","value",e),e.length>2*t+2&&Ei.throwArgumentError("value out of range","value",arguments[1]);e.length<2*t+2;)e="0x0"+e.substring(2);return e}function qi(e){const t={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(Ri(e)){let n=Oi(e);64===n.length?(t.v=27+(n[32]>>7),n[32]&=127,t.r=Ni(n.slice(0,32)),t.s=Ni(n.slice(32,64))):65===n.length?(t.r=Ni(n.slice(0,32)),t.s=Ni(n.slice(32,64)),t.v=n[64]):Ei.throwArgumentError("invalid signature string","signature",e),t.v<27&&(0===t.v||1===t.v?t.v+=27:Ei.throwArgumentError("signature invalid v byte","signature",e)),t.recoveryParam=1-t.v%2,t.recoveryParam&&(n[32]|=128),t._vs=Ni(n.slice(32,64))}else{if(t.r=e.r,t.s=e.s,t.v=e.v,t.recoveryParam=e.recoveryParam,t._vs=e._vs,null!=t._vs){const n=Ci(Oi(t._vs),32);t._vs=Ni(n);const r=n[0]>=128?1:0;null==t.recoveryParam?t.recoveryParam=r:t.recoveryParam!==r&&Ei.throwArgumentError("signature recoveryParam mismatch _vs","signature",e),n[0]&=127;const i=Ni(n);null==t.s?t.s=i:t.s!==i&&Ei.throwArgumentError("signature v mismatch _vs","signature",e)}if(null==t.recoveryParam)null==t.v?Ei.throwArgumentError("signature missing v and recoveryParam","signature",e):0===t.v||1===t.v?t.recoveryParam=t.v:t.recoveryParam=1-t.v%2;else if(null==t.v)t.v=27+t.recoveryParam;else{const n=0===t.v||1===t.v?t.v:1-t.v%2;t.recoveryParam!==n&&Ei.throwArgumentError("signature recoveryParam mismatch v","signature",e)}null!=t.r&&Mi(t.r)?t.r=ji(t.r,32):Ei.throwArgumentError("signature missing or invalid r","signature",e),null!=t.s&&Mi(t.s)?t.s=ji(t.s,32):Ei.throwArgumentError("signature missing or invalid s","signature",e);const n=Oi(t.s);n[0]>=128&&Ei.throwArgumentError("signature s out of range","signature",e),t.recoveryParam&&(n[0]|=128);const r=Ni(n);t._vs&&(Mi(t._vs)||Ei.throwArgumentError("signature invalid _vs","signature",e),t._vs=ji(t._vs,32)),null==t._vs?t._vs=r:t._vs!==r&&Ei.throwArgumentError("signature _vs mismatch v and s","signature",e)}return t.yParityAndS=t._vs,t.compact=t.r+t.yParityAndS.substring(2),t}function zi(e){return Ni(Ii([(e=qi(e)).r,e.s,e.recoveryParam?"0x1c":"0x1b"]))}var Hi=Object.freeze({__proto__:null,arrayify:Oi,concat:Ii,hexConcat:Li,hexDataLength:Bi,hexDataSlice:Di,hexStripZeros:Ui,hexValue:Fi,hexZeroPad:ji,hexlify:Ni,isBytes:ki,isBytesLike:Ri,isHexString:Mi,joinSignature:zi,splitSignature:qi,stripZeros:xi,zeroPad:Ci});const Gi="bignumber/5.7.0";var Wi=di.BN;const Vi=new wi(Gi),Ki={},Xi=9007199254740991;let $i=!1,Ji=class e{constructor(e,t){e!==Ki&&Vi.throwError("cannot call constructor directly; use BigNumber.from",wi.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=t,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return Qi(Zi(this).fromTwos(e))}toTwos(e){return Qi(Zi(this).toTwos(e))}abs(){return"-"===this._hex[0]?e.from(this._hex.substring(1)):this}add(e){return Qi(Zi(this).add(Zi(e)))}sub(e){return Qi(Zi(this).sub(Zi(e)))}div(t){return e.from(t).isZero()&&ea("division-by-zero","div"),Qi(Zi(this).div(Zi(t)))}mul(e){return Qi(Zi(this).mul(Zi(e)))}mod(e){const t=Zi(e);return t.isNeg()&&ea("division-by-zero","mod"),Qi(Zi(this).umod(t))}pow(e){const t=Zi(e);return t.isNeg()&&ea("negative-power","pow"),Qi(Zi(this).pow(t))}and(e){const t=Zi(e);return(this.isNegative()||t.isNeg())&&ea("unbound-bitwise-result","and"),Qi(Zi(this).and(t))}or(e){const t=Zi(e);return(this.isNegative()||t.isNeg())&&ea("unbound-bitwise-result","or"),Qi(Zi(this).or(t))}xor(e){const t=Zi(e);return(this.isNegative()||t.isNeg())&&ea("unbound-bitwise-result","xor"),Qi(Zi(this).xor(t))}mask(e){return(this.isNegative()||e<0)&&ea("negative-width","mask"),Qi(Zi(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&ea("negative-width","shl"),Qi(Zi(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&ea("negative-width","shr"),Qi(Zi(this).shrn(e))}eq(e){return Zi(this).eq(Zi(e))}lt(e){return Zi(this).lt(Zi(e))}lte(e){return Zi(this).lte(Zi(e))}gt(e){return Zi(this).gt(Zi(e))}gte(e){return Zi(this).gte(Zi(e))}isNegative(){return"-"===this._hex[0]}isZero(){return Zi(this).isZero()}toNumber(){try{return Zi(this).toNumber()}catch(e){ea("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch(e){}return Vi.throwError("this platform does not support BigInt",wi.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(10===arguments[0]?$i||($i=!0,Vi.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?Vi.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",wi.errors.UNEXPECTED_ARGUMENT,{}):Vi.throwError("BigNumber.toString does not accept parameters",wi.errors.UNEXPECTED_ARGUMENT,{})),Zi(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(t){if(t instanceof e)return t;if("string"==typeof t)return t.match(/^-?0x[0-9a-f]+$/i)?new e(Ki,Yi(t)):t.match(/^-?[0-9]+$/)?new e(Ki,Yi(new Wi(t))):Vi.throwArgumentError("invalid BigNumber string","value",t);if("number"==typeof t)return t%1&&ea("underflow","BigNumber.from",t),(t>=Xi||t<=-Xi)&&ea("overflow","BigNumber.from",t),e.from(String(t));const n=t;if("bigint"==typeof n)return e.from(n.toString());if(ki(n))return e.from(Ni(n));if(n)if(n.toHexString){const t=n.toHexString();if("string"==typeof t)return e.from(t)}else{let t=n._hex;if(null==t&&"BigNumber"===n.type&&(t=n.hex),"string"==typeof t&&(Mi(t)||"-"===t[0]&&Mi(t.substring(1))))return e.from(t)}return Vi.throwArgumentError("invalid BigNumber value","value",t)}static isBigNumber(e){return!(!e||!e._isBigNumber)}};function Yi(e){if("string"!=typeof e)return Yi(e.toString(16));if("-"===e[0])return"-"===(e=e.substring(1))[0]&&Vi.throwArgumentError("invalid hex","value",e),"0x00"===(e=Yi(e))?e:"-"+e;if("0x"!==e.substring(0,2)&&(e="0x"+e),"0x"===e)return"0x00";for(e.length%2&&(e="0x0"+e.substring(2));e.length>4&&"0x00"===e.substring(0,4);)e="0x"+e.substring(4);return e}function Qi(e){return Ji.from(Yi(e))}function Zi(e){const t=Ji.from(e).toHexString();return"-"===t[0]?new Wi("-"+t.substring(3),16):new Wi(t.substring(2),16)}function ea(e,t,n){const r={fault:e,operation:t};return null!=n&&(r.value=n),Vi.throwError(e,wi.errors.NUMERIC_FAULT,r)}const ta=new wi(Gi),na={},ra=Ji.from(0),ia=Ji.from(-1);function aa(e,t,n,r){const i={fault:t,operation:n};return void 0!==r&&(i.value=r),ta.throwError(e,wi.errors.NUMERIC_FAULT,i)}let sa="0";for(;sa.length<256;)sa+=sa;function oa(e){if("number"!=typeof e)try{e=Ji.from(e).toNumber()}catch(e){}return"number"==typeof e&&e>=0&&e<=256&&!(e%1)?"1"+sa.substring(0,e):ta.throwArgumentError("invalid decimal size","decimals",e)}function ca(e,t){null==t&&(t=0);const n=oa(t),r=(e=Ji.from(e)).lt(ra);r&&(e=e.mul(ia));let i=e.mod(n).toString();for(;i.length<n.length-1;)i="0"+i;i=i.match(/^([0-9]*[1-9]|0)(0*)/)[1];const a=e.div(n).toString();return e=1===n.length?a:a+"."+i,r&&(e="-"+e),e}function ua(e,t){null==t&&(t=0);const n=oa(t);"string"==typeof e&&e.match(/^-?[0-9.]+$/)||ta.throwArgumentError("invalid decimal value","value",e);const r="-"===e.substring(0,1);r&&(e=e.substring(1)),"."===e&&ta.throwArgumentError("missing value","value",e);const i=e.split(".");i.length>2&&ta.throwArgumentError("too many decimal points","value",e);let a=i[0],s=i[1];for(a||(a="0"),s||(s="0");"0"===s[s.length-1];)s=s.substring(0,s.length-1);for(s.length>n.length-1&&aa("fractional component exceeds decimals","underflow","parseFixed"),""===s&&(s="0");s.length<n.length-1;)s+="0";const o=Ji.from(a),c=Ji.from(s);let u=o.mul(n).add(c);return r&&(u=u.mul(ia)),u}class da{constructor(e,t,n,r){e!==na&&ta.throwError("cannot use FixedFormat constructor; use FixedFormat.from",wi.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=t,this.width=n,this.decimals=r,this.name=(t?"":"u")+"fixed"+String(n)+"x"+String(r),this._multiplier=oa(r),Object.freeze(this)}static from(e){if(e instanceof da)return e;"number"==typeof e&&(e=`fixed128x${e}`);let t=!0,n=128,r=18;if("string"==typeof e)if("fixed"===e);else if("ufixed"===e)t=!1;else{const i=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);i||ta.throwArgumentError("invalid fixed format","format",e),t="u"!==i[1],n=parseInt(i[2]),r=parseInt(i[3])}else if(e){const i=(t,n,r)=>null==e[t]?r:(typeof e[t]!==n&&ta.throwArgumentError("invalid fixed format ("+t+" not "+n+")","format."+t,e[t]),e[t]);t=i("signed","boolean",t),n=i("width","number",n),r=i("decimals","number",r)}return n%8&&ta.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",n),r>80&&ta.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",r),new da(na,t,n,r)}}class fa{constructor(e,t,n,r){e!==na&&ta.throwError("cannot use FixedNumber constructor; use FixedNumber.from",wi.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=r,this._hex=t,this._value=n,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(e){this.format.name!==e.format.name&&ta.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}addUnsafe(e){this._checkFormat(e);const t=ua(this._value,this.format.decimals),n=ua(e._value,e.format.decimals);return fa.fromValue(t.add(n),this.format.decimals,this.format)}subUnsafe(e){this._checkFormat(e);const t=ua(this._value,this.format.decimals),n=ua(e._value,e.format.decimals);return fa.fromValue(t.sub(n),this.format.decimals,this.format)}mulUnsafe(e){this._checkFormat(e);const t=ua(this._value,this.format.decimals),n=ua(e._value,e.format.decimals);return fa.fromValue(t.mul(n).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(e){this._checkFormat(e);const t=ua(this._value,this.format.decimals),n=ua(e._value,e.format.decimals);return fa.fromValue(t.mul(this.format._multiplier).div(n),this.format.decimals,this.format)}floor(){const e=this.toString().split(".");1===e.length&&e.push("0");let t=fa.from(e[0],this.format);const n=!e[1].match(/^(0*)$/);return this.isNegative()&&n&&(t=t.subUnsafe(la.toFormat(t.format))),t}ceiling(){const e=this.toString().split(".");1===e.length&&e.push("0");let t=fa.from(e[0],this.format);const n=!e[1].match(/^(0*)$/);return!this.isNegative()&&n&&(t=t.addUnsafe(la.toFormat(t.format))),t}round(e){null==e&&(e=0);const t=this.toString().split(".");if(1===t.length&&t.push("0"),(e<0||e>80||e%1)&&ta.throwArgumentError("invalid decimal count","decimals",e),t[1].length<=e)return this;const n=fa.from("1"+sa.substring(0,e),this.format),r=ha.toFormat(this.format);return this.mulUnsafe(n).addUnsafe(r).floor().divUnsafe(n)}isZero(){return"0.0"===this._value||"0"===this._value}isNegative(){return"-"===this._value[0]}toString(){return this._value}toHexString(e){if(null==e)return this._hex;e%8&&ta.throwArgumentError("invalid byte width","width",e);return ji(Ji.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString(),e/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return fa.fromString(this._value,e)}static fromValue(e,t,n){return null!=n||null==t||function(e){return null!=e&&(Ji.isBigNumber(e)||"number"==typeof e&&e%1==0||"string"==typeof e&&!!e.match(/^-?[0-9]+$/)||Mi(e)||"bigint"==typeof e||ki(e))}(t)||(n=t,t=null),null==t&&(t=0),null==n&&(n="fixed"),fa.fromString(ca(e,t),da.from(n))}static fromString(e,t){null==t&&(t="fixed");const n=da.from(t),r=ua(e,n.decimals);!n.signed&&r.lt(ra)&&aa("unsigned value cannot be negative","overflow","value",e);let i=null;n.signed?i=r.toTwos(n.width).toHexString():(i=r.toHexString(),i=ji(i,n.width/8));const a=ca(r,n.decimals);return new fa(na,i,a,n)}static fromBytes(e,t){null==t&&(t="fixed");const n=da.from(t);if(Oi(e).length>n.width/8)throw new Error("overflow");let r=Ji.from(e);n.signed&&(r=r.fromTwos(n.width));const i=r.toTwos((n.signed?0:1)+n.width).toHexString(),a=ca(r,n.decimals);return new fa(na,i,a,n)}static from(e,t){if("string"==typeof e)return fa.fromString(e,t);if(ki(e))return fa.fromBytes(e,t);try{return fa.fromValue(e,0,t)}catch(e){if(e.code!==wi.errors.INVALID_ARGUMENT)throw e}return ta.throwArgumentError("invalid FixedNumber value","value",e)}static isFixedNumber(e){return!(!e||!e._isFixedNumber)}}const la=fa.from(1),ha=fa.from("0.5");var pa=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function s(e){try{c(r.next(e))}catch(e){a(e)}}function o(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}c((r=r.apply(e,t||[])).next())}))};const ma=new wi("properties/5.7.0");function ba(e,t,n){Object.defineProperty(e,t,{enumerable:!0,value:n,writable:!1})}function ya(e,t){for(let n=0;n<32;n++){if(e[t])return e[t];if(!e.prototype||"object"!=typeof e.prototype)break;e=Object.getPrototypeOf(e.prototype).constructor}return null}function ga(e){return pa(this,void 0,void 0,(function*(){const t=Object.keys(e).map((t=>{const n=e[t];return Promise.resolve(n).then((e=>({key:t,value:e})))}));return(yield Promise.all(t)).reduce(((e,t)=>(e[t.key]=t.value,e)),{})}))}function va(e,t){e&&"object"==typeof e||ma.throwArgumentError("invalid object","object",e),Object.keys(e).forEach((n=>{t[n]||ma.throwArgumentError("invalid object key - "+n,"transaction:"+n,e)}))}function wa(e){const t={};for(const n in e)t[n]=e[n];return t}const _a={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function Ea(e){if(null==e||_a[typeof e])return!0;if(Array.isArray(e)||"object"==typeof e){if(!Object.isFrozen(e))return!1;const t=Object.keys(e);for(let n=0;n<t.length;n++){let r=null;try{r=e[t[n]]}catch(e){continue}if(!Ea(r))return!1}return!0}return ma.throwArgumentError("Cannot deepCopy "+typeof e,"object",e)}function Ta(e){if(Ea(e))return e;if(Array.isArray(e))return Object.freeze(e.map((e=>Aa(e))));if("object"==typeof e){const t={};for(const n in e){const r=e[n];void 0!==r&&ba(t,n,Aa(r))}return t}return ma.throwArgumentError("Cannot deepCopy "+typeof e,"object",e)}function Aa(e){return Ta(e)}let Ra=class{constructor(e){for(const t in e)this[t]=Aa(e[t])}};var Sa=Object.freeze({__proto__:null,Description:Ra,checkProperties:va,deepCopy:Aa,defineReadOnly:ba,getStatic:ya,resolveProperties:ga,shallowCopy:wa});const ka="abi/5.7.0",Oa=new wi(ka),Ia={};let xa={calldata:!0,memory:!0,storage:!0},Ca={calldata:!0,memory:!0};function Ma(e,t){if("bytes"===e||"string"===e){if(xa[t])return!0}else if("address"===e){if("payable"===t)return!0}else if((e.indexOf("[")>=0||"tuple"===e)&&Ca[t])return!0;return(xa[t]||"payable"===t)&&Oa.throwArgumentError("invalid modifier","name",t),!1}function Pa(e,t){for(let n in t)ba(e,n,t[n])}const Na=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),Ba=new RegExp(/^(.*)\[([0-9]*)\]$/);let Da=class e{constructor(t,n){t!==Ia&&Oa.throwError("use fromString",wi.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),Pa(this,n);let r=this.type.match(Ba);Pa(this,r?{arrayLength:parseInt(r[2]||"-1"),arrayChildren:e.fromObject({type:r[1],components:this.components}),baseType:"array"}:{arrayLength:null,arrayChildren:null,baseType:null!=this.components?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=Na.sighash),Na[e]||Oa.throwArgumentError("invalid format type","format",e),e===Na.json){let t={type:"tuple"===this.baseType?"tuple":this.type,name:this.name||void 0};return"boolean"==typeof this.indexed&&(t.indexed=this.indexed),this.components&&(t.components=this.components.map((t=>JSON.parse(t.format(e))))),JSON.stringify(t)}let t="";return"array"===this.baseType?(t+=this.arrayChildren.format(e),t+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):"tuple"===this.baseType?(e!==Na.sighash&&(t+=this.type),t+="("+this.components.map((t=>t.format(e))).join(e===Na.full?", ":",")+")"):t+=this.type,e!==Na.sighash&&(!0===this.indexed&&(t+=" indexed"),e===Na.full&&this.name&&(t+=" "+this.name)),t}static from(t,n){return"string"==typeof t?e.fromString(t,n):e.fromObject(t)}static fromObject(t){return e.isParamType(t)?t:new e(Ia,{name:t.name||null,type:Ka(t.type),indexed:null==t.indexed?null:!!t.indexed,components:t.components?t.components.map(e.fromObject):null})}static fromString(t,n){return r=function(e,t){let n=e;function r(t){Oa.throwArgumentError(`unexpected character at position ${t}`,"param",e)}function i(e){let n={type:"",name:"",parent:e,state:{allowType:!0}};return t&&(n.indexed=!1),n}e=e.replace(/\s/g," ");let a={type:"",name:"",state:{allowType:!0}},s=a;for(let n=0;n<e.length;n++){let a=e[n];switch(a){case"(":s.state.allowType&&""===s.type?s.type="tuple":s.state.allowParams||r(n),s.state.allowType=!1,s.type=Ka(s.type),s.components=[i(s)],s=s.components[0];break;case")":delete s.state,"indexed"===s.name&&(t||r(n),s.indexed=!0,s.name=""),Ma(s.type,s.name)&&(s.name=""),s.type=Ka(s.type);let e=s;s=s.parent,s||r(n),delete e.parent,s.state.allowParams=!1,s.state.allowName=!0,s.state.allowArray=!0;break;case",":delete s.state,"indexed"===s.name&&(t||r(n),s.indexed=!0,s.name=""),Ma(s.type,s.name)&&(s.name=""),s.type=Ka(s.type);let o=i(s.parent);s.parent.components.push(o),delete s.parent,s=o;break;case" ":s.state.allowType&&""!==s.type&&(s.type=Ka(s.type),delete s.state.allowType,s.state.allowName=!0,s.state.allowParams=!0),s.state.allowName&&""!==s.name&&("indexed"===s.name?(t||r(n),s.indexed&&r(n),s.indexed=!0,s.name=""):Ma(s.type,s.name)?s.name="":s.state.allowName=!1);break;case"[":s.state.allowArray||r(n),s.type+=a,s.state.allowArray=!1,s.state.allowName=!1,s.state.readArray=!0;break;case"]":s.state.readArray||r(n),s.type+=a,s.state.readArray=!1,s.state.allowArray=!0,s.state.allowName=!0;break;default:s.state.allowType?(s.type+=a,s.state.allowParams=!0,s.state.allowArray=!0):s.state.allowName?(s.name+=a,delete s.state.allowArray):s.state.readArray?s.type+=a:r(n)}}return s.parent&&Oa.throwArgumentError("unexpected eof","param",e),delete a.state,"indexed"===s.name?(t||r(n.length-7),s.indexed&&r(n.length-7),s.indexed=!0,s.name=""):Ma(s.type,s.name)&&(s.name=""),a.type=Ka(a.type),a}(t,!!n),e.fromObject({name:r.name,type:r.type,indexed:r.indexed,components:r.components});var r}static isParamType(e){return!(null==e||!e._isParamType)}};function La(e,t){return function(e){e=e.trim();let t=[],n="",r=0;for(let i=0;i<e.length;i++){let a=e[i];","===a&&0===r?(t.push(n),n=""):(n+=a,"("===a?r++:")"===a&&(r--,-1===r&&Oa.throwArgumentError("unbalanced parenthesis","value",e)))}n&&t.push(n);return t}(e).map((e=>Da.fromString(e,t)))}let Fa=class e{constructor(e,t){e!==Ia&&Oa.throwError("use a static from method",wi.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),Pa(this,t),this._isFragment=!0,Object.freeze(this)}static from(t){return e.isFragment(t)?t:"string"==typeof t?e.fromString(t):e.fromObject(t)}static fromObject(t){if(e.isFragment(t))return t;switch(t.type){case"function":return Ga.fromObject(t);case"event":return Ua.fromObject(t);case"constructor":return Ha.fromObject(t);case"error":return Va.fromObject(t);case"fallback":case"receive":return null}return Oa.throwArgumentError("invalid fragment object","value",t)}static fromString(e){return"event"===(e=(e=(e=e.replace(/\s/g," ")).replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," ")).trim()).split(" ")[0]?Ua.fromString(e.substring(5).trim()):"function"===e.split(" ")[0]?Ga.fromString(e.substring(8).trim()):"constructor"===e.split("(")[0].trim()?Ha.fromString(e.trim()):"error"===e.split(" ")[0]?Va.fromString(e.substring(5).trim()):Oa.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!(!e||!e._isFragment)}},Ua=class e extends Fa{format(e){if(e||(e=Na.sighash),Na[e]||Oa.throwArgumentError("invalid format type","format",e),e===Na.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map((t=>JSON.parse(t.format(e))))});let t="";return e!==Na.sighash&&(t+="event "),t+=this.name+"("+this.inputs.map((t=>t.format(e))).join(e===Na.full?", ":",")+") ",e!==Na.sighash&&this.anonymous&&(t+="anonymous "),t.trim()}static from(t){return"string"==typeof t?e.fromString(t):e.fromObject(t)}static fromObject(t){if(e.isEventFragment(t))return t;"event"!==t.type&&Oa.throwArgumentError("invalid event object","value",t);const n={name:$a(t.name),anonymous:t.anonymous,inputs:t.inputs?t.inputs.map(Da.fromObject):[],type:"event"};return new e(Ia,n)}static fromString(t){let n=t.match(Ja);n||Oa.throwArgumentError("invalid event string","value",t);let r=!1;return n[3].split(" ").forEach((e=>{switch(e.trim()){case"anonymous":r=!0;break;case"":break;default:Oa.warn("unknown modifier: "+e)}})),e.fromObject({name:n[1].trim(),anonymous:r,inputs:La(n[2],!0),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&"event"===e.type}};function ja(e,t){t.gas=null;let n=e.split("@");return 1!==n.length?(n.length>2&&Oa.throwArgumentError("invalid human-readable ABI signature","value",e),n[1].match(/^[0-9]+$/)||Oa.throwArgumentError("invalid human-readable ABI signature gas","value",e),t.gas=Ji.from(n[1]),n[0]):e}function qa(e,t){t.constant=!1,t.payable=!1,t.stateMutability="nonpayable",e.split(" ").forEach((e=>{switch(e.trim()){case"constant":t.constant=!0;break;case"payable":t.payable=!0,t.stateMutability="payable";break;case"nonpayable":t.payable=!1,t.stateMutability="nonpayable";break;case"pure":t.constant=!0,t.stateMutability="pure";break;case"view":t.constant=!0,t.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+e)}}))}function za(e){let t={constant:!1,payable:!0,stateMutability:"payable"};return null!=e.stateMutability?(t.stateMutability=e.stateMutability,t.constant="view"===t.stateMutability||"pure"===t.stateMutability,null!=e.constant&&!!e.constant!==t.constant&&Oa.throwArgumentError("cannot have constant function with mutability "+t.stateMutability,"value",e),t.payable="payable"===t.stateMutability,null!=e.payable&&!!e.payable!==t.payable&&Oa.throwArgumentError("cannot have payable function with mutability "+t.stateMutability,"value",e)):null!=e.payable?(t.payable=!!e.payable,null!=e.constant||t.payable||"constructor"===e.type||Oa.throwArgumentError("unable to determine stateMutability","value",e),t.constant=!!e.constant,t.constant?t.stateMutability="view":t.stateMutability=t.payable?"payable":"nonpayable",t.payable&&t.constant&&Oa.throwArgumentError("cannot have constant payable function","value",e)):null!=e.constant?(t.constant=!!e.constant,t.payable=!t.constant,t.stateMutability=t.constant?"view":"payable"):"constructor"!==e.type&&Oa.throwArgumentError("unable to determine stateMutability","value",e),t}let Ha=class e extends Fa{format(e){if(e||(e=Na.sighash),Na[e]||Oa.throwArgumentError("invalid format type","format",e),e===Na.json)return JSON.stringify({type:"constructor",stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map((t=>JSON.parse(t.format(e))))});e===Na.sighash&&Oa.throwError("cannot format a constructor for sighash",wi.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let t="constructor("+this.inputs.map((t=>t.format(e))).join(e===Na.full?", ":",")+") ";return this.stateMutability&&"nonpayable"!==this.stateMutability&&(t+=this.stateMutability+" "),t.trim()}static from(t){return"string"==typeof t?e.fromString(t):e.fromObject(t)}static fromObject(t){if(e.isConstructorFragment(t))return t;"constructor"!==t.type&&Oa.throwArgumentError("invalid constructor object","value",t);let n=za(t);n.constant&&Oa.throwArgumentError("constructor cannot be constant","value",t);const r={name:null,type:t.type,inputs:t.inputs?t.inputs.map(Da.fromObject):[],payable:n.payable,stateMutability:n.stateMutability,gas:t.gas?Ji.from(t.gas):null};return new e(Ia,r)}static fromString(t){let n={type:"constructor"},r=(t=ja(t,n)).match(Ja);return r&&"constructor"===r[1].trim()||Oa.throwArgumentError("invalid constructor string","value",t),n.inputs=La(r[2].trim(),!1),qa(r[3].trim(),n),e.fromObject(n)}static isConstructorFragment(e){return e&&e._isFragment&&"constructor"===e.type}},Ga=class e extends Ha{format(e){if(e||(e=Na.sighash),Na[e]||Oa.throwArgumentError("invalid format type","format",e),e===Na.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map((t=>JSON.parse(t.format(e)))),outputs:this.outputs.map((t=>JSON.parse(t.format(e))))});let t="";return e!==Na.sighash&&(t+="function "),t+=this.name+"("+this.inputs.map((t=>t.format(e))).join(e===Na.full?", ":",")+") ",e!==Na.sighash&&(this.stateMutability?"nonpayable"!==this.stateMutability&&(t+=this.stateMutability+" "):this.constant&&(t+="view "),this.outputs&&this.outputs.length&&(t+="returns ("+this.outputs.map((t=>t.format(e))).join(", ")+") "),null!=this.gas&&(t+="@"+this.gas.toString()+" ")),t.trim()}static from(t){return"string"==typeof t?e.fromString(t):e.fromObject(t)}static fromObject(t){if(e.isFunctionFragment(t))return t;"function"!==t.type&&Oa.throwArgumentError("invalid function object","value",t);let n=za(t);const r={type:t.type,name:$a(t.name),constant:n.constant,inputs:t.inputs?t.inputs.map(Da.fromObject):[],outputs:t.outputs?t.outputs.map(Da.fromObject):[],payable:n.payable,stateMutability:n.stateMutability,gas:t.gas?Ji.from(t.gas):null};return new e(Ia,r)}static fromString(t){let n={type:"function"},r=(t=ja(t,n)).split(" returns ");r.length>2&&Oa.throwArgumentError("invalid function string","value",t);let i=r[0].match(Ja);if(i||Oa.throwArgumentError("invalid function signature","value",t),n.name=i[1].trim(),n.name&&$a(n.name),n.inputs=La(i[2],!1),qa(i[3].trim(),n),r.length>1){let e=r[1].match(Ja);""==e[1].trim()&&""==e[3].trim()||Oa.throwArgumentError("unexpected tokens","value",t),n.outputs=La(e[2],!1)}else n.outputs=[];return e.fromObject(n)}static isFunctionFragment(e){return e&&e._isFragment&&"function"===e.type}};function Wa(e){const t=e.format();return"Error(string)"!==t&&"Panic(uint256)"!==t||Oa.throwArgumentError(`cannot specify user defined ${t} error`,"fragment",e),e}let Va=class e extends Fa{format(e){if(e||(e=Na.sighash),Na[e]||Oa.throwArgumentError("invalid format type","format",e),e===Na.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map((t=>JSON.parse(t.format(e))))});let t="";return e!==Na.sighash&&(t+="error "),t+=this.name+"("+this.inputs.map((t=>t.format(e))).join(e===Na.full?", ":",")+") ",t.trim()}static from(t){return"string"==typeof t?e.fromString(t):e.fromObject(t)}static fromObject(t){if(e.isErrorFragment(t))return t;"error"!==t.type&&Oa.throwArgumentError("invalid error object","value",t);const n={type:t.type,name:$a(t.name),inputs:t.inputs?t.inputs.map(Da.fromObject):[]};return Wa(new e(Ia,n))}static fromString(t){let n={type:"error"},r=t.match(Ja);return r||Oa.throwArgumentError("invalid error signature","value",t),n.name=r[1].trim(),n.name&&$a(n.name),n.inputs=La(r[2],!1),Wa(e.fromObject(n))}static isErrorFragment(e){return e&&e._isFragment&&"error"===e.type}};function Ka(e){return e.match(/^uint($|[^1-9])/)?e="uint256"+e.substring(4):e.match(/^int($|[^1-9])/)&&(e="int256"+e.substring(3)),e}const Xa=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function $a(e){return e&&e.match(Xa)||Oa.throwArgumentError(`invalid identifier "${e}"`,"value",e),e}const Ja=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");const Ya=new wi(ka);function Qa(e){const t=[],n=function(e,r){if(Array.isArray(r))for(let i in r){const a=e.slice();a.push(i);try{n(a,r[i])}catch(e){t.push({path:a,error:e})}}};return n([],e),t}let Za=class{constructor(e,t,n,r){this.name=e,this.type=t,this.localName=n,this.dynamic=r}_throwError(e,t){Ya.throwArgumentError(e,this.localName,t)}},es=class{constructor(e){ba(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){return Li(this._data)}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData(Ii(e._data))}writeBytes(e){let t=Oi(e);const n=t.length%this.wordSize;return n&&(t=Ii([t,this._padding.slice(n)])),this._writeData(t)}_getValue(e){let t=Oi(Ji.from(e));return t.length>this.wordSize&&Ya.throwError("value out-of-bounds",wi.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:t.length}),t.length%this.wordSize&&(t=Ii([this._padding.slice(t.length%this.wordSize),t])),t}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){const e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,t=>{this._data[e]=this._getValue(t)}}};var ts={exports:{}};
/**
   * [js-sha3]{@link https://github.com/emn178/js-sha3}
   *
   * @version 0.8.0
   * @author Chen, Yi-Cyuan [emn178@gmail.com]
   * @copyright Chen, Yi-Cyuan 2015-2018
   * @license MIT
   */!function(e){!function(){var t="input is invalid type",n="object"==typeof window,r=n?window:{};r.JS_SHA3_NO_WINDOW&&(n=!1);var i=!n&&"object"==typeof self;!r.JS_SHA3_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node?r=ir:i&&(r=self);var a=!r.JS_SHA3_NO_COMMON_JS&&e.exports,s=!r.JS_SHA3_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,o="0123456789abcdef".split(""),c=[4,1024,262144,67108864],u=[0,8,16,24],d=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],f=[224,256,384,512],l=[128,256],h=["hex","buffer","arrayBuffer","array","digest"],p={128:168,256:136};!r.JS_SHA3_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!s||!r.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"==typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});for(var m=function(e,t,n){return function(r){return new x(e,t,e).update(r)[n]()}},b=function(e,t,n){return function(r,i){return new x(e,t,i).update(r)[n]()}},y=function(e,t,n){return function(t,r,i,a){return E["cshake"+e].update(t,r,i,a)[n]()}},g=function(e,t,n){return function(t,r,i,a){return E["kmac"+e].update(t,r,i,a)[n]()}},v=function(e,t,n,r){for(var i=0;i<h.length;++i){var a=h[i];e[a]=t(n,r,a)}return e},w=function(e,t){var n=m(e,t,"hex");return n.create=function(){return new x(e,t,e)},n.update=function(e){return n.create().update(e)},v(n,m,e,t)},_=[{name:"keccak",padding:[1,256,65536,16777216],bits:f,createMethod:w},{name:"sha3",padding:[6,1536,393216,100663296],bits:f,createMethod:w},{name:"shake",padding:[31,7936,2031616,520093696],bits:l,createMethod:function(e,t){var n=b(e,t,"hex");return n.create=function(n){return new x(e,t,n)},n.update=function(e,t){return n.create(t).update(e)},v(n,b,e,t)}},{name:"cshake",padding:c,bits:l,createMethod:function(e,t){var n=p[e],r=y(e,0,"hex");return r.create=function(r,i,a){return i||a?new x(e,t,r).bytepad([i,a],n):E["shake"+e].create(r)},r.update=function(e,t,n,i){return r.create(t,n,i).update(e)},v(r,y,e,t)}},{name:"kmac",padding:c,bits:l,createMethod:function(e,t){var n=p[e],r=g(e,0,"hex");return r.create=function(r,i,a){return new C(e,t,i).bytepad(["KMAC",a],n).bytepad([r],n)},r.update=function(e,t,n,i){return r.create(e,n,i).update(t)},v(r,g,e,t)}}],E={},T=[],A=0;A<_.length;++A)for(var R=_[A],S=R.bits,k=0;k<S.length;++k){var O=R.name+"_"+S[k];if(T.push(O),E[O]=R.createMethod(S[k],R.padding),"sha3"!==R.name){var I=R.name+S[k];T.push(I),E[I]=E[O]}}function x(e,t,n){this.blocks=[],this.s=[],this.padding=t,this.outputBits=n,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(e<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=n>>5,this.extraBytes=(31&n)>>3;for(var r=0;r<50;++r)this.s[r]=0}function C(e,t,n){x.call(this,e,t,n)}x.prototype.update=function(e){if(this.finalized)throw new Error("finalize already called");var n,r=typeof e;if("string"!==r){if("object"!==r)throw new Error(t);if(null===e)throw new Error(t);if(s&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||s&&ArrayBuffer.isView(e)))throw new Error(t);n=!0}for(var i,a,o=this.blocks,c=this.byteCount,d=e.length,f=this.blockCount,l=0,h=this.s;l<d;){if(this.reset)for(this.reset=!1,o[0]=this.block,i=1;i<f+1;++i)o[i]=0;if(n)for(i=this.start;l<d&&i<c;++l)o[i>>2]|=e[l]<<u[3&i++];else for(i=this.start;l<d&&i<c;++l)(a=e.charCodeAt(l))<128?o[i>>2]|=a<<u[3&i++]:a<2048?(o[i>>2]|=(192|a>>6)<<u[3&i++],o[i>>2]|=(128|63&a)<<u[3&i++]):a<55296||a>=57344?(o[i>>2]|=(224|a>>12)<<u[3&i++],o[i>>2]|=(128|a>>6&63)<<u[3&i++],o[i>>2]|=(128|63&a)<<u[3&i++]):(a=65536+((1023&a)<<10|1023&e.charCodeAt(++l)),o[i>>2]|=(240|a>>18)<<u[3&i++],o[i>>2]|=(128|a>>12&63)<<u[3&i++],o[i>>2]|=(128|a>>6&63)<<u[3&i++],o[i>>2]|=(128|63&a)<<u[3&i++]);if(this.lastByteIndex=i,i>=c){for(this.start=i-c,this.block=o[f],i=0;i<f;++i)h[i]^=o[i];M(h),this.reset=!0}else this.start=i}return this},x.prototype.encode=function(e,t){var n=255&e,r=1,i=[n];for(n=255&(e>>=8);n>0;)i.unshift(n),n=255&(e>>=8),++r;return t?i.push(r):i.unshift(r),this.update(i),i.length},x.prototype.encodeString=function(e){var n,r=typeof e;if("string"!==r){if("object"!==r)throw new Error(t);if(null===e)throw new Error(t);if(s&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||s&&ArrayBuffer.isView(e)))throw new Error(t);n=!0}var i=0,a=e.length;if(n)i=a;else for(var o=0;o<e.length;++o){var c=e.charCodeAt(o);c<128?i+=1:c<2048?i+=2:c<55296||c>=57344?i+=3:(c=65536+((1023&c)<<10|1023&e.charCodeAt(++o)),i+=4)}return i+=this.encode(8*i),this.update(e),i},x.prototype.bytepad=function(e,t){for(var n=this.encode(t),r=0;r<e.length;++r)n+=this.encodeString(e[r]);var i=t-n%t,a=[];return a.length=i,this.update(a),this},x.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex,n=this.blockCount,r=this.s;if(e[t>>2]|=this.padding[3&t],this.lastByteIndex===this.byteCount)for(e[0]=e[n],t=1;t<n+1;++t)e[t]=0;for(e[n-1]|=2147483648,t=0;t<n;++t)r[t]^=e[t];M(r)}},x.prototype.toString=x.prototype.hex=function(){this.finalize();for(var e,t=this.blockCount,n=this.s,r=this.outputBlocks,i=this.extraBytes,a=0,s=0,c="";s<r;){for(a=0;a<t&&s<r;++a,++s)e=n[a],c+=o[e>>4&15]+o[15&e]+o[e>>12&15]+o[e>>8&15]+o[e>>20&15]+o[e>>16&15]+o[e>>28&15]+o[e>>24&15];s%t==0&&(M(n),a=0)}return i&&(e=n[a],c+=o[e>>4&15]+o[15&e],i>1&&(c+=o[e>>12&15]+o[e>>8&15]),i>2&&(c+=o[e>>20&15]+o[e>>16&15])),c},x.prototype.arrayBuffer=function(){this.finalize();var e,t=this.blockCount,n=this.s,r=this.outputBlocks,i=this.extraBytes,a=0,s=0,o=this.outputBits>>3;e=i?new ArrayBuffer(r+1<<2):new ArrayBuffer(o);for(var c=new Uint32Array(e);s<r;){for(a=0;a<t&&s<r;++a,++s)c[s]=n[a];s%t==0&&M(n)}return i&&(c[a]=n[a],e=e.slice(0,o)),e},x.prototype.buffer=x.prototype.arrayBuffer,x.prototype.digest=x.prototype.array=function(){this.finalize();for(var e,t,n=this.blockCount,r=this.s,i=this.outputBlocks,a=this.extraBytes,s=0,o=0,c=[];o<i;){for(s=0;s<n&&o<i;++s,++o)e=o<<2,t=r[s],c[e]=255&t,c[e+1]=t>>8&255,c[e+2]=t>>16&255,c[e+3]=t>>24&255;o%n==0&&M(r)}return a&&(e=o<<2,t=r[s],c[e]=255&t,a>1&&(c[e+1]=t>>8&255),a>2&&(c[e+2]=t>>16&255)),c},C.prototype=new x,C.prototype.finalize=function(){return this.encode(this.outputBits,!0),x.prototype.finalize.call(this)};var M=function(e){var t,n,r,i,a,s,o,c,u,f,l,h,p,m,b,y,g,v,w,_,E,T,A,R,S,k,O,I,x,C,M,P,N,B,D,L,F,U,j,q,z,H,G,W,V,K,X,$,J,Y,Q,Z,ee,te,ne,re,ie,ae,se,oe,ce,ue,de;for(r=0;r<48;r+=2)i=e[0]^e[10]^e[20]^e[30]^e[40],a=e[1]^e[11]^e[21]^e[31]^e[41],s=e[2]^e[12]^e[22]^e[32]^e[42],o=e[3]^e[13]^e[23]^e[33]^e[43],c=e[4]^e[14]^e[24]^e[34]^e[44],u=e[5]^e[15]^e[25]^e[35]^e[45],f=e[6]^e[16]^e[26]^e[36]^e[46],l=e[7]^e[17]^e[27]^e[37]^e[47],t=(h=e[8]^e[18]^e[28]^e[38]^e[48])^(s<<1|o>>>31),n=(p=e[9]^e[19]^e[29]^e[39]^e[49])^(o<<1|s>>>31),e[0]^=t,e[1]^=n,e[10]^=t,e[11]^=n,e[20]^=t,e[21]^=n,e[30]^=t,e[31]^=n,e[40]^=t,e[41]^=n,t=i^(c<<1|u>>>31),n=a^(u<<1|c>>>31),e[2]^=t,e[3]^=n,e[12]^=t,e[13]^=n,e[22]^=t,e[23]^=n,e[32]^=t,e[33]^=n,e[42]^=t,e[43]^=n,t=s^(f<<1|l>>>31),n=o^(l<<1|f>>>31),e[4]^=t,e[5]^=n,e[14]^=t,e[15]^=n,e[24]^=t,e[25]^=n,e[34]^=t,e[35]^=n,e[44]^=t,e[45]^=n,t=c^(h<<1|p>>>31),n=u^(p<<1|h>>>31),e[6]^=t,e[7]^=n,e[16]^=t,e[17]^=n,e[26]^=t,e[27]^=n,e[36]^=t,e[37]^=n,e[46]^=t,e[47]^=n,t=f^(i<<1|a>>>31),n=l^(a<<1|i>>>31),e[8]^=t,e[9]^=n,e[18]^=t,e[19]^=n,e[28]^=t,e[29]^=n,e[38]^=t,e[39]^=n,e[48]^=t,e[49]^=n,m=e[0],b=e[1],K=e[11]<<4|e[10]>>>28,X=e[10]<<4|e[11]>>>28,I=e[20]<<3|e[21]>>>29,x=e[21]<<3|e[20]>>>29,oe=e[31]<<9|e[30]>>>23,ce=e[30]<<9|e[31]>>>23,H=e[40]<<18|e[41]>>>14,G=e[41]<<18|e[40]>>>14,B=e[2]<<1|e[3]>>>31,D=e[3]<<1|e[2]>>>31,y=e[13]<<12|e[12]>>>20,g=e[12]<<12|e[13]>>>20,$=e[22]<<10|e[23]>>>22,J=e[23]<<10|e[22]>>>22,C=e[33]<<13|e[32]>>>19,M=e[32]<<13|e[33]>>>19,ue=e[42]<<2|e[43]>>>30,de=e[43]<<2|e[42]>>>30,te=e[5]<<30|e[4]>>>2,ne=e[4]<<30|e[5]>>>2,L=e[14]<<6|e[15]>>>26,F=e[15]<<6|e[14]>>>26,v=e[25]<<11|e[24]>>>21,w=e[24]<<11|e[25]>>>21,Y=e[34]<<15|e[35]>>>17,Q=e[35]<<15|e[34]>>>17,P=e[45]<<29|e[44]>>>3,N=e[44]<<29|e[45]>>>3,R=e[6]<<28|e[7]>>>4,S=e[7]<<28|e[6]>>>4,re=e[17]<<23|e[16]>>>9,ie=e[16]<<23|e[17]>>>9,U=e[26]<<25|e[27]>>>7,j=e[27]<<25|e[26]>>>7,_=e[36]<<21|e[37]>>>11,E=e[37]<<21|e[36]>>>11,Z=e[47]<<24|e[46]>>>8,ee=e[46]<<24|e[47]>>>8,W=e[8]<<27|e[9]>>>5,V=e[9]<<27|e[8]>>>5,k=e[18]<<20|e[19]>>>12,O=e[19]<<20|e[18]>>>12,ae=e[29]<<7|e[28]>>>25,se=e[28]<<7|e[29]>>>25,q=e[38]<<8|e[39]>>>24,z=e[39]<<8|e[38]>>>24,T=e[48]<<14|e[49]>>>18,A=e[49]<<14|e[48]>>>18,e[0]=m^~y&v,e[1]=b^~g&w,e[10]=R^~k&I,e[11]=S^~O&x,e[20]=B^~L&U,e[21]=D^~F&j,e[30]=W^~K&$,e[31]=V^~X&J,e[40]=te^~re&ae,e[41]=ne^~ie&se,e[2]=y^~v&_,e[3]=g^~w&E,e[12]=k^~I&C,e[13]=O^~x&M,e[22]=L^~U&q,e[23]=F^~j&z,e[32]=K^~$&Y,e[33]=X^~J&Q,e[42]=re^~ae&oe,e[43]=ie^~se&ce,e[4]=v^~_&T,e[5]=w^~E&A,e[14]=I^~C&P,e[15]=x^~M&N,e[24]=U^~q&H,e[25]=j^~z&G,e[34]=$^~Y&Z,e[35]=J^~Q&ee,e[44]=ae^~oe&ue,e[45]=se^~ce&de,e[6]=_^~T&m,e[7]=E^~A&b,e[16]=C^~P&R,e[17]=M^~N&S,e[26]=q^~H&B,e[27]=z^~G&D,e[36]=Y^~Z&W,e[37]=Q^~ee&V,e[46]=oe^~ue&te,e[47]=ce^~de&ne,e[8]=T^~m&y,e[9]=A^~b&g,e[18]=P^~R&k,e[19]=N^~S&O,e[28]=H^~B&L,e[29]=G^~D&F,e[38]=Z^~W&K,e[39]=ee^~V&X,e[48]=ue^~te&re,e[49]=de^~ne&ie,e[0]^=d[r],e[1]^=d[r+1]};if(a)e.exports=E;else for(A=0;A<T.length;++A)r[T[A]]=E[T[A]]}()}(ts);var ns=ar(ts.exports);function rs(e){return"0x"+ns.keccak_256(Oi(e))}var is=Object.freeze({__proto__:null,keccak256:rs});const as=new wi("rlp/5.7.0");function ss(e){const t=[];for(;e;)t.unshift(255&e),e>>=8;return t}function os(e,t,n){let r=0;for(let i=0;i<n;i++)r=256*r+e[t+i];return r}function cs(e){if(Array.isArray(e)){let t=[];if(e.forEach((function(e){t=t.concat(cs(e))})),t.length<=55)return t.unshift(192+t.length),t;const n=ss(t.length);return n.unshift(247+n.length),n.concat(t)}Ri(e)||as.throwArgumentError("RLP object must be BytesLike","object",e);const t=Array.prototype.slice.call(Oi(e));if(1===t.length&&t[0]<=127)return t;if(t.length<=55)return t.unshift(128+t.length),t;const n=ss(t.length);return n.unshift(183+n.length),n.concat(t)}function us(e){return Ni(cs(e))}function ds(e,t,n,r){const i=[];for(;n<t+1+r;){const a=fs(e,n);i.push(a.result),(n+=a.consumed)>t+1+r&&as.throwError("child data too short",wi.errors.BUFFER_OVERRUN,{})}return{consumed:1+r,result:i}}function fs(e,t){if(0===e.length&&as.throwError("data too short",wi.errors.BUFFER_OVERRUN,{}),e[t]>=248){const n=e[t]-247;t+1+n>e.length&&as.throwError("data short segment too short",wi.errors.BUFFER_OVERRUN,{});const r=os(e,t+1,n);return t+1+n+r>e.length&&as.throwError("data long segment too short",wi.errors.BUFFER_OVERRUN,{}),ds(e,t,t+1+n,n+r)}if(e[t]>=192){const n=e[t]-192;return t+1+n>e.length&&as.throwError("data array too short",wi.errors.BUFFER_OVERRUN,{}),ds(e,t,t+1,n)}if(e[t]>=184){const n=e[t]-183;t+1+n>e.length&&as.throwError("data array too short",wi.errors.BUFFER_OVERRUN,{});const r=os(e,t+1,n);t+1+n+r>e.length&&as.throwError("data array too short",wi.errors.BUFFER_OVERRUN,{});return{consumed:1+n+r,result:Ni(e.slice(t+1+n,t+1+n+r))}}if(e[t]>=128){const n=e[t]-128;t+1+n>e.length&&as.throwError("data too short",wi.errors.BUFFER_OVERRUN,{});return{consumed:1+n,result:Ni(e.slice(t+1,t+1+n))}}return{consumed:1,result:Ni(e[t])}}function ls(e){const t=Oi(e),n=fs(t,0);return n.consumed!==t.length&&as.throwArgumentError("invalid rlp data","data",e),n.result}var hs=Object.freeze({__proto__:null,decode:ls,encode:us});const ps=new wi("address/5.7.0");function ms(e){Mi(e,20)||ps.throwArgumentError("invalid address","address",e);const t=(e=e.toLowerCase()).substring(2).split(""),n=new Uint8Array(40);for(let e=0;e<40;e++)n[e]=t[e].charCodeAt(0);const r=Oi(rs(n));for(let e=0;e<40;e+=2)r[e>>1]>>4>=8&&(t[e]=t[e].toUpperCase()),(15&r[e>>1])>=8&&(t[e+1]=t[e+1].toUpperCase());return"0x"+t.join("")}const bs={};for(let e=0;e<10;e++)bs[String(e)]=String(e);for(let e=0;e<26;e++)bs[String.fromCharCode(65+e)]=String(10+e);const ys=Math.floor(function(e){return Math.log10?Math.log10(e):Math.log(e)/Math.LN10}(9007199254740991));function gs(e){let t=(e=(e=e.toUpperCase()).substring(4)+e.substring(0,2)+"00").split("").map((e=>bs[e])).join("");for(;t.length>=ys;){let e=t.substring(0,ys);t=parseInt(e,10)%97+t.substring(e.length)}let n=String(98-parseInt(t,10)%97);for(;n.length<2;)n="0"+n;return n}function vs(e){let t=null;if("string"!=typeof e&&ps.throwArgumentError("invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==e.substring(0,2)&&(e="0x"+e),t=ms(e),e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&t!==e&&ps.throwArgumentError("bad address checksum","address",e);else if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(e.substring(2,4)!==gs(e)&&ps.throwArgumentError("bad icap checksum","address",e),n=e.substring(4),t=new Wi(n,36).toString(16);t.length<40;)t="0"+t;t=ms("0x"+t)}else ps.throwArgumentError("invalid address","address",e);var n;return t}function ws(e){try{return vs(e),!0}catch(e){}return!1}function _s(e){let t=(n=vs(e).substring(2),new Wi(n,16).toString(36)).toUpperCase();for(var n;t.length<30;)t="0"+t;return"XE"+gs("XE00"+t)+t}function Es(e){let t=null;try{t=vs(e.from)}catch(t){ps.throwArgumentError("missing from address","transaction",e)}return vs(Di(rs(us([t,xi(Oi(Ji.from(e.nonce).toHexString()))])),12))}function Ts(e,t,n){return 32!==Bi(t)&&ps.throwArgumentError("salt must be 32 bytes","salt",t),32!==Bi(n)&&ps.throwArgumentError("initCodeHash must be 32 bytes","initCodeHash",n),vs(Di(rs(Ii(["0xff",vs(e),t,n])),12))}var As=Object.freeze({__proto__:null,getAddress:vs,getContractAddress:Es,getCreate2Address:Ts,getIcapAddress:_s,isAddress:ws});let Rs=class extends Za{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){try{t=vs(t)}catch(e){this._throwError(e.message,t)}return e.writeValue(t)}decode(e){return vs(ji(e.readValue().toHexString(),20))}},Ss=class extends Za{constructor(e){super(e.name,e.type,void 0,e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,t){return this.coder.encode(e,t)}decode(e){return this.coder.decode(e)}};const ks=new wi(ka);function Os(e,t,n){let r=null;if(Array.isArray(n))r=n;else if(n&&"object"==typeof n){let e={};r=t.map((t=>{const r=t.localName;return r||ks.throwError("cannot encode object for signature with missing names",wi.errors.INVALID_ARGUMENT,{argument:"values",coder:t,value:n}),e[r]&&ks.throwError("cannot encode object for signature with duplicate names",wi.errors.INVALID_ARGUMENT,{argument:"values",coder:t,value:n}),e[r]=!0,n[r]}))}else ks.throwArgumentError("invalid tuple value","tuple",n);t.length!==r.length&&ks.throwArgumentError("types/value length mismatch","tuple",n);let i=new es(e.wordSize),a=new es(e.wordSize),s=[];t.forEach(((e,t)=>{let n=r[t];if(e.dynamic){let t=a.length;e.encode(a,n);let r=i.writeUpdatableValue();s.push((e=>{r(e+t)}))}else e.encode(i,n)})),s.forEach((e=>{e(i.length)}));let o=e.appendWriter(i);return o+=e.appendWriter(a),o}function Is(e,t){let n=[],r=e.subReader(0);t.forEach((t=>{let i=null;if(t.dynamic){let n=e.readValue(),a=r.subReader(n.toNumber());try{i=t.decode(a)}catch(e){if(e.code===wi.errors.BUFFER_OVERRUN)throw e;i=e,i.baseType=t.name,i.name=t.localName,i.type=t.type}}else try{i=t.decode(e)}catch(e){if(e.code===wi.errors.BUFFER_OVERRUN)throw e;i=e,i.baseType=t.name,i.name=t.localName,i.type=t.type}null!=i&&n.push(i)}));const i=t.reduce(((e,t)=>{const n=t.localName;return n&&(e[n]||(e[n]=0),e[n]++),e}),{});t.forEach(((e,t)=>{let r=e.localName;if(!r||1!==i[r])return;if("length"===r&&(r="_length"),null!=n[r])return;const a=n[t];a instanceof Error?Object.defineProperty(n,r,{enumerable:!0,get:()=>{throw a}}):n[r]=a}));for(let e=0;e<n.length;e++){const t=n[e];t instanceof Error&&Object.defineProperty(n,e,{enumerable:!0,get:()=>{throw t}})}return Object.freeze(n)}let xs=class extends Za{constructor(e,t,n){super("array",e.type+"["+(t>=0?t:"")+"]",n,-1===t||e.dynamic),this.coder=e,this.length=t}defaultValue(){const e=this.coder.defaultValue(),t=[];for(let n=0;n<this.length;n++)t.push(e);return t}encode(e,t){Array.isArray(t)||this._throwError("expected array value",t);let n=this.length;-1===n&&(n=t.length,e.writeValue(t.length)),ks.checkArgumentCount(t.length,n,"coder array"+(this.localName?" "+this.localName:""));let r=[];for(let e=0;e<t.length;e++)r.push(this.coder);return Os(e,r,t)}decode(e){let t=this.length;-1===t&&(t=e.readValue().toNumber(),32*t>e._data.length&&ks.throwError("insufficient data length",wi.errors.BUFFER_OVERRUN,{length:e._data.length,count:t}));let n=[];for(let e=0;e<t;e++)n.push(new Ss(this.coder));return e.coerce(this.name,Is(e,n))}},Cs=class extends Za{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){return e.writeValue(t?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}},Ms=class extends Za{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){t=Oi(t);let n=e.writeValue(t.length);return n+=e.writeBytes(t),n}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}},Ps=class extends Ms{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,Ni(super.decode(e)))}},Ns=class extends Za{constructor(e,t){let n="bytes"+String(e);super(n,n,t,!1),this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+2*this.size)}encode(e,t){let n=Oi(t);return n.length!==this.size&&this._throwError("incorrect data length",t),e.writeBytes(n)}decode(e){return e.coerce(this.name,Ni(e.readBytes(this.size)))}},Bs=class extends Za{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return null!=t&&this._throwError("not null",t),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}};const Ds="0x0000000000000000000000000000000000000000",Ls=Ji.from(-1),Fs=Ji.from(0),Us=Ji.from(1),js=Ji.from(2),qs=Ji.from("1000000000000000000"),zs=Ji.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Hs=Ji.from("-0x8000000000000000000000000000000000000000000000000000000000000000"),Gs=Ji.from("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Ws="0x0000000000000000000000000000000000000000000000000000000000000000";var Vs=Object.freeze({__proto__:null,AddressZero:Ds,EtherSymbol:"",HashZero:Ws,MaxInt256:Gs,MaxUint256:zs,MinInt256:Hs,NegativeOne:Ls,One:Us,Two:js,WeiPerEther:qs,Zero:Fs});let Ks=class extends Za{constructor(e,t,n){const r=(t?"int":"uint")+8*e;super(r,r,n,!1),this.size=e,this.signed=t}defaultValue(){return 0}encode(e,t){let n=Ji.from(t),r=zs.mask(8*e.wordSize);if(this.signed){let e=r.mask(8*this.size-1);(n.gt(e)||n.lt(e.add(Us).mul(Ls)))&&this._throwError("value out-of-bounds",t)}else(n.lt(Fs)||n.gt(r.mask(8*this.size)))&&this._throwError("value out-of-bounds",t);return n=n.toTwos(8*this.size).mask(8*this.size),this.signed&&(n=n.fromTwos(8*this.size).toTwos(8*e.wordSize)),e.writeValue(n)}decode(e){let t=e.readValue().mask(8*this.size);return this.signed&&(t=t.fromTwos(8*this.size)),e.coerce(this.name,t)}};const Xs=new wi("strings/5.7.0");var $s,Js;function Ys(e,t,n,r,i){if(e===Js.BAD_PREFIX||e===Js.UNEXPECTED_CONTINUE){let e=0;for(let r=t+1;r<n.length&&n[r]>>6==2;r++)e++;return e}return e===Js.OVERRUN?n.length-t-1:0}!function(e){e.current="",e.NFC="NFC",e.NFD="NFD",e.NFKC="NFKC",e.NFKD="NFKD"}($s||($s={})),function(e){e.UNEXPECTED_CONTINUE="unexpected continuation byte",e.BAD_PREFIX="bad codepoint prefix",e.OVERRUN="string overrun",e.MISSING_CONTINUE="missing continuation byte",e.OUT_OF_RANGE="out of UTF-8 range",e.UTF16_SURROGATE="UTF-16 surrogate",e.OVERLONG="overlong representation"}(Js||(Js={}));const Qs=Object.freeze({error:function(e,t,n,r,i){return Xs.throwArgumentError(`invalid codepoint at offset ${t}; ${e}`,"bytes",n)},ignore:Ys,replace:function(e,t,n,r,i){return e===Js.OVERLONG?(r.push(i),0):(r.push(65533),Ys(e,t,n))}});function Zs(e,t){null==t&&(t=Qs.error),e=Oi(e);const n=[];let r=0;for(;r<e.length;){const i=e[r++];if(i>>7==0){n.push(i);continue}let a=null,s=null;if(192==(224&i))a=1,s=127;else if(224==(240&i))a=2,s=2047;else{if(240!=(248&i)){r+=t(128==(192&i)?Js.UNEXPECTED_CONTINUE:Js.BAD_PREFIX,r-1,e,n);continue}a=3,s=65535}if(r-1+a>=e.length){r+=t(Js.OVERRUN,r-1,e,n);continue}let o=i&(1<<8-a-1)-1;for(let i=0;i<a;i++){let i=e[r];if(128!=(192&i)){r+=t(Js.MISSING_CONTINUE,r,e,n),o=null;break}o=o<<6|63&i,r++}null!==o&&(o>1114111?r+=t(Js.OUT_OF_RANGE,r-1-a,e,n,o):o>=55296&&o<=57343?r+=t(Js.UTF16_SURROGATE,r-1-a,e,n,o):o<=s?r+=t(Js.OVERLONG,r-1-a,e,n,o):n.push(o))}return n}function eo(e,t=$s.current){t!=$s.current&&(Xs.checkNormalize(),e=e.normalize(t));let n=[];for(let t=0;t<e.length;t++){const r=e.charCodeAt(t);if(r<128)n.push(r);else if(r<2048)n.push(r>>6|192),n.push(63&r|128);else if(55296==(64512&r)){t++;const i=e.charCodeAt(t);if(t>=e.length||56320!=(64512&i))throw new Error("invalid utf-8 string");const a=65536+((1023&r)<<10)+(1023&i);n.push(a>>18|240),n.push(a>>12&63|128),n.push(a>>6&63|128),n.push(63&a|128)}else n.push(r>>12|224),n.push(r>>6&63|128),n.push(63&r|128)}return Oi(n)}function to(e){const t="0000"+e.toString(16);return"\\u"+t.substring(t.length-4)}function no(e,t){return'"'+Zs(e,t).map((e=>{if(e<256){switch(e){case 8:return"\\b";case 9:return"\\t";case 10:return"\\n";case 13:return"\\r";case 34:return'\\"';case 92:return"\\\\"}if(e>=32&&e<127)return String.fromCharCode(e)}return e<=65535?to(e):to(55296+((e-=65536)>>10&1023))+to(56320+(1023&e))})).join("")+'"'}function ro(e){return e.map((e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10&1023),56320+(1023&e))))).join("")}function io(e,t){return ro(Zs(e,t))}function ao(e,t=$s.current){return Zs(eo(e,t))}function so(e){const t=eo(e);if(t.length>31)throw new Error("bytes32 string must be less than 32 bytes");return Ni(Ii([t,Ws]).slice(0,32))}function oo(e){const t=Oi(e);if(32!==t.length)throw new Error("invalid bytes32 - not 32 bytes long");if(0!==t[31])throw new Error("invalid bytes32 string - no null terminator");let n=31;for(;0===t[n-1];)n--;return io(t.slice(0,n))}function co(e,t){t||(t=function(e){return[parseInt(e,16)]});let n=0,r={};return e.split(",").forEach((e=>{let i=e.split(":");n+=parseInt(i[0],16),r[n]=t(i[1])})),r}function uo(e){let t=0;return e.split(",").map((e=>{let n=e.split("-");1===n.length?n[1]="0":""===n[1]&&(n[1]="1");let r=t+parseInt(n[0],16);return t=parseInt(n[1],16),{l:r,h:t}}))}function fo(e,t){let n=0;for(let r=0;r<t.length;r++){let i=t[r];if(n+=i.l,e>=n&&e<=n+i.h&&(e-n)%(i.d||1)==0){if(i.e&&-1!==i.e.indexOf(e-n))continue;return i}}return null}const lo=uo("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),ho="ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map((e=>parseInt(e,16))),po=[{h:25,s:32,l:65},{h:30,s:32,e:[23],l:127},{h:54,s:1,e:[48],l:64,d:2},{h:14,s:1,l:57,d:2},{h:44,s:1,l:17,d:2},{h:10,s:1,e:[2,6,8],l:61,d:2},{h:16,s:1,l:68,d:2},{h:84,s:1,e:[18,24,66],l:19,d:2},{h:26,s:32,e:[17],l:435},{h:22,s:1,l:71,d:2},{h:15,s:80,l:40},{h:31,s:32,l:16},{h:32,s:1,l:80,d:2},{h:52,s:1,l:42,d:2},{h:12,s:1,l:55,d:2},{h:40,s:1,e:[38],l:15,d:2},{h:14,s:1,l:48,d:2},{h:37,s:48,l:49},{h:148,s:1,l:6351,d:2},{h:88,s:1,l:160,d:2},{h:15,s:16,l:704},{h:25,s:26,l:854},{h:25,s:32,l:55915},{h:37,s:40,l:1247},{h:25,s:-119711,l:53248},{h:25,s:-119763,l:52},{h:25,s:-119815,l:52},{h:25,s:-119867,e:[1,4,5,7,8,11,12,17],l:52},{h:25,s:-119919,l:52},{h:24,s:-119971,e:[2,7,8,17],l:52},{h:24,s:-120023,e:[2,7,13,15,16,17],l:52},{h:25,s:-120075,l:52},{h:25,s:-120127,l:52},{h:25,s:-120179,l:52},{h:25,s:-120231,l:52},{h:25,s:-120283,l:52},{h:25,s:-120335,l:52},{h:24,s:-119543,e:[17],l:56},{h:24,s:-119601,e:[17],l:58},{h:24,s:-119659,e:[17],l:58},{h:24,s:-119717,e:[17],l:58},{h:24,s:-119775,e:[17],l:58}],mo=co("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),bo=co("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),yo=co("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",(function(e){if(e.length%4!=0)throw new Error("bad data");let t=[];for(let n=0;n<e.length;n+=4)t.push(parseInt(e.substring(n,n+4),16));return t})),go=uo("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function vo(e){if(e.match(/^[a-z0-9-]*$/i)&&e.length<=59)return e.toLowerCase();let t=ao(e);var n;n=t.map((e=>{if(ho.indexOf(e)>=0)return[];if(e>=65024&&e<=65039)return[];let t=function(e){let t=fo(e,po);if(t)return[e+t.s];let n=mo[e];if(n)return n;let r=bo[e];return r?[e+r[0]]:yo[e]||null}(e);return t||[e]})),t=n.reduce(((e,t)=>(t.forEach((t=>{e.push(t)})),e)),[]),t=ao(ro(t),$s.NFKC),t.forEach((e=>{if(fo(e,go))throw new Error("STRINGPREP_CONTAINS_PROHIBITED")})),t.forEach((e=>{if(fo(e,lo))throw new Error("STRINGPREP_CONTAINS_UNASSIGNED")}));let r=ro(t);if("-"===r.substring(0,1)||"--"===r.substring(2,4)||"-"===r.substring(r.length-1))throw new Error("invalid hyphen");return r}var wo=Object.freeze({__proto__:null,get UnicodeNormalizationForm(){return $s},Utf8ErrorFuncs:Qs,get Utf8ErrorReason(){return Js},_toEscapedUtf8String:no,formatBytes32String:so,nameprep:vo,parseBytes32String:oo,toUtf8Bytes:eo,toUtf8CodePoints:ao,toUtf8String:io});let _o=class extends Ms{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,eo(t))}decode(e){return io(super.decode(e))}},Eo=class extends Za{constructor(e,t){let n=!1;const r=[];e.forEach((e=>{e.dynamic&&(n=!0),r.push(e.type)}));super("tuple","tuple("+r.join(",")+")",t,n),this.coders=e}defaultValue(){const e=[];this.coders.forEach((t=>{e.push(t.defaultValue())}));const t=this.coders.reduce(((e,t)=>{const n=t.localName;return n&&(e[n]||(e[n]=0),e[n]++),e}),{});return this.coders.forEach(((n,r)=>{let i=n.localName;i&&1===t[i]&&("length"===i&&(i="_length"),null==e[i]&&(e[i]=e[r]))})),Object.freeze(e)}encode(e,t){return Os(e,this.coders,t)}decode(e){return e.coerce(this.name,Is(e,this.coders))}};const To=new wi(ka),Ao=new RegExp(/^bytes([0-9]*)$/),Ro=new RegExp(/^(u?int)([0-9]*)$/);let So=class{constructor(e){ba(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new Rs(e.name);case"bool":return new Cs(e.name);case"string":return new _o(e.name);case"bytes":return new Ps(e.name);case"array":return new xs(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new Eo((e.components||[]).map((e=>this._getCoder(e))),e.name);case"":return new Bs(e.name)}let t=e.type.match(Ro);if(t){let n=parseInt(t[2]||"256");return(0===n||n>256||n%8!=0)&&To.throwArgumentError("invalid "+t[1]+" bit length","param",e),new Ks(n/8,"int"===t[1],e.name)}if(t=e.type.match(Ao),t){let n=parseInt(t[1]);return(0===n||n>32)&&To.throwArgumentError("invalid bytes length","param",e),new Ns(n,e.name)}return To.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,t){return new class e{constructor(e,t,n,r){ba(this,"_data",Oi(e)),ba(this,"wordSize",t||32),ba(this,"_coerceFunc",n),ba(this,"allowLoose",r),this._offset=0}get data(){return Ni(this._data)}get consumed(){return this._offset}static coerce(e,t){let n=e.match("^u?int([0-9]+)$");return n&&parseInt(n[1])<=48&&(t=t.toNumber()),t}coerce(t,n){return this._coerceFunc?this._coerceFunc(t,n):e.coerce(t,n)}_peekBytes(e,t,n){let r=Math.ceil(t/this.wordSize)*this.wordSize;return this._offset+r>this._data.length&&(this.allowLoose&&n&&this._offset+t<=this._data.length?r=t:Ya.throwError("data out-of-bounds",wi.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+r})),this._data.slice(this._offset,this._offset+r)}subReader(t){return new e(this._data.slice(this._offset+t),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,t){let n=this._peekBytes(0,e,!!t);return this._offset+=n.length,n.slice(0,e)}readValue(){return Ji.from(this.readBytes(this.wordSize))}}(e,this._getWordSize(),this.coerceFunc,t)}_getWriter(){return new es(this._getWordSize())}getDefaultValue(e){const t=e.map((e=>this._getCoder(Da.from(e))));return new Eo(t,"_").defaultValue()}encode(e,t){e.length!==t.length&&To.throwError("types/values length mismatch",wi.errors.INVALID_ARGUMENT,{count:{types:e.length,values:t.length},value:{types:e,values:t}});const n=e.map((e=>this._getCoder(Da.from(e)))),r=new Eo(n,"_"),i=this._getWriter();return r.encode(i,t),i.data}decode(e,t,n){const r=e.map((e=>this._getCoder(Da.from(e))));return new Eo(r,"_").decode(this._getReader(Oi(t),n))}};const ko=new So;function Oo(e){return rs(eo(e))}const Io="hash/5.7.0";function xo(e){e=atob(e);const t=[];for(let n=0;n<e.length;n++)t.push(e.charCodeAt(n));return Oi(t)}function Co(e){e=Oi(e);let t="";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return btoa(t)}var Mo=Object.freeze({__proto__:null,decode:xo,encode:Co});function Po(e,t){null==t&&(t=1);const n=[],r=n.forEach,i=function(e,t){r.call(e,(function(e){t>0&&Array.isArray(e)?i(e,t-1):n.push(e)}))};return i(e,t),n}function No(e){return function(e){let t=0;return()=>e[t++]}(function(e){let t=0;function n(){return e[t++]<<8|e[t++]}let r=n(),i=1,a=[0,1];for(let e=1;e<r;e++)a.push(i+=n());let s=n(),o=t;t+=s;let c=0,u=0;function d(){return 0==c&&(u=u<<8|e[t++],c=8),u>>--c&1}const f=Math.pow(2,31),l=f>>>1,h=l>>1,p=f-1;let m=0;for(let e=0;e<31;e++)m=m<<1|d();let b=[],y=0,g=f;for(;;){let e=Math.floor(((m-y+1)*i-1)/g),t=0,n=r;for(;n-t>1;){let r=t+n>>>1;e<a[r]?n=r:t=r}if(0==t)break;b.push(t);let s=y+Math.floor(g*a[t]/i),o=y+Math.floor(g*a[t+1]/i)-1;for(;0==((s^o)&l);)m=m<<1&p|d(),s=s<<1&p,o=o<<1&p|1;for(;s&~o&h;)m=m&l|m<<1&p>>>1|d(),s=s<<1^l,o=(o^l)<<1|l|1;y=s,g=1+o-s}let v=r-4;return b.map((t=>{switch(t-v){case 3:return v+65792+(e[o++]<<16|e[o++]<<8|e[o++]);case 2:return v+256+(e[o++]<<8|e[o++]);case 1:return v+e[o++];default:return t-1}}))}(e))}function Bo(e){return 1&e?~e>>1:e>>1}function Do(e,t){let n=Array(e);for(let r=0,i=-1;r<e;r++)n[r]=i+=1+t();return n}function Lo(e,t){let n=Array(e);for(let r=0,i=0;r<e;r++)n[r]=i+=Bo(t());return n}function Fo(e,t){let n=Do(e(),e),r=e(),i=Do(r,e),a=function(e,t){let n=Array(e);for(let r=0;r<e;r++)n[r]=1+t();return n}(r,e);for(let e=0;e<r;e++)for(let t=0;t<a[e];t++)n.push(i[e]+t);return t?n.map((e=>t[e])):n}function Uo(e,t,n){let r=Array(e).fill(void 0).map((()=>[]));for(let i=0;i<t;i++)Lo(e,n).forEach(((e,t)=>r[t].push(e)));return r}function jo(e,t){let n=1+t(),r=t(),i=function(e){let t=[];for(;;){let n=e();if(0==n)break;t.push(n)}return t}(t);return Po(Uo(i.length,1+e,t).map(((e,t)=>{const a=e[0],s=e.slice(1);return Array(i[t]).fill(void 0).map(((e,t)=>{let i=t*r;return[a+t*n,s.map((e=>e+i))]}))})))}function qo(e,t){return Uo(1+t(),1+e,t).map((e=>[e[0],e.slice(1)]))}const zo=No(xo("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA==")),Ho=new Set(Fo(zo)),Go=new Set(Fo(zo)),Wo=function(e){let t=[];for(;;){let n=e();if(0==n)break;t.push(jo(n,e))}for(;;){let n=e()-1;if(n<0)break;t.push(qo(n,e))}return function(e){const t={};for(let n=0;n<e.length;n++){const r=e[n];t[r[0]]=r[1]}return t}(Po(t))}(zo),Vo=function(e){let t=Fo(e).sort(((e,t)=>e-t));return function n(){let r=[];for(;;){let i=Fo(e,t);if(0==i.length)break;r.push({set:new Set(i),node:n()})}r.sort(((e,t)=>t.set.size-e.set.size));let i=e(),a=i%3;i=i/3|0;let s=!!(1&i);return i>>=1,{branches:r,valid:a,fe0f:s,save:1==i,check:2==i}}()}(zo),Ko=45,Xo=95;function $o(e){return ao(e)}function Jo(e){return e.filter((e=>65039!=e))}function Yo(e){for(let t of e.split(".")){let e=$o(t);try{for(let t=e.lastIndexOf(Xo)-1;t>=0;t--)if(e[t]!==Xo)throw new Error("underscore only allowed at start");if(e.length>=4&&e.every((e=>e<128))&&e[2]===Ko&&e[3]===Ko)throw new Error("invalid label extension")}catch(e){throw new Error(`Invalid label "${t}": ${e.message}`)}}return e}function Qo(e){return Yo(function(e,t){let n=$o(e).reverse(),r=[];for(;n.length;){let e=Zo(n);if(e){r.push(...t(e));continue}let i=n.pop();if(Ho.has(i)){r.push(i);continue}if(Go.has(i))continue;let a=Wo[i];if(!a)throw new Error(`Disallowed codepoint: 0x${i.toString(16).toUpperCase()}`);r.push(...a)}return Yo(function(e){return e.normalize("NFC")}(String.fromCodePoint(...r)))}(e,Jo))}function Zo(e,t){var n;let r,i,a=Vo,s=[],o=e.length;for(t&&(t.length=0);o;){let c=e[--o];if(a=null===(n=a.branches.find((e=>e.set.has(c))))||void 0===n?void 0:n.node,!a)break;if(a.save)i=c;else if(a.check&&c===i)break;s.push(c),a.fe0f&&(s.push(65039),o>0&&65039==e[o-1]&&o--),a.valid&&(r=s.slice(),2==a.valid&&r.splice(1,1),t&&t.push(...e.slice(o).reverse()),e.length=o)}return r}const ec=new wi(Io),tc=new Uint8Array(32);function nc(e){if(0===e.length)throw new Error("invalid ENS name; empty component");return e}function rc(e){const t=eo(Qo(e)),n=[];if(0===e.length)return n;let r=0;for(let e=0;e<t.length;e++){46===t[e]&&(n.push(nc(t.slice(r,e))),r=e+1)}if(r>=t.length)throw new Error("invalid ENS name; empty component");return n.push(nc(t.slice(r))),n}function ic(e){try{return 0!==rc(e).length}catch(e){}return!1}function ac(e){"string"!=typeof e&&ec.throwArgumentError("invalid ENS name; not a string","name",e);let t=tc;const n=rc(e);for(;n.length;)t=rs(Ii([t,rs(n.pop())]));return Ni(t)}function sc(e){return Ni(Ii(rc(e).map((e=>{if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const t=new Uint8Array(e.length+1);return t.set(e,1),t[0]=t.length-1,t}))))+"00"}tc.fill(0);const oc="Ethereum Signed Message:\n";function cc(e){return"string"==typeof e&&(e=eo(e)),rs(Ii([eo(oc),eo(String(e.length)),e]))}var uc=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function s(e){try{c(r.next(e))}catch(e){a(e)}}function o(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}c((r=r.apply(e,t||[])).next())}))};const dc=new wi(Io),fc=new Uint8Array(32);fc.fill(0);const lc=Ji.from(-1),hc=Ji.from(0),pc=Ji.from(1),mc=Ji.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");const bc=ji(pc.toHexString(),32),yc=ji(hc.toHexString(),32),gc={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},vc=["name","version","chainId","verifyingContract","salt"];function wc(e){return function(t){return"string"!=typeof t&&dc.throwArgumentError(`invalid domain value for ${JSON.stringify(e)}`,`domain.${e}`,t),t}}const _c={name:wc("name"),version:wc("version"),chainId:function(e){try{return Ji.from(e).toString()}catch(e){}return dc.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",e)},verifyingContract:function(e){try{return vs(e).toLowerCase()}catch(e){}return dc.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",e)},salt:function(e){try{const t=Oi(e);if(32!==t.length)throw new Error("bad length");return Ni(t)}catch(e){}return dc.throwArgumentError('invalid domain value "salt"',"domain.salt",e)}};function Ec(e){{const t=e.match(/^(u?)int(\d*)$/);if(t){const n=""===t[1],r=parseInt(t[2]||"256");(r%8!=0||r>256||t[2]&&t[2]!==String(r))&&dc.throwArgumentError("invalid numeric width","type",e);const i=mc.mask(n?r-1:r),a=n?i.add(pc).mul(lc):hc;return function(t){const n=Ji.from(t);return(n.lt(a)||n.gt(i))&&dc.throwArgumentError(`value out-of-bounds for ${e}`,"value",t),ji(n.toTwos(256).toHexString(),32)}}}{const t=e.match(/^bytes(\d+)$/);if(t){const n=parseInt(t[1]);return(0===n||n>32||t[1]!==String(n))&&dc.throwArgumentError("invalid bytes width","type",e),function(t){return Oi(t).length!==n&&dc.throwArgumentError(`invalid length for ${e}`,"value",t),function(e){const t=Oi(e),n=t.length%32;return n?Li([t,fc.slice(n)]):Ni(t)}(t)}}}switch(e){case"address":return function(e){return ji(vs(e),32)};case"bool":return function(e){return e?bc:yc};case"bytes":return function(e){return rs(e)};case"string":return function(e){return Oo(e)}}return null}function Tc(e,t){return`${e}(${t.map((({name:e,type:t})=>t+" "+e)).join(",")})`}class Ac{constructor(e){ba(this,"types",Object.freeze(Aa(e))),ba(this,"_encoderCache",{}),ba(this,"_types",{});const t={},n={},r={};Object.keys(e).forEach((e=>{t[e]={},n[e]=[],r[e]={}}));for(const r in e){const i={};e[r].forEach((a=>{i[a.name]&&dc.throwArgumentError(`duplicate variable name ${JSON.stringify(a.name)} in ${JSON.stringify(r)}`,"types",e),i[a.name]=!0;const s=a.type.match(/^([^\x5b]*)(\x5b|$)/)[1];s===r&&dc.throwArgumentError(`circular type reference to ${JSON.stringify(s)}`,"types",e);Ec(s)||(n[s]||dc.throwArgumentError(`unknown type ${JSON.stringify(s)}`,"types",e),n[s].push(r),t[r][s]=!0)}))}const i=Object.keys(n).filter((e=>0===n[e].length));0===i.length?dc.throwArgumentError("missing primary type","types",e):i.length>1&&dc.throwArgumentError(`ambiguous primary types or unused types: ${i.map((e=>JSON.stringify(e))).join(", ")}`,"types",e),ba(this,"primaryType",i[0]),function i(a,s){s[a]&&dc.throwArgumentError(`circular type reference to ${JSON.stringify(a)}`,"types",e),s[a]=!0,Object.keys(t[a]).forEach((e=>{n[e]&&(i(e,s),Object.keys(s).forEach((t=>{r[t][e]=!0})))})),delete s[a]}(this.primaryType,{});for(const t in r){const n=Object.keys(r[t]);n.sort(),this._types[t]=Tc(t,e[t])+n.map((t=>Tc(t,e[t]))).join("")}}getEncoder(e){let t=this._encoderCache[e];return t||(t=this._encoderCache[e]=this._getEncoder(e)),t}_getEncoder(e){{const t=Ec(e);if(t)return t}const t=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(t){const e=t[1],n=this.getEncoder(e),r=parseInt(t[3]);return t=>{r>=0&&t.length!==r&&dc.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",t);let i=t.map(n);return this._types[e]&&(i=i.map(rs)),rs(Li(i))}}const n=this.types[e];if(n){const t=Oo(this._types[e]);return e=>{const r=n.map((({name:t,type:n})=>{const r=this.getEncoder(n)(e[t]);return this._types[n]?rs(r):r}));return r.unshift(t),Li(r)}}return dc.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){const t=this._types[e];return t||dc.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return rs(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,n){if(Ec(e))return n(e,t);const r=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(r){const e=r[1],i=parseInt(r[3]);return i>=0&&t.length!==i&&dc.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",t),t.map((t=>this._visit(e,t,n)))}const i=this.types[e];return i?i.reduce(((e,{name:r,type:i})=>(e[r]=this._visit(i,t[r],n),e)),{}):dc.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new Ac(e)}static getPrimaryType(e){return Ac.from(e).primaryType}static hashStruct(e,t,n){return Ac.from(t).hashStruct(e,n)}static hashDomain(e){const t=[];for(const n in e){const r=gc[n];r||dc.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),t.push({name:n,type:r})}return t.sort(((e,t)=>vc.indexOf(e.name)-vc.indexOf(t.name))),Ac.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,n){return Li(["0x1901",Ac.hashDomain(e),Ac.from(t).hash(n)])}static hash(e,t,n){return rs(Ac.encode(e,t,n))}static resolveNames(e,t,n,r){return uc(this,void 0,void 0,(function*(){e=wa(e);const i={};e.verifyingContract&&!Mi(e.verifyingContract,20)&&(i[e.verifyingContract]="0x");const a=Ac.from(t);a.visit(n,((e,t)=>("address"!==e||Mi(t,20)||(i[t]="0x"),t)));for(const e in i)i[e]=yield r(e);return e.verifyingContract&&i[e.verifyingContract]&&(e.verifyingContract=i[e.verifyingContract]),n=a.visit(n,((e,t)=>"address"===e&&i[t]?i[t]:t)),{domain:e,value:n}}))}static getPayload(e,t,n){Ac.hashDomain(e);const r={},i=[];vc.forEach((t=>{const n=e[t];null!=n&&(r[t]=_c[t](n),i.push({name:t,type:gc[t]}))}));const a=Ac.from(t),s=wa(t);return s.EIP712Domain?dc.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",t):s.EIP712Domain=i,a.encode(n),{types:s,domain:r,primaryType:a.primaryType,message:a.visit(n,((e,t)=>{if(e.match(/^bytes(\d*)/))return Ni(Oi(t));if(e.match(/^u?int/))return Ji.from(t).toString();switch(e){case"address":return t.toLowerCase();case"bool":return!!t;case"string":return"string"!=typeof t&&dc.throwArgumentError("invalid string","value",t),t}return dc.throwArgumentError("unsupported type","type",e)}))}}}var Rc=Object.freeze({__proto__:null,_TypedDataEncoder:Ac,dnsEncode:sc,ensNormalize:function(e){return rc(e).map((e=>io(e))).join(".")},hashMessage:cc,id:Oo,isValidName:ic,messagePrefix:oc,namehash:ac});const Sc=new wi(ka);let kc=class extends Ra{},Oc=class extends Ra{},Ic=class extends Ra{},xc=class extends Ra{static isIndexed(e){return!(!e||!e._isIndexed)}};const Cc={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function Mc(e,t){const n=new Error(`deferred error during ABI decoding triggered accessing ${e}`);return n.error=t,n}let Pc=class{constructor(e){let t=[];t="string"==typeof e?JSON.parse(e):e,ba(this,"fragments",t.map((e=>Fa.from(e))).filter((e=>null!=e))),ba(this,"_abiCoder",ya(new.target,"getAbiCoder")()),ba(this,"functions",{}),ba(this,"errors",{}),ba(this,"events",{}),ba(this,"structs",{}),this.fragments.forEach((e=>{let t=null;switch(e.type){case"constructor":return this.deploy?void Sc.warn("duplicate definition - constructor"):void ba(this,"deploy",e);case"function":t=this.functions;break;case"event":t=this.events;break;case"error":t=this.errors;break;default:return}let n=e.format();t[n]?Sc.warn("duplicate definition - "+n):t[n]=e})),this.deploy||ba(this,"deploy",Ha.from({payable:!1,type:"constructor"})),ba(this,"_isInterface",!0)}format(e){e||(e=Na.full),e===Na.sighash&&Sc.throwArgumentError("interface does not support formatting sighash","format",e);const t=this.fragments.map((t=>t.format(e)));return e===Na.json?JSON.stringify(t.map((e=>JSON.parse(e)))):t}static getAbiCoder(){return ko}static getAddress(e){return vs(e)}static getSighash(e){return Di(Oo(e.format()),0,4)}static getEventTopic(e){return Oo(e.format())}getFunction(e){if(Mi(e)){for(const t in this.functions)if(e===this.getSighash(t))return this.functions[t];Sc.throwArgumentError("no matching function","sighash",e)}if(-1===e.indexOf("(")){const t=e.trim(),n=Object.keys(this.functions).filter((e=>e.split("(")[0]===t));return 0===n.length?Sc.throwArgumentError("no matching function","name",t):n.length>1&&Sc.throwArgumentError("multiple matching functions","name",t),this.functions[n[0]]}const t=this.functions[Ga.fromString(e).format()];return t||Sc.throwArgumentError("no matching function","signature",e),t}getEvent(e){if(Mi(e)){const t=e.toLowerCase();for(const e in this.events)if(t===this.getEventTopic(e))return this.events[e];Sc.throwArgumentError("no matching event","topichash",t)}if(-1===e.indexOf("(")){const t=e.trim(),n=Object.keys(this.events).filter((e=>e.split("(")[0]===t));return 0===n.length?Sc.throwArgumentError("no matching event","name",t):n.length>1&&Sc.throwArgumentError("multiple matching events","name",t),this.events[n[0]]}const t=this.events[Ua.fromString(e).format()];return t||Sc.throwArgumentError("no matching event","signature",e),t}getError(e){if(Mi(e)){const t=ya(this.constructor,"getSighash");for(const n in this.errors){if(e===t(this.errors[n]))return this.errors[n]}Sc.throwArgumentError("no matching error","sighash",e)}if(-1===e.indexOf("(")){const t=e.trim(),n=Object.keys(this.errors).filter((e=>e.split("(")[0]===t));return 0===n.length?Sc.throwArgumentError("no matching error","name",t):n.length>1&&Sc.throwArgumentError("multiple matching errors","name",t),this.errors[n[0]]}const t=this.errors[Ga.fromString(e).format()];return t||Sc.throwArgumentError("no matching error","signature",e),t}getSighash(e){if("string"==typeof e)try{e=this.getFunction(e)}catch(t){try{e=this.getError(e)}catch(e){throw t}}return ya(this.constructor,"getSighash")(e)}getEventTopic(e){return"string"==typeof e&&(e=this.getEvent(e)),ya(this.constructor,"getEventTopic")(e)}_decodeParams(e,t){return this._abiCoder.decode(e,t)}_encodeParams(e,t){return this._abiCoder.encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){"string"==typeof e&&(e=this.getError(e));const n=Oi(t);return Ni(n.slice(0,4))!==this.getSighash(e)&&Sc.throwArgumentError(`data signature does not match error ${e.name}.`,"data",Ni(n)),this._decodeParams(e.inputs,n.slice(4))}encodeErrorResult(e,t){return"string"==typeof e&&(e=this.getError(e)),Ni(Ii([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}decodeFunctionData(e,t){"string"==typeof e&&(e=this.getFunction(e));const n=Oi(t);return Ni(n.slice(0,4))!==this.getSighash(e)&&Sc.throwArgumentError(`data signature does not match function ${e.name}.`,"data",Ni(n)),this._decodeParams(e.inputs,n.slice(4))}encodeFunctionData(e,t){return"string"==typeof e&&(e=this.getFunction(e)),Ni(Ii([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}decodeFunctionResult(e,t){"string"==typeof e&&(e=this.getFunction(e));let n=Oi(t),r=null,i="",a=null,s=null,o=null;switch(n.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,n)}catch(e){}break;case 4:{const e=Ni(n.slice(0,4)),t=Cc[e];if(t)a=this._abiCoder.decode(t.inputs,n.slice(4)),s=t.name,o=t.signature,t.reason&&(r=a[0]),"Error"===s?i=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(a[0])}`:"Panic"===s&&(i=`; VM Exception while processing transaction: reverted with panic code ${a[0]}`);else try{const t=this.getError(e);a=this._abiCoder.decode(t.inputs,n.slice(4)),s=t.name,o=t.format()}catch(e){}break}}return Sc.throwError("call revert exception"+i,wi.errors.CALL_EXCEPTION,{method:e.format(),data:Ni(t),errorArgs:a,errorName:s,errorSignature:o,reason:r})}encodeFunctionResult(e,t){return"string"==typeof e&&(e=this.getFunction(e)),Ni(this._abiCoder.encode(e.outputs,t||[]))}encodeFilterTopics(e,t){"string"==typeof e&&(e=this.getEvent(e)),t.length>e.inputs.length&&Sc.throwError("too many arguments for "+e.format(),wi.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:t});let n=[];e.anonymous||n.push(this.getEventTopic(e));const r=(e,t)=>"string"===e.type?Oo(t):"bytes"===e.type?rs(Ni(t)):("bool"===e.type&&"boolean"==typeof t&&(t=t?"0x01":"0x00"),e.type.match(/^u?int/)&&(t=Ji.from(t).toHexString()),"address"===e.type&&this._abiCoder.encode(["address"],[t]),ji(Ni(t),32));for(t.forEach(((t,i)=>{let a=e.inputs[i];a.indexed?null==t?n.push(null):"array"===a.baseType||"tuple"===a.baseType?Sc.throwArgumentError("filtering with tuples or arrays not supported","contract."+a.name,t):Array.isArray(t)?n.push(t.map((e=>r(a,e)))):n.push(r(a,t)):null!=t&&Sc.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+a.name,t)}));n.length&&null===n[n.length-1];)n.pop();return n}encodeEventLog(e,t){"string"==typeof e&&(e=this.getEvent(e));const n=[],r=[],i=[];return e.anonymous||n.push(this.getEventTopic(e)),t.length!==e.inputs.length&&Sc.throwArgumentError("event arguments/values mismatch","values",t),e.inputs.forEach(((e,a)=>{const s=t[a];if(e.indexed)if("string"===e.type)n.push(Oo(s));else if("bytes"===e.type)n.push(rs(s));else{if("tuple"===e.baseType||"array"===e.baseType)throw new Error("not implemented");n.push(this._abiCoder.encode([e.type],[s]))}else r.push(e),i.push(s)})),{data:this._abiCoder.encode(r,i),topics:n}}decodeEventLog(e,t,n){if("string"==typeof e&&(e=this.getEvent(e)),null!=n&&!e.anonymous){let t=this.getEventTopic(e);Mi(n[0],32)&&n[0].toLowerCase()===t||Sc.throwError("fragment/topic mismatch",wi.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:t,value:n[0]}),n=n.slice(1)}let r=[],i=[],a=[];e.inputs.forEach(((e,t)=>{e.indexed?"string"===e.type||"bytes"===e.type||"tuple"===e.baseType||"array"===e.baseType?(r.push(Da.fromObject({type:"bytes32",name:e.name})),a.push(!0)):(r.push(e),a.push(!1)):(i.push(e),a.push(!1))}));let s=null!=n?this._abiCoder.decode(r,Ii(n)):null,o=this._abiCoder.decode(i,t,!0),c=[],u=0,d=0;e.inputs.forEach(((e,t)=>{if(e.indexed)if(null==s)c[t]=new xc({_isIndexed:!0,hash:null});else if(a[t])c[t]=new xc({_isIndexed:!0,hash:s[d++]});else try{c[t]=s[d++]}catch(e){c[t]=e}else try{c[t]=o[u++]}catch(e){c[t]=e}if(e.name&&null==c[e.name]){const n=c[t];n instanceof Error?Object.defineProperty(c,e.name,{enumerable:!0,get:()=>{throw Mc(`property ${JSON.stringify(e.name)}`,n)}}):c[e.name]=n}}));for(let e=0;e<c.length;e++){const t=c[e];t instanceof Error&&Object.defineProperty(c,e,{enumerable:!0,get:()=>{throw Mc(`index ${e}`,t)}})}return Object.freeze(c)}parseTransaction(e){let t=this.getFunction(e.data.substring(0,10).toLowerCase());return t?new Oc({args:this._abiCoder.decode(t.inputs,"0x"+e.data.substring(10)),functionFragment:t,name:t.name,signature:t.format(),sighash:this.getSighash(t),value:Ji.from(e.value||"0")}):null}parseLog(e){let t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new kc({eventFragment:t,name:t.name,signature:t.format(),topic:this.getEventTopic(t),args:this.decodeEventLog(t,e.data,e.topics)})}parseError(e){const t=Ni(e);let n=this.getError(t.substring(0,10).toLowerCase());return n?new Ic({args:this._abiCoder.decode(n.inputs,"0x"+t.substring(10)),errorFragment:n,name:n.name,signature:n.format(),sighash:this.getSighash(n)}):null}static isInterface(e){return!(!e||!e._isInterface)}};var Nc=Object.freeze({__proto__:null,AbiCoder:So,ConstructorFragment:Ha,ErrorFragment:Va,EventFragment:Ua,FormatTypes:Na,Fragment:Fa,FunctionFragment:Ga,Indexed:xc,Interface:Pc,LogDescription:kc,ParamType:Da,TransactionDescription:Oc,checkResultErrors:Qa,defaultAbiCoder:ko});var Bc=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function s(e){try{c(r.next(e))}catch(e){a(e)}}function o(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}c((r=r.apply(e,t||[])).next())}))};const Dc=new wi("abstract-provider/5.7.0");class Lc extends Ra{static isForkEvent(e){return!(!e||!e._isForkEvent)}}let Fc=class e{constructor(){Dc.checkAbstract(new.target,e),ba(this,"_isProvider",!0)}getFeeData(){return Bc(this,void 0,void 0,(function*(){const{block:e,gasPrice:t}=yield ga({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch((e=>null))});let n=null,r=null,i=null;return e&&e.baseFeePerGas&&(n=e.baseFeePerGas,i=Ji.from("1500000000"),r=e.baseFeePerGas.mul(2).add(i)),{lastBaseFeePerGas:n,maxFeePerGas:r,maxPriorityFeePerGas:i,gasPrice:t}}))}addListener(e,t){return this.on(e,t)}removeListener(e,t){return this.off(e,t)}static isProvider(e){return!(!e||!e._isProvider)}};var Uc=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function s(e){try{c(r.next(e))}catch(e){a(e)}}function o(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}c((r=r.apply(e,t||[])).next())}))};const jc=new wi("abstract-signer/5.7.0"),qc=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],zc=[wi.errors.INSUFFICIENT_FUNDS,wi.errors.NONCE_EXPIRED,wi.errors.REPLACEMENT_UNDERPRICED];let Hc=class e{constructor(){jc.checkAbstract(new.target,e),ba(this,"_isSigner",!0)}getBalance(e){return Uc(this,void 0,void 0,(function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)}))}getTransactionCount(e){return Uc(this,void 0,void 0,(function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)}))}estimateGas(e){return Uc(this,void 0,void 0,(function*(){this._checkProvider("estimateGas");const t=yield ga(this.checkTransaction(e));return yield this.provider.estimateGas(t)}))}call(e,t){return Uc(this,void 0,void 0,(function*(){this._checkProvider("call");const n=yield ga(this.checkTransaction(e));return yield this.provider.call(n,t)}))}sendTransaction(e){return Uc(this,void 0,void 0,(function*(){this._checkProvider("sendTransaction");const t=yield this.populateTransaction(e),n=yield this.signTransaction(t);return yield this.provider.sendTransaction(n)}))}getChainId(){return Uc(this,void 0,void 0,(function*(){this._checkProvider("getChainId");return(yield this.provider.getNetwork()).chainId}))}getGasPrice(){return Uc(this,void 0,void 0,(function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()}))}getFeeData(){return Uc(this,void 0,void 0,(function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()}))}resolveName(e){return Uc(this,void 0,void 0,(function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)}))}checkTransaction(e){for(const t in e)-1===qc.indexOf(t)&&jc.throwArgumentError("invalid transaction key: "+t,"transaction",e);const t=wa(e);return null==t.from?t.from=this.getAddress():t.from=Promise.all([Promise.resolve(t.from),this.getAddress()]).then((t=>(t[0].toLowerCase()!==t[1].toLowerCase()&&jc.throwArgumentError("from address mismatch","transaction",e),t[0]))),t}populateTransaction(e){return Uc(this,void 0,void 0,(function*(){const t=yield ga(this.checkTransaction(e));null!=t.to&&(t.to=Promise.resolve(t.to).then((e=>Uc(this,void 0,void 0,(function*(){if(null==e)return null;const t=yield this.resolveName(e);return null==t&&jc.throwArgumentError("provided ENS name resolves to null","tx.to",e),t})))),t.to.catch((e=>{})));const n=null!=t.maxFeePerGas||null!=t.maxPriorityFeePerGas;if(null==t.gasPrice||2!==t.type&&!n?0!==t.type&&1!==t.type||!n||jc.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e):jc.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e),2!==t.type&&null!=t.type||null==t.maxFeePerGas||null==t.maxPriorityFeePerGas)if(0===t.type||1===t.type)null==t.gasPrice&&(t.gasPrice=this.getGasPrice());else{const e=yield this.getFeeData();if(null==t.type)if(null!=e.maxFeePerGas&&null!=e.maxPriorityFeePerGas)if(t.type=2,null!=t.gasPrice){const e=t.gasPrice;delete t.gasPrice,t.maxFeePerGas=e,t.maxPriorityFeePerGas=e}else null==t.maxFeePerGas&&(t.maxFeePerGas=e.maxFeePerGas),null==t.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas);else null!=e.gasPrice?(n&&jc.throwError("network does not support EIP-1559",wi.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),null==t.gasPrice&&(t.gasPrice=e.gasPrice),t.type=0):jc.throwError("failed to get consistent fee data",wi.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else 2===t.type&&(null==t.maxFeePerGas&&(t.maxFeePerGas=e.maxFeePerGas),null==t.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas))}else t.type=2;return null==t.nonce&&(t.nonce=this.getTransactionCount("pending")),null==t.gasLimit&&(t.gasLimit=this.estimateGas(t).catch((e=>{if(zc.indexOf(e.code)>=0)throw e;return jc.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",wi.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,tx:t})}))),null==t.chainId?t.chainId=this.getChainId():t.chainId=Promise.all([Promise.resolve(t.chainId),this.getChainId()]).then((t=>(0!==t[1]&&t[0]!==t[1]&&jc.throwArgumentError("chainId address mismatch","transaction",e),t[0]))),yield ga(t)}))}_checkProvider(e){this.provider||jc.throwError("missing provider",wi.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!(!e||!e._isSigner)}},Gc=class e extends Hc{constructor(e,t){super(),ba(this,"address",e),ba(this,"provider",t||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,t){return Promise.resolve().then((()=>{jc.throwError(e,wi.errors.UNSUPPORTED_OPERATION,{operation:t})}))}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,t,n){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(t){return new e(this.address,t)}};var Wc={},Vc={},Kc=Xc;function Xc(e,t){if(!e)throw new Error(t||"Assertion failed")}Xc.equal=function(e,t,n){if(e!=t)throw new Error(n||"Assertion failed: "+e+" != "+t)};var $c="function"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e},Jc=sr(Object.freeze({__proto__:null,default:$c})),Yc=Kc,Qc=Jc;function Zc(e,t){return 55296==(64512&e.charCodeAt(t))&&(!(t<0||t+1>=e.length)&&56320==(64512&e.charCodeAt(t+1)))}function eu(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function tu(e){return 1===e.length?"0"+e:e}function nu(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}Vc.inherits=Qc,Vc.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var n=[];if("string"==typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),i=0;i<e.length;i+=2)n.push(parseInt(e[i]+e[i+1],16))}else for(var r=0,i=0;i<e.length;i++){var a=e.charCodeAt(i);a<128?n[r++]=a:a<2048?(n[r++]=a>>6|192,n[r++]=63&a|128):Zc(e,i)?(a=65536+((1023&a)<<10)+(1023&e.charCodeAt(++i)),n[r++]=a>>18|240,n[r++]=a>>12&63|128,n[r++]=a>>6&63|128,n[r++]=63&a|128):(n[r++]=a>>12|224,n[r++]=a>>6&63|128,n[r++]=63&a|128)}else for(i=0;i<e.length;i++)n[i]=0|e[i];return n},Vc.toHex=function(e){for(var t="",n=0;n<e.length;n++)t+=tu(e[n].toString(16));return t},Vc.htonl=eu,Vc.toHex32=function(e,t){for(var n="",r=0;r<e.length;r++){var i=e[r];"little"===t&&(i=eu(i)),n+=nu(i.toString(16))}return n},Vc.zero2=tu,Vc.zero8=nu,Vc.join32=function(e,t,n,r){var i=n-t;Yc(i%4==0);for(var a=new Array(i/4),s=0,o=t;s<a.length;s++,o+=4){var c;c="big"===r?e[o]<<24|e[o+1]<<16|e[o+2]<<8|e[o+3]:e[o+3]<<24|e[o+2]<<16|e[o+1]<<8|e[o],a[s]=c>>>0}return a},Vc.split32=function(e,t){for(var n=new Array(4*e.length),r=0,i=0;r<e.length;r++,i+=4){var a=e[r];"big"===t?(n[i]=a>>>24,n[i+1]=a>>>16&255,n[i+2]=a>>>8&255,n[i+3]=255&a):(n[i+3]=a>>>24,n[i+2]=a>>>16&255,n[i+1]=a>>>8&255,n[i]=255&a)}return n},Vc.rotr32=function(e,t){return e>>>t|e<<32-t},Vc.rotl32=function(e,t){return e<<t|e>>>32-t},Vc.sum32=function(e,t){return e+t>>>0},Vc.sum32_3=function(e,t,n){return e+t+n>>>0},Vc.sum32_4=function(e,t,n,r){return e+t+n+r>>>0},Vc.sum32_5=function(e,t,n,r,i){return e+t+n+r+i>>>0},Vc.sum64=function(e,t,n,r){var i=e[t],a=r+e[t+1]>>>0,s=(a<r?1:0)+n+i;e[t]=s>>>0,e[t+1]=a},Vc.sum64_hi=function(e,t,n,r){return(t+r>>>0<t?1:0)+e+n>>>0},Vc.sum64_lo=function(e,t,n,r){return t+r>>>0},Vc.sum64_4_hi=function(e,t,n,r,i,a,s,o){var c=0,u=t;return c+=(u=u+r>>>0)<t?1:0,c+=(u=u+a>>>0)<a?1:0,e+n+i+s+(c+=(u=u+o>>>0)<o?1:0)>>>0},Vc.sum64_4_lo=function(e,t,n,r,i,a,s,o){return t+r+a+o>>>0},Vc.sum64_5_hi=function(e,t,n,r,i,a,s,o,c,u){var d=0,f=t;return d+=(f=f+r>>>0)<t?1:0,d+=(f=f+a>>>0)<a?1:0,d+=(f=f+o>>>0)<o?1:0,e+n+i+s+c+(d+=(f=f+u>>>0)<u?1:0)>>>0},Vc.sum64_5_lo=function(e,t,n,r,i,a,s,o,c,u){return t+r+a+o+u>>>0},Vc.rotr64_hi=function(e,t,n){return(t<<32-n|e>>>n)>>>0},Vc.rotr64_lo=function(e,t,n){return(e<<32-n|t>>>n)>>>0},Vc.shr64_hi=function(e,t,n){return e>>>n},Vc.shr64_lo=function(e,t,n){return(e<<32-n|t>>>n)>>>0};var ru={},iu=Vc,au=Kc;function su(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}ru.BlockHash=su,su.prototype.update=function(e,t){if(e=iu.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var n=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-n,e.length),0===this.pending.length&&(this.pending=null),e=iu.join32(e,0,e.length-n,this.endian);for(var r=0;r<e.length;r+=this._delta32)this._update(e,r,r+this._delta32)}return this},su.prototype.digest=function(e){return this.update(this._pad()),au(null===this.pending),this._digest(e)},su.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,n=t-(e+this.padLength)%t,r=new Array(n+this.padLength);r[0]=128;for(var i=1;i<n;i++)r[i]=0;if(e<<=3,"big"===this.endian){for(var a=8;a<this.padLength;a++)r[i++]=0;r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=e>>>24&255,r[i++]=e>>>16&255,r[i++]=e>>>8&255,r[i++]=255&e}else for(r[i++]=255&e,r[i++]=e>>>8&255,r[i++]=e>>>16&255,r[i++]=e>>>24&255,r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=0,a=8;a<this.padLength;a++)r[i++]=0;return r};var ou={},cu={},uu=Vc.rotr32;function du(e,t,n){return e&t^~e&n}function fu(e,t,n){return e&t^e&n^t&n}function lu(e,t,n){return e^t^n}cu.ft_1=function(e,t,n,r){return 0===e?du(t,n,r):1===e||3===e?lu(t,n,r):2===e?fu(t,n,r):void 0},cu.ch32=du,cu.maj32=fu,cu.p32=lu,cu.s0_256=function(e){return uu(e,2)^uu(e,13)^uu(e,22)},cu.s1_256=function(e){return uu(e,6)^uu(e,11)^uu(e,25)},cu.g0_256=function(e){return uu(e,7)^uu(e,18)^e>>>3},cu.g1_256=function(e){return uu(e,17)^uu(e,19)^e>>>10};var hu=Vc,pu=ru,mu=cu,bu=hu.rotl32,yu=hu.sum32,gu=hu.sum32_5,vu=mu.ft_1,wu=pu.BlockHash,_u=[1518500249,1859775393,2400959708,3395469782];function Eu(){if(!(this instanceof Eu))return new Eu;wu.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}hu.inherits(Eu,wu);var Tu=Eu;Eu.blockSize=512,Eu.outSize=160,Eu.hmacStrength=80,Eu.padLength=64,Eu.prototype._update=function(e,t){for(var n=this.W,r=0;r<16;r++)n[r]=e[t+r];for(;r<n.length;r++)n[r]=bu(n[r-3]^n[r-8]^n[r-14]^n[r-16],1);var i=this.h[0],a=this.h[1],s=this.h[2],o=this.h[3],c=this.h[4];for(r=0;r<n.length;r++){var u=~~(r/20),d=gu(bu(i,5),vu(u,a,s,o),c,n[r],_u[u]);c=o,o=s,s=bu(a,30),a=i,i=d}this.h[0]=yu(this.h[0],i),this.h[1]=yu(this.h[1],a),this.h[2]=yu(this.h[2],s),this.h[3]=yu(this.h[3],o),this.h[4]=yu(this.h[4],c)},Eu.prototype._digest=function(e){return"hex"===e?hu.toHex32(this.h,"big"):hu.split32(this.h,"big")};var Au=Vc,Ru=ru,Su=cu,ku=Kc,Ou=Au.sum32,Iu=Au.sum32_4,xu=Au.sum32_5,Cu=Su.ch32,Mu=Su.maj32,Pu=Su.s0_256,Nu=Su.s1_256,Bu=Su.g0_256,Du=Su.g1_256,Lu=Ru.BlockHash,Fu=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Uu(){if(!(this instanceof Uu))return new Uu;Lu.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=Fu,this.W=new Array(64)}Au.inherits(Uu,Lu);var ju=Uu;Uu.blockSize=512,Uu.outSize=256,Uu.hmacStrength=192,Uu.padLength=64,Uu.prototype._update=function(e,t){for(var n=this.W,r=0;r<16;r++)n[r]=e[t+r];for(;r<n.length;r++)n[r]=Iu(Du(n[r-2]),n[r-7],Bu(n[r-15]),n[r-16]);var i=this.h[0],a=this.h[1],s=this.h[2],o=this.h[3],c=this.h[4],u=this.h[5],d=this.h[6],f=this.h[7];for(ku(this.k.length===n.length),r=0;r<n.length;r++){var l=xu(f,Nu(c),Cu(c,u,d),this.k[r],n[r]),h=Ou(Pu(i),Mu(i,a,s));f=d,d=u,u=c,c=Ou(o,l),o=s,s=a,a=i,i=Ou(l,h)}this.h[0]=Ou(this.h[0],i),this.h[1]=Ou(this.h[1],a),this.h[2]=Ou(this.h[2],s),this.h[3]=Ou(this.h[3],o),this.h[4]=Ou(this.h[4],c),this.h[5]=Ou(this.h[5],u),this.h[6]=Ou(this.h[6],d),this.h[7]=Ou(this.h[7],f)},Uu.prototype._digest=function(e){return"hex"===e?Au.toHex32(this.h,"big"):Au.split32(this.h,"big")};var qu=Vc,zu=ju;function Hu(){if(!(this instanceof Hu))return new Hu;zu.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}qu.inherits(Hu,zu);var Gu=Hu;Hu.blockSize=512,Hu.outSize=224,Hu.hmacStrength=192,Hu.padLength=64,Hu.prototype._digest=function(e){return"hex"===e?qu.toHex32(this.h.slice(0,7),"big"):qu.split32(this.h.slice(0,7),"big")};var Wu=Vc,Vu=ru,Ku=Kc,Xu=Wu.rotr64_hi,$u=Wu.rotr64_lo,Ju=Wu.shr64_hi,Yu=Wu.shr64_lo,Qu=Wu.sum64,Zu=Wu.sum64_hi,ed=Wu.sum64_lo,td=Wu.sum64_4_hi,nd=Wu.sum64_4_lo,rd=Wu.sum64_5_hi,id=Wu.sum64_5_lo,ad=Vu.BlockHash,sd=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function od(){if(!(this instanceof od))return new od;ad.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=sd,this.W=new Array(160)}Wu.inherits(od,ad);var cd=od;function ud(e,t,n,r,i){var a=e&n^~e&i;return a<0&&(a+=4294967296),a}function dd(e,t,n,r,i,a){var s=t&r^~t&a;return s<0&&(s+=4294967296),s}function fd(e,t,n,r,i){var a=e&n^e&i^n&i;return a<0&&(a+=4294967296),a}function ld(e,t,n,r,i,a){var s=t&r^t&a^r&a;return s<0&&(s+=4294967296),s}function hd(e,t){var n=Xu(e,t,28)^Xu(t,e,2)^Xu(t,e,7);return n<0&&(n+=4294967296),n}function pd(e,t){var n=$u(e,t,28)^$u(t,e,2)^$u(t,e,7);return n<0&&(n+=4294967296),n}function md(e,t){var n=Xu(e,t,14)^Xu(e,t,18)^Xu(t,e,9);return n<0&&(n+=4294967296),n}function bd(e,t){var n=$u(e,t,14)^$u(e,t,18)^$u(t,e,9);return n<0&&(n+=4294967296),n}function yd(e,t){var n=Xu(e,t,1)^Xu(e,t,8)^Ju(e,t,7);return n<0&&(n+=4294967296),n}function gd(e,t){var n=$u(e,t,1)^$u(e,t,8)^Yu(e,t,7);return n<0&&(n+=4294967296),n}function vd(e,t){var n=Xu(e,t,19)^Xu(t,e,29)^Ju(e,t,6);return n<0&&(n+=4294967296),n}function wd(e,t){var n=$u(e,t,19)^$u(t,e,29)^Yu(e,t,6);return n<0&&(n+=4294967296),n}od.blockSize=1024,od.outSize=512,od.hmacStrength=192,od.padLength=128,od.prototype._prepareBlock=function(e,t){for(var n=this.W,r=0;r<32;r++)n[r]=e[t+r];for(;r<n.length;r+=2){var i=vd(n[r-4],n[r-3]),a=wd(n[r-4],n[r-3]),s=n[r-14],o=n[r-13],c=yd(n[r-30],n[r-29]),u=gd(n[r-30],n[r-29]),d=n[r-32],f=n[r-31];n[r]=td(i,a,s,o,c,u,d,f),n[r+1]=nd(i,a,s,o,c,u,d,f)}},od.prototype._update=function(e,t){this._prepareBlock(e,t);var n=this.W,r=this.h[0],i=this.h[1],a=this.h[2],s=this.h[3],o=this.h[4],c=this.h[5],u=this.h[6],d=this.h[7],f=this.h[8],l=this.h[9],h=this.h[10],p=this.h[11],m=this.h[12],b=this.h[13],y=this.h[14],g=this.h[15];Ku(this.k.length===n.length);for(var v=0;v<n.length;v+=2){var w=y,_=g,E=md(f,l),T=bd(f,l),A=ud(f,l,h,p,m),R=dd(f,l,h,p,m,b),S=this.k[v],k=this.k[v+1],O=n[v],I=n[v+1],x=rd(w,_,E,T,A,R,S,k,O,I),C=id(w,_,E,T,A,R,S,k,O,I);w=hd(r,i),_=pd(r,i),E=fd(r,i,a,s,o),T=ld(r,i,a,s,o,c);var M=Zu(w,_,E,T),P=ed(w,_,E,T);y=m,g=b,m=h,b=p,h=f,p=l,f=Zu(u,d,x,C),l=ed(d,d,x,C),u=o,d=c,o=a,c=s,a=r,s=i,r=Zu(x,C,M,P),i=ed(x,C,M,P)}Qu(this.h,0,r,i),Qu(this.h,2,a,s),Qu(this.h,4,o,c),Qu(this.h,6,u,d),Qu(this.h,8,f,l),Qu(this.h,10,h,p),Qu(this.h,12,m,b),Qu(this.h,14,y,g)},od.prototype._digest=function(e){return"hex"===e?Wu.toHex32(this.h,"big"):Wu.split32(this.h,"big")};var _d=Vc,Ed=cd;function Td(){if(!(this instanceof Td))return new Td;Ed.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}_d.inherits(Td,Ed);var Ad=Td;Td.blockSize=1024,Td.outSize=384,Td.hmacStrength=192,Td.padLength=128,Td.prototype._digest=function(e){return"hex"===e?_d.toHex32(this.h.slice(0,12),"big"):_d.split32(this.h.slice(0,12),"big")},ou.sha1=Tu,ou.sha224=Gu,ou.sha256=ju,ou.sha384=Ad,ou.sha512=cd;var Rd={},Sd=Vc,kd=ru,Od=Sd.rotl32,Id=Sd.sum32,xd=Sd.sum32_3,Cd=Sd.sum32_4,Md=kd.BlockHash;function Pd(){if(!(this instanceof Pd))return new Pd;Md.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function Nd(e,t,n,r){return e<=15?t^n^r:e<=31?t&n|~t&r:e<=47?(t|~n)^r:e<=63?t&r|n&~r:t^(n|~r)}function Bd(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function Dd(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}Sd.inherits(Pd,Md),Rd.ripemd160=Pd,Pd.blockSize=512,Pd.outSize=160,Pd.hmacStrength=192,Pd.padLength=64,Pd.prototype._update=function(e,t){for(var n=this.h[0],r=this.h[1],i=this.h[2],a=this.h[3],s=this.h[4],o=n,c=r,u=i,d=a,f=s,l=0;l<80;l++){var h=Id(Od(Cd(n,Nd(l,r,i,a),e[Ld[l]+t],Bd(l)),Ud[l]),s);n=s,s=a,a=Od(i,10),i=r,r=h,h=Id(Od(Cd(o,Nd(79-l,c,u,d),e[Fd[l]+t],Dd(l)),jd[l]),f),o=f,f=d,d=Od(u,10),u=c,c=h}h=xd(this.h[1],i,d),this.h[1]=xd(this.h[2],a,f),this.h[2]=xd(this.h[3],s,o),this.h[3]=xd(this.h[4],n,c),this.h[4]=xd(this.h[0],r,u),this.h[0]=h},Pd.prototype._digest=function(e){return"hex"===e?Sd.toHex32(this.h,"little"):Sd.split32(this.h,"little")};var Ld=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],Fd=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],Ud=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],jd=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],qd=Vc,zd=Kc;function Hd(e,t,n){if(!(this instanceof Hd))return new Hd(e,t,n);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(qd.toArray(t,n))}var Gd=Hd;Hd.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),zd(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},Hd.prototype.update=function(e,t){return this.inner.update(e,t),this},Hd.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)},function(e){var t=e;t.utils=Vc,t.common=ru,t.sha=ou,t.ripemd=Rd,t.hmac=Gd,t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160}(Wc);var Wd=ar(Wc);function Vd(e,t,n){return n={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&n.path)}},e(n,n.exports),n.exports}var Kd=Xd;function Xd(e,t){if(!e)throw new Error(t||"Assertion failed")}Xd.equal=function(e,t,n){if(e!=t)throw new Error(n||"Assertion failed: "+e+" != "+t)};var $d=Vd((function(e,t){var n=t;function r(e){return 1===e.length?"0"+e:e}function i(e){for(var t="",n=0;n<e.length;n++)t+=r(e[n].toString(16));return t}n.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var n=[];if("string"!=typeof e){for(var r=0;r<e.length;r++)n[r]=0|e[r];return n}if("hex"===t){(e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e);for(r=0;r<e.length;r+=2)n.push(parseInt(e[r]+e[r+1],16))}else for(r=0;r<e.length;r++){var i=e.charCodeAt(r),a=i>>8,s=255&i;a?n.push(a,s):n.push(s)}return n},n.zero2=r,n.toHex=i,n.encode=function(e,t){return"hex"===t?i(e):e}})),Jd=Vd((function(e,t){var n=t;n.assert=Kd,n.toArray=$d.toArray,n.zero2=$d.zero2,n.toHex=$d.toHex,n.encode=$d.encode,n.getNAF=function(e,t,n){var r=new Array(Math.max(e.bitLength(),n)+1);r.fill(0);for(var i=1<<t+1,a=e.clone(),s=0;s<r.length;s++){var o,c=a.andln(i-1);a.isOdd()?(o=c>(i>>1)-1?(i>>1)-c:c,a.isubn(o)):o=0,r[s]=o,a.iushrn(1)}return r},n.getJSF=function(e,t){var n=[[],[]];e=e.clone(),t=t.clone();for(var r,i=0,a=0;e.cmpn(-i)>0||t.cmpn(-a)>0;){var s,o,c=e.andln(3)+i&3,u=t.andln(3)+a&3;3===c&&(c=-1),3===u&&(u=-1),s=0==(1&c)?0:3!==(r=e.andln(7)+i&7)&&5!==r||2!==u?c:-c,n[0].push(s),o=0==(1&u)?0:3!==(r=t.andln(7)+a&7)&&5!==r||2!==c?u:-u,n[1].push(o),2*i===s+1&&(i=1-i),2*a===o+1&&(a=1-a),e.iushrn(1),t.iushrn(1)}return n},n.cachedProperty=function(e,t,n){var r="_"+t;e.prototype[t]=function(){return void 0!==this[r]?this[r]:this[r]=n.call(this)}},n.parseBytes=function(e){return"string"==typeof e?n.toArray(e,"hex"):e},n.intFromLE=function(e){return new di(e,"hex","le")}})),Yd=Jd.getNAF,Qd=Jd.getJSF,Zd=Jd.assert;function ef(e,t){this.type=e,this.p=new di(t.p,16),this.red=t.prime?di.red(t.prime):di.mont(this.p),this.zero=new di(0).toRed(this.red),this.one=new di(1).toRed(this.red),this.two=new di(2).toRed(this.red),this.n=t.n&&new di(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var n=this.n&&this.p.div(this.n);!n||n.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var tf=ef;function nf(e,t){this.curve=e,this.type=t,this.precomputed=null}ef.prototype.point=function(){throw new Error("Not implemented")},ef.prototype.validate=function(){throw new Error("Not implemented")},ef.prototype._fixedNafMul=function(e,t){Zd(e.precomputed);var n=e._getDoubles(),r=Yd(t,1,this._bitLength),i=(1<<n.step+1)-(n.step%2==0?2:1);i/=3;var a,s,o=[];for(a=0;a<r.length;a+=n.step){s=0;for(var c=a+n.step-1;c>=a;c--)s=(s<<1)+r[c];o.push(s)}for(var u=this.jpoint(null,null,null),d=this.jpoint(null,null,null),f=i;f>0;f--){for(a=0;a<o.length;a++)(s=o[a])===f?d=d.mixedAdd(n.points[a]):s===-f&&(d=d.mixedAdd(n.points[a].neg()));u=u.add(d)}return u.toP()},ef.prototype._wnafMul=function(e,t){var n=4,r=e._getNAFPoints(n);n=r.wnd;for(var i=r.points,a=Yd(t,n,this._bitLength),s=this.jpoint(null,null,null),o=a.length-1;o>=0;o--){for(var c=0;o>=0&&0===a[o];o--)c++;if(o>=0&&c++,s=s.dblp(c),o<0)break;var u=a[o];Zd(0!==u),s="affine"===e.type?u>0?s.mixedAdd(i[u-1>>1]):s.mixedAdd(i[-u-1>>1].neg()):u>0?s.add(i[u-1>>1]):s.add(i[-u-1>>1].neg())}return"affine"===e.type?s.toP():s},ef.prototype._wnafMulAdd=function(e,t,n,r,i){var a,s,o,c=this._wnafT1,u=this._wnafT2,d=this._wnafT3,f=0;for(a=0;a<r;a++){var l=(o=t[a])._getNAFPoints(e);c[a]=l.wnd,u[a]=l.points}for(a=r-1;a>=1;a-=2){var h=a-1,p=a;if(1===c[h]&&1===c[p]){var m=[t[h],null,null,t[p]];0===t[h].y.cmp(t[p].y)?(m[1]=t[h].add(t[p]),m[2]=t[h].toJ().mixedAdd(t[p].neg())):0===t[h].y.cmp(t[p].y.redNeg())?(m[1]=t[h].toJ().mixedAdd(t[p]),m[2]=t[h].add(t[p].neg())):(m[1]=t[h].toJ().mixedAdd(t[p]),m[2]=t[h].toJ().mixedAdd(t[p].neg()));var b=[-3,-1,-5,-7,0,7,5,1,3],y=Qd(n[h],n[p]);for(f=Math.max(y[0].length,f),d[h]=new Array(f),d[p]=new Array(f),s=0;s<f;s++){var g=0|y[0][s],v=0|y[1][s];d[h][s]=b[3*(g+1)+(v+1)],d[p][s]=0,u[h]=m}}else d[h]=Yd(n[h],c[h],this._bitLength),d[p]=Yd(n[p],c[p],this._bitLength),f=Math.max(d[h].length,f),f=Math.max(d[p].length,f)}var w=this.jpoint(null,null,null),_=this._wnafT4;for(a=f;a>=0;a--){for(var E=0;a>=0;){var T=!0;for(s=0;s<r;s++)_[s]=0|d[s][a],0!==_[s]&&(T=!1);if(!T)break;E++,a--}if(a>=0&&E++,w=w.dblp(E),a<0)break;for(s=0;s<r;s++){var A=_[s];0!==A&&(A>0?o=u[s][A-1>>1]:A<0&&(o=u[s][-A-1>>1].neg()),w="affine"===o.type?w.mixedAdd(o):w.add(o))}}for(a=0;a<r;a++)u[a]=null;return i?w:w.toP()},ef.BasePoint=nf,nf.prototype.eq=function(){throw new Error("Not implemented")},nf.prototype.validate=function(){return this.curve.validate(this)},ef.prototype.decodePoint=function(e,t){e=Jd.toArray(e,t);var n=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*n)return 6===e[0]?Zd(e[e.length-1]%2==0):7===e[0]&&Zd(e[e.length-1]%2==1),this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));if((2===e[0]||3===e[0])&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),3===e[0]);throw new Error("Unknown point format")},nf.prototype.encodeCompressed=function(e){return this.encode(e,!0)},nf.prototype._encode=function(e){var t=this.curve.p.byteLength(),n=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",t))},nf.prototype.encode=function(e,t){return Jd.encode(this._encode(t),e)},nf.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},nf.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},nf.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],r=this,i=0;i<t;i+=e){for(var a=0;a<e;a++)r=r.dbl();n.push(r)}return{step:e,points:n}},nf.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],n=(1<<e)-1,r=1===n?null:this.dbl(),i=1;i<n;i++)t[i]=t[i-1].add(r);return{wnd:e,points:t}},nf.prototype._getBeta=function(){return null},nf.prototype.dblp=function(e){for(var t=this,n=0;n<e;n++)t=t.dbl();return t};var rf=Vd((function(e){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}})),af=Jd.assert;function sf(e){tf.call(this,"short",e),this.a=new di(e.a,16).toRed(this.red),this.b=new di(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}rf(sf,tf);var of=sf;function cf(e,t,n,r){tf.BasePoint.call(this,e,"affine"),null===t&&null===n?(this.x=null,this.y=null,this.inf=!0):(this.x=new di(t,16),this.y=new di(n,16),r&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function uf(e,t,n,r){tf.BasePoint.call(this,e,"jacobian"),null===t&&null===n&&null===r?(this.x=this.curve.one,this.y=this.curve.one,this.z=new di(0)):(this.x=new di(t,16),this.y=new di(n,16),this.z=new di(r,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}sf.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,n;if(e.beta)t=new di(e.beta,16).toRed(this.red);else{var r=this._getEndoRoots(this.p);t=(t=r[0].cmp(r[1])<0?r[0]:r[1]).toRed(this.red)}if(e.lambda)n=new di(e.lambda,16);else{var i=this._getEndoRoots(this.n);0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(t))?n=i[0]:(n=i[1],af(0===this.g.mul(n).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:n,basis:e.basis?e.basis.map((function(e){return{a:new di(e.a,16),b:new di(e.b,16)}})):this._getEndoBasis(n)}}},sf.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:di.mont(e),n=new di(2).toRed(t).redInvm(),r=n.redNeg(),i=new di(3).toRed(t).redNeg().redSqrt().redMul(n);return[r.redAdd(i).fromRed(),r.redSub(i).fromRed()]},sf.prototype._getEndoBasis=function(e){for(var t,n,r,i,a,s,o,c,u,d=this.n.ushrn(Math.floor(this.n.bitLength()/2)),f=e,l=this.n.clone(),h=new di(1),p=new di(0),m=new di(0),b=new di(1),y=0;0!==f.cmpn(0);){var g=l.div(f);c=l.sub(g.mul(f)),u=m.sub(g.mul(h));var v=b.sub(g.mul(p));if(!r&&c.cmp(d)<0)t=o.neg(),n=h,r=c.neg(),i=u;else if(r&&2==++y)break;o=c,l=f,f=c,m=h,h=u,b=p,p=v}a=c.neg(),s=u;var w=r.sqr().add(i.sqr());return a.sqr().add(s.sqr()).cmp(w)>=0&&(a=t,s=n),r.negative&&(r=r.neg(),i=i.neg()),a.negative&&(a=a.neg(),s=s.neg()),[{a:r,b:i},{a:a,b:s}]},sf.prototype._endoSplit=function(e){var t=this.endo.basis,n=t[0],r=t[1],i=r.b.mul(e).divRound(this.n),a=n.b.neg().mul(e).divRound(this.n),s=i.mul(n.a),o=a.mul(r.a),c=i.mul(n.b),u=a.mul(r.b);return{k1:e.sub(s).sub(o),k2:c.add(u).neg()}},sf.prototype.pointFromX=function(e,t){(e=new di(e,16)).red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),r=n.redSqrt();if(0!==r.redSqr().redSub(n).cmp(this.zero))throw new Error("invalid point");var i=r.fromRed().isOdd();return(t&&!i||!t&&i)&&(r=r.redNeg()),this.point(e,r)},sf.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,n=e.y,r=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(r).redIAdd(this.b);return 0===n.redSqr().redISub(i).cmpn(0)},sf.prototype._endoWnafMulAdd=function(e,t,n){for(var r=this._endoWnafT1,i=this._endoWnafT2,a=0;a<e.length;a++){var s=this._endoSplit(t[a]),o=e[a],c=o._getBeta();s.k1.negative&&(s.k1.ineg(),o=o.neg(!0)),s.k2.negative&&(s.k2.ineg(),c=c.neg(!0)),r[2*a]=o,r[2*a+1]=c,i[2*a]=s.k1,i[2*a+1]=s.k2}for(var u=this._wnafMulAdd(1,r,i,2*a,n),d=0;d<2*a;d++)r[d]=null,i[d]=null;return u},rf(cf,tf.BasePoint),sf.prototype.point=function(e,t,n){return new cf(this,e,t,n)},sf.prototype.pointFromJSON=function(e,t){return cf.fromJSON(this,e,t)},cf.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,r=function(e){return n.point(e.x.redMul(n.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(r)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(r)}}}return t}},cf.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},cf.fromJSON=function(e,t,n){"string"==typeof t&&(t=JSON.parse(t));var r=e.point(t[0],t[1],n);if(!t[2])return r;function i(t){return e.point(t[0],t[1],n)}var a=t[2];return r.precomputed={beta:null,doubles:a.doubles&&{step:a.doubles.step,points:[r].concat(a.doubles.points.map(i))},naf:a.naf&&{wnd:a.naf.wnd,points:[r].concat(a.naf.points.map(i))}},r},cf.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},cf.prototype.isInfinity=function(){return this.inf},cf.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var n=t.redSqr().redISub(this.x).redISub(e.x),r=t.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,r)},cf.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,n=this.x.redSqr(),r=e.redInvm(),i=n.redAdd(n).redIAdd(n).redIAdd(t).redMul(r),a=i.redSqr().redISub(this.x.redAdd(this.x)),s=i.redMul(this.x.redSub(a)).redISub(this.y);return this.curve.point(a,s)},cf.prototype.getX=function(){return this.x.fromRed()},cf.prototype.getY=function(){return this.y.fromRed()},cf.prototype.mul=function(e){return e=new di(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},cf.prototype.mulAdd=function(e,t,n){var r=[this,t],i=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(r,i):this.curve._wnafMulAdd(1,r,i,2)},cf.prototype.jmulAdd=function(e,t,n){var r=[this,t],i=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(r,i,!0):this.curve._wnafMulAdd(1,r,i,2,!0)},cf.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},cf.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,r=function(e){return e.neg()};t.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(r)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(r)}}}return t},cf.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},rf(uf,tf.BasePoint),sf.prototype.jpoint=function(e,t,n){return new uf(this,e,t,n)},uf.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),n=this.x.redMul(t),r=this.y.redMul(t).redMul(e);return this.curve.point(n,r)},uf.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},uf.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),n=this.z.redSqr(),r=this.x.redMul(t),i=e.x.redMul(n),a=this.y.redMul(t.redMul(e.z)),s=e.y.redMul(n.redMul(this.z)),o=r.redSub(i),c=a.redSub(s);if(0===o.cmpn(0))return 0!==c.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=o.redSqr(),d=u.redMul(o),f=r.redMul(u),l=c.redSqr().redIAdd(d).redISub(f).redISub(f),h=c.redMul(f.redISub(l)).redISub(a.redMul(d)),p=this.z.redMul(e.z).redMul(o);return this.curve.jpoint(l,h,p)},uf.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),n=this.x,r=e.x.redMul(t),i=this.y,a=e.y.redMul(t).redMul(this.z),s=n.redSub(r),o=i.redSub(a);if(0===s.cmpn(0))return 0!==o.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=s.redSqr(),u=c.redMul(s),d=n.redMul(c),f=o.redSqr().redIAdd(u).redISub(d).redISub(d),l=o.redMul(d.redISub(f)).redISub(i.redMul(u)),h=this.z.redMul(s);return this.curve.jpoint(f,l,h)},uf.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var n=this;for(t=0;t<e;t++)n=n.dbl();return n}var r=this.curve.a,i=this.curve.tinv,a=this.x,s=this.y,o=this.z,c=o.redSqr().redSqr(),u=s.redAdd(s);for(t=0;t<e;t++){var d=a.redSqr(),f=u.redSqr(),l=f.redSqr(),h=d.redAdd(d).redIAdd(d).redIAdd(r.redMul(c)),p=a.redMul(f),m=h.redSqr().redISub(p.redAdd(p)),b=p.redISub(m),y=h.redMul(b);y=y.redIAdd(y).redISub(l);var g=u.redMul(o);t+1<e&&(c=c.redMul(l)),a=m,o=g,u=y}return this.curve.jpoint(a,u.redMul(i),o)},uf.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},uf.prototype._zeroDbl=function(){var e,t,n;if(this.zOne){var r=this.x.redSqr(),i=this.y.redSqr(),a=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(r).redISub(a);s=s.redIAdd(s);var o=r.redAdd(r).redIAdd(r),c=o.redSqr().redISub(s).redISub(s),u=a.redIAdd(a);u=(u=u.redIAdd(u)).redIAdd(u),e=c,t=o.redMul(s.redISub(c)).redISub(u),n=this.y.redAdd(this.y)}else{var d=this.x.redSqr(),f=this.y.redSqr(),l=f.redSqr(),h=this.x.redAdd(f).redSqr().redISub(d).redISub(l);h=h.redIAdd(h);var p=d.redAdd(d).redIAdd(d),m=p.redSqr(),b=l.redIAdd(l);b=(b=b.redIAdd(b)).redIAdd(b),e=m.redISub(h).redISub(h),t=p.redMul(h.redISub(e)).redISub(b),n=(n=this.y.redMul(this.z)).redIAdd(n)}return this.curve.jpoint(e,t,n)},uf.prototype._threeDbl=function(){var e,t,n;if(this.zOne){var r=this.x.redSqr(),i=this.y.redSqr(),a=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(r).redISub(a);s=s.redIAdd(s);var o=r.redAdd(r).redIAdd(r).redIAdd(this.curve.a),c=o.redSqr().redISub(s).redISub(s);e=c;var u=a.redIAdd(a);u=(u=u.redIAdd(u)).redIAdd(u),t=o.redMul(s.redISub(c)).redISub(u),n=this.y.redAdd(this.y)}else{var d=this.z.redSqr(),f=this.y.redSqr(),l=this.x.redMul(f),h=this.x.redSub(d).redMul(this.x.redAdd(d));h=h.redAdd(h).redIAdd(h);var p=l.redIAdd(l),m=(p=p.redIAdd(p)).redAdd(p);e=h.redSqr().redISub(m),n=this.y.redAdd(this.z).redSqr().redISub(f).redISub(d);var b=f.redSqr();b=(b=(b=b.redIAdd(b)).redIAdd(b)).redIAdd(b),t=h.redMul(p.redISub(e)).redISub(b)}return this.curve.jpoint(e,t,n)},uf.prototype._dbl=function(){var e=this.curve.a,t=this.x,n=this.y,r=this.z,i=r.redSqr().redSqr(),a=t.redSqr(),s=n.redSqr(),o=a.redAdd(a).redIAdd(a).redIAdd(e.redMul(i)),c=t.redAdd(t),u=(c=c.redIAdd(c)).redMul(s),d=o.redSqr().redISub(u.redAdd(u)),f=u.redISub(d),l=s.redSqr();l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var h=o.redMul(f).redISub(l),p=n.redAdd(n).redMul(r);return this.curve.jpoint(d,h,p)},uf.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),n=this.z.redSqr(),r=t.redSqr(),i=e.redAdd(e).redIAdd(e),a=i.redSqr(),s=this.x.redAdd(t).redSqr().redISub(e).redISub(r),o=(s=(s=(s=s.redIAdd(s)).redAdd(s).redIAdd(s)).redISub(a)).redSqr(),c=r.redIAdd(r);c=(c=(c=c.redIAdd(c)).redIAdd(c)).redIAdd(c);var u=i.redIAdd(s).redSqr().redISub(a).redISub(o).redISub(c),d=t.redMul(u);d=(d=d.redIAdd(d)).redIAdd(d);var f=this.x.redMul(o).redISub(d);f=(f=f.redIAdd(f)).redIAdd(f);var l=this.y.redMul(u.redMul(c.redISub(u)).redISub(s.redMul(o)));l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var h=this.z.redAdd(s).redSqr().redISub(n).redISub(o);return this.curve.jpoint(f,l,h)},uf.prototype.mul=function(e,t){return e=new di(e,t),this.curve._wnafMul(this,e)},uf.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),n=e.z.redSqr();if(0!==this.x.redMul(n).redISub(e.x.redMul(t)).cmpn(0))return!1;var r=t.redMul(this.z),i=n.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(r)).cmpn(0)},uf.prototype.eqXToP=function(e){var t=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(n))return!0;for(var r=e.clone(),i=this.curve.redN.redMul(t);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(i),0===this.x.cmp(n))return!0}},uf.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},uf.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};var df=Vd((function(e,t){var n=t;n.base=tf,n.short=of,n.mont=null,n.edwards=null})),ff=Vd((function(e,t){var n,r=t,i=Jd.assert;function a(e){"short"===e.type?this.curve=new df.short(e):"edwards"===e.type?this.curve=new df.edwards(e):this.curve=new df.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function s(e,t){Object.defineProperty(r,e,{configurable:!0,enumerable:!0,get:function(){var n=new a(t);return Object.defineProperty(r,e,{configurable:!0,enumerable:!0,value:n}),n}})}r.PresetCurve=a,s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Wd.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Wd.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Wd.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Wd.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Wd.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Wd.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Wd.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{n=null.crash()}catch(e){n=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Wd.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",n]})}));function lf(e){if(!(this instanceof lf))return new lf(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=$d.toArray(e.entropy,e.entropyEnc||"hex"),n=$d.toArray(e.nonce,e.nonceEnc||"hex"),r=$d.toArray(e.pers,e.persEnc||"hex");Kd(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,n,r)}var hf=lf;lf.prototype._init=function(e,t,n){var r=e.concat(t).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(r),this._reseed=1,this.reseedInterval=281474976710656},lf.prototype._hmac=function(){return new Wd.hmac(this.hash,this.K)},lf.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},lf.prototype.reseed=function(e,t,n,r){"string"!=typeof t&&(r=n,n=t,t=null),e=$d.toArray(e,t),n=$d.toArray(n,r),Kd(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1},lf.prototype.generate=function(e,t,n,r){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof t&&(r=n,n=t,t=null),n&&(n=$d.toArray(n,r||"hex"),this._update(n));for(var i=[];i.length<e;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var a=i.slice(0,e);return this._update(n),this._reseed++,$d.encode(a,t)};var pf=Jd.assert;function mf(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var bf=mf;mf.fromPublic=function(e,t,n){return t instanceof mf?t:new mf(e,{pub:t,pubEnc:n})},mf.fromPrivate=function(e,t,n){return t instanceof mf?t:new mf(e,{priv:t,privEnc:n})},mf.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},mf.prototype.getPublic=function(e,t){return"string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},mf.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},mf.prototype._importPrivate=function(e,t){this.priv=new di(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},mf.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?pf(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||pf(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},mf.prototype.derive=function(e){return e.validate()||pf(e.validate(),"public point not validated"),e.mul(this.priv).getX()},mf.prototype.sign=function(e,t,n){return this.ec.sign(e,this,t,n)},mf.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},mf.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var yf=Jd.assert;function gf(e,t){if(e instanceof gf)return e;this._importDER(e,t)||(yf(e.r&&e.s,"Signature without r or s"),this.r=new di(e.r,16),this.s=new di(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}var vf=gf;function wf(){this.place=0}function _f(e,t){var n=e[t.place++];if(!(128&n))return n;var r=15&n;if(0===r||r>4)return!1;for(var i=0,a=0,s=t.place;a<r;a++,s++)i<<=8,i|=e[s],i>>>=0;return!(i<=127)&&(t.place=s,i)}function Ef(e){for(var t=0,n=e.length-1;!e[t]&&!(128&e[t+1])&&t<n;)t++;return 0===t?e:e.slice(t)}function Tf(e,t){if(t<128)e.push(t);else{var n=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|n);--n;)e.push(t>>>(n<<3)&255);e.push(t)}}gf.prototype._importDER=function(e,t){e=Jd.toArray(e,t);var n=new wf;if(48!==e[n.place++])return!1;var r=_f(e,n);if(!1===r)return!1;if(r+n.place!==e.length)return!1;if(2!==e[n.place++])return!1;var i=_f(e,n);if(!1===i)return!1;var a=e.slice(n.place,i+n.place);if(n.place+=i,2!==e[n.place++])return!1;var s=_f(e,n);if(!1===s)return!1;if(e.length!==s+n.place)return!1;var o=e.slice(n.place,s+n.place);if(0===a[0]){if(!(128&a[1]))return!1;a=a.slice(1)}if(0===o[0]){if(!(128&o[1]))return!1;o=o.slice(1)}return this.r=new di(a),this.s=new di(o),this.recoveryParam=null,!0},gf.prototype.toDER=function(e){var t=this.r.toArray(),n=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&n[0]&&(n=[0].concat(n)),t=Ef(t),n=Ef(n);!(n[0]||128&n[1]);)n=n.slice(1);var r=[2];Tf(r,t.length),(r=r.concat(t)).push(2),Tf(r,n.length);var i=r.concat(n),a=[48];return Tf(a,i.length),a=a.concat(i),Jd.encode(a,e)};var Af=function(){throw new Error("unsupported")},Rf=Jd.assert;function Sf(e){if(!(this instanceof Sf))return new Sf(e);"string"==typeof e&&(Rf(Object.prototype.hasOwnProperty.call(ff,e),"Unknown curve "+e),e=ff[e]),e instanceof ff.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}var kf=Sf;Sf.prototype.keyPair=function(e){return new bf(this,e)},Sf.prototype.keyFromPrivate=function(e,t){return bf.fromPrivate(this,e,t)},Sf.prototype.keyFromPublic=function(e,t){return bf.fromPublic(this,e,t)},Sf.prototype.genKeyPair=function(e){e||(e={});for(var t=new hf({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||Af(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),r=this.n.sub(new di(2));;){var i=new di(t.generate(n));if(!(i.cmp(r)>0))return i.iaddn(1),this.keyFromPrivate(i)}},Sf.prototype._truncateToN=function(e,t){var n=8*e.byteLength()-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},Sf.prototype.sign=function(e,t,n,r){"object"==typeof n&&(r=n,n=null),r||(r={}),t=this.keyFromPrivate(t,n),e=this._truncateToN(new di(e,16));for(var i=this.n.byteLength(),a=t.getPrivate().toArray("be",i),s=e.toArray("be",i),o=new hf({hash:this.hash,entropy:a,nonce:s,pers:r.pers,persEnc:r.persEnc||"utf8"}),c=this.n.sub(new di(1)),u=0;;u++){var d=r.k?r.k(u):new di(o.generate(this.n.byteLength()));if(!((d=this._truncateToN(d,!0)).cmpn(1)<=0||d.cmp(c)>=0)){var f=this.g.mul(d);if(!f.isInfinity()){var l=f.getX(),h=l.umod(this.n);if(0!==h.cmpn(0)){var p=d.invm(this.n).mul(h.mul(t.getPrivate()).iadd(e));if(0!==(p=p.umod(this.n)).cmpn(0)){var m=(f.getY().isOdd()?1:0)|(0!==l.cmp(h)?2:0);return r.canonical&&p.cmp(this.nh)>0&&(p=this.n.sub(p),m^=1),new vf({r:h,s:p,recoveryParam:m})}}}}}},Sf.prototype.verify=function(e,t,n,r){e=this._truncateToN(new di(e,16)),n=this.keyFromPublic(n,r);var i=(t=new vf(t,"hex")).r,a=t.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0)return!1;if(a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var s,o=a.invm(this.n),c=o.mul(e).umod(this.n),u=o.mul(i).umod(this.n);return this.curve._maxwellTrick?!(s=this.g.jmulAdd(c,n.getPublic(),u)).isInfinity()&&s.eqXToP(i):!(s=this.g.mulAdd(c,n.getPublic(),u)).isInfinity()&&0===s.getX().umod(this.n).cmp(i)},Sf.prototype.recoverPubKey=function(e,t,n,r){Rf((3&n)===n,"The recovery param is more than two bits"),t=new vf(t,r);var i=this.n,a=new di(e),s=t.r,o=t.s,c=1&n,u=n>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&u)throw new Error("Unable to find sencond key candinate");s=u?this.curve.pointFromX(s.add(this.curve.n),c):this.curve.pointFromX(s,c);var d=t.r.invm(i),f=i.sub(a).mul(d).umod(i),l=o.mul(d).umod(i);return this.g.mulAdd(f,s,l)},Sf.prototype.getKeyRecoveryParam=function(e,t,n,r){if(null!==(t=new vf(t,r)).recoveryParam)return t.recoveryParam;for(var i=0;i<4;i++){var a;try{a=this.recoverPubKey(e,t,i)}catch(e){continue}if(a.eq(n))return i}throw new Error("Unable to find valid recovery factor")};var Of=Vd((function(e,t){var n=t;n.version="6.5.4",n.utils=Jd,n.rand=function(){throw new Error("unsupported")},n.curve=df,n.curves=ff,n.ec=kf,n.eddsa=null})),If=Of.ec;const xf=new wi("signing-key/5.7.0");let Cf=null;function Mf(){return Cf||(Cf=new If("secp256k1")),Cf}class Pf{constructor(e){ba(this,"curve","secp256k1"),ba(this,"privateKey",Ni(e)),32!==Bi(this.privateKey)&&xf.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const t=Mf().keyFromPrivate(Oi(this.privateKey));ba(this,"publicKey","0x"+t.getPublic(!1,"hex")),ba(this,"compressedPublicKey","0x"+t.getPublic(!0,"hex")),ba(this,"_isSigningKey",!0)}_addPoint(e){const t=Mf().keyFromPublic(Oi(this.publicKey)),n=Mf().keyFromPublic(Oi(e));return"0x"+t.pub.add(n.pub).encodeCompressed("hex")}signDigest(e){const t=Mf().keyFromPrivate(Oi(this.privateKey)),n=Oi(e);32!==n.length&&xf.throwArgumentError("bad digest length","digest",e);const r=t.sign(n,{canonical:!0});return qi({recoveryParam:r.recoveryParam,r:ji("0x"+r.r.toString(16),32),s:ji("0x"+r.s.toString(16),32)})}computeSharedSecret(e){const t=Mf().keyFromPrivate(Oi(this.privateKey)),n=Mf().keyFromPublic(Oi(Bf(e)));return ji("0x"+t.derive(n.getPublic()).toString(16),32)}static isSigningKey(e){return!(!e||!e._isSigningKey)}}function Nf(e,t){const n=qi(t),r={r:Oi(n.r),s:Oi(n.s)};return"0x"+Mf().recoverPubKey(Oi(e),r,n.recoveryParam).encode("hex",!1)}function Bf(e,t){const n=Oi(e);if(32===n.length){const e=new Pf(n);return t?"0x"+Mf().keyFromPrivate(n).getPublic(!0,"hex"):e.publicKey}return 33===n.length?t?Ni(n):"0x"+Mf().keyFromPublic(n).getPublic(!1,"hex"):65===n.length?t?"0x"+Mf().keyFromPublic(n).getPublic(!0,"hex"):Ni(n):xf.throwArgumentError("invalid public or private key","key","[REDACTED]")}var Df=Object.freeze({__proto__:null,SigningKey:Pf,computePublicKey:Bf,recoverPublicKey:Nf});const Lf=new wi("transactions/5.7.0");var Ff;function Uf(e){return"0x"===e?null:vs(e)}function jf(e){return"0x"===e?Fs:Ji.from(e)}!function(e){e[e.legacy=0]="legacy",e[e.eip2930=1]="eip2930",e[e.eip1559=2]="eip1559"}(Ff||(Ff={}));const qf=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],zf={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function Hf(e){return vs(Di(rs(Di(Bf(e),1)),12))}function Gf(e,t){return Hf(Nf(Oi(e),t))}function Wf(e,t){const n=xi(Ji.from(e).toHexString());return n.length>32&&Lf.throwArgumentError("invalid length for "+t,"transaction:"+t,e),n}function Vf(e,t){return{address:vs(e),storageKeys:(t||[]).map(((t,n)=>(32!==Bi(t)&&Lf.throwArgumentError("invalid access list storageKey",`accessList[${e}:${n}]`,t),t.toLowerCase())))}}function Kf(e){if(Array.isArray(e))return e.map(((e,t)=>Array.isArray(e)?(e.length>2&&Lf.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${t}]`,e),Vf(e[0],e[1])):Vf(e.address,e.storageKeys)));const t=Object.keys(e).map((t=>{const n=e[t].reduce(((e,t)=>(e[t]=!0,e)),{});return Vf(t,Object.keys(n).sort())}));return t.sort(((e,t)=>e.address.localeCompare(t.address))),t}function Xf(e){return Kf(e).map((e=>[e.address,e.storageKeys]))}function $f(e,t){if(null!=e.gasPrice){const t=Ji.from(e.gasPrice),n=Ji.from(e.maxFeePerGas||0);t.eq(n)||Lf.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:t,maxFeePerGas:n})}const n=[Wf(e.chainId||0,"chainId"),Wf(e.nonce||0,"nonce"),Wf(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Wf(e.maxFeePerGas||0,"maxFeePerGas"),Wf(e.gasLimit||0,"gasLimit"),null!=e.to?vs(e.to):"0x",Wf(e.value||0,"value"),e.data||"0x",Xf(e.accessList||[])];if(t){const e=qi(t);n.push(Wf(e.recoveryParam,"recoveryParam")),n.push(xi(e.r)),n.push(xi(e.s))}return Li(["0x02",us(n)])}function Jf(e,t){const n=[Wf(e.chainId||0,"chainId"),Wf(e.nonce||0,"nonce"),Wf(e.gasPrice||0,"gasPrice"),Wf(e.gasLimit||0,"gasLimit"),null!=e.to?vs(e.to):"0x",Wf(e.value||0,"value"),e.data||"0x",Xf(e.accessList||[])];if(t){const e=qi(t);n.push(Wf(e.recoveryParam,"recoveryParam")),n.push(xi(e.r)),n.push(xi(e.s))}return Li(["0x01",us(n)])}function Yf(e,t){if(null==e.type||0===e.type)return null!=e.accessList&&Lf.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",e),function(e,t){va(e,zf);const n=[];qf.forEach((function(t){let r=e[t.name]||[];const i={};t.numeric&&(i.hexPad="left"),r=Oi(Ni(r,i)),t.length&&r.length!==t.length&&r.length>0&&Lf.throwArgumentError("invalid length for "+t.name,"transaction:"+t.name,r),t.maxLength&&(r=xi(r),r.length>t.maxLength&&Lf.throwArgumentError("invalid length for "+t.name,"transaction:"+t.name,r)),n.push(Ni(r))}));let r=0;if(null!=e.chainId?(r=e.chainId,"number"!=typeof r&&Lf.throwArgumentError("invalid transaction.chainId","transaction",e)):t&&!Ri(t)&&t.v>28&&(r=Math.floor((t.v-35)/2)),0!==r&&(n.push(Ni(r)),n.push("0x"),n.push("0x")),!t)return us(n);const i=qi(t);let a=27+i.recoveryParam;return 0!==r?(n.pop(),n.pop(),n.pop(),a+=2*r+8,i.v>28&&i.v!==a&&Lf.throwArgumentError("transaction.chainId/signature.v mismatch","signature",t)):i.v!==a&&Lf.throwArgumentError("transaction.chainId/signature.v mismatch","signature",t),n.push(Ni(a)),n.push(xi(Oi(i.r))),n.push(xi(Oi(i.s))),us(n)}(e,t);switch(e.type){case 1:return Jf(e,t);case 2:return $f(e,t)}return Lf.throwError(`unsupported transaction type: ${e.type}`,wi.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:e.type})}function Qf(e,t,n){try{const n=jf(t[0]).toNumber();if(0!==n&&1!==n)throw new Error("bad recid");e.v=n}catch(e){Lf.throwArgumentError("invalid v for transaction type: 1","v",t[0])}e.r=ji(t[1],32),e.s=ji(t[2],32);try{const t=rs(n(e));e.from=Gf(t,{r:e.r,s:e.s,recoveryParam:e.v})}catch(e){}}function Zf(e){const t=Oi(e);if(t[0]>127)return function(e){const t=ls(e);9!==t.length&&6!==t.length&&Lf.throwArgumentError("invalid raw transaction","rawTransaction",e);const n={nonce:jf(t[0]).toNumber(),gasPrice:jf(t[1]),gasLimit:jf(t[2]),to:Uf(t[3]),value:jf(t[4]),data:t[5],chainId:0};if(6===t.length)return n;try{n.v=Ji.from(t[6]).toNumber()}catch(e){return n}if(n.r=ji(t[7],32),n.s=ji(t[8],32),Ji.from(n.r).isZero()&&Ji.from(n.s).isZero())n.chainId=n.v,n.v=0;else{n.chainId=Math.floor((n.v-35)/2),n.chainId<0&&(n.chainId=0);let r=n.v-27;const i=t.slice(0,6);0!==n.chainId&&(i.push(Ni(n.chainId)),i.push("0x"),i.push("0x"),r-=2*n.chainId+8);const a=rs(us(i));try{n.from=Gf(a,{r:Ni(n.r),s:Ni(n.s),recoveryParam:r})}catch(e){}n.hash=rs(e)}return n.type=null,n}(t);switch(t[0]){case 1:return function(e){const t=ls(e.slice(1));8!==t.length&&11!==t.length&&Lf.throwArgumentError("invalid component count for transaction type: 1","payload",Ni(e));const n={type:1,chainId:jf(t[0]).toNumber(),nonce:jf(t[1]).toNumber(),gasPrice:jf(t[2]),gasLimit:jf(t[3]),to:Uf(t[4]),value:jf(t[5]),data:t[6],accessList:Kf(t[7])};return 8===t.length||(n.hash=rs(e),Qf(n,t.slice(8),Jf)),n}(t);case 2:return function(e){const t=ls(e.slice(1));9!==t.length&&12!==t.length&&Lf.throwArgumentError("invalid component count for transaction type: 2","payload",Ni(e));const n=jf(t[2]),r=jf(t[3]),i={type:2,chainId:jf(t[0]).toNumber(),nonce:jf(t[1]).toNumber(),maxPriorityFeePerGas:n,maxFeePerGas:r,gasPrice:null,gasLimit:jf(t[4]),to:Uf(t[5]),value:jf(t[6]),data:t[7],accessList:Kf(t[8])};return 9===t.length||(i.hash=rs(e),Qf(i,t.slice(9),$f)),i}(t)}return Lf.throwError(`unsupported transaction type: ${t[0]}`,wi.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:t[0]})}var el=Object.freeze({__proto__:null,get TransactionTypes(){return Ff},accessListify:Kf,computeAddress:Hf,parse:Zf,recoverAddress:Gf,serialize:Yf});var tl=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function s(e){try{c(r.next(e))}catch(e){a(e)}}function o(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}c((r=r.apply(e,t||[])).next())}))};const nl=new wi("contracts/5.7.0"),rl={chainId:!0,data:!0,from:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0,customData:!0,ccipReadEnabled:!0};function il(e,t){return tl(this,void 0,void 0,(function*(){const n=yield t;"string"!=typeof n&&nl.throwArgumentError("invalid address or ENS name","name",n);try{return vs(n)}catch(e){}e||nl.throwError("a provider or signer is needed to resolve ENS names",wi.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const r=yield e.resolveName(n);return null==r&&nl.throwArgumentError("resolver or addr is not configured for ENS name","name",n),r}))}function al(e,t,n){return tl(this,void 0,void 0,(function*(){return Array.isArray(n)?yield Promise.all(n.map(((n,r)=>al(e,Array.isArray(t)?t[r]:t[n.name],n)))):"address"===n.type?yield il(e,t):"tuple"===n.type?yield al(e,t,n.components):"array"===n.baseType?Array.isArray(t)?yield Promise.all(t.map((t=>al(e,t,n.arrayChildren)))):Promise.reject(nl.makeError("invalid value for array",wi.errors.INVALID_ARGUMENT,{argument:"value",value:t})):t}))}function sl(e,t,n){return tl(this,void 0,void 0,(function*(){let r={};n.length===t.inputs.length+1&&"object"==typeof n[n.length-1]&&(r=wa(n.pop())),nl.checkArgumentCount(n.length,t.inputs.length,"passed to contract"),e.signer?r.from?r.from=ga({override:il(e.signer,r.from),signer:e.signer.getAddress()}).then((e=>tl(this,void 0,void 0,(function*(){return vs(e.signer)!==e.override&&nl.throwError("Contract with a Signer cannot override from",wi.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),e.override})))):r.from=e.signer.getAddress():r.from&&(r.from=il(e.provider,r.from));const i=yield ga({args:al(e.signer||e.provider,n,t.inputs),address:e.resolvedAddress,overrides:ga(r)||{}}),a=e.interface.encodeFunctionData(t,i.args),s={data:a,to:i.address},o=i.overrides;if(null!=o.nonce&&(s.nonce=Ji.from(o.nonce).toNumber()),null!=o.gasLimit&&(s.gasLimit=Ji.from(o.gasLimit)),null!=o.gasPrice&&(s.gasPrice=Ji.from(o.gasPrice)),null!=o.maxFeePerGas&&(s.maxFeePerGas=Ji.from(o.maxFeePerGas)),null!=o.maxPriorityFeePerGas&&(s.maxPriorityFeePerGas=Ji.from(o.maxPriorityFeePerGas)),null!=o.from&&(s.from=o.from),null!=o.type&&(s.type=o.type),null!=o.accessList&&(s.accessList=Kf(o.accessList)),null==s.gasLimit&&null!=t.gas){let e=21e3;const n=Oi(a);for(let t=0;t<n.length;t++)e+=4,n[t]&&(e+=64);s.gasLimit=Ji.from(t.gas).add(e)}if(o.value){const e=Ji.from(o.value);e.isZero()||t.payable||nl.throwError("non-payable method cannot override value",wi.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:r.value}),s.value=e}o.customData&&(s.customData=wa(o.customData)),o.ccipReadEnabled&&(s.ccipReadEnabled=!!o.ccipReadEnabled),delete r.nonce,delete r.gasLimit,delete r.gasPrice,delete r.from,delete r.value,delete r.type,delete r.accessList,delete r.maxFeePerGas,delete r.maxPriorityFeePerGas,delete r.customData,delete r.ccipReadEnabled;const c=Object.keys(r).filter((e=>null!=r[e]));return c.length&&nl.throwError(`cannot override ${c.map((e=>JSON.stringify(e))).join(",")}`,wi.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:c}),s}))}function ol(e,t){const n=t.wait.bind(t);t.wait=t=>n(t).then((t=>(t.events=t.logs.map((n=>{let r=Aa(n),i=null;try{i=e.interface.parseLog(n)}catch(e){}return i&&(r.args=i.args,r.decode=(t,n)=>e.interface.decodeEventLog(i.eventFragment,t,n),r.event=i.name,r.eventSignature=i.signature),r.removeListener=()=>e.provider,r.getBlock=()=>e.provider.getBlock(t.blockHash),r.getTransaction=()=>e.provider.getTransaction(t.transactionHash),r.getTransactionReceipt=()=>Promise.resolve(t),r})),t)))}function cl(e,t,n){const r=e.signer||e.provider;return function(...i){return tl(this,void 0,void 0,(function*(){let a;if(i.length===t.inputs.length+1&&"object"==typeof i[i.length-1]){const e=wa(i.pop());null!=e.blockTag&&(a=yield e.blockTag),delete e.blockTag,i.push(e)}null!=e.deployTransaction&&(yield e._deployed(a));const s=yield sl(e,t,i),o=yield r.call(s,a);try{let r=e.interface.decodeFunctionResult(t,o);return n&&1===t.outputs.length&&(r=r[0]),r}catch(t){throw t.code===wi.errors.CALL_EXCEPTION&&(t.address=e.address,t.args=i,t.transaction=s),t}}))}}function ul(e,t,n){return t.constant?cl(e,t,n):function(e,t){return function(...n){return tl(this,void 0,void 0,(function*(){e.signer||nl.throwError("sending a transaction requires a signer",wi.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),null!=e.deployTransaction&&(yield e._deployed());const r=yield sl(e,t,n),i=yield e.signer.sendTransaction(r);return ol(e,i),i}))}}(e,t)}function dl(e){return!e.address||null!=e.topics&&0!==e.topics.length?(e.address||"*")+"@"+(e.topics?e.topics.map((e=>Array.isArray(e)?e.join("|"):e)).join(":"):""):"*"}let fl=class{constructor(e,t){ba(this,"tag",e),ba(this,"filter",t),this._listeners=[]}addListener(e,t){this._listeners.push({listener:e,once:t})}removeListener(e){let t=!1;this._listeners=this._listeners.filter((n=>!(!t&&n.listener===e)||(t=!0,!1)))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map((e=>e.listener))}listenerCount(){return this._listeners.length}run(e){const t=this.listenerCount();return this._listeners=this._listeners.filter((t=>{const n=e.slice();return setTimeout((()=>{t.listener.apply(this,n)}),0),!t.once})),t}prepareEvent(e){}getEmit(e){return[e]}},ll=class extends fl{constructor(){super("error",null)}},hl=class extends fl{constructor(e,t,n,r){const i={address:e};let a=t.getEventTopic(n);r?(a!==r[0]&&nl.throwArgumentError("topic mismatch","topics",r),i.topics=r.slice()):i.topics=[a],super(dl(i),i),ba(this,"address",e),ba(this,"interface",t),ba(this,"fragment",n)}prepareEvent(e){super.prepareEvent(e),e.event=this.fragment.name,e.eventSignature=this.fragment.format(),e.decode=(e,t)=>this.interface.decodeEventLog(this.fragment,e,t);try{e.args=this.interface.decodeEventLog(this.fragment,e.data,e.topics)}catch(t){e.args=null,e.decodeError=t}}getEmit(e){const t=Qa(e.args);if(t.length)throw t[0].error;const n=(e.args||[]).slice();return n.push(e),n}},pl=class extends fl{constructor(e,t){super("*",{address:e}),ba(this,"address",e),ba(this,"interface",t)}prepareEvent(e){super.prepareEvent(e);try{const t=this.interface.parseLog(e);e.event=t.name,e.eventSignature=t.signature,e.decode=(e,n)=>this.interface.decodeEventLog(t.eventFragment,e,n),e.args=t.args}catch(e){}}},ml=class{constructor(e,t,n){ba(this,"interface",ya(new.target,"getInterface")(t)),null==n?(ba(this,"provider",null),ba(this,"signer",null)):Hc.isSigner(n)?(ba(this,"provider",n.provider||null),ba(this,"signer",n)):Fc.isProvider(n)?(ba(this,"provider",n),ba(this,"signer",null)):nl.throwArgumentError("invalid signer or provider","signerOrProvider",n),ba(this,"callStatic",{}),ba(this,"estimateGas",{}),ba(this,"functions",{}),ba(this,"populateTransaction",{}),ba(this,"filters",{});{const e={};Object.keys(this.interface.events).forEach((t=>{const n=this.interface.events[t];ba(this.filters,t,((...e)=>({address:this.address,topics:this.interface.encodeFilterTopics(n,e)}))),e[n.name]||(e[n.name]=[]),e[n.name].push(t)})),Object.keys(e).forEach((t=>{const n=e[t];1===n.length?ba(this.filters,t,this.filters[n[0]]):nl.warn(`Duplicate definition of ${t} (${n.join(", ")})`)}))}if(ba(this,"_runningEvents",{}),ba(this,"_wrappedEmits",{}),null==e&&nl.throwArgumentError("invalid contract address or ENS name","addressOrName",e),ba(this,"address",e),this.provider)ba(this,"resolvedAddress",il(this.provider,e));else try{ba(this,"resolvedAddress",Promise.resolve(vs(e)))}catch(e){nl.throwError("provider is required to use ENS name as contract address",wi.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch((e=>{}));const r={},i={};Object.keys(this.interface.functions).forEach((e=>{const t=this.interface.functions[e];if(i[e])nl.warn(`Duplicate ABI entry for ${JSON.stringify(e)}`);else{i[e]=!0;{const n=t.name;r[`%${n}`]||(r[`%${n}`]=[]),r[`%${n}`].push(e)}null==this[e]&&ba(this,e,ul(this,t,!0)),null==this.functions[e]&&ba(this.functions,e,ul(this,t,!1)),null==this.callStatic[e]&&ba(this.callStatic,e,cl(this,t,!0)),null==this.populateTransaction[e]&&ba(this.populateTransaction,e,function(e,t){return function(...n){return sl(e,t,n)}}(this,t)),null==this.estimateGas[e]&&ba(this.estimateGas,e,function(e,t){const n=e.signer||e.provider;return function(...r){return tl(this,void 0,void 0,(function*(){n||nl.throwError("estimate require a provider or signer",wi.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const i=yield sl(e,t,r);return yield n.estimateGas(i)}))}}(this,t))}})),Object.keys(r).forEach((e=>{const t=r[e];if(t.length>1)return;e=e.substring(1);const n=t[0];try{null==this[e]&&ba(this,e,this[n])}catch(e){}null==this.functions[e]&&ba(this.functions,e,this.functions[n]),null==this.callStatic[e]&&ba(this.callStatic,e,this.callStatic[n]),null==this.populateTransaction[e]&&ba(this.populateTransaction,e,this.populateTransaction[n]),null==this.estimateGas[e]&&ba(this.estimateGas,e,this.estimateGas[n])}))}static getContractAddress(e){return Es(e)}static getInterface(e){return Pc.isInterface(e)?e:new Pc(e)}deployed(){return this._deployed()}_deployed(e){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then((()=>this)):this._deployedPromise=this.provider.getCode(this.address,e).then((e=>("0x"===e&&nl.throwError("contract not deployed",wi.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this)))),this._deployedPromise}fallback(e){this.signer||nl.throwError("sending a transactions require a signer",wi.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const t=wa(e||{});return["from","to"].forEach((function(e){null!=t[e]&&nl.throwError("cannot override "+e,wi.errors.UNSUPPORTED_OPERATION,{operation:e})})),t.to=this.resolvedAddress,this.deployed().then((()=>this.signer.sendTransaction(t)))}connect(e){"string"==typeof e&&(e=new Gc(e,this.provider));const t=new this.constructor(this.address,this.interface,e);return this.deployTransaction&&ba(t,"deployTransaction",this.deployTransaction),t}attach(e){return new this.constructor(e,this.interface,this.signer||this.provider)}static isIndexed(e){return xc.isIndexed(e)}_normalizeRunningEvent(e){return this._runningEvents[e.tag]?this._runningEvents[e.tag]:e}_getRunningEvent(e){if("string"==typeof e){if("error"===e)return this._normalizeRunningEvent(new ll);if("event"===e)return this._normalizeRunningEvent(new fl("event",null));if("*"===e)return this._normalizeRunningEvent(new pl(this.address,this.interface));const t=this.interface.getEvent(e);return this._normalizeRunningEvent(new hl(this.address,this.interface,t))}if(e.topics&&e.topics.length>0){try{const t=e.topics[0];if("string"!=typeof t)throw new Error("invalid topic");const n=this.interface.getEvent(t);return this._normalizeRunningEvent(new hl(this.address,this.interface,n,e.topics))}catch(e){}const t={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new fl(dl(t),t))}return this._normalizeRunningEvent(new pl(this.address,this.interface))}_checkRunningEvents(e){if(0===e.listenerCount()){delete this._runningEvents[e.tag];const t=this._wrappedEmits[e.tag];t&&e.filter&&(this.provider.off(e.filter,t),delete this._wrappedEmits[e.tag])}}_wrapEvent(e,t,n){const r=Aa(t);return r.removeListener=()=>{n&&(e.removeListener(n),this._checkRunningEvents(e))},r.getBlock=()=>this.provider.getBlock(t.blockHash),r.getTransaction=()=>this.provider.getTransaction(t.transactionHash),r.getTransactionReceipt=()=>this.provider.getTransactionReceipt(t.transactionHash),e.prepareEvent(r),r}_addEventListener(e,t,n){if(this.provider||nl.throwError("events require a provider or a signer with a provider",wi.errors.UNSUPPORTED_OPERATION,{operation:"once"}),e.addListener(t,n),this._runningEvents[e.tag]=e,!this._wrappedEmits[e.tag]){const n=n=>{let r=this._wrapEvent(e,n,t);if(null==r.decodeError)try{const t=e.getEmit(r);this.emit(e.filter,...t)}catch(e){r.decodeError=e.error}null!=e.filter&&this.emit("event",r),null!=r.decodeError&&this.emit("error",r.decodeError,r)};this._wrappedEmits[e.tag]=n,null!=e.filter&&this.provider.on(e.filter,n)}}queryFilter(e,t,n){const r=this._getRunningEvent(e),i=wa(r.filter);return"string"==typeof t&&Mi(t,32)?(null!=n&&nl.throwArgumentError("cannot specify toBlock with blockhash","toBlock",n),i.blockHash=t):(i.fromBlock=null!=t?t:0,i.toBlock=null!=n?n:"latest"),this.provider.getLogs(i).then((e=>e.map((e=>this._wrapEvent(r,e,null)))))}on(e,t){return this._addEventListener(this._getRunningEvent(e),t,!1),this}once(e,t){return this._addEventListener(this._getRunningEvent(e),t,!0),this}emit(e,...t){if(!this.provider)return!1;const n=this._getRunningEvent(e),r=n.run(t)>0;return this._checkRunningEvents(n),r}listenerCount(e){return this.provider?null==e?Object.keys(this._runningEvents).reduce(((e,t)=>e+this._runningEvents[t].listenerCount()),0):this._getRunningEvent(e).listenerCount():0}listeners(e){if(!this.provider)return[];if(null==e){const e=[];for(let t in this._runningEvents)this._runningEvents[t].listeners().forEach((t=>{e.push(t)}));return e}return this._getRunningEvent(e).listeners()}removeAllListeners(e){if(!this.provider)return this;if(null==e){for(const e in this._runningEvents){const t=this._runningEvents[e];t.removeAllListeners(),this._checkRunningEvents(t)}return this}const t=this._getRunningEvent(e);return t.removeAllListeners(),this._checkRunningEvents(t),this}off(e,t){if(!this.provider)return this;const n=this._getRunningEvent(e);return n.removeListener(t),this._checkRunningEvents(n),this}removeListener(e,t){return this.off(e,t)}},bl=class extends ml{};class yl{constructor(e,t,n){let r=null;r="string"==typeof t?t:ki(t)?Ni(t):t&&"string"==typeof t.object?t.object:"!","0x"!==r.substring(0,2)&&(r="0x"+r),(!Mi(r)||r.length%2)&&nl.throwArgumentError("invalid bytecode","bytecode",t),n&&!Hc.isSigner(n)&&nl.throwArgumentError("invalid signer","signer",n),ba(this,"bytecode",r),ba(this,"interface",ya(new.target,"getInterface")(e)),ba(this,"signer",n||null)}getDeployTransaction(...e){let t={};if(e.length===this.interface.deploy.inputs.length+1&&"object"==typeof e[e.length-1]){t=wa(e.pop());for(const e in t)if(!rl[e])throw new Error("unknown transaction override "+e)}if(["data","from","to"].forEach((e=>{null!=t[e]&&nl.throwError("cannot override "+e,wi.errors.UNSUPPORTED_OPERATION,{operation:e})})),t.value){Ji.from(t.value).isZero()||this.interface.deploy.payable||nl.throwError("non-payable constructor cannot override value",wi.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:t.value})}return nl.checkArgumentCount(e.length,this.interface.deploy.inputs.length," in Contract constructor"),t.data=Ni(Ii([this.bytecode,this.interface.encodeDeploy(e)])),t}deploy(...e){return tl(this,void 0,void 0,(function*(){let t={};e.length===this.interface.deploy.inputs.length+1&&(t=e.pop()),nl.checkArgumentCount(e.length,this.interface.deploy.inputs.length," in Contract constructor");const n=yield al(this.signer,e,this.interface.deploy.inputs);n.push(t);const r=this.getDeployTransaction(...n),i=yield this.signer.sendTransaction(r),a=ya(this.constructor,"getContractAddress")(i),s=ya(this.constructor,"getContract")(a,this.interface,this.signer);return ol(s,i),ba(s,"deployTransaction",i),s}))}attach(e){return this.constructor.getContract(e,this.interface,this.signer)}connect(e){return new this.constructor(this.interface,this.bytecode,e)}static fromSolidity(e,t){null==e&&nl.throwError("missing compiler output",wi.errors.MISSING_ARGUMENT,{argument:"compilerOutput"}),"string"==typeof e&&(e=JSON.parse(e));const n=e.abi;let r=null;return e.bytecode?r=e.bytecode:e.evm&&e.evm.bytecode&&(r=e.evm.bytecode),new this(n,r,t)}static getInterface(e){return bl.getInterface(e)}static getContractAddress(e){return Es(e)}static getContract(e,t,n){return new bl(e,t,n)}}class gl{constructor(e){ba(this,"alphabet",e),ba(this,"base",e.length),ba(this,"_alphabetMap",{}),ba(this,"_leader",e.charAt(0));for(let t=0;t<e.length;t++)this._alphabetMap[e.charAt(t)]=t}encode(e){let t=Oi(e);if(0===t.length)return"";let n=[0];for(let e=0;e<t.length;++e){let r=t[e];for(let e=0;e<n.length;++e)r+=n[e]<<8,n[e]=r%this.base,r=r/this.base|0;for(;r>0;)n.push(r%this.base),r=r/this.base|0}let r="";for(let e=0;0===t[e]&&e<t.length-1;++e)r+=this._leader;for(let e=n.length-1;e>=0;--e)r+=this.alphabet[n[e]];return r}decode(e){if("string"!=typeof e)throw new TypeError("Expected String");let t=[];if(0===e.length)return new Uint8Array(t);t.push(0);for(let n=0;n<e.length;n++){let r=this._alphabetMap[e[n]];if(void 0===r)throw new Error("Non-base"+this.base+" character");let i=r;for(let e=0;e<t.length;++e)i+=t[e]*this.base,t[e]=255&i,i>>=8;for(;i>0;)t.push(255&i),i>>=8}for(let n=0;e[n]===this._leader&&n<e.length-1;++n)t.push(0);return Oi(new Uint8Array(t.reverse()))}}const vl=new gl("abcdefghijklmnopqrstuvwxyz234567"),wl=new gl("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var _l,El=Object.freeze({__proto__:null,Base32:vl,Base58:wl,BaseX:gl});!function(e){e.sha256="sha256",e.sha512="sha512"}(_l||(_l={}));const Tl=new wi("sha2/5.7.0");function Al(e){return"0x"+Wd.ripemd160().update(Oi(e)).digest("hex")}function Rl(e){return"0x"+Wd.sha256().update(Oi(e)).digest("hex")}function Sl(e){return"0x"+Wd.sha512().update(Oi(e)).digest("hex")}function kl(e,t,n){return _l[e]||Tl.throwError("unsupported algorithm "+e,wi.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:e}),"0x"+Wd.hmac(Wd[e],Oi(t)).update(Oi(n)).digest("hex")}var Ol=Object.freeze({__proto__:null,get SupportedAlgorithm(){return _l},computeHmac:kl,ripemd160:Al,sha256:Rl,sha512:Sl});function Il(e,t,n,r,i){let a;e=Oi(e),t=Oi(t);let s=1;const o=new Uint8Array(r),c=new Uint8Array(t.length+4);let u,d;c.set(t);for(let f=1;f<=s;f++){c[t.length]=f>>24&255,c[t.length+1]=f>>16&255,c[t.length+2]=f>>8&255,c[t.length+3]=255&f;let l=Oi(kl(i,e,c));a||(a=l.length,d=new Uint8Array(a),s=Math.ceil(r/a),u=r-(s-1)*a),d.set(l);for(let t=1;t<n;t++){l=Oi(kl(i,e,l));for(let e=0;e<a;e++)d[e]^=l[e]}const h=(f-1)*a,p=f===s?u:a;o.set(Oi(d).slice(0,p),h)}return Ni(o)}const xl=new wi("wordlists/5.7.0");class Cl{constructor(e){xl.checkAbstract(new.target,Cl),ba(this,"locale",e)}split(e){return e.toLowerCase().split(/ +/g)}join(e){return e.join(" ")}static check(e){const t=[];for(let n=0;n<2048;n++){const r=e.getWord(n);if(n!==e.getWordIndex(r))return"0x";t.push(r)}return Oo(t.join("\n")+"\n")}static register(e,t){t||(t=e.locale)}}let Ml=null;function Pl(e){if(null==Ml&&(Ml="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo".replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),"0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"!==Cl.check(e)))throw Ml=null,new Error("BIP39 Wordlist for en (English) FAILED")}const Nl=new class extends Cl{constructor(){super("en")}getWord(e){return Pl(this),Ml[e]}getWordIndex(e){return Pl(this),Ml.indexOf(e)}};Cl.register(Nl);const Bl={en:Nl},Dl=new wi("hdnode/5.7.0"),Ll=Ji.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Fl=eo("Bitcoin seed"),Ul=2147483648;function jl(e){return(1<<e)-1<<8-e}function ql(e){return ji(Ni(e),32)}function zl(e){return wl.encode(Ii([e,Di(Rl(Rl(e)),0,4)]))}function Hl(e){if(null==e)return Bl.en;if("string"==typeof e){const t=Bl[e];return null==t&&Dl.throwArgumentError("unknown locale","wordlist",e),t}return e}const Gl={},Wl="m/44'/60'/0'/0/0";class Vl{constructor(e,t,n,r,i,a,s,o){if(e!==Gl)throw new Error("HDNode constructor cannot be called directly");if(t){const e=new Pf(t);ba(this,"privateKey",e.privateKey),ba(this,"publicKey",e.compressedPublicKey)}else ba(this,"privateKey",null),ba(this,"publicKey",Ni(n));ba(this,"parentFingerprint",r),ba(this,"fingerprint",Di(Al(Rl(this.publicKey)),0,4)),ba(this,"address",Hf(this.publicKey)),ba(this,"chainCode",i),ba(this,"index",a),ba(this,"depth",s),null==o?(ba(this,"mnemonic",null),ba(this,"path",null)):"string"==typeof o?(ba(this,"mnemonic",null),ba(this,"path",o)):(ba(this,"mnemonic",o),ba(this,"path",o.path))}get extendedKey(){if(this.depth>=256)throw new Error("Depth too large!");return zl(Ii([null!=this.privateKey?"0x0488ADE4":"0x0488B21E",Ni(this.depth),this.parentFingerprint,ji(Ni(this.index),4),this.chainCode,null!=this.privateKey?Ii(["0x00",this.privateKey]):this.publicKey]))}neuter(){return new Vl(Gl,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}_derive(e){if(e>4294967295)throw new Error("invalid index - "+String(e));let t=this.path;t&&(t+="/"+(2147483647&e));const n=new Uint8Array(37);if(e&Ul){if(!this.privateKey)throw new Error("cannot derive child of neutered node");n.set(Oi(this.privateKey),1),t&&(t+="'")}else n.set(Oi(this.publicKey));for(let t=24;t>=0;t-=8)n[33+(t>>3)]=e>>24-t&255;const r=Oi(kl(_l.sha512,this.chainCode,n)),i=r.slice(0,32),a=r.slice(32);let s=null,o=null;if(this.privateKey)s=ql(Ji.from(i).add(this.privateKey).mod(Ll));else{o=new Pf(Ni(i))._addPoint(this.publicKey)}let c=t;const u=this.mnemonic;return u&&(c=Object.freeze({phrase:u.phrase,path:t,locale:u.locale||"en"})),new Vl(Gl,s,o,this.fingerprint,ql(a),e,this.depth+1,c)}derivePath(e){const t=e.split("/");if(0===t.length||"m"===t[0]&&0!==this.depth)throw new Error("invalid path - "+e);"m"===t[0]&&t.shift();let n=this;for(let e=0;e<t.length;e++){const r=t[e];if(r.match(/^[0-9]+'$/)){const e=parseInt(r.substring(0,r.length-1));if(e>=Ul)throw new Error("invalid path index - "+r);n=n._derive(Ul+e)}else{if(!r.match(/^[0-9]+$/))throw new Error("invalid path component - "+r);{const e=parseInt(r);if(e>=Ul)throw new Error("invalid path index - "+r);n=n._derive(e)}}}return n}static _fromSeed(e,t){const n=Oi(e);if(n.length<16||n.length>64)throw new Error("invalid seed");const r=Oi(kl(_l.sha512,Fl,n));return new Vl(Gl,ql(r.slice(0,32)),null,"0x00000000",ql(r.slice(32)),0,0,t)}static fromMnemonic(e,t,n){return e=$l(Xl(e,n=Hl(n)),n),Vl._fromSeed(Kl(e,t),{phrase:e,path:"m",locale:n.locale})}static fromSeed(e){return Vl._fromSeed(e,null)}static fromExtendedKey(e){const t=wl.decode(e);82===t.length&&zl(t.slice(0,78))===e||Dl.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");const n=t[4],r=Ni(t.slice(5,9)),i=parseInt(Ni(t.slice(9,13)).substring(2),16),a=Ni(t.slice(13,45)),s=t.slice(45,78);switch(Ni(t.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new Vl(Gl,null,Ni(s),r,a,i,n,null);case"0x0488ade4":case"0x04358394 ":if(0!==s[0])break;return new Vl(Gl,Ni(s.slice(1)),null,r,a,i,n,null)}return Dl.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}}function Kl(e,t){t||(t="");const n=eo("mnemonic"+t,$s.NFKD);return Il(eo(e,$s.NFKD),n,2048,64,"sha512")}function Xl(e,t){t=Hl(t),Dl.checkNormalize();const n=t.split(e);if(n.length%3!=0)throw new Error("invalid mnemonic");const r=Oi(new Uint8Array(Math.ceil(11*n.length/8)));let i=0;for(let e=0;e<n.length;e++){let a=t.getWordIndex(n[e].normalize("NFKD"));if(-1===a)throw new Error("invalid mnemonic");for(let e=0;e<11;e++)a&1<<10-e&&(r[i>>3]|=1<<7-i%8),i++}const a=32*n.length/3,s=jl(n.length/3);if((Oi(Rl(r.slice(0,a/8)))[0]&s)!==(r[r.length-1]&s))throw new Error("invalid checksum");return Ni(r.slice(0,a/8))}function $l(e,t){if(t=Hl(t),(e=Oi(e)).length%4!=0||e.length<16||e.length>32)throw new Error("invalid entropy");const n=[0];let r=11;for(let t=0;t<e.length;t++)r>8?(n[n.length-1]<<=8,n[n.length-1]|=e[t],r-=8):(n[n.length-1]<<=r,n[n.length-1]|=e[t]>>8-r,n.push(e[t]&(1<<8-r)-1),r+=3);const i=e.length/4,a=Oi(Rl(e))[0]&jl(i);return n[n.length-1]<<=i,n[n.length-1]|=a>>8-i,t.join(n.map((e=>t.getWord(e))))}function Jl(e,t){try{return Xl(e,t),!0}catch(e){}return!1}function Yl(e){return("number"!=typeof e||e<0||e>=Ul||e%1)&&Dl.throwArgumentError("invalid account index","index",e),`m/44'/60'/${e}'/0/0`}var Ql=Object.freeze({__proto__:null,HDNode:Vl,defaultPath:Wl,entropyToMnemonic:$l,getAccountPath:Yl,isValidMnemonic:Jl,mnemonicToEntropy:Xl,mnemonicToSeed:Kl});const Zl=new wi("random/5.7.0");const eh=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")}();let th=eh.crypto||eh.msCrypto;function nh(e){(e<=0||e>1024||e%1||e!=e)&&Zl.throwArgumentError("invalid length","length",e);const t=new Uint8Array(e);return th.getRandomValues(t),Oi(t)}function rh(e){for(let t=(e=e.slice()).length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1)),r=e[t];e[t]=e[n],e[n]=r}return e}th&&th.getRandomValues||(Zl.warn("WARNING: Missing strong random number source"),th={getRandomValues:function(e){return Zl.throwError("no secure random source avaialble",wi.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}});var ih=Object.freeze({__proto__:null,randomBytes:nh,shuffled:rh}),ah={exports:{}};!function(e,t){!function(t){function n(e){return parseInt(e)===e}function r(e){if(!n(e.length))return!1;for(var t=0;t<e.length;t++)if(!n(e[t])||e[t]<0||e[t]>255)return!1;return!0}function i(e,t){if(e.buffer&&ArrayBuffer.isView(e)&&"Uint8Array"===e.name)return t&&(e=e.slice?e.slice():Array.prototype.slice.call(e)),e;if(Array.isArray(e)){if(!r(e))throw new Error("Array contains invalid value: "+e);return new Uint8Array(e)}if(n(e.length)&&r(e))return new Uint8Array(e);throw new Error("unsupported array-like object")}function a(e){return new Uint8Array(e)}function s(e,t,n,r,i){null==r&&null==i||(e=e.slice?e.slice(r,i):Array.prototype.slice.call(e,r,i)),t.set(e,n)}var o,c={toBytes:function(e){var t=[],n=0;for(e=encodeURI(e);n<e.length;){var r=e.charCodeAt(n++);37===r?(t.push(parseInt(e.substr(n,2),16)),n+=2):t.push(r)}return i(t)},fromBytes:function(e){for(var t=[],n=0;n<e.length;){var r=e[n];r<128?(t.push(String.fromCharCode(r)),n++):r>191&&r<224?(t.push(String.fromCharCode((31&r)<<6|63&e[n+1])),n+=2):(t.push(String.fromCharCode((15&r)<<12|(63&e[n+1])<<6|63&e[n+2])),n+=3)}return t.join("")}},u=(o="0123456789abcdef",{toBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},fromBytes:function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push(o[(240&r)>>4]+o[15&r])}return t.join("")}}),d={16:10,24:12,32:14},f=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],l=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],h=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],p=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],m=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],b=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],y=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],g=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],v=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],w=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],_=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],E=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],T=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],A=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],R=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function S(e){for(var t=[],n=0;n<e.length;n+=4)t.push(e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3]);return t}var k=function(e){if(!(this instanceof k))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:i(e,!0)}),this._prepare()};k.prototype._prepare=function(){var e=d[this.key.length];if(null==e)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var t=0;t<=e;t++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);var n,r=4*(e+1),i=this.key.length/4,a=S(this.key);for(t=0;t<i;t++)n=t>>2,this._Ke[n][t%4]=a[t],this._Kd[e-n][t%4]=a[t];for(var s,o=0,c=i;c<r;){if(s=a[i-1],a[0]^=l[s>>16&255]<<24^l[s>>8&255]<<16^l[255&s]<<8^l[s>>24&255]^f[o]<<24,o+=1,8!=i)for(t=1;t<i;t++)a[t]^=a[t-1];else{for(t=1;t<i/2;t++)a[t]^=a[t-1];s=a[i/2-1],a[i/2]^=l[255&s]^l[s>>8&255]<<8^l[s>>16&255]<<16^l[s>>24&255]<<24;for(t=i/2+1;t<i;t++)a[t]^=a[t-1]}for(t=0;t<i&&c<r;)u=c>>2,h=c%4,this._Ke[u][h]=a[t],this._Kd[e-u][h]=a[t++],c++}for(var u=1;u<e;u++)for(var h=0;h<4;h++)s=this._Kd[u][h],this._Kd[u][h]=E[s>>24&255]^T[s>>16&255]^A[s>>8&255]^R[255&s]},k.prototype.encrypt=function(e){if(16!=e.length)throw new Error("invalid plaintext size (must be 16 bytes)");for(var t=this._Ke.length-1,n=[0,0,0,0],r=S(e),i=0;i<4;i++)r[i]^=this._Ke[0][i];for(var s=1;s<t;s++){for(i=0;i<4;i++)n[i]=p[r[i]>>24&255]^m[r[(i+1)%4]>>16&255]^b[r[(i+2)%4]>>8&255]^y[255&r[(i+3)%4]]^this._Ke[s][i];r=n.slice()}var o,c=a(16);for(i=0;i<4;i++)o=this._Ke[t][i],c[4*i]=255&(l[r[i]>>24&255]^o>>24),c[4*i+1]=255&(l[r[(i+1)%4]>>16&255]^o>>16),c[4*i+2]=255&(l[r[(i+2)%4]>>8&255]^o>>8),c[4*i+3]=255&(l[255&r[(i+3)%4]]^o);return c},k.prototype.decrypt=function(e){if(16!=e.length)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var t=this._Kd.length-1,n=[0,0,0,0],r=S(e),i=0;i<4;i++)r[i]^=this._Kd[0][i];for(var s=1;s<t;s++){for(i=0;i<4;i++)n[i]=g[r[i]>>24&255]^v[r[(i+3)%4]>>16&255]^w[r[(i+2)%4]>>8&255]^_[255&r[(i+1)%4]]^this._Kd[s][i];r=n.slice()}var o,c=a(16);for(i=0;i<4;i++)o=this._Kd[t][i],c[4*i]=255&(h[r[i]>>24&255]^o>>24),c[4*i+1]=255&(h[r[(i+3)%4]>>16&255]^o>>16),c[4*i+2]=255&(h[r[(i+2)%4]>>8&255]^o>>8),c[4*i+3]=255&(h[255&r[(i+1)%4]]^o);return c};var O=function(e){if(!(this instanceof O))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new k(e)};O.prototype.encrypt=function(e){if((e=i(e)).length%16!=0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var t=a(e.length),n=a(16),r=0;r<e.length;r+=16)s(e,n,0,r,r+16),s(n=this._aes.encrypt(n),t,r);return t},O.prototype.decrypt=function(e){if((e=i(e)).length%16!=0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var t=a(e.length),n=a(16),r=0;r<e.length;r+=16)s(e,n,0,r,r+16),s(n=this._aes.decrypt(n),t,r);return t};var I=function(e,t){if(!(this instanceof I))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",t){if(16!=t.length)throw new Error("invalid initialation vector size (must be 16 bytes)")}else t=a(16);this._lastCipherblock=i(t,!0),this._aes=new k(e)};I.prototype.encrypt=function(e){if((e=i(e)).length%16!=0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var t=a(e.length),n=a(16),r=0;r<e.length;r+=16){s(e,n,0,r,r+16);for(var o=0;o<16;o++)n[o]^=this._lastCipherblock[o];this._lastCipherblock=this._aes.encrypt(n),s(this._lastCipherblock,t,r)}return t},I.prototype.decrypt=function(e){if((e=i(e)).length%16!=0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var t=a(e.length),n=a(16),r=0;r<e.length;r+=16){s(e,n,0,r,r+16),n=this._aes.decrypt(n);for(var o=0;o<16;o++)t[r+o]=n[o]^this._lastCipherblock[o];s(e,this._lastCipherblock,0,r,r+16)}return t};var x=function(e,t,n){if(!(this instanceof x))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",t){if(16!=t.length)throw new Error("invalid initialation vector size (must be 16 size)")}else t=a(16);n||(n=1),this.segmentSize=n,this._shiftRegister=i(t,!0),this._aes=new k(e)};x.prototype.encrypt=function(e){if(e.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var t,n=i(e,!0),r=0;r<n.length;r+=this.segmentSize){t=this._aes.encrypt(this._shiftRegister);for(var a=0;a<this.segmentSize;a++)n[r+a]^=t[a];s(this._shiftRegister,this._shiftRegister,0,this.segmentSize),s(n,this._shiftRegister,16-this.segmentSize,r,r+this.segmentSize)}return n},x.prototype.decrypt=function(e){if(e.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var t,n=i(e,!0),r=0;r<n.length;r+=this.segmentSize){t=this._aes.encrypt(this._shiftRegister);for(var a=0;a<this.segmentSize;a++)n[r+a]^=t[a];s(this._shiftRegister,this._shiftRegister,0,this.segmentSize),s(e,this._shiftRegister,16-this.segmentSize,r,r+this.segmentSize)}return n};var C=function(e,t){if(!(this instanceof C))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",t){if(16!=t.length)throw new Error("invalid initialation vector size (must be 16 bytes)")}else t=a(16);this._lastPrecipher=i(t,!0),this._lastPrecipherIndex=16,this._aes=new k(e)};C.prototype.encrypt=function(e){for(var t=i(e,!0),n=0;n<t.length;n++)16===this._lastPrecipherIndex&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),t[n]^=this._lastPrecipher[this._lastPrecipherIndex++];return t},C.prototype.decrypt=C.prototype.encrypt;var M=function(e){if(!(this instanceof M))throw Error("Counter must be instanitated with `new`");0===e||e||(e=1),"number"==typeof e?(this._counter=a(16),this.setValue(e)):this.setBytes(e)};M.prototype.setValue=function(e){if("number"!=typeof e||parseInt(e)!=e)throw new Error("invalid counter value (must be an integer)");for(var t=15;t>=0;--t)this._counter[t]=e%256,e>>=8},M.prototype.setBytes=function(e){if(16!=(e=i(e,!0)).length)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=e},M.prototype.increment=function(){for(var e=15;e>=0;e--){if(255!==this._counter[e]){this._counter[e]++;break}this._counter[e]=0}};var P=function(e,t){if(!(this instanceof P))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",t instanceof M||(t=new M(t)),this._counter=t,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new k(e)};P.prototype.encrypt=function(e){for(var t=i(e,!0),n=0;n<t.length;n++)16===this._remainingCounterIndex&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),t[n]^=this._remainingCounter[this._remainingCounterIndex++];return t},P.prototype.decrypt=P.prototype.encrypt;var N={AES:k,Counter:M,ModeOfOperation:{ecb:O,cbc:I,cfb:x,ofb:C,ctr:P},utils:{hex:u,utf8:c},padding:{pkcs7:{pad:function(e){var t=16-(e=i(e,!0)).length%16,n=a(e.length+t);s(e,n);for(var r=e.length;r<n.length;r++)n[r]=t;return n},strip:function(e){if((e=i(e,!0)).length<16)throw new Error("PKCS#7 invalid length");var t=e[e.length-1];if(t>16)throw new Error("PKCS#7 padding byte out of range");for(var n=e.length-t,r=0;r<t;r++)if(e[n+r]!==t)throw new Error("PKCS#7 invalid padding byte");var o=a(n);return s(e,o,0,0,n),o}}},_arrayTest:{coerceArray:i,createArray:a,copyArray:s}};e.exports=N}()}(ah);var sh=ar(ah.exports);const oh="json-wallets/5.7.0";function ch(e){return"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),Oi(e)}function uh(e,t){for(e=String(e);e.length<t;)e="0"+e;return e}function dh(e){return"string"==typeof e?eo(e,$s.NFKC):Oi(e)}function fh(e,t){let n=e;const r=t.toLowerCase().split("/");for(let e=0;e<r.length;e++){let t=null;for(const i in n)if(i.toLowerCase()===r[e]){t=n[i];break}if(null===t)return null;n=t}return n}function lh(e){const t=Oi(e);t[6]=15&t[6]|64,t[8]=63&t[8]|128;const n=Ni(t);return[n.substring(2,10),n.substring(10,14),n.substring(14,18),n.substring(18,22),n.substring(22,34)].join("-")}const hh=new wi(oh);class ph extends Ra{isCrowdsaleAccount(e){return!(!e||!e._isCrowdsaleAccount)}}function mh(e,t){const n=JSON.parse(e);t=dh(t);const r=vs(fh(n,"ethaddr")),i=ch(fh(n,"encseed"));i&&i.length%16==0||hh.throwArgumentError("invalid encseed","json",e);const a=Oi(Il(t,t,2e3,32,"sha256")).slice(0,16),s=i.slice(0,16),o=i.slice(16),c=new sh.ModeOfOperation.cbc(a,s),u=sh.padding.pkcs7.strip(Oi(c.decrypt(o)));let d="";for(let e=0;e<u.length;e++)d+=String.fromCharCode(u[e]);const f=rs(eo(d));return new ph({_isCrowdsaleAccount:!0,address:r,privateKey:f})}function bh(e){let t=null;try{t=JSON.parse(e)}catch(e){return!1}return t.encseed&&t.ethaddr}function yh(e){let t=null;try{t=JSON.parse(e)}catch(e){return!1}return!(!t.version||parseInt(t.version)!==t.version||3!==parseInt(t.version))}function gh(e){if(bh(e))try{return vs(JSON.parse(e).ethaddr)}catch(e){return null}if(yh(e))try{return vs(JSON.parse(e).address)}catch(e){return null}return null}var vh={exports:{}};!function(e,t){!function(t){const n=2147483647;function r(e){const t=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);let n=1779033703,r=3144134277,i=1013904242,a=2773480762,s=1359893119,o=2600822924,c=528734635,u=1541459225;const d=new Uint32Array(64);function f(e){let f=0,l=e.length;for(;l>=64;){let h,p,m,b,y,g=n,v=r,w=i,_=a,E=s,T=o,A=c,R=u;for(p=0;p<16;p++)m=f+4*p,d[p]=(255&e[m])<<24|(255&e[m+1])<<16|(255&e[m+2])<<8|255&e[m+3];for(p=16;p<64;p++)h=d[p-2],b=(h>>>17|h<<15)^(h>>>19|h<<13)^h>>>10,h=d[p-15],y=(h>>>7|h<<25)^(h>>>18|h<<14)^h>>>3,d[p]=(b+d[p-7]|0)+(y+d[p-16]|0)|0;for(p=0;p<64;p++)b=(((E>>>6|E<<26)^(E>>>11|E<<21)^(E>>>25|E<<7))+(E&T^~E&A)|0)+(R+(t[p]+d[p]|0)|0)|0,y=((g>>>2|g<<30)^(g>>>13|g<<19)^(g>>>22|g<<10))+(g&v^g&w^v&w)|0,R=A,A=T,T=E,E=_+b|0,_=w,w=v,v=g,g=b+y|0;n=n+g|0,r=r+v|0,i=i+w|0,a=a+_|0,s=s+E|0,o=o+T|0,c=c+A|0,u=u+R|0,f+=64,l-=64}}f(e);let l,h=e.length%64,p=e.length/536870912|0,m=e.length<<3,b=h<56?56:120,y=e.slice(e.length-h,e.length);for(y.push(128),l=h+1;l<b;l++)y.push(0);return y.push(p>>>24&255),y.push(p>>>16&255),y.push(p>>>8&255),y.push(p>>>0&255),y.push(m>>>24&255),y.push(m>>>16&255),y.push(m>>>8&255),y.push(m>>>0&255),f(y),[n>>>24&255,n>>>16&255,n>>>8&255,n>>>0&255,r>>>24&255,r>>>16&255,r>>>8&255,r>>>0&255,i>>>24&255,i>>>16&255,i>>>8&255,i>>>0&255,a>>>24&255,a>>>16&255,a>>>8&255,a>>>0&255,s>>>24&255,s>>>16&255,s>>>8&255,s>>>0&255,o>>>24&255,o>>>16&255,o>>>8&255,o>>>0&255,c>>>24&255,c>>>16&255,c>>>8&255,c>>>0&255,u>>>24&255,u>>>16&255,u>>>8&255,u>>>0&255]}function i(e,t,n){e=e.length<=64?e:r(e);const i=64+t.length+4,a=new Array(i),s=new Array(64);let o,c=[];for(o=0;o<64;o++)a[o]=54;for(o=0;o<e.length;o++)a[o]^=e[o];for(o=0;o<t.length;o++)a[64+o]=t[o];for(o=i-4;o<i;o++)a[o]=0;for(o=0;o<64;o++)s[o]=92;for(o=0;o<e.length;o++)s[o]^=e[o];function u(){for(let e=i-1;e>=i-4;e--){if(a[e]++,a[e]<=255)return;a[e]=0}}for(;n>=32;)u(),c=c.concat(r(s.concat(r(a)))),n-=32;return n>0&&(u(),c=c.concat(r(s.concat(r(a))).slice(0,n))),c}function a(e,t,n,r,i){let a;for(u(e,16*(2*n-1),i,0,16),a=0;a<2*n;a++)c(e,16*a,i,16),o(i,r),u(i,0,e,t+16*a,16);for(a=0;a<n;a++)u(e,t+2*a*16,e,16*a,16);for(a=0;a<n;a++)u(e,t+16*(2*a+1),e,16*(a+n),16)}function s(e,t){return e<<t|e>>>32-t}function o(e,t){u(e,0,t,0,16);for(let e=8;e>0;e-=2)t[4]^=s(t[0]+t[12],7),t[8]^=s(t[4]+t[0],9),t[12]^=s(t[8]+t[4],13),t[0]^=s(t[12]+t[8],18),t[9]^=s(t[5]+t[1],7),t[13]^=s(t[9]+t[5],9),t[1]^=s(t[13]+t[9],13),t[5]^=s(t[1]+t[13],18),t[14]^=s(t[10]+t[6],7),t[2]^=s(t[14]+t[10],9),t[6]^=s(t[2]+t[14],13),t[10]^=s(t[6]+t[2],18),t[3]^=s(t[15]+t[11],7),t[7]^=s(t[3]+t[15],9),t[11]^=s(t[7]+t[3],13),t[15]^=s(t[11]+t[7],18),t[1]^=s(t[0]+t[3],7),t[2]^=s(t[1]+t[0],9),t[3]^=s(t[2]+t[1],13),t[0]^=s(t[3]+t[2],18),t[6]^=s(t[5]+t[4],7),t[7]^=s(t[6]+t[5],9),t[4]^=s(t[7]+t[6],13),t[5]^=s(t[4]+t[7],18),t[11]^=s(t[10]+t[9],7),t[8]^=s(t[11]+t[10],9),t[9]^=s(t[8]+t[11],13),t[10]^=s(t[9]+t[8],18),t[12]^=s(t[15]+t[14],7),t[13]^=s(t[12]+t[15],9),t[14]^=s(t[13]+t[12],13),t[15]^=s(t[14]+t[13],18);for(let n=0;n<16;++n)e[n]+=t[n]}function c(e,t,n,r){for(let i=0;i<r;i++)n[i]^=e[t+i]}function u(e,t,n,r,i){for(;i--;)n[r++]=e[t++]}function d(e){if(!e||"number"!=typeof e.length)return!1;for(let t=0;t<e.length;t++){const n=e[t];if("number"!=typeof n||n%1||n<0||n>=256)return!1}return!0}function f(e,t){if("number"!=typeof e||e%1)throw new Error("invalid "+t);return e}function l(e,t,r,s,o,l,h){if(r=f(r,"N"),s=f(s,"r"),o=f(o,"p"),l=f(l,"dkLen"),0===r||0!=(r&r-1))throw new Error("N must be power of 2");if(r>n/128/s)throw new Error("N too large");if(s>n/128/o)throw new Error("r too large");if(!d(e))throw new Error("password must be an array or buffer");if(e=Array.prototype.slice.call(e),!d(t))throw new Error("salt must be an array or buffer");t=Array.prototype.slice.call(t);let p=i(e,t,128*o*s);const m=new Uint32Array(32*o*s);for(let e=0;e<m.length;e++){const t=4*e;m[e]=(255&p[t+3])<<24|(255&p[t+2])<<16|(255&p[t+1])<<8|(255&p[t+0])<<0}const b=new Uint32Array(64*s),y=new Uint32Array(32*s*r),g=32*s,v=new Uint32Array(16),w=new Uint32Array(16),_=o*r*2;let E,T,A=0,R=null,S=!1,k=0,O=0;const I=h?parseInt(1e3/s):4294967295,x="undefined"!=typeof setImmediate?setImmediate:setTimeout,C=function(){if(S)return h(new Error("cancelled"),A/_);let t;switch(k){case 0:T=32*O*s,u(m,T,b,0,g),k=1,E=0;case 1:t=r-E,t>I&&(t=I);for(let e=0;e<t;e++)u(b,0,y,(E+e)*g,g),a(b,g,s,v,w);if(E+=t,A+=t,h){const e=parseInt(1e3*A/_);if(e!==R){if(S=h(null,A/_),S)break;R=e}}if(E<r)break;E=0,k=2;case 2:t=r-E,t>I&&(t=I);for(let e=0;e<t;e++){const e=b[16*(2*s-1)]&r-1;c(y,e*g,b,g),a(b,g,s,v,w)}if(E+=t,A+=t,h){const e=parseInt(1e3*A/_);if(e!==R){if(S=h(null,A/_),S)break;R=e}}if(E<r)break;if(u(b,0,m,T,g),O++,O<o){k=0;break}p=[];for(let e=0;e<m.length;e++)p.push(m[e]>>0&255),p.push(m[e]>>8&255),p.push(m[e]>>16&255),p.push(m[e]>>24&255);const n=i(e,p,l);return h&&h(null,1,n),n}h&&x(C)};if(!h)for(;;){const e=C();if(null!=e)return e}C()}const h={scrypt:function(e,t,n,r,i,a,s){return new Promise((function(o,c){let u=0;s&&s(0),l(e,t,n,r,i,a,(function(e,t,n){if(e)c(e);else if(n)s&&1!==u&&s(1),o(new Uint8Array(n));else if(s&&t!==u)return u=t,s(t)}))}))},syncScrypt:function(e,t,n,r,i,a){return new Uint8Array(l(e,t,n,r,i,a))}};e.exports=h}()}(vh);var wh=vh.exports,_h=ar(wh),Eh=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function s(e){try{c(r.next(e))}catch(e){a(e)}}function o(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}c((r=r.apply(e,t||[])).next())}))};const Th=new wi(oh);function Ah(e){return null!=e&&e.mnemonic&&e.mnemonic.phrase}class Rh extends Ra{isKeystoreAccount(e){return!(!e||!e._isKeystoreAccount)}}function Sh(e,t){const n=ch(fh(e,"crypto/ciphertext"));if(Ni(rs(Ii([t.slice(16,32),n]))).substring(2)!==fh(e,"crypto/mac").toLowerCase())throw new Error("invalid password");const r=function(e,t,n){if("aes-128-ctr"===fh(e,"crypto/cipher")){const r=ch(fh(e,"crypto/cipherparams/iv")),i=new sh.Counter(r);return Oi(new sh.ModeOfOperation.ctr(t,i).decrypt(n))}return null}(e,t.slice(0,16),n);r||Th.throwError("unsupported cipher",wi.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});const i=t.slice(32,64),a=Hf(r);if(e.address){let t=e.address.toLowerCase();if("0x"!==t.substring(0,2)&&(t="0x"+t),vs(t)!==a)throw new Error("address mismatch")}const s={_isKeystoreAccount:!0,address:a,privateKey:Ni(r)};if("0.1"===fh(e,"x-ethers/version")){const t=ch(fh(e,"x-ethers/mnemonicCiphertext")),n=ch(fh(e,"x-ethers/mnemonicCounter")),r=new sh.Counter(n),a=new sh.ModeOfOperation.ctr(i,r),o=fh(e,"x-ethers/path")||Wl,c=fh(e,"x-ethers/locale")||"en",u=Oi(a.decrypt(t));try{const e=$l(u,c),t=Vl.fromMnemonic(e,null,c).derivePath(o);if(t.privateKey!=s.privateKey)throw new Error("mnemonic mismatch");s.mnemonic=t.mnemonic}catch(e){if(e.code!==wi.errors.INVALID_ARGUMENT||"wordlist"!==e.argument)throw e}}return new Rh(s)}function kh(e,t,n,r,i){return Oi(Il(e,t,n,r,i))}function Oh(e,t,n,r,i){return Promise.resolve(kh(e,t,n,r,i))}function Ih(e,t,n,r,i){const a=dh(t),s=fh(e,"crypto/kdf");if(s&&"string"==typeof s){const t=function(e,t){return Th.throwArgumentError("invalid key-derivation function parameters",e,t)};if("scrypt"===s.toLowerCase()){const n=ch(fh(e,"crypto/kdfparams/salt")),o=parseInt(fh(e,"crypto/kdfparams/n")),c=parseInt(fh(e,"crypto/kdfparams/r")),u=parseInt(fh(e,"crypto/kdfparams/p"));o&&c&&u||t("kdf",s),0!=(o&o-1)&&t("N",o);const d=parseInt(fh(e,"crypto/kdfparams/dklen"));return 32!==d&&t("dklen",d),r(a,n,o,c,u,64,i)}if("pbkdf2"===s.toLowerCase()){const r=ch(fh(e,"crypto/kdfparams/salt"));let i=null;const s=fh(e,"crypto/kdfparams/prf");"hmac-sha256"===s?i="sha256":"hmac-sha512"===s?i="sha512":t("prf",s);const o=parseInt(fh(e,"crypto/kdfparams/c")),c=parseInt(fh(e,"crypto/kdfparams/dklen"));return 32!==c&&t("dklen",c),n(a,r,o,c,i)}}return Th.throwArgumentError("unsupported key-derivation function","kdf",s)}function xh(e,t){const n=JSON.parse(e);return Sh(n,Ih(n,t,kh,_h.syncScrypt))}function Ch(e,t,n){return Eh(this,void 0,void 0,(function*(){const r=JSON.parse(e);return Sh(r,yield Ih(r,t,Oh,_h.scrypt,n))}))}function Mh(e,t,n,r){try{if(vs(e.address)!==Hf(e.privateKey))throw new Error("address/privateKey mismatch");if(Ah(e)){const t=e.mnemonic;if(Vl.fromMnemonic(t.phrase,null,t.locale).derivePath(t.path||Wl).privateKey!=e.privateKey)throw new Error("mnemonic mismatch")}}catch(e){return Promise.reject(e)}"function"!=typeof n||r||(r=n,n={}),n||(n={});const i=Oi(e.privateKey),a=dh(t);let s=null,o=null,c=null;if(Ah(e)){const t=e.mnemonic;s=Oi(Xl(t.phrase,t.locale||"en")),o=t.path||Wl,c=t.locale||"en"}let u=n.client;u||(u="ethers.js");let d=null;d=n.salt?Oi(n.salt):nh(32);let f=null;if(n.iv){if(f=Oi(n.iv),16!==f.length)throw new Error("invalid iv")}else f=nh(16);let l=null;if(n.uuid){if(l=Oi(n.uuid),16!==l.length)throw new Error("invalid uuid")}else l=nh(16);let h=1<<17,p=8,m=1;return n.scrypt&&(n.scrypt.N&&(h=n.scrypt.N),n.scrypt.r&&(p=n.scrypt.r),n.scrypt.p&&(m=n.scrypt.p)),_h.scrypt(a,d,h,p,m,64,r).then((t=>{const n=(t=Oi(t)).slice(0,16),r=t.slice(16,32),a=t.slice(32,64),b=new sh.Counter(f),y=Oi(new sh.ModeOfOperation.ctr(n,b).encrypt(i)),g=rs(Ii([r,y])),v={address:e.address.substring(2).toLowerCase(),id:lh(l),version:3,crypto:{cipher:"aes-128-ctr",cipherparams:{iv:Ni(f).substring(2)},ciphertext:Ni(y).substring(2),kdf:"scrypt",kdfparams:{salt:Ni(d).substring(2),n:h,dklen:32,p:m,r:p},mac:g.substring(2)}};if(s){const e=nh(16),t=new sh.Counter(e),n=Oi(new sh.ModeOfOperation.ctr(a,t).encrypt(s)),r=new Date,i=r.getUTCFullYear()+"-"+uh(r.getUTCMonth()+1,2)+"-"+uh(r.getUTCDate(),2)+"T"+uh(r.getUTCHours(),2)+"-"+uh(r.getUTCMinutes(),2)+"-"+uh(r.getUTCSeconds(),2)+".0Z";v["x-ethers"]={client:u,gethFilename:"UTC--"+i+"--"+v.address,mnemonicCounter:Ni(e).substring(2),mnemonicCiphertext:Ni(n).substring(2),path:o,locale:c,version:"0.1"}}return JSON.stringify(v)}))}function Ph(e,t,n){if(bh(e)){n&&n(0);const r=mh(e,t);return n&&n(1),Promise.resolve(r)}return yh(e)?Ch(e,t,n):Promise.reject(new Error("invalid JSON wallet"))}function Nh(e,t){if(bh(e))return mh(e,t);if(yh(e))return xh(e,t);throw new Error("invalid JSON wallet")}var Bh=Object.freeze({__proto__:null,decryptCrowdsale:mh,decryptJsonWallet:Ph,decryptJsonWalletSync:Nh,decryptKeystore:Ch,decryptKeystoreSync:xh,encryptKeystore:Mh,getJsonWalletAddress:gh,isCrowdsaleWallet:bh,isKeystoreWallet:yh});var Dh=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function s(e){try{c(r.next(e))}catch(e){a(e)}}function o(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}c((r=r.apply(e,t||[])).next())}))};const Lh=new wi("wallet/5.7.0");class Fh extends Hc{constructor(e,t){if(super(),null!=(n=e)&&Mi(n.privateKey,32)&&null!=n.address){const t=new Pf(e.privateKey);if(ba(this,"_signingKey",(()=>t)),ba(this,"address",Hf(this.publicKey)),this.address!==vs(e.address)&&Lh.throwArgumentError("privateKey/address mismatch","privateKey","[REDACTED]"),function(e){const t=e.mnemonic;return t&&t.phrase}(e)){const t=e.mnemonic;ba(this,"_mnemonic",(()=>({phrase:t.phrase,path:t.path||Wl,locale:t.locale||"en"})));const n=this.mnemonic;Hf(Vl.fromMnemonic(n.phrase,null,n.locale).derivePath(n.path).privateKey)!==this.address&&Lh.throwArgumentError("mnemonic/address mismatch","privateKey","[REDACTED]")}else ba(this,"_mnemonic",(()=>null))}else{if(Pf.isSigningKey(e))"secp256k1"!==e.curve&&Lh.throwArgumentError("unsupported curve; must be secp256k1","privateKey","[REDACTED]"),ba(this,"_signingKey",(()=>e));else{"string"==typeof e&&e.match(/^[0-9a-f]*$/i)&&64===e.length&&(e="0x"+e);const t=new Pf(e);ba(this,"_signingKey",(()=>t))}ba(this,"_mnemonic",(()=>null)),ba(this,"address",Hf(this.publicKey))}var n;t&&!Fc.isProvider(t)&&Lh.throwArgumentError("invalid provider","provider",t),ba(this,"provider",t||null)}get mnemonic(){return this._mnemonic()}get privateKey(){return this._signingKey().privateKey}get publicKey(){return this._signingKey().publicKey}getAddress(){return Promise.resolve(this.address)}connect(e){return new Fh(this,e)}signTransaction(e){return ga(e).then((t=>{null!=t.from&&(vs(t.from)!==this.address&&Lh.throwArgumentError("transaction from address mismatch","transaction.from",e.from),delete t.from);const n=this._signingKey().signDigest(rs(Yf(t)));return Yf(t,n)}))}signMessage(e){return Dh(this,void 0,void 0,(function*(){return zi(this._signingKey().signDigest(cc(e)))}))}_signTypedData(e,t,n){return Dh(this,void 0,void 0,(function*(){const r=yield Ac.resolveNames(e,t,n,(e=>(null==this.provider&&Lh.throwError("cannot resolve ENS names without a provider",wi.errors.UNSUPPORTED_OPERATION,{operation:"resolveName",value:e}),this.provider.resolveName(e))));return zi(this._signingKey().signDigest(Ac.hash(r.domain,t,r.value)))}))}encrypt(e,t,n){if("function"!=typeof t||n||(n=t,t={}),n&&"function"!=typeof n)throw new Error("invalid callback");return t||(t={}),Mh(this,e,t,n)}static createRandom(e){let t=nh(16);e||(e={}),e.extraEntropy&&(t=Oi(Di(rs(Ii([t,e.extraEntropy])),0,16)));const n=$l(t,e.locale);return Fh.fromMnemonic(n,e.path,e.locale)}static fromEncryptedJson(e,t,n){return Ph(e,t,n).then((e=>new Fh(e)))}static fromEncryptedJsonSync(e,t){return new Fh(Nh(e,t))}static fromMnemonic(e,t,n){return t||(t=Wl),new Fh(Vl.fromMnemonic(e,null,n).derivePath(t))}}function Uh(e,t){return Gf(cc(e),t)}function jh(e,t,n,r){return Gf(Ac.hash(e,t,n),r)}var qh=Object.freeze({__proto__:null,Wallet:Fh,verifyMessage:Uh,verifyTypedData:jh});const zh=new wi("networks/5.7.1");function Hh(e){const t=function(t,n){null==n&&(n={});const r=[];if(t.InfuraProvider&&"-"!==n.infura)try{r.push(new t.InfuraProvider(e,n.infura))}catch(e){}if(t.EtherscanProvider&&"-"!==n.etherscan)try{r.push(new t.EtherscanProvider(e,n.etherscan))}catch(e){}if(t.AlchemyProvider&&"-"!==n.alchemy)try{r.push(new t.AlchemyProvider(e,n.alchemy))}catch(e){}if(t.PocketProvider&&"-"!==n.pocket){const i=["goerli","ropsten","rinkeby","sepolia"];try{const a=new t.PocketProvider(e,n.pocket);a.network&&-1===i.indexOf(a.network.name)&&r.push(a)}catch(e){}}if(t.CloudflareProvider&&"-"!==n.cloudflare)try{r.push(new t.CloudflareProvider(e))}catch(e){}if(t.AnkrProvider&&"-"!==n.ankr)try{const i=["ropsten"],a=new t.AnkrProvider(e,n.ankr);a.network&&-1===i.indexOf(a.network.name)&&r.push(a)}catch(e){}if(0===r.length)return null;if(t.FallbackProvider){let i=1;return null!=n.quorum?i=n.quorum:"homestead"===e&&(i=2),new t.FallbackProvider(r,i)}return r[0]};return t.renetwork=function(e){return Hh(e)},t}function Gh(e,t){const n=function(n,r){return n.JsonRpcProvider?new n.JsonRpcProvider(e,t):null};return n.renetwork=function(t){return Gh(e,t)},n}const Wh={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:Hh("homestead")},Vh={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:Hh("ropsten")},Kh={chainId:63,name:"classicMordor",_defaultProvider:Gh("https://www.ethercluster.com/mordor","classicMordor")},Xh={unspecified:{chainId:0,name:"unspecified"},homestead:Wh,mainnet:Wh,morden:{chainId:2,name:"morden"},ropsten:Vh,testnet:Vh,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:Hh("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:Hh("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:Hh("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:11155111,name:"sepolia",_defaultProvider:Hh("sepolia")},classic:{chainId:61,name:"classic",_defaultProvider:Gh("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:Kh,classicTestnet:Kh,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:Gh("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:Hh("matic")},maticmum:{chainId:80001,name:"maticmum"},optimism:{chainId:10,name:"optimism",_defaultProvider:Hh("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function $h(e){if(null==e)return null;if("number"==typeof e){for(const t in Xh){const n=Xh[t];if(n.chainId===e)return{name:n.name,chainId:n.chainId,ensAddress:n.ensAddress||null,_defaultProvider:n._defaultProvider||null}}return{chainId:e,name:"unknown"}}if("string"==typeof e){const t=Xh[e];return null==t?null:{name:t.name,chainId:t.chainId,ensAddress:t.ensAddress,_defaultProvider:t._defaultProvider||null}}const t=Xh[e.name];if(!t)return"number"!=typeof e.chainId&&zh.throwArgumentError("invalid network chainId","network",e),e;0!==e.chainId&&e.chainId!==t.chainId&&zh.throwArgumentError("network chainId mismatch","network",e);let n=e._defaultProvider||null;var r;return null==n&&t._defaultProvider&&(n=(r=t._defaultProvider)&&"function"==typeof r.renetwork?t._defaultProvider.renetwork(e):t._defaultProvider),{name:e.name,chainId:t.chainId,ensAddress:e.ensAddress||t.ensAddress||null,_defaultProvider:n}}var Jh=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function s(e){try{c(r.next(e))}catch(e){a(e)}}function o(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}c((r=r.apply(e,t||[])).next())}))};function Yh(e,t){return Jh(this,void 0,void 0,(function*(){null==t&&(t={});const n={method:t.method||"GET",headers:t.headers||{},body:t.body||void 0};if(!0!==t.skipFetchSetup&&(n.mode="cors",n.cache="no-cache",n.credentials="same-origin",n.redirect="follow",n.referrer="client"),null!=t.fetchOptions){const e=t.fetchOptions;e.mode&&(n.mode=e.mode),e.cache&&(n.cache=e.cache),e.credentials&&(n.credentials=e.credentials),e.redirect&&(n.redirect=e.redirect),e.referrer&&(n.referrer=e.referrer)}const r=yield fetch(e,n),i=yield r.arrayBuffer(),a={};return r.headers.forEach?r.headers.forEach(((e,t)=>{a[t.toLowerCase()]=e})):r.headers.keys().forEach((e=>{a[e.toLowerCase()]=r.headers.get(e)})),{headers:a,statusCode:r.status,statusMessage:r.statusText,body:Oi(new Uint8Array(i))}}))}var Qh=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function s(e){try{c(r.next(e))}catch(e){a(e)}}function o(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}c((r=r.apply(e,t||[])).next())}))};const Zh=new wi("web/5.7.1");function ep(e){return new Promise((t=>{setTimeout(t,e)}))}function tp(e,t){if(null==e)return null;if("string"==typeof e)return e;if(Ri(e)){if(t&&("text"===t.split("/")[0]||"application/json"===t.split(";")[0].trim()))try{return io(e)}catch(e){}return Ni(e)}return e}function np(e,t,n){const r="object"==typeof e&&null!=e.throttleLimit?e.throttleLimit:12;Zh.assertArgument(r>0&&r%1==0,"invalid connection throttle limit","connection.throttleLimit",r);const i="object"==typeof e?e.throttleCallback:null,a="object"==typeof e&&"number"==typeof e.throttleSlotInterval?e.throttleSlotInterval:100;Zh.assertArgument(a>0&&a%1==0,"invalid connection throttle slot interval","connection.throttleSlotInterval",a);const s="object"==typeof e&&!!e.errorPassThrough,o={};let c=null;const u={method:"GET"};let d=!1,f=12e4;if("string"==typeof e)c=e;else if("object"==typeof e){if(null!=e&&null!=e.url||Zh.throwArgumentError("missing URL","connection.url",e),c=e.url,"number"==typeof e.timeout&&e.timeout>0&&(f=e.timeout),e.headers)for(const t in e.headers)o[t.toLowerCase()]={key:t,value:String(e.headers[t])},["if-none-match","if-modified-since"].indexOf(t.toLowerCase())>=0&&(d=!0);if(u.allowGzip=!!e.allowGzip,null!=e.user&&null!=e.password){"https:"!==c.substring(0,6)&&!0!==e.allowInsecureAuthentication&&Zh.throwError("basic authentication requires a secure https url",wi.errors.INVALID_ARGUMENT,{argument:"url",url:c,user:e.user,password:"[REDACTED]"});const t=e.user+":"+e.password;o.authorization={key:"Authorization",value:"Basic "+Co(eo(t))}}null!=e.skipFetchSetup&&(u.skipFetchSetup=!!e.skipFetchSetup),null!=e.fetchOptions&&(u.fetchOptions=wa(e.fetchOptions))}const l=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),h=c?c.match(l):null;if(h)try{const e={statusCode:200,statusMessage:"OK",headers:{"content-type":h[1]||"text/plain"},body:h[2]?xo(h[3]):(p=h[3],eo(p.replace(/%([0-9a-f][0-9a-f])/gi,((e,t)=>String.fromCharCode(parseInt(t,16))))))};let t=e.body;return n&&(t=n(e.body,e)),Promise.resolve(t)}catch(e){Zh.throwError("processing response error",wi.errors.SERVER_ERROR,{body:tp(h[1],h[2]),error:e,requestBody:null,requestMethod:"GET",url:c})}var p;t&&(u.method="POST",u.body=t,null==o["content-type"]&&(o["content-type"]={key:"Content-Type",value:"application/octet-stream"}),null==o["content-length"]&&(o["content-length"]={key:"Content-Length",value:String(t.length)}));const m={};Object.keys(o).forEach((e=>{const t=o[e];m[t.key]=t.value})),u.headers=m;const b=function(){let e=null;return{promise:new Promise((function(t,n){f&&(e=setTimeout((()=>{null!=e&&(e=null,n(Zh.makeError("timeout",wi.errors.TIMEOUT,{requestBody:tp(u.body,m["content-type"]),requestMethod:u.method,timeout:f,url:c})))}),f))})),cancel:function(){null!=e&&(clearTimeout(e),e=null)}}}(),y=function(){return Qh(this,void 0,void 0,(function*(){for(let e=0;e<r;e++){let t=null;try{if(t=yield Yh(c,u),e<r)if(301===t.statusCode||302===t.statusCode){const e=t.headers.location||"";if("GET"===u.method&&e.match(/^https:/)){c=t.headers.location;continue}}else if(429===t.statusCode){let n=!0;if(i&&(n=yield i(e,c)),n){let n=0;const r=t.headers["retry-after"];n="string"==typeof r&&r.match(/^[1-9][0-9]*$/)?1e3*parseInt(r):a*parseInt(String(Math.random()*Math.pow(2,e))),yield ep(n);continue}}}catch(e){t=e.response,null==t&&(b.cancel(),Zh.throwError("missing response",wi.errors.SERVER_ERROR,{requestBody:tp(u.body,m["content-type"]),requestMethod:u.method,serverError:e,url:c}))}let o=t.body;if(d&&304===t.statusCode?o=null:!s&&(t.statusCode<200||t.statusCode>=300)&&(b.cancel(),Zh.throwError("bad response",wi.errors.SERVER_ERROR,{status:t.statusCode,headers:t.headers,body:tp(o,t.headers?t.headers["content-type"]:null),requestBody:tp(u.body,m["content-type"]),requestMethod:u.method,url:c})),n)try{const e=yield n(o,t);return b.cancel(),e}catch(n){if(n.throttleRetry&&e<r){let t=!0;if(i&&(t=yield i(e,c)),t){const t=a*parseInt(String(Math.random()*Math.pow(2,e)));yield ep(t);continue}}b.cancel(),Zh.throwError("processing response error",wi.errors.SERVER_ERROR,{body:tp(o,t.headers?t.headers["content-type"]:null),error:n,requestBody:tp(u.body,m["content-type"]),requestMethod:u.method,url:c})}return b.cancel(),o}return Zh.throwError("failed response",wi.errors.SERVER_ERROR,{requestBody:tp(u.body,m["content-type"]),requestMethod:u.method,url:c})}))}();return Promise.race([b.promise,y])}function rp(e,t,n){let r=null;if(null!=t){r=eo(t);const n="string"==typeof e?{url:e}:wa(e);if(n.headers){const e=0!==Object.keys(n.headers).filter((e=>"content-type"===e.toLowerCase())).length;e||(n.headers=wa(n.headers),n.headers["content-type"]="application/json")}else n.headers={"content-type":"application/json"};e=n}return np(e,r,((e,t)=>{let r=null;if(null!=e)try{r=JSON.parse(io(e))}catch(t){Zh.throwError("invalid JSON",wi.errors.SERVER_ERROR,{body:e,error:t})}return n&&(r=n(r,t)),r}))}function ip(e,t){return t||(t={}),null==(t=wa(t)).floor&&(t.floor=0),null==t.ceiling&&(t.ceiling=1e4),null==t.interval&&(t.interval=250),new Promise((function(n,r){let i=null,a=!1;const s=()=>!a&&(a=!0,i&&clearTimeout(i),!0);t.timeout&&(i=setTimeout((()=>{s()&&r(new Error("timeout"))}),t.timeout));const o=t.retryLimit;let c=0;!function i(){return e().then((function(e){if(void 0!==e)s()&&n(e);else if(t.oncePoll)t.oncePoll.once("poll",i);else if(t.onceBlock)t.onceBlock.once("block",i);else if(!a){if(c++,c>o)return void(s()&&r(new Error("retry limit reached")));let e=t.interval*parseInt(String(Math.random()*Math.pow(2,c)));e<t.floor&&(e=t.floor),e>t.ceiling&&(e=t.ceiling),setTimeout(i,e)}return null}),(function(e){s()&&r(e)}))}()}))}for(var ap=Object.freeze({__proto__:null,_fetchData:np,fetchJson:rp,poll:ip}),sp="qpzry9x8gf2tvdw0s3jn54khce6mua7l",op={},cp=0;cp<32;cp++){var up=sp.charAt(cp);if(void 0!==op[up])throw new TypeError(up+" is ambiguous");op[up]=cp}function dp(e){var t=e>>25;return(33554431&e)<<5^996825010&-(t>>0&1)^642813549&-(t>>1&1)^513874426&-(t>>2&1)^1027748829&-(t>>3&1)^705979059&-(t>>4&1)}function fp(e){for(var t=1,n=0;n<e.length;++n){var r=e.charCodeAt(n);if(r<33||r>126)return"Invalid prefix ("+e+")";t=dp(t)^r>>5}for(t=dp(t),n=0;n<e.length;++n){var i=e.charCodeAt(n);t=dp(t)^31&i}return t}function lp(e,t){if(t=t||90,e.length<8)return e+" too short";if(e.length>t)return"Exceeds length limit";var n=e.toLowerCase(),r=e.toUpperCase();if(e!==n&&e!==r)return"Mixed-case string "+e;var i=(e=n).lastIndexOf("1");if(-1===i)return"No separator character for "+e;if(0===i)return"Missing prefix for "+e;var a=e.slice(0,i),s=e.slice(i+1);if(s.length<6)return"Data too short";var o=fp(a);if("string"==typeof o)return o;for(var c=[],u=0;u<s.length;++u){var d=s.charAt(u),f=op[d];if(void 0===f)return"Unknown character "+d;o=dp(o)^f,u+6>=s.length||c.push(f)}return 1!==o?"Invalid checksum for "+e:{prefix:a,words:c}}function hp(e,t,n,r){for(var i=0,a=0,s=(1<<n)-1,o=[],c=0;c<e.length;++c)for(i=i<<t|e[c],a+=t;a>=n;)a-=n,o.push(i>>a&s);if(r)a>0&&o.push(i<<n-a&s);else{if(a>=t)return"Excess padding";if(i<<n-a&s)return"Non-zero padding"}return o}var pp={decodeUnsafe:function(){var e=lp.apply(null,arguments);if("object"==typeof e)return e},decode:function(e){var t=lp.apply(null,arguments);if("object"==typeof t)return t;throw new Error(t)},encode:function(e,t,n){if(n=n||90,e.length+7+t.length>n)throw new TypeError("Exceeds length limit");var r=fp(e=e.toLowerCase());if("string"==typeof r)throw new Error(r);for(var i=e+"1",a=0;a<t.length;++a){var s=t[a];if(s>>5!=0)throw new Error("Non 5-bit word");r=dp(r)^s,i+=sp.charAt(s)}for(a=0;a<6;++a)r=dp(r);for(r^=1,a=0;a<6;++a){i+=sp.charAt(r>>5*(5-a)&31)}return i},toWordsUnsafe:function(e){var t=hp(e,8,5,!0);if(Array.isArray(t))return t},toWords:function(e){var t=hp(e,8,5,!0);if(Array.isArray(t))return t;throw new Error(t)},fromWordsUnsafe:function(e){var t=hp(e,5,8,!1);if(Array.isArray(t))return t},fromWords:function(e){var t=hp(e,5,8,!1);if(Array.isArray(t))return t;throw new Error(t)}},mp=ar(pp);const bp="providers/5.7.2",yp=new wi(bp);class gp{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){const e={},t=this.address.bind(this),n=this.bigNumber.bind(this),r=this.blockTag.bind(this),i=this.data.bind(this),a=this.hash.bind(this),s=this.hex.bind(this),o=this.number.bind(this),c=this.type.bind(this);return e.transaction={hash:a,type:c,accessList:gp.allowNull(this.accessList.bind(this),null),blockHash:gp.allowNull(a,null),blockNumber:gp.allowNull(o,null),transactionIndex:gp.allowNull(o,null),confirmations:gp.allowNull(o,null),from:t,gasPrice:gp.allowNull(n),maxPriorityFeePerGas:gp.allowNull(n),maxFeePerGas:gp.allowNull(n),gasLimit:n,to:gp.allowNull(t,null),value:n,nonce:o,data:i,r:gp.allowNull(this.uint256),s:gp.allowNull(this.uint256),v:gp.allowNull(o),creates:gp.allowNull(t,null),raw:gp.allowNull(i)},e.transactionRequest={from:gp.allowNull(t),nonce:gp.allowNull(o),gasLimit:gp.allowNull(n),gasPrice:gp.allowNull(n),maxPriorityFeePerGas:gp.allowNull(n),maxFeePerGas:gp.allowNull(n),to:gp.allowNull(t),value:gp.allowNull(n),data:gp.allowNull((e=>this.data(e,!0))),type:gp.allowNull(o),accessList:gp.allowNull(this.accessList.bind(this),null)},e.receiptLog={transactionIndex:o,blockNumber:o,transactionHash:a,address:t,topics:gp.arrayOf(a),data:i,logIndex:o,blockHash:a},e.receipt={to:gp.allowNull(this.address,null),from:gp.allowNull(this.address,null),contractAddress:gp.allowNull(t,null),transactionIndex:o,root:gp.allowNull(s),gasUsed:n,logsBloom:gp.allowNull(i),blockHash:a,transactionHash:a,logs:gp.arrayOf(this.receiptLog.bind(this)),blockNumber:o,confirmations:gp.allowNull(o,null),cumulativeGasUsed:n,effectiveGasPrice:gp.allowNull(n),status:gp.allowNull(o),type:c},e.block={hash:gp.allowNull(a),parentHash:a,number:o,timestamp:o,nonce:gp.allowNull(s),difficulty:this.difficulty.bind(this),gasLimit:n,gasUsed:n,miner:gp.allowNull(t),extraData:i,transactions:gp.allowNull(gp.arrayOf(a)),baseFeePerGas:gp.allowNull(n)},e.blockWithTransactions=wa(e.block),e.blockWithTransactions.transactions=gp.allowNull(gp.arrayOf(this.transactionResponse.bind(this))),e.filter={fromBlock:gp.allowNull(r,void 0),toBlock:gp.allowNull(r,void 0),blockHash:gp.allowNull(a,void 0),address:gp.allowNull(t,void 0),topics:gp.allowNull(this.topics.bind(this),void 0)},e.filterLog={blockNumber:gp.allowNull(o),blockHash:gp.allowNull(a),transactionIndex:o,removed:gp.allowNull(this.boolean.bind(this)),address:t,data:gp.allowFalsish(i,"0x"),topics:gp.arrayOf(a),transactionHash:a,logIndex:o},e}accessList(e){return Kf(e||[])}number(e){return"0x"===e?0:Ji.from(e).toNumber()}type(e){return"0x"===e||null==e?0:Ji.from(e).toNumber()}bigNumber(e){return Ji.from(e)}boolean(e){if("boolean"==typeof e)return e;if("string"==typeof e){if("true"===(e=e.toLowerCase()))return!0;if("false"===e)return!1}throw new Error("invalid boolean - "+e)}hex(e,t){return"string"==typeof e&&(t||"0x"===e.substring(0,2)||(e="0x"+e),Mi(e))?e.toLowerCase():yp.throwArgumentError("invalid hash","value",e)}data(e,t){const n=this.hex(e,t);if(n.length%2!=0)throw new Error("invalid data; odd-length - "+e);return n}address(e){return vs(e)}callAddress(e){if(!Mi(e,32))return null;const t=vs(Di(e,12));return t===Ds?null:t}contractAddress(e){return Es(e)}blockTag(e){if(null==e)return"latest";if("earliest"===e)return"0x0";switch(e){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return e}if("number"==typeof e||Mi(e))return Fi(e);throw new Error("invalid blockTag")}hash(e,t){const n=this.hex(e,t);return 32!==Bi(n)?yp.throwArgumentError("invalid hash","value",e):n}difficulty(e){if(null==e)return null;const t=Ji.from(e);try{return t.toNumber()}catch(e){}return null}uint256(e){if(!Mi(e))throw new Error("invalid uint256");return ji(e,32)}_block(e,t){null!=e.author&&null==e.miner&&(e.miner=e.author);const n=null!=e._difficulty?e._difficulty:e.difficulty,r=gp.check(t,e);return r._difficulty=null==n?null:Ji.from(n),r}block(e){return this._block(e,this.formats.block)}blockWithTransactions(e){return this._block(e,this.formats.blockWithTransactions)}transactionRequest(e){return gp.check(this.formats.transactionRequest,e)}transactionResponse(e){null!=e.gas&&null==e.gasLimit&&(e.gasLimit=e.gas),e.to&&Ji.from(e.to).isZero()&&(e.to="0x0000000000000000000000000000000000000000"),null!=e.input&&null==e.data&&(e.data=e.input),null==e.to&&null==e.creates&&(e.creates=this.contractAddress(e)),1!==e.type&&2!==e.type||null!=e.accessList||(e.accessList=[]);const t=gp.check(this.formats.transaction,e);if(null!=e.chainId){let n=e.chainId;Mi(n)&&(n=Ji.from(n).toNumber()),t.chainId=n}else{let n=e.networkId;null==n&&null==t.v&&(n=e.chainId),Mi(n)&&(n=Ji.from(n).toNumber()),"number"!=typeof n&&null!=t.v&&(n=(t.v-35)/2,n<0&&(n=0),n=parseInt(n)),"number"!=typeof n&&(n=0),t.chainId=n}return t.blockHash&&"x"===t.blockHash.replace(/0/g,"")&&(t.blockHash=null),t}transaction(e){return Zf(e)}receiptLog(e){return gp.check(this.formats.receiptLog,e)}receipt(e){const t=gp.check(this.formats.receipt,e);if(null!=t.root)if(t.root.length<=4){const e=Ji.from(t.root).toNumber();0===e||1===e?(null!=t.status&&t.status!==e&&yp.throwArgumentError("alt-root-status/status mismatch","value",{root:t.root,status:t.status}),t.status=e,delete t.root):yp.throwArgumentError("invalid alt-root-status","value.root",t.root)}else 66!==t.root.length&&yp.throwArgumentError("invalid root hash","value.root",t.root);return null!=t.status&&(t.byzantium=!0),t}topics(e){return Array.isArray(e)?e.map((e=>this.topics(e))):null!=e?this.hash(e,!0):null}filter(e){return gp.check(this.formats.filter,e)}filterLog(e){return gp.check(this.formats.filterLog,e)}static check(e,t){const n={};for(const r in e)try{const i=e[r](t[r]);void 0!==i&&(n[r]=i)}catch(e){throw e.checkKey=r,e.checkValue=t[r],e}return n}static allowNull(e,t){return function(n){return null==n?t:e(n)}}static allowFalsish(e,t){return function(n){return n?e(n):t}}static arrayOf(e){return function(t){if(!Array.isArray(t))throw new Error("not an array");const n=[];return t.forEach((function(t){n.push(e(t))})),n}}}function vp(e){return e&&"function"==typeof e.isCommunityResource}function wp(e){return vp(e)&&e.isCommunityResource()}let _p=!1;function Ep(){_p||(_p=!0,console.log("========= NOTICE ========="),console.log("Request-Rate Exceeded  (this message will not be repeated)"),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.io/api-keys/"),console.log("=========================="))}var Tp=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function s(e){try{c(r.next(e))}catch(e){a(e)}}function o(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}c((r=r.apply(e,t||[])).next())}))};const Ap=new wi(bp);function Rp(e){return null==e?"null":(32!==Bi(e)&&Ap.throwArgumentError("invalid topic","topic",e),e.toLowerCase())}function Sp(e){for(e=e.slice();e.length>0&&null==e[e.length-1];)e.pop();return e.map((e=>{if(Array.isArray(e)){const t={};e.forEach((e=>{t[Rp(e)]=!0}));const n=Object.keys(t);return n.sort(),n.join("|")}return Rp(e)})).join("&")}function kp(e){if("string"==typeof e){if(32===Bi(e=e.toLowerCase()))return"tx:"+e;if(-1===e.indexOf(":"))return e}else{if(Array.isArray(e))return"filter:*:"+Sp(e);if(Lc.isForkEvent(e))throw Ap.warn("not implemented"),new Error("not implemented");if(e&&"object"==typeof e)return"filter:"+(e.address||"*")+":"+Sp(e.topics||[])}throw new Error("invalid event - "+e)}function Op(){return(new Date).getTime()}function Ip(e){return new Promise((t=>{setTimeout(t,e)}))}const xp=["block","network","pending","poll"];const Cp={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function Mp(e){return ji(Ji.from(e).toHexString(),32)}function Pp(e){return wl.encode(Ii([e,Di(Rl(Rl(e)),0,4)]))}const Np=new RegExp("^(ipfs)://(.*)$","i"),Bp=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),Np,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function Dp(e,t){try{return io(Lp(e,t))}catch(e){}return null}function Lp(e,t){if("0x"===e)return null;const n=Ji.from(Di(e,t,t+32)).toNumber(),r=Ji.from(Di(e,n,n+32)).toNumber();return Di(e,n+32,n+32+r)}function Fp(e){return e.match(/^ipfs:\/\/ipfs\//i)?e=e.substring(12):e.match(/^ipfs:\/\//i)?e=e.substring(7):Ap.throwArgumentError("unsupported IPFS format","link",e),`https://gateway.ipfs.io/ipfs/${e}`}function Up(e){const t=Oi(e);if(t.length>32)throw new Error("internal; should not happen");const n=new Uint8Array(32);return n.set(t,32-t.length),n}function jp(e){if(e.length%32==0)return e;const t=new Uint8Array(32*Math.ceil(e.length/32));return t.set(e),t}function qp(e){const t=[];let n=0;for(let r=0;r<e.length;r++)t.push(null),n+=32;for(let r=0;r<e.length;r++){const i=Oi(e[r]);t[r]=Up(n),t.push(Up(i.length)),t.push(jp(i)),n+=32+32*Math.ceil(i.length/32)}return Li(t)}class zp{constructor(e,t,n,r){ba(this,"provider",e),ba(this,"name",n),ba(this,"address",e.formatter.address(t)),ba(this,"_resolvedAddress",r)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then((e=>Ji.from(e).eq(1))).catch((e=>{if(e.code===wi.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,e}))),this._supportsEip2544}_fetch(e,t){return Tp(this,void 0,void 0,(function*(){const n={to:this.address,ccipReadEnabled:!0,data:Li([e,ac(this.name),t||"0x"])};let r=!1;(yield this.supportsWildcard())&&(r=!0,n.data=Li(["0x9061b923",qp([sc(this.name),n.data])]));try{let e=yield this.provider.call(n);return Oi(e).length%32==4&&Ap.throwError("resolver threw error",wi.errors.CALL_EXCEPTION,{transaction:n,data:e}),r&&(e=Lp(e,0)),e}catch(e){if(e.code===wi.errors.CALL_EXCEPTION)return null;throw e}}))}_fetchBytes(e,t){return Tp(this,void 0,void 0,(function*(){const n=yield this._fetch(e,t);return null!=n?Lp(n,0):null}))}_getAddress(e,t){const n=Cp[String(e)];if(null==n&&Ap.throwError(`unsupported coin type: ${e}`,wi.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`}),"eth"===n.ilk)return this.provider.formatter.address(t);const r=Oi(t);if(null!=n.p2pkh){const e=t.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(e){const t=parseInt(e[1],16);if(e[2].length===2*t&&t>=1&&t<=75)return Pp(Ii([[n.p2pkh],"0x"+e[2]]))}}if(null!=n.p2sh){const e=t.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(e){const t=parseInt(e[1],16);if(e[2].length===2*t&&t>=1&&t<=75)return Pp(Ii([[n.p2sh],"0x"+e[2]]))}}if(null!=n.prefix){const e=r[1];let t=r[0];if(0===t?20!==e&&32!==e&&(t=-1):t=-1,t>=0&&r.length===2+e&&e>=1&&e<=75){const e=mp.toWords(r.slice(2));return e.unshift(t),mp.encode(n.prefix,e)}}return null}getAddress(e){return Tp(this,void 0,void 0,(function*(){if(null==e&&(e=60),60===e)try{const e=yield this._fetch("0x3b3b57de");return"0x"===e||e===Ws?null:this.provider.formatter.callAddress(e)}catch(e){if(e.code===wi.errors.CALL_EXCEPTION)return null;throw e}const t=yield this._fetchBytes("0xf1cb7e06",Mp(e));if(null==t||"0x"===t)return null;const n=this._getAddress(e,t);return null==n&&Ap.throwError("invalid or unsupported coin data",wi.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`,coinType:e,data:t}),n}))}getAvatar(){return Tp(this,void 0,void 0,(function*(){const e=[{type:"name",content:this.name}];try{const t=yield this.getText("avatar");if(null==t)return null;for(let n=0;n<Bp.length;n++){const r=t.match(Bp[n]);if(null==r)continue;const i=r[1].toLowerCase();switch(i){case"https":return e.push({type:"url",content:t}),{linkage:e,url:t};case"data":return e.push({type:"data",content:t}),{linkage:e,url:t};case"ipfs":return e.push({type:"ipfs",content:t}),{linkage:e,url:Fp(t)};case"erc721":case"erc1155":{const n="erc721"===i?"0xc87b56dd":"0x0e89341c";e.push({type:i,content:t});const a=this._resolvedAddress||(yield this.getAddress()),s=(r[2]||"").split("/");if(2!==s.length)return null;const o=yield this.provider.formatter.address(s[0]),c=ji(Ji.from(s[1]).toHexString(),32);if("erc721"===i){const t=this.provider.formatter.callAddress(yield this.provider.call({to:o,data:Li(["0x6352211e",c])}));if(a!==t)return null;e.push({type:"owner",content:t})}else if("erc1155"===i){const t=Ji.from(yield this.provider.call({to:o,data:Li(["0x00fdd58e",ji(a,32),c])}));if(t.isZero())return null;e.push({type:"balance",content:t.toString()})}const u={to:this.provider.formatter.address(s[0]),data:Li([n,c])};let d=Dp(yield this.provider.call(u),0);if(null==d)return null;e.push({type:"metadata-url-base",content:d}),"erc1155"===i&&(d=d.replace("{id}",c.substring(2)),e.push({type:"metadata-url-expanded",content:d})),d.match(/^ipfs:/i)&&(d=Fp(d)),e.push({type:"metadata-url",content:d});const f=yield rp(d);if(!f)return null;e.push({type:"metadata",content:JSON.stringify(f)});let l=f.image;if("string"!=typeof l)return null;if(l.match(/^(https:\/\/|data:)/i));else{if(null==l.match(Np))return null;e.push({type:"url-ipfs",content:l}),l=Fp(l)}return e.push({type:"url",content:l}),{linkage:e,url:l}}}}}catch(e){}return null}))}getContentHash(){return Tp(this,void 0,void 0,(function*(){const e=yield this._fetchBytes("0xbc1c58d1");if(null==e||"0x"===e)return null;const t=e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(t){const e=parseInt(t[3],16);if(t[4].length===2*e)return"ipfs://"+wl.encode("0x"+t[1])}const n=e.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){const e=parseInt(n[3],16);if(n[4].length===2*e)return"ipns://"+wl.encode("0x"+n[1])}const r=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(r&&64===r[1].length)return"bzz://"+r[1];const i=e.match(/^0x90b2c605([0-9a-f]*)$/);if(i&&68===i[1].length){const e={"=":"","+":"-","/":"_"};return"sia://"+Co("0x"+i[1]).replace(/[=+\/]/g,(t=>e[t]))}return Ap.throwError("invalid or unsupported content hash data",wi.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:e})}))}getText(e){return Tp(this,void 0,void 0,(function*(){let t=eo(e);t=Ii([Mp(64),Mp(t.length),t]),t.length%32!=0&&(t=Ii([t,ji("0x",32-e.length%32)]));const n=yield this._fetchBytes("0x59d1d43c",Ni(t));return null==n||"0x"===n?null:io(n)}))}}let Hp=null,Gp=1;class Wp extends Fc{constructor(e){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),ba(this,"anyNetwork","any"===e),this.anyNetwork&&(e=this.detectNetwork()),e instanceof Promise)this._networkPromise=e,e.catch((e=>{})),this._ready().catch((e=>{}));else{const t=ya(new.target,"getNetwork")(e);t?(ba(this,"_network",t),this.emit("network",t,null)):Ap.throwArgumentError("invalid network","network",e)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return Tp(this,void 0,void 0,(function*(){if(null==this._network){let e=null;if(this._networkPromise)try{e=yield this._networkPromise}catch(e){}null==e&&(e=yield this.detectNetwork()),e||Ap.throwError("no network detected",wi.errors.UNKNOWN_ERROR,{}),null==this._network&&(this.anyNetwork?this._network=e:ba(this,"_network",e),this.emit("network",e,null))}return this._network}))}get ready(){return ip((()=>this._ready().then((e=>e),(e=>{if(e.code!==wi.errors.NETWORK_ERROR||"noNetwork"!==e.event)throw e}))))}static getFormatter(){return null==Hp&&(Hp=new gp),Hp}static getNetwork(e){return $h(null==e?"homestead":e)}ccipReadFetch(e,t,n){return Tp(this,void 0,void 0,(function*(){if(this.disableCcipRead||0===n.length)return null;const r=e.to.toLowerCase(),i=t.toLowerCase(),a=[];for(let e=0;e<n.length;e++){const t=n[e],s=t.replace("{sender}",r).replace("{data}",i),o=t.indexOf("{data}")>=0?null:JSON.stringify({data:i,sender:r}),c=yield rp({url:s,errorPassThrough:!0},o,((e,t)=>(e.status=t.statusCode,e)));if(c.data)return c.data;const u=c.message||"unknown error";if(c.status>=400&&c.status<500)return Ap.throwError(`response not found during CCIP fetch: ${u}`,wi.errors.SERVER_ERROR,{url:t,errorMessage:u});a.push(u)}return Ap.throwError(`error encountered during CCIP fetch: ${a.map((e=>JSON.stringify(e))).join(", ")}`,wi.errors.SERVER_ERROR,{urls:n,errorMessages:a})}))}_getInternalBlockNumber(e){return Tp(this,void 0,void 0,(function*(){if(yield this._ready(),e>0)for(;this._internalBlockNumber;){const t=this._internalBlockNumber;try{const n=yield t;if(Op()-n.respTime<=e)return n.blockNumber;break}catch(e){if(this._internalBlockNumber===t)break}}const t=Op(),n=ga({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then((e=>null),(e=>e))}).then((({blockNumber:e,networkError:r})=>{if(r)throw this._internalBlockNumber===n&&(this._internalBlockNumber=null),r;const i=Op();return(e=Ji.from(e).toNumber())<this._maxInternalBlockNumber&&(e=this._maxInternalBlockNumber),this._maxInternalBlockNumber=e,this._setFastBlockNumber(e),{blockNumber:e,reqTime:t,respTime:i}}));return this._internalBlockNumber=n,n.catch((e=>{this._internalBlockNumber===n&&(this._internalBlockNumber=null)})),(yield n).blockNumber}))}poll(){return Tp(this,void 0,void 0,(function*(){const e=Gp++,t=[];let n=null;try{n=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(e){return void this.emit("error",e)}if(this._setFastBlockNumber(n),this.emit("poll",e,n),n!==this._lastBlockNumber){if(-2===this._emitted.block&&(this._emitted.block=n-1),Math.abs(this._emitted.block-n)>1e3)Ap.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${n})`),this.emit("error",Ap.makeError("network block skew detected",wi.errors.NETWORK_ERROR,{blockNumber:n,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",n);else for(let e=this._emitted.block+1;e<=n;e++)this.emit("block",e);this._emitted.block!==n&&(this._emitted.block=n,Object.keys(this._emitted).forEach((e=>{if("block"===e)return;const t=this._emitted[e];"pending"!==t&&n-t>12&&delete this._emitted[e]}))),-2===this._lastBlockNumber&&(this._lastBlockNumber=n-1),this._events.forEach((e=>{switch(e.type){case"tx":{const n=e.hash;let r=this.getTransactionReceipt(n).then((e=>e&&null!=e.blockNumber?(this._emitted["t:"+n]=e.blockNumber,this.emit(n,e),null):null)).catch((e=>{this.emit("error",e)}));t.push(r);break}case"filter":if(!e._inflight){e._inflight=!0,-2===e._lastBlockNumber&&(e._lastBlockNumber=n-1);const r=e.filter;r.fromBlock=e._lastBlockNumber+1,r.toBlock=n;const i=r.toBlock-this._maxFilterBlockRange;i>r.fromBlock&&(r.fromBlock=i),r.fromBlock<0&&(r.fromBlock=0);const a=this.getLogs(r).then((t=>{e._inflight=!1,0!==t.length&&t.forEach((t=>{t.blockNumber>e._lastBlockNumber&&(e._lastBlockNumber=t.blockNumber),this._emitted["b:"+t.blockHash]=t.blockNumber,this._emitted["t:"+t.transactionHash]=t.blockNumber,this.emit(r,t)}))})).catch((t=>{this.emit("error",t),e._inflight=!1}));t.push(a)}}})),this._lastBlockNumber=n,Promise.all(t).then((()=>{this.emit("didPoll",e)})).catch((e=>{this.emit("error",e)}))}else this.emit("didPoll",e)}))}resetEventsBlock(e){this._lastBlockNumber=e-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return Tp(this,void 0,void 0,(function*(){return Ap.throwError("provider does not support network detection",wi.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})}))}getNetwork(){return Tp(this,void 0,void 0,(function*(){const e=yield this._ready(),t=yield this.detectNetwork();if(e.chainId!==t.chainId){if(this.anyNetwork)return this._network=t,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",t,e),yield Ip(0),this._network;const n=Ap.makeError("underlying network changed",wi.errors.NETWORK_ERROR,{event:"changed",network:e,detectedNetwork:t});throw this.emit("error",n),n}return e}))}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then((e=>{this._setFastBlockNumber(e)}),(e=>{})),null!=this._fastBlockNumber?this._fastBlockNumber:-1}get polling(){return null!=this._poller}set polling(e){e&&!this._poller?(this._poller=setInterval((()=>{this.poll()}),this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout((()=>{this.poll(),this._bootstrapPoll=setTimeout((()=>{this._poller||this.poll(),this._bootstrapPoll=null}),this.pollingInterval)}),0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(e){if("number"!=typeof e||e<=0||parseInt(String(e))!=e)throw new Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval((()=>{this.poll()}),this._pollingInterval))}_getFastBlockNumber(){const e=Op();return e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=e,this._fastBlockNumberPromise=this.getBlockNumber().then((e=>((null==this._fastBlockNumber||e>this._fastBlockNumber)&&(this._fastBlockNumber=e),this._fastBlockNumber)))),this._fastBlockNumberPromise}_setFastBlockNumber(e){null!=this._fastBlockNumber&&e<this._fastBlockNumber||(this._fastQueryDate=Op(),(null==this._fastBlockNumber||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))}waitForTransaction(e,t,n){return Tp(this,void 0,void 0,(function*(){return this._waitForTransaction(e,null==t?1:t,n||0,null)}))}_waitForTransaction(e,t,n,r){return Tp(this,void 0,void 0,(function*(){const i=yield this.getTransactionReceipt(e);return(i?i.confirmations:0)>=t?i:new Promise(((i,a)=>{const s=[];let o=!1;const c=function(){return!!o||(o=!0,s.forEach((e=>{e()})),!1)},u=e=>{e.confirmations<t||c()||i(e)};if(this.on(e,u),s.push((()=>{this.removeListener(e,u)})),r){let n=r.startBlock,i=null;const u=s=>Tp(this,void 0,void 0,(function*(){o||(yield Ip(1e3),this.getTransactionCount(r.from).then((d=>Tp(this,void 0,void 0,(function*(){if(!o){if(d<=r.nonce)n=s;else{{const t=yield this.getTransaction(e);if(t&&null!=t.blockNumber)return}for(null==i&&(i=n-3,i<r.startBlock&&(i=r.startBlock));i<=s;){if(o)return;const n=yield this.getBlockWithTransactions(i);for(let i=0;i<n.transactions.length;i++){const s=n.transactions[i];if(s.hash===e)return;if(s.from===r.from&&s.nonce===r.nonce){if(o)return;const n=yield this.waitForTransaction(s.hash,t);if(c())return;let i="replaced";return s.data===r.data&&s.to===r.to&&s.value.eq(r.value)?i="repriced":"0x"===s.data&&s.from===s.to&&s.value.isZero()&&(i="cancelled"),void a(Ap.makeError("transaction was replaced",wi.errors.TRANSACTION_REPLACED,{cancelled:"replaced"===i||"cancelled"===i,reason:i,replacement:this._wrapTransaction(s),hash:e,receipt:n}))}}i++}}o||this.once("block",u)}}))),(e=>{o||this.once("block",u)})))}));if(o)return;this.once("block",u),s.push((()=>{this.removeListener("block",u)}))}if("number"==typeof n&&n>0){const e=setTimeout((()=>{c()||a(Ap.makeError("timeout exceeded",wi.errors.TIMEOUT,{timeout:n}))}),n);e.unref&&e.unref(),s.push((()=>{clearTimeout(e)}))}}))}))}getBlockNumber(){return Tp(this,void 0,void 0,(function*(){return this._getInternalBlockNumber(0)}))}getGasPrice(){return Tp(this,void 0,void 0,(function*(){yield this.getNetwork();const e=yield this.perform("getGasPrice",{});try{return Ji.from(e)}catch(t){return Ap.throwError("bad result from backend",wi.errors.SERVER_ERROR,{method:"getGasPrice",result:e,error:t})}}))}getBalance(e,t){return Tp(this,void 0,void 0,(function*(){yield this.getNetwork();const n=yield ga({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),r=yield this.perform("getBalance",n);try{return Ji.from(r)}catch(e){return Ap.throwError("bad result from backend",wi.errors.SERVER_ERROR,{method:"getBalance",params:n,result:r,error:e})}}))}getTransactionCount(e,t){return Tp(this,void 0,void 0,(function*(){yield this.getNetwork();const n=yield ga({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),r=yield this.perform("getTransactionCount",n);try{return Ji.from(r).toNumber()}catch(e){return Ap.throwError("bad result from backend",wi.errors.SERVER_ERROR,{method:"getTransactionCount",params:n,result:r,error:e})}}))}getCode(e,t){return Tp(this,void 0,void 0,(function*(){yield this.getNetwork();const n=yield ga({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),r=yield this.perform("getCode",n);try{return Ni(r)}catch(e){return Ap.throwError("bad result from backend",wi.errors.SERVER_ERROR,{method:"getCode",params:n,result:r,error:e})}}))}getStorageAt(e,t,n){return Tp(this,void 0,void 0,(function*(){yield this.getNetwork();const r=yield ga({address:this._getAddress(e),blockTag:this._getBlockTag(n),position:Promise.resolve(t).then((e=>Fi(e)))}),i=yield this.perform("getStorageAt",r);try{return Ni(i)}catch(e){return Ap.throwError("bad result from backend",wi.errors.SERVER_ERROR,{method:"getStorageAt",params:r,result:i,error:e})}}))}_wrapTransaction(e,t,n){if(null!=t&&32!==Bi(t))throw new Error("invalid response - sendTransaction");const r=e;return null!=t&&e.hash!==t&&Ap.throwError("Transaction hash mismatch from Provider.sendTransaction.",wi.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:t}),r.wait=(t,r)=>Tp(this,void 0,void 0,(function*(){let i;null==t&&(t=1),null==r&&(r=0),0!==t&&null!=n&&(i={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:n});const a=yield this._waitForTransaction(e.hash,t,r,i);return null==a&&0===t?null:(this._emitted["t:"+e.hash]=a.blockNumber,0===a.status&&Ap.throwError("transaction failed",wi.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:a}),a)})),r}sendTransaction(e){return Tp(this,void 0,void 0,(function*(){yield this.getNetwork();const t=yield Promise.resolve(e).then((e=>Ni(e))),n=this.formatter.transaction(e);null==n.confirmations&&(n.confirmations=0);const r=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const e=yield this.perform("sendTransaction",{signedTransaction:t});return this._wrapTransaction(n,e,r)}catch(e){throw e.transaction=n,e.transactionHash=n.hash,e}}))}_getTransactionRequest(e){return Tp(this,void 0,void 0,(function*(){const t=yield e,n={};return["from","to"].forEach((e=>{null!=t[e]&&(n[e]=Promise.resolve(t[e]).then((e=>e?this._getAddress(e):null)))})),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach((e=>{null!=t[e]&&(n[e]=Promise.resolve(t[e]).then((e=>e?Ji.from(e):null)))})),["type"].forEach((e=>{null!=t[e]&&(n[e]=Promise.resolve(t[e]).then((e=>null!=e?e:null)))})),t.accessList&&(n.accessList=this.formatter.accessList(t.accessList)),["data"].forEach((e=>{null!=t[e]&&(n[e]=Promise.resolve(t[e]).then((e=>e?Ni(e):null)))})),this.formatter.transactionRequest(yield ga(n))}))}_getFilter(e){return Tp(this,void 0,void 0,(function*(){e=yield e;const t={};return null!=e.address&&(t.address=this._getAddress(e.address)),["blockHash","topics"].forEach((n=>{null!=e[n]&&(t[n]=e[n])})),["fromBlock","toBlock"].forEach((n=>{null!=e[n]&&(t[n]=this._getBlockTag(e[n]))})),this.formatter.filter(yield ga(t))}))}_call(e,t,n){return Tp(this,void 0,void 0,(function*(){n>=10&&Ap.throwError("CCIP read exceeded maximum redirections",wi.errors.SERVER_ERROR,{redirects:n,transaction:e});const r=e.to,i=yield this.perform("call",{transaction:e,blockTag:t});if(n>=0&&"latest"===t&&null!=r&&"0x556f1830"===i.substring(0,10)&&Bi(i)%32==4)try{const a=Di(i,4),s=Di(a,0,32);Ji.from(s).eq(r)||Ap.throwError("CCIP Read sender did not match",wi.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:i});const o=[],c=Ji.from(Di(a,32,64)).toNumber(),u=Ji.from(Di(a,c,c+32)).toNumber(),d=Di(a,c+32);for(let t=0;t<u;t++){const n=Dp(d,32*t);null==n&&Ap.throwError("CCIP Read contained corrupt URL string",wi.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:i}),o.push(n)}const f=Lp(a,64);Ji.from(Di(a,100,128)).isZero()||Ap.throwError("CCIP Read callback selector included junk",wi.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:i});const l=Di(a,96,100),h=Lp(a,128),p=yield this.ccipReadFetch(e,f,o);null==p&&Ap.throwError("CCIP Read disabled or provided no URLs",wi.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:i});const m={to:r,data:Li([l,qp([p,h])])};return this._call(m,t,n+1)}catch(e){if(e.code===wi.errors.SERVER_ERROR)throw e}try{return Ni(i)}catch(n){return Ap.throwError("bad result from backend",wi.errors.SERVER_ERROR,{method:"call",params:{transaction:e,blockTag:t},result:i,error:n})}}))}call(e,t){return Tp(this,void 0,void 0,(function*(){yield this.getNetwork();const n=yield ga({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(t),ccipReadEnabled:Promise.resolve(e.ccipReadEnabled)});return this._call(n.transaction,n.blockTag,n.ccipReadEnabled?0:-1)}))}estimateGas(e){return Tp(this,void 0,void 0,(function*(){yield this.getNetwork();const t=yield ga({transaction:this._getTransactionRequest(e)}),n=yield this.perform("estimateGas",t);try{return Ji.from(n)}catch(e){return Ap.throwError("bad result from backend",wi.errors.SERVER_ERROR,{method:"estimateGas",params:t,result:n,error:e})}}))}_getAddress(e){return Tp(this,void 0,void 0,(function*(){"string"!=typeof(e=yield e)&&Ap.throwArgumentError("invalid address or ENS name","name",e);const t=yield this.resolveName(e);return null==t&&Ap.throwError("ENS name not configured",wi.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(e)})`}),t}))}_getBlock(e,t){return Tp(this,void 0,void 0,(function*(){yield this.getNetwork(),e=yield e;let n=-128;const r={includeTransactions:!!t};if(Mi(e,32))r.blockHash=e;else try{r.blockTag=yield this._getBlockTag(e),Mi(r.blockTag)&&(n=parseInt(r.blockTag.substring(2),16))}catch(t){Ap.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e)}return ip((()=>Tp(this,void 0,void 0,(function*(){const e=yield this.perform("getBlock",r);if(null==e)return null!=r.blockHash&&null==this._emitted["b:"+r.blockHash]||null!=r.blockTag&&n>this._emitted.block?null:void 0;if(t){let t=null;for(let n=0;n<e.transactions.length;n++){const r=e.transactions[n];if(null==r.blockNumber)r.confirmations=0;else if(null==r.confirmations){null==t&&(t=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let e=t-r.blockNumber+1;e<=0&&(e=1),r.confirmations=e}}const n=this.formatter.blockWithTransactions(e);return n.transactions=n.transactions.map((e=>this._wrapTransaction(e))),n}return this.formatter.block(e)}))),{oncePoll:this})}))}getBlock(e){return this._getBlock(e,!1)}getBlockWithTransactions(e){return this._getBlock(e,!0)}getTransaction(e){return Tp(this,void 0,void 0,(function*(){yield this.getNetwork(),e=yield e;const t={transactionHash:this.formatter.hash(e,!0)};return ip((()=>Tp(this,void 0,void 0,(function*(){const n=yield this.perform("getTransaction",t);if(null==n)return null==this._emitted["t:"+e]?null:void 0;const r=this.formatter.transactionResponse(n);if(null==r.blockNumber)r.confirmations=0;else if(null==r.confirmations){let e=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-r.blockNumber+1;e<=0&&(e=1),r.confirmations=e}return this._wrapTransaction(r)}))),{oncePoll:this})}))}getTransactionReceipt(e){return Tp(this,void 0,void 0,(function*(){yield this.getNetwork(),e=yield e;const t={transactionHash:this.formatter.hash(e,!0)};return ip((()=>Tp(this,void 0,void 0,(function*(){const n=yield this.perform("getTransactionReceipt",t);if(null==n)return null==this._emitted["t:"+e]?null:void 0;if(null==n.blockHash)return;const r=this.formatter.receipt(n);if(null==r.blockNumber)r.confirmations=0;else if(null==r.confirmations){let e=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-r.blockNumber+1;e<=0&&(e=1),r.confirmations=e}return r}))),{oncePoll:this})}))}getLogs(e){return Tp(this,void 0,void 0,(function*(){yield this.getNetwork();const t=yield ga({filter:this._getFilter(e)}),n=yield this.perform("getLogs",t);return n.forEach((e=>{null==e.removed&&(e.removed=!1)})),gp.arrayOf(this.formatter.filterLog.bind(this.formatter))(n)}))}getEtherPrice(){return Tp(this,void 0,void 0,(function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})}))}_getBlockTag(e){return Tp(this,void 0,void 0,(function*(){if("number"==typeof(e=yield e)&&e<0){e%1&&Ap.throwArgumentError("invalid BlockTag","blockTag",e);let t=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return t+=e,t<0&&(t=0),this.formatter.blockTag(t)}return this.formatter.blockTag(e)}))}getResolver(e){return Tp(this,void 0,void 0,(function*(){let t=e;for(;;){if(""===t||"."===t)return null;if("eth"!==e&&"eth"===t)return null;const n=yield this._getResolver(t,"getResolver");if(null!=n){const r=new zp(this,n,e);return t===e||(yield r.supportsWildcard())?r:null}t=t.split(".").slice(1).join(".")}}))}_getResolver(e,t){return Tp(this,void 0,void 0,(function*(){null==t&&(t="ENS");const n=yield this.getNetwork();n.ensAddress||Ap.throwError("network does not support ENS",wi.errors.UNSUPPORTED_OPERATION,{operation:t,network:n.name});try{const t=yield this.call({to:n.ensAddress,data:"0x0178b8bf"+ac(e).substring(2)});return this.formatter.callAddress(t)}catch(e){}return null}))}resolveName(e){return Tp(this,void 0,void 0,(function*(){e=yield e;try{return Promise.resolve(this.formatter.address(e))}catch(t){if(Mi(e))throw t}"string"!=typeof e&&Ap.throwArgumentError("invalid ENS name","name",e);const t=yield this.getResolver(e);return t?yield t.getAddress():null}))}lookupAddress(e){return Tp(this,void 0,void 0,(function*(){e=yield e;const t=(e=this.formatter.address(e)).substring(2).toLowerCase()+".addr.reverse",n=yield this._getResolver(t,"lookupAddress");if(null==n)return null;const r=Dp(yield this.call({to:n,data:"0x691f3431"+ac(t).substring(2)}),0);return(yield this.resolveName(r))!=e?null:r}))}getAvatar(e){return Tp(this,void 0,void 0,(function*(){let t=null;if(Mi(e)){const n=this.formatter.address(e).substring(2).toLowerCase()+".addr.reverse",r=yield this._getResolver(n,"getAvatar");if(!r)return null;t=new zp(this,r,n);try{const e=yield t.getAvatar();if(e)return e.url}catch(e){if(e.code!==wi.errors.CALL_EXCEPTION)throw e}try{const e=Dp(yield this.call({to:r,data:"0x691f3431"+ac(n).substring(2)}),0);t=yield this.getResolver(e)}catch(e){if(e.code!==wi.errors.CALL_EXCEPTION)throw e;return null}}else if(t=yield this.getResolver(e),!t)return null;const n=yield t.getAvatar();return null==n?null:n.url}))}perform(e,t){return Ap.throwError(e+" not implemented",wi.errors.NOT_IMPLEMENTED,{operation:e})}_startEvent(e){this.polling=this._events.filter((e=>e.pollable())).length>0}_stopEvent(e){this.polling=this._events.filter((e=>e.pollable())).length>0}_addEventListener(e,t,n){const r=new class{constructor(e,t,n){ba(this,"tag",e),ba(this,"listener",t),ba(this,"once",n),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const e=this.tag.split(":");return"tx"!==e[0]?null:e[1]}get filter(){const e=this.tag.split(":");if("filter"!==e[0])return null;const t=e[1],n=function(e){return""===e?[]:e.split(/&/g).map((e=>{if(""===e)return[];const t=e.split("|").map((e=>"null"===e?null:e));return 1===t.length?t[0]:t}))}(e[2]),r={};return n.length>0&&(r.topics=n),t&&"*"!==t&&(r.address=t),r}pollable(){return this.tag.indexOf(":")>=0||xp.indexOf(this.tag)>=0}}(kp(e),t,n);return this._events.push(r),this._startEvent(r),this}on(e,t){return this._addEventListener(e,t,!1)}once(e,t){return this._addEventListener(e,t,!0)}emit(e,...t){let n=!1,r=[],i=kp(e);return this._events=this._events.filter((e=>e.tag!==i||(setTimeout((()=>{e.listener.apply(this,t)}),0),n=!0,!e.once||(r.push(e),!1)))),r.forEach((e=>{this._stopEvent(e)})),n}listenerCount(e){if(!e)return this._events.length;let t=kp(e);return this._events.filter((e=>e.tag===t)).length}listeners(e){if(null==e)return this._events.map((e=>e.listener));let t=kp(e);return this._events.filter((e=>e.tag===t)).map((e=>e.listener))}off(e,t){if(null==t)return this.removeAllListeners(e);const n=[];let r=!1,i=kp(e);return this._events=this._events.filter((e=>e.tag!==i||e.listener!=t||(!!r||(r=!0,n.push(e),!1)))),n.forEach((e=>{this._stopEvent(e)})),this}removeAllListeners(e){let t=[];if(null==e)t=this._events,this._events=[];else{const n=kp(e);this._events=this._events.filter((e=>e.tag!==n||(t.push(e),!1)))}return t.forEach((e=>{this._stopEvent(e)})),this}}var Vp=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function s(e){try{c(r.next(e))}catch(e){a(e)}}function o(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}c((r=r.apply(e,t||[])).next())}))};const Kp=new wi(bp),Xp=["call","estimateGas"];function $p(e,t){if(null==e)return null;if("string"==typeof e.message&&e.message.match("reverted")){const n=Mi(e.data)?e.data:null;if(!t||n)return{message:e.message,data:n}}if("object"==typeof e){for(const n in e){const r=$p(e[n],t);if(r)return r}return null}if("string"==typeof e)try{return $p(JSON.parse(e),t)}catch(e){}return null}function Jp(e,t,n){const r=n.transaction||n.signedTransaction;if("call"===e){const e=$p(t,!0);if(e)return e.data;Kp.throwError("missing revert data in call exception; Transaction reverted without a reason string",wi.errors.CALL_EXCEPTION,{data:"0x",transaction:r,error:t})}if("estimateGas"===e){let n=$p(t.body,!1);null==n&&(n=$p(t,!1)),n&&Kp.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",wi.errors.UNPREDICTABLE_GAS_LIMIT,{reason:n.message,method:e,transaction:r,error:t})}let i=t.message;throw t.code===wi.errors.SERVER_ERROR&&t.error&&"string"==typeof t.error.message?i=t.error.message:"string"==typeof t.body?i=t.body:"string"==typeof t.responseText&&(i=t.responseText),i=(i||"").toLowerCase(),i.match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i)&&Kp.throwError("insufficient funds for intrinsic transaction cost",wi.errors.INSUFFICIENT_FUNDS,{error:t,method:e,transaction:r}),i.match(/nonce (is )?too low/i)&&Kp.throwError("nonce has already been used",wi.errors.NONCE_EXPIRED,{error:t,method:e,transaction:r}),i.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&Kp.throwError("replacement fee too low",wi.errors.REPLACEMENT_UNDERPRICED,{error:t,method:e,transaction:r}),i.match(/only replay-protected/i)&&Kp.throwError("legacy pre-eip-155 transactions not supported",wi.errors.UNSUPPORTED_OPERATION,{error:t,method:e,transaction:r}),Xp.indexOf(e)>=0&&i.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/)&&Kp.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",wi.errors.UNPREDICTABLE_GAS_LIMIT,{error:t,method:e,transaction:r}),t}function Yp(e){return new Promise((function(t){setTimeout(t,e)}))}function Qp(e){if(e.error){const t=new Error(e.error.message);throw t.code=e.error.code,t.data=e.error.data,t}return e.result}function Zp(e){return e?e.toLowerCase():e}const em={};class tm extends Hc{constructor(e,t,n){if(super(),e!==em)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");ba(this,"provider",t),null==n&&(n=0),"string"==typeof n?(ba(this,"_address",this.provider.formatter.address(n)),ba(this,"_index",null)):"number"==typeof n?(ba(this,"_index",n),ba(this,"_address",null)):Kp.throwArgumentError("invalid address or index","addressOrIndex",n)}connect(e){return Kp.throwError("cannot alter JSON-RPC Signer connection",wi.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new nm(em,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then((e=>(e.length<=this._index&&Kp.throwError("unknown account #"+this._index,wi.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(e[this._index]))))}sendUncheckedTransaction(e){e=wa(e);const t=this.getAddress().then((e=>(e&&(e=e.toLowerCase()),e)));if(null==e.gasLimit){const n=wa(e);n.from=t,e.gasLimit=this.provider.estimateGas(n)}return null!=e.to&&(e.to=Promise.resolve(e.to).then((e=>Vp(this,void 0,void 0,(function*(){if(null==e)return null;const t=yield this.provider.resolveName(e);return null==t&&Kp.throwArgumentError("provided ENS name resolves to null","tx.to",e),t}))))),ga({tx:ga(e),sender:t}).then((({tx:t,sender:n})=>{null!=t.from?t.from.toLowerCase()!==n&&Kp.throwArgumentError("from address mismatch","transaction",e):t.from=n;const r=this.provider.constructor.hexlifyTransaction(t,{from:!0});return this.provider.send("eth_sendTransaction",[r]).then((e=>e),(e=>("string"==typeof e.message&&e.message.match(/user denied/i)&&Kp.throwError("user rejected transaction",wi.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:t}),Jp("sendTransaction",e,r))))}))}signTransaction(e){return Kp.throwError("signing transactions is unsupported",wi.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(e){return Vp(this,void 0,void 0,(function*(){const t=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),n=yield this.sendUncheckedTransaction(e);try{return yield ip((()=>Vp(this,void 0,void 0,(function*(){const e=yield this.provider.getTransaction(n);if(null!==e)return this.provider._wrapTransaction(e,n,t)}))),{oncePoll:this.provider})}catch(e){throw e.transactionHash=n,e}}))}signMessage(e){return Vp(this,void 0,void 0,(function*(){const t="string"==typeof e?eo(e):e,n=yield this.getAddress();try{return yield this.provider.send("personal_sign",[Ni(t),n.toLowerCase()])}catch(t){throw"string"==typeof t.message&&t.message.match(/user denied/i)&&Kp.throwError("user rejected signing",wi.errors.ACTION_REJECTED,{action:"signMessage",from:n,messageData:e}),t}}))}_legacySignMessage(e){return Vp(this,void 0,void 0,(function*(){const t="string"==typeof e?eo(e):e,n=yield this.getAddress();try{return yield this.provider.send("eth_sign",[n.toLowerCase(),Ni(t)])}catch(t){throw"string"==typeof t.message&&t.message.match(/user denied/i)&&Kp.throwError("user rejected signing",wi.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:n,messageData:e}),t}}))}_signTypedData(e,t,n){return Vp(this,void 0,void 0,(function*(){const r=yield Ac.resolveNames(e,t,n,(e=>this.provider.resolveName(e))),i=yield this.getAddress();try{return yield this.provider.send("eth_signTypedData_v4",[i.toLowerCase(),JSON.stringify(Ac.getPayload(r.domain,t,r.value))])}catch(e){throw"string"==typeof e.message&&e.message.match(/user denied/i)&&Kp.throwError("user rejected signing",wi.errors.ACTION_REJECTED,{action:"_signTypedData",from:i,messageData:{domain:r.domain,types:t,value:r.value}}),e}}))}unlock(e){return Vp(this,void 0,void 0,(function*(){const t=this.provider,n=yield this.getAddress();return t.send("personal_unlockAccount",[n.toLowerCase(),e,null])}))}}class nm extends tm{sendTransaction(e){return this.sendUncheckedTransaction(e).then((e=>({hash:e,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:t=>this.provider.waitForTransaction(e,t)})))}}const rm={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};let im=class extends Wp{constructor(e,t){let n=t;null==n&&(n=new Promise(((e,t)=>{setTimeout((()=>{this.detectNetwork().then((t=>{e(t)}),(e=>{t(e)}))}),0)}))),super(n),e||(e=ya(this.constructor,"defaultUrl")()),ba(this,"connection","string"==typeof e?Object.freeze({url:e}):Object.freeze(wa(e))),this._nextId=42}get _cache(){return null==this._eventLoopCache&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout((()=>{this._cache.detectNetwork=null}),0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return Vp(this,void 0,void 0,(function*(){yield Yp(0);let e=null;try{e=yield this.send("eth_chainId",[])}catch(t){try{e=yield this.send("net_version",[])}catch(e){}}if(null!=e){const t=ya(this.constructor,"getNetwork");try{return t(Ji.from(e).toNumber())}catch(t){return Kp.throwError("could not detect network",wi.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:t})}}return Kp.throwError("could not detect network",wi.errors.NETWORK_ERROR,{event:"noNetwork"})}))}getSigner(e){return new tm(em,this,e)}getUncheckedSigner(e){return this.getSigner(e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then((e=>e.map((e=>this.formatter.address(e)))))}send(e,t){const n={method:e,params:t,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:Aa(n),provider:this});const r=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(r&&this._cache[e])return this._cache[e];const i=rp(this.connection,JSON.stringify(n),Qp).then((e=>(this.emit("debug",{action:"response",request:n,response:e,provider:this}),e)),(e=>{throw this.emit("debug",{action:"response",error:e,request:n,provider:this}),e}));return r&&(this._cache[e]=i,setTimeout((()=>{this._cache[e]=null}),0)),i}prepareRequest(e,t){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[Zp(t.address),t.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[Zp(t.address),t.blockTag]];case"getCode":return["eth_getCode",[Zp(t.address),t.blockTag]];case"getStorageAt":return["eth_getStorageAt",[Zp(t.address),ji(t.position,32),t.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[t.signedTransaction]];case"getBlock":return t.blockTag?["eth_getBlockByNumber",[t.blockTag,!!t.includeTransactions]]:t.blockHash?["eth_getBlockByHash",[t.blockHash,!!t.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[t.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[t.transactionHash]];case"call":return["eth_call",[ya(this.constructor,"hexlifyTransaction")(t.transaction,{from:!0}),t.blockTag]];case"estimateGas":return["eth_estimateGas",[ya(this.constructor,"hexlifyTransaction")(t.transaction,{from:!0})]];case"getLogs":return t.filter&&null!=t.filter.address&&(t.filter.address=Zp(t.filter.address)),["eth_getLogs",[t.filter]]}return null}perform(e,t){return Vp(this,void 0,void 0,(function*(){if("call"===e||"estimateGas"===e){const e=t.transaction;if(e&&null!=e.type&&Ji.from(e.type).isZero()&&null==e.maxFeePerGas&&null==e.maxPriorityFeePerGas){const n=yield this.getFeeData();null==n.maxFeePerGas&&null==n.maxPriorityFeePerGas&&((t=wa(t)).transaction=wa(e),delete t.transaction.type)}}const n=this.prepareRequest(e,t);null==n&&Kp.throwError(e+" not implemented",wi.errors.NOT_IMPLEMENTED,{operation:e});try{return yield this.send(n[0],n[1])}catch(n){return Jp(e,n,t)}}))}_startEvent(e){"pending"===e.tag&&this._startPending(),super._startEvent(e)}_startPending(){if(null!=this._pendingFilter)return;const e=this,t=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=t,t.then((function(n){return function r(){e.send("eth_getFilterChanges",[n]).then((function(n){if(e._pendingFilter!=t)return null;let r=Promise.resolve();return n.forEach((function(t){e._emitted["t:"+t.toLowerCase()]="pending",r=r.then((function(){return e.getTransaction(t).then((function(t){return e.emit("pending",t),null}))}))})),r.then((function(){return Yp(1e3)}))})).then((function(){if(e._pendingFilter==t)return setTimeout((function(){r()}),0),null;e.send("eth_uninstallFilter",[n])})).catch((e=>{}))}(),n})).catch((e=>{}))}_stopEvent(e){"pending"===e.tag&&0===this.listenerCount("pending")&&(this._pendingFilter=null),super._stopEvent(e)}static hexlifyTransaction(e,t){const n=wa(rm);if(t)for(const e in t)t[e]&&(n[e]=!0);va(e,n);const r={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach((function(t){if(null==e[t])return;const n=Fi(Ji.from(e[t]));"gasLimit"===t&&(t="gas"),r[t]=n})),["from","to","data"].forEach((function(t){null!=e[t]&&(r[t]=Ni(e[t]))})),e.accessList&&(r.accessList=Kf(e.accessList)),r}},am=null;try{if(am=WebSocket,null==am)throw new Error("inject please")}catch(e){const t=new wi(bp);am=function(){t.throwError("WebSockets not supported in this environment",wi.errors.UNSUPPORTED_OPERATION,{operation:"new WebSocket()"})}}var sm=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function s(e){try{c(r.next(e))}catch(e){a(e)}}function o(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}c((r=r.apply(e,t||[])).next())}))};const om=new wi(bp);let cm=1;class um extends im{constructor(e,t){"any"===t&&om.throwError("WebSocketProvider does not support 'any' network yet",wi.errors.UNSUPPORTED_OPERATION,{operation:"network:any"}),super("string"==typeof e?e:"_websocket",t),this._pollingInterval=-1,this._wsReady=!1,ba(this,"_websocket","string"==typeof e?new am(this.connection.url):e),ba(this,"_requests",{}),ba(this,"_subs",{}),ba(this,"_subIds",{}),ba(this,"_detectNetwork",super.detectNetwork()),this.websocket.onopen=()=>{this._wsReady=!0,Object.keys(this._requests).forEach((e=>{this.websocket.send(this._requests[e].payload)}))},this.websocket.onmessage=e=>{const t=e.data,n=JSON.parse(t);if(null!=n.id){const e=String(n.id),r=this._requests[e];if(delete this._requests[e],void 0!==n.result)r.callback(null,n.result),this.emit("debug",{action:"response",request:JSON.parse(r.payload),response:n.result,provider:this});else{let e=null;n.error?(e=new Error(n.error.message||"unknown error"),ba(e,"code",n.error.code||null),ba(e,"response",t)):e=new Error("unknown error"),r.callback(e,void 0),this.emit("debug",{action:"response",error:e,request:JSON.parse(r.payload),provider:this})}}else if("eth_subscription"===n.method){const e=this._subs[n.params.subscription];e&&e.processFunc(n.params.result)}else console.warn("this should not happen")};const n=setInterval((()=>{this.emit("poll")}),1e3);n.unref&&n.unref()}get websocket(){return this._websocket}detectNetwork(){return this._detectNetwork}get pollingInterval(){return 0}resetEventsBlock(e){om.throwError("cannot reset events block on WebSocketProvider",wi.errors.UNSUPPORTED_OPERATION,{operation:"resetEventBlock"})}set pollingInterval(e){om.throwError("cannot set polling interval on WebSocketProvider",wi.errors.UNSUPPORTED_OPERATION,{operation:"setPollingInterval"})}poll(){return sm(this,void 0,void 0,(function*(){return null}))}set polling(e){e&&om.throwError("cannot set polling on WebSocketProvider",wi.errors.UNSUPPORTED_OPERATION,{operation:"setPolling"})}send(e,t){const n=cm++;return new Promise(((r,i)=>{const a=JSON.stringify({method:e,params:t,id:n,jsonrpc:"2.0"});this.emit("debug",{action:"request",request:JSON.parse(a),provider:this}),this._requests[String(n)]={callback:function(e,t){return e?i(e):r(t)},payload:a},this._wsReady&&this.websocket.send(a)}))}static defaultUrl(){return"ws://localhost:8546"}_subscribe(e,t,n){return sm(this,void 0,void 0,(function*(){let r=this._subIds[e];null==r&&(r=Promise.all(t).then((e=>this.send("eth_subscribe",e))),this._subIds[e]=r);const i=yield r;this._subs[i]={tag:e,processFunc:n}}))}_startEvent(e){switch(e.type){case"block":this._subscribe("block",["newHeads"],(e=>{const t=Ji.from(e.number).toNumber();this._emitted.block=t,this.emit("block",t)}));break;case"pending":this._subscribe("pending",["newPendingTransactions"],(e=>{this.emit("pending",e)}));break;case"filter":this._subscribe(e.tag,["logs",this._getFilter(e.filter)],(t=>{null==t.removed&&(t.removed=!1),this.emit(e.filter,this.formatter.filterLog(t))}));break;case"tx":{const t=e=>{const t=e.hash;this.getTransactionReceipt(t).then((e=>{e&&this.emit(t,e)}))};t(e),this._subscribe("tx",["newHeads"],(e=>{this._events.filter((e=>"tx"===e.type)).forEach(t)}));break}case"debug":case"poll":case"willPoll":case"didPoll":case"error":break;default:console.log("unhandled:",e)}}_stopEvent(e){let t=e.tag;if("tx"===e.type){if(this._events.filter((e=>"tx"===e.type)).length)return;t="tx"}else if(this.listenerCount(e.event))return;const n=this._subIds[t];n&&(delete this._subIds[t],n.then((e=>{this._subs[e]&&(delete this._subs[e],this.send("eth_unsubscribe",[e]))})))}destroy(){return sm(this,void 0,void 0,(function*(){this.websocket.readyState===am.CONNECTING&&(yield new Promise((e=>{this.websocket.onopen=function(){e(!0)},this.websocket.onerror=function(){e(!1)}}))),this.websocket.close(1e3)}))}}var dm=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function s(e){try{c(r.next(e))}catch(e){a(e)}}function o(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}c((r=r.apply(e,t||[])).next())}))};const fm=new wi(bp);class lm extends im{detectNetwork(){const e=Object.create(null,{detectNetwork:{get:()=>super.detectNetwork}});return dm(this,void 0,void 0,(function*(){let t=this.network;return null==t&&(t=yield e.detectNetwork.call(this),t||fm.throwError("no network detected",wi.errors.UNKNOWN_ERROR,{}),null==this._network&&(ba(this,"_network",t),this.emit("network",t,null))),t}))}}class hm extends lm{constructor(e,t){fm.checkAbstract(new.target,hm),e=ya(new.target,"getNetwork")(e),t=ya(new.target,"getApiKey")(t);super(ya(new.target,"getUrl")(e,t),e),"string"==typeof t?ba(this,"apiKey",t):null!=t&&Object.keys(t).forEach((e=>{ba(this,e,t[e])}))}_startPending(){fm.warn("WARNING: API provider does not support pending filters")}isCommunityResource(){return!1}getSigner(e){return fm.throwError("API provider does not support signing",wi.errors.UNSUPPORTED_OPERATION,{operation:"getSigner"})}listAccounts(){return Promise.resolve([])}static getApiKey(e){return e}static getUrl(e,t){return fm.throwError("not implemented; sub-classes must override getUrl",wi.errors.NOT_IMPLEMENTED,{operation:"getUrl"})}}const pm=new wi(bp),mm="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC";class bm extends um{constructor(e,t){const n=new ym(e,t);super(n.connection.url.replace(/^http/i,"ws").replace(".alchemyapi.",".ws.alchemyapi."),n.network),ba(this,"apiKey",n.apiKey)}isCommunityResource(){return this.apiKey===mm}}class ym extends hm{static getWebSocketProvider(e,t){return new bm(e,t)}static getApiKey(e){return null==e?mm:(e&&"string"!=typeof e&&pm.throwArgumentError("invalid apiKey","apiKey",e),e)}static getUrl(e,t){let n=null;switch(e.name){case"homestead":n="eth-mainnet.alchemyapi.io/v2/";break;case"goerli":n="eth-goerli.g.alchemy.com/v2/";break;case"matic":n="polygon-mainnet.g.alchemy.com/v2/";break;case"maticmum":n="polygon-mumbai.g.alchemy.com/v2/";break;case"arbitrum":n="arb-mainnet.g.alchemy.com/v2/";break;case"arbitrum-goerli":n="arb-goerli.g.alchemy.com/v2/";break;case"optimism":n="opt-mainnet.g.alchemy.com/v2/";break;case"optimism-goerli":n="opt-goerli.g.alchemy.com/v2/";break;default:pm.throwArgumentError("unsupported network","network",arguments[0])}return{allowGzip:!0,url:"https://"+n+t,throttleCallback:(e,n)=>(t===mm&&Ep(),Promise.resolve(!0))}}isCommunityResource(){return this.apiKey===mm}}const gm=new wi(bp),vm="9f7d929b018cdffb338517efa06f58359e86ff1ffd350bc889738523659e7972";function wm(e){switch(e){case"homestead":return"rpc.ankr.com/eth/";case"ropsten":return"rpc.ankr.com/eth_ropsten/";case"rinkeby":return"rpc.ankr.com/eth_rinkeby/";case"goerli":return"rpc.ankr.com/eth_goerli/";case"matic":return"rpc.ankr.com/polygon/";case"arbitrum":return"rpc.ankr.com/arbitrum/"}return gm.throwArgumentError("unsupported network","name",e)}class _m extends hm{isCommunityResource(){return this.apiKey===vm}static getApiKey(e){return null==e?vm:e}static getUrl(e,t){null==t&&(t=vm);const n={allowGzip:!0,url:"https://"+wm(e.name)+t,throttleCallback:(e,n)=>(t.apiKey===vm&&Ep(),Promise.resolve(!0))};return null!=t.projectSecret&&(n.user="",n.password=t.projectSecret),n}}var Em=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function s(e){try{c(r.next(e))}catch(e){a(e)}}function o(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}c((r=r.apply(e,t||[])).next())}))};const Tm=new wi(bp);class Am extends hm{static getApiKey(e){return null!=e&&Tm.throwArgumentError("apiKey not supported for cloudflare","apiKey",e),null}static getUrl(e,t){let n=null;if("homestead"===e.name)n="https://cloudflare-eth.com/";else Tm.throwArgumentError("unsupported network","network",arguments[0]);return n}perform(e,t){const n=Object.create(null,{perform:{get:()=>super.perform}});return Em(this,void 0,void 0,(function*(){if("getBlockNumber"===e){return(yield n.perform.call(this,"getBlock",{blockTag:"latest"})).number}return n.perform.call(this,e,t)}))}}var Rm=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function s(e){try{c(r.next(e))}catch(e){a(e)}}function o(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}c((r=r.apply(e,t||[])).next())}))};const Sm=new wi(bp);function km(e){const t={};for(let n in e){if(null==e[n])continue;let r=e[n];"type"===n&&0===r||(r={type:!0,gasLimit:!0,gasPrice:!0,maxFeePerGs:!0,maxPriorityFeePerGas:!0,nonce:!0,value:!0}[n]?Fi(Ni(r)):"accessList"===n?"["+Kf(r).map((e=>`{address:"${e.address}",storageKeys:["${e.storageKeys.join('","')}"]}`)).join(",")+"]":Ni(r),t[n]=r)}return t}function Om(e){if(0==e.status&&("No records found"===e.message||"No transactions found"===e.message))return e.result;if(1!=e.status||"string"!=typeof e.message||!e.message.match(/^OK/)){const t=new Error("invalid response");throw t.result=JSON.stringify(e),(e.result||"").toLowerCase().indexOf("rate limit")>=0&&(t.throttleRetry=!0),t}return e.result}function Im(e){if(e&&0==e.status&&"NOTOK"==e.message&&(e.result||"").toLowerCase().indexOf("rate limit")>=0){const t=new Error("throttled response");throw t.result=JSON.stringify(e),t.throttleRetry=!0,t}if("2.0"!=e.jsonrpc){const t=new Error("invalid response");throw t.result=JSON.stringify(e),t}if(e.error){const t=new Error(e.error.message||"unknown error");throw e.error.code&&(t.code=e.error.code),e.error.data&&(t.data=e.error.data),t}return e.result}function xm(e){if("pending"===e)throw new Error("pending not supported");return"latest"===e?e:parseInt(e.substring(2),16)}function Cm(e,t,n){if("call"===e&&t.code===wi.errors.SERVER_ERROR){const e=t.error;if(e&&(e.message.match(/reverted/i)||e.message.match(/VM execution error/i))){let n=e.data;if(n&&(n="0x"+n.replace(/^.*0x/i,"")),Mi(n))return n;Sm.throwError("missing revert data in call exception",wi.errors.CALL_EXCEPTION,{error:t,data:"0x"})}}let r=t.message;throw t.code===wi.errors.SERVER_ERROR&&(t.error&&"string"==typeof t.error.message?r=t.error.message:"string"==typeof t.body?r=t.body:"string"==typeof t.responseText&&(r=t.responseText)),r=(r||"").toLowerCase(),r.match(/insufficient funds/)&&Sm.throwError("insufficient funds for intrinsic transaction cost",wi.errors.INSUFFICIENT_FUNDS,{error:t,method:e,transaction:n}),r.match(/same hash was already imported|transaction nonce is too low|nonce too low/)&&Sm.throwError("nonce has already been used",wi.errors.NONCE_EXPIRED,{error:t,method:e,transaction:n}),r.match(/another transaction with same nonce/)&&Sm.throwError("replacement fee too low",wi.errors.REPLACEMENT_UNDERPRICED,{error:t,method:e,transaction:n}),r.match(/execution failed due to an exception|execution reverted/)&&Sm.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",wi.errors.UNPREDICTABLE_GAS_LIMIT,{error:t,method:e,transaction:n}),t}class Mm extends Wp{constructor(e,t){super(e),ba(this,"baseUrl",this.getBaseUrl()),ba(this,"apiKey",t||null)}getBaseUrl(){switch(this.network?this.network.name:"invalid"){case"homestead":return"https://api.etherscan.io";case"goerli":return"https://api-goerli.etherscan.io";case"sepolia":return"https://api-sepolia.etherscan.io";case"matic":return"https://api.polygonscan.com";case"maticmum":return"https://api-testnet.polygonscan.com";case"arbitrum":return"https://api.arbiscan.io";case"arbitrum-goerli":return"https://api-goerli.arbiscan.io";case"optimism":return"https://api-optimistic.etherscan.io";case"optimism-goerli":return"https://api-goerli-optimistic.etherscan.io"}return Sm.throwArgumentError("unsupported network","network",this.network.name)}getUrl(e,t){const n=Object.keys(t).reduce(((e,n)=>{const r=t[n];return null!=r&&(e+=`&${n}=${r}`),e}),""),r=this.apiKey?`&apikey=${this.apiKey}`:"";return`${this.baseUrl}/api?module=${e}${n}${r}`}getPostUrl(){return`${this.baseUrl}/api`}getPostData(e,t){return t.module=e,t.apikey=this.apiKey,t}fetch(e,t,n){return Rm(this,void 0,void 0,(function*(){const r=n?this.getPostUrl():this.getUrl(e,t),i=n?this.getPostData(e,t):null,a="proxy"===e?Im:Om;this.emit("debug",{action:"request",request:r,provider:this});const s={url:r,throttleSlotInterval:1e3,throttleCallback:(e,t)=>(this.isCommunityResource()&&Ep(),Promise.resolve(!0))};let o=null;i&&(s.headers={"content-type":"application/x-www-form-urlencoded; charset=UTF-8"},o=Object.keys(i).map((e=>`${e}=${i[e]}`)).join("&"));const c=yield rp(s,o,a||Im);return this.emit("debug",{action:"response",request:r,response:Aa(c),provider:this}),c}))}detectNetwork(){return Rm(this,void 0,void 0,(function*(){return this.network}))}perform(e,t){const n=Object.create(null,{perform:{get:()=>super.perform}});return Rm(this,void 0,void 0,(function*(){switch(e){case"getBlockNumber":return this.fetch("proxy",{action:"eth_blockNumber"});case"getGasPrice":return this.fetch("proxy",{action:"eth_gasPrice"});case"getBalance":return this.fetch("account",{action:"balance",address:t.address,tag:t.blockTag});case"getTransactionCount":return this.fetch("proxy",{action:"eth_getTransactionCount",address:t.address,tag:t.blockTag});case"getCode":return this.fetch("proxy",{action:"eth_getCode",address:t.address,tag:t.blockTag});case"getStorageAt":return this.fetch("proxy",{action:"eth_getStorageAt",address:t.address,position:t.position,tag:t.blockTag});case"sendTransaction":return this.fetch("proxy",{action:"eth_sendRawTransaction",hex:t.signedTransaction},!0).catch((e=>Cm("sendTransaction",e,t.signedTransaction)));case"getBlock":if(t.blockTag)return this.fetch("proxy",{action:"eth_getBlockByNumber",tag:t.blockTag,boolean:t.includeTransactions?"true":"false"});throw new Error("getBlock by blockHash not implemented");case"getTransaction":return this.fetch("proxy",{action:"eth_getTransactionByHash",txhash:t.transactionHash});case"getTransactionReceipt":return this.fetch("proxy",{action:"eth_getTransactionReceipt",txhash:t.transactionHash});case"call":{if("latest"!==t.blockTag)throw new Error("EtherscanProvider does not support blockTag for call");const e=km(t.transaction);e.module="proxy",e.action="eth_call";try{return yield this.fetch("proxy",e,!0)}catch(e){return Cm("call",e,t.transaction)}}case"estimateGas":{const e=km(t.transaction);e.module="proxy",e.action="eth_estimateGas";try{return yield this.fetch("proxy",e,!0)}catch(e){return Cm("estimateGas",e,t.transaction)}}case"getLogs":{const e={action:"getLogs"};if(t.filter.fromBlock&&(e.fromBlock=xm(t.filter.fromBlock)),t.filter.toBlock&&(e.toBlock=xm(t.filter.toBlock)),t.filter.address&&(e.address=t.filter.address),t.filter.topics&&t.filter.topics.length>0&&(t.filter.topics.length>1&&Sm.throwError("unsupported topic count",wi.errors.UNSUPPORTED_OPERATION,{topics:t.filter.topics}),1===t.filter.topics.length)){const n=t.filter.topics[0];"string"==typeof n&&66===n.length||Sm.throwError("unsupported topic format",wi.errors.UNSUPPORTED_OPERATION,{topic0:n}),e.topic0=n}const n=yield this.fetch("logs",e);let r={};for(let e=0;e<n.length;e++){const t=n[e];if(null==t.blockHash){if(null==r[t.blockNumber]){const e=yield this.getBlock(t.blockNumber);e&&(r[t.blockNumber]=e.hash)}t.blockHash=r[t.blockNumber]}}return n}case"getEtherPrice":return"homestead"!==this.network.name?0:parseFloat((yield this.fetch("stats",{action:"ethprice"})).ethusd)}return n.perform.call(this,e,t)}))}getHistory(e,t,n){return Rm(this,void 0,void 0,(function*(){const r={action:"txlist",address:yield this.resolveName(e),startblock:null==t?0:t,endblock:null==n?99999999:n,sort:"asc"};return(yield this.fetch("account",r)).map((e=>{["contractAddress","to"].forEach((function(t){""==e[t]&&delete e[t]})),null==e.creates&&null!=e.contractAddress&&(e.creates=e.contractAddress);const t=this.formatter.transactionResponse(e);return e.timeStamp&&(t.timestamp=parseInt(e.timeStamp)),t}))}))}isCommunityResource(){return null==this.apiKey}}var Pm=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function s(e){try{c(r.next(e))}catch(e){a(e)}}function o(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}c((r=r.apply(e,t||[])).next())}))};const Nm=new wi(bp);function Bm(){return(new Date).getTime()}function Dm(e){let t=null;for(let n=0;n<e.length;n++){const r=e[n];if(null==r)return null;t?t.name===r.name&&t.chainId===r.chainId&&(t.ensAddress===r.ensAddress||null==t.ensAddress&&null==r.ensAddress)||Nm.throwArgumentError("provider mismatch","networks",e):t=r}return t}function Lm(e,t){e=e.slice().sort();const n=Math.floor(e.length/2);if(e.length%2)return e[n];const r=e[n-1],i=e[n];return null!=t&&Math.abs(r-i)>t?null:(r+i)/2}function Fm(e){if(null===e)return"null";if("number"==typeof e||"boolean"==typeof e)return JSON.stringify(e);if("string"==typeof e)return e;if(Ji.isBigNumber(e))return e.toString();if(Array.isArray(e))return JSON.stringify(e.map((e=>Fm(e))));if("object"==typeof e){const t=Object.keys(e);return t.sort(),"{"+t.map((t=>{let n=e[t];return n="function"==typeof n?"[function]":Fm(n),JSON.stringify(t)+":"+n})).join(",")+"}"}throw new Error("unknown value type: "+typeof e)}let Um=1;function jm(e){let t=null,n=null,r=new Promise((r=>{t=function(){n&&(clearTimeout(n),n=null),r()},n=setTimeout(t,e)}));return{cancel:t,getPromise:function(){return r},wait:e=>(r=r.then(e),r)}}const qm=[wi.errors.CALL_EXCEPTION,wi.errors.INSUFFICIENT_FUNDS,wi.errors.NONCE_EXPIRED,wi.errors.REPLACEMENT_UNDERPRICED,wi.errors.UNPREDICTABLE_GAS_LIMIT],zm=["address","args","errorArgs","errorSignature","method","transaction"];function Hm(e,t){const n={weight:e.weight};return Object.defineProperty(n,"provider",{get:()=>e.provider}),e.start&&(n.start=e.start),t&&(n.duration=t-e.start),e.done&&(e.error?n.error=e.error:n.result=e.result||null),n}function Gm(e,t,n){let r=Fm;switch(t){case"getBlockNumber":return function(t){const n=t.map((e=>e.result));let r=Lm(t.map((e=>e.result)),2);if(null!=r)return r=Math.ceil(r),n.indexOf(r+1)>=0&&r++,r>=e._highestBlockNumber&&(e._highestBlockNumber=r),e._highestBlockNumber};case"getGasPrice":return function(e){const t=e.map((e=>e.result));return t.sort(),t[Math.floor(t.length/2)]};case"getEtherPrice":return function(e){return Lm(e.map((e=>e.result)))};case"getBalance":case"getTransactionCount":case"getCode":case"getStorageAt":case"call":case"estimateGas":case"getLogs":break;case"getTransaction":case"getTransactionReceipt":r=function(e){return null==e?null:((e=wa(e)).confirmations=-1,Fm(e))};break;case"getBlock":r=n.includeTransactions?function(e){return null==e?null:((e=wa(e)).transactions=e.transactions.map((e=>((e=wa(e)).confirmations=-1,e))),Fm(e))}:function(e){return null==e?null:Fm(e)};break;default:throw new Error("unknown method: "+t)}return function(e,t){return function(n){const r={};n.forEach((t=>{const n=e(t.result);r[n]||(r[n]={count:0,result:t.result}),r[n].count++}));const i=Object.keys(r);for(let e=0;e<i.length;e++){const n=r[i[e]];if(n.count>=t)return n.result}}}(r,e.quorum)}function Wm(e,t){return Pm(this,void 0,void 0,(function*(){const n=e.provider;return null!=n.blockNumber&&n.blockNumber>=t||-1===t?n:ip((()=>new Promise(((r,i)=>{setTimeout((function(){return n.blockNumber>=t?r(n):e.cancelled?r(null):r(void 0)}),0)}))),{oncePoll:n})}))}function Vm(e,t,n,r){return Pm(this,void 0,void 0,(function*(){let i=e.provider;switch(n){case"getBlockNumber":case"getGasPrice":return i[n]();case"getEtherPrice":if(i.getEtherPrice)return i.getEtherPrice();break;case"getBalance":case"getTransactionCount":case"getCode":return r.blockTag&&Mi(r.blockTag)&&(i=yield Wm(e,t)),i[n](r.address,r.blockTag||"latest");case"getStorageAt":return r.blockTag&&Mi(r.blockTag)&&(i=yield Wm(e,t)),i.getStorageAt(r.address,r.position,r.blockTag||"latest");case"getBlock":return r.blockTag&&Mi(r.blockTag)&&(i=yield Wm(e,t)),i[r.includeTransactions?"getBlockWithTransactions":"getBlock"](r.blockTag||r.blockHash);case"call":case"estimateGas":return r.blockTag&&Mi(r.blockTag)&&(i=yield Wm(e,t)),"call"===n&&r.blockTag?i[n](r.transaction,r.blockTag):i[n](r.transaction);case"getTransaction":case"getTransactionReceipt":return i[n](r.transactionHash);case"getLogs":{let n=r.filter;return(n.fromBlock&&Mi(n.fromBlock)||n.toBlock&&Mi(n.toBlock))&&(i=yield Wm(e,t)),i.getLogs(n)}}return Nm.throwError("unknown method error",wi.errors.UNKNOWN_ERROR,{method:n,params:r})}))}class Km extends Wp{constructor(e,t){0===e.length&&Nm.throwArgumentError("missing providers","providers",e);const n=e.map(((e,t)=>{if(Fc.isProvider(e)){const t=wp(e)?2e3:750,n=1;return Object.freeze({provider:e,weight:1,stallTimeout:t,priority:n})}const n=wa(e);null==n.priority&&(n.priority=1),null==n.stallTimeout&&(n.stallTimeout=wp(e)?2e3:750),null==n.weight&&(n.weight=1);const r=n.weight;return(r%1||r>512||r<1)&&Nm.throwArgumentError("invalid weight; must be integer in [1, 512]",`providers[${t}].weight`,r),Object.freeze(n)})),r=n.reduce(((e,t)=>e+t.weight),0);null==t?t=r/2:t>r&&Nm.throwArgumentError("quorum will always fail; larger than total weight","quorum",t);let i=Dm(n.map((e=>e.provider.network)));null==i&&(i=new Promise(((e,t)=>{setTimeout((()=>{this.detectNetwork().then(e,t)}),0)}))),super(i),ba(this,"providerConfigs",Object.freeze(n)),ba(this,"quorum",t),this._highestBlockNumber=-1}detectNetwork(){return Pm(this,void 0,void 0,(function*(){const e=yield Promise.all(this.providerConfigs.map((e=>e.provider.getNetwork())));return Dm(e)}))}perform(e,t){return Pm(this,void 0,void 0,(function*(){if("sendTransaction"===e){const e=yield Promise.all(this.providerConfigs.map((e=>e.provider.sendTransaction(t.signedTransaction).then((e=>e.hash),(e=>e)))));for(let t=0;t<e.length;t++){const n=e[t];if("string"==typeof n)return n}throw e[0]}-1===this._highestBlockNumber&&"getBlockNumber"!==e&&(yield this.getBlockNumber());const n=Gm(this,e,t),r=rh(this.providerConfigs.map(wa));r.sort(((e,t)=>e.priority-t.priority));const i=this._highestBlockNumber;let a=0,s=!0;for(;;){const o=Bm();let c=r.filter((e=>e.runner&&o-e.start<e.stallTimeout)).reduce(((e,t)=>e+t.weight),0);for(;c<this.quorum&&a<r.length;){const n=r[a++],s=Um++;n.start=Bm(),n.staller=jm(n.stallTimeout),n.staller.wait((()=>{n.staller=null})),n.runner=Vm(n,i,e,t).then((r=>{n.done=!0,n.result=r,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:s,backend:Hm(n,Bm()),request:{method:e,params:Aa(t)},provider:this})}),(r=>{n.done=!0,n.error=r,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:s,backend:Hm(n,Bm()),request:{method:e,params:Aa(t)},provider:this})})),this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:s,backend:Hm(n,null),request:{method:e,params:Aa(t)},provider:this}),c+=n.weight}const u=[];r.forEach((e=>{!e.done&&e.runner&&(u.push(e.runner),e.staller&&u.push(e.staller.getPromise()))})),u.length&&(yield Promise.race(u));const d=r.filter((e=>e.done&&null==e.error));if(d.length>=this.quorum){const e=n(d);if(void 0!==e)return r.forEach((e=>{e.staller&&e.staller.cancel(),e.cancelled=!0})),e;s||(yield jm(100).getPromise()),s=!1}const f=r.reduce(((e,t)=>{if(!t.done||null==t.error)return e;const n=t.error.code;return qm.indexOf(n)>=0&&(e[n]||(e[n]={error:t.error,weight:0}),e[n].weight+=t.weight),e}),{});if(Object.keys(f).forEach((e=>{const t=f[e];if(t.weight<this.quorum)return;r.forEach((e=>{e.staller&&e.staller.cancel(),e.cancelled=!0}));const n=t.error,i={};zm.forEach((e=>{null!=n[e]&&(i[e]=n[e])})),Nm.throwError(n.reason||n.message,e,i)})),0===r.filter((e=>!e.done)).length)break}return r.forEach((e=>{e.staller&&e.staller.cancel(),e.cancelled=!0})),Nm.throwError("failed to meet quorum",wi.errors.SERVER_ERROR,{method:e,params:t,results:r.map((e=>Hm(e))),provider:this})}))}}const Xm=new wi(bp),$m="84842078b09946638c03157f83405213";class Jm extends um{constructor(e,t){const n=new Ym(e,t),r=n.connection;r.password&&Xm.throwError("INFURA WebSocket project secrets unsupported",wi.errors.UNSUPPORTED_OPERATION,{operation:"InfuraProvider.getWebSocketProvider()"});super(r.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/"),e),ba(this,"apiKey",n.projectId),ba(this,"projectId",n.projectId),ba(this,"projectSecret",n.projectSecret)}isCommunityResource(){return this.projectId===$m}}class Ym extends hm{static getWebSocketProvider(e,t){return new Jm(e,t)}static getApiKey(e){const t={apiKey:$m,projectId:$m,projectSecret:null};return null==e||("string"==typeof e?t.projectId=e:null!=e.projectSecret?(Xm.assertArgument("string"==typeof e.projectId,"projectSecret requires a projectId","projectId",e.projectId),Xm.assertArgument("string"==typeof e.projectSecret,"invalid projectSecret","projectSecret","[REDACTED]"),t.projectId=e.projectId,t.projectSecret=e.projectSecret):e.projectId&&(t.projectId=e.projectId),t.apiKey=t.projectId),t}static getUrl(e,t){let n=null;switch(e?e.name:"unknown"){case"homestead":n="mainnet.infura.io";break;case"goerli":n="goerli.infura.io";break;case"sepolia":n="sepolia.infura.io";break;case"matic":n="polygon-mainnet.infura.io";break;case"maticmum":n="polygon-mumbai.infura.io";break;case"optimism":n="optimism-mainnet.infura.io";break;case"optimism-goerli":n="optimism-goerli.infura.io";break;case"arbitrum":n="arbitrum-mainnet.infura.io";break;case"arbitrum-goerli":n="arbitrum-goerli.infura.io";break;default:Xm.throwError("unsupported network",wi.errors.INVALID_ARGUMENT,{argument:"network",value:e})}const r={allowGzip:!0,url:"https://"+n+"/v3/"+t.projectId,throttleCallback:(e,n)=>(t.projectId===$m&&Ep(),Promise.resolve(!0))};return null!=t.projectSecret&&(r.user="",r.password=t.projectSecret),r}isCommunityResource(){return this.projectId===$m}}class Qm extends im{send(e,t){const n={method:e,params:t,id:this._nextId++,jsonrpc:"2.0"};null==this._pendingBatch&&(this._pendingBatch=[]);const r={request:n,resolve:null,reject:null},i=new Promise(((e,t)=>{r.resolve=e,r.reject=t}));return this._pendingBatch.push(r),this._pendingBatchAggregator||(this._pendingBatchAggregator=setTimeout((()=>{const e=this._pendingBatch;this._pendingBatch=null,this._pendingBatchAggregator=null;const t=e.map((e=>e.request));return this.emit("debug",{action:"requestBatch",request:Aa(t),provider:this}),rp(this.connection,JSON.stringify(t)).then((n=>{this.emit("debug",{action:"response",request:t,response:n,provider:this}),e.forEach(((e,t)=>{const r=n[t];if(r.error){const t=new Error(r.error.message);t.code=r.error.code,t.data=r.error.data,e.reject(t)}else e.resolve(r.result)}))}),(n=>{this.emit("debug",{action:"response",error:n,request:t,provider:this}),e.forEach((e=>{e.reject(n)}))}))}),10)),i}}const Zm=new wi(bp);class eb extends hm{static getApiKey(e){return e&&"string"!=typeof e&&Zm.throwArgumentError("invalid apiKey","apiKey",e),e||"ETHERS_JS_SHARED"}static getUrl(e,t){Zm.warn("NodeSmith will be discontinued on 2019-12-20; please migrate to another platform.");let n=null;switch(e.name){case"homestead":n="https://ethereum.api.nodesmith.io/v1/mainnet/jsonrpc";break;case"ropsten":n="https://ethereum.api.nodesmith.io/v1/ropsten/jsonrpc";break;case"rinkeby":n="https://ethereum.api.nodesmith.io/v1/rinkeby/jsonrpc";break;case"goerli":n="https://ethereum.api.nodesmith.io/v1/goerli/jsonrpc";break;case"kovan":n="https://ethereum.api.nodesmith.io/v1/kovan/jsonrpc";break;default:Zm.throwArgumentError("unsupported network","network",arguments[0])}return n+"?apiKey="+t}}const tb=new wi(bp),nb="62e1ad51b37b8e00394bda3b";class rb extends hm{static getApiKey(e){const t={applicationId:null,loadBalancer:!0,applicationSecretKey:null};return null==e?t.applicationId=nb:"string"==typeof e?t.applicationId=e:null!=e.applicationSecretKey?(t.applicationId=e.applicationId,t.applicationSecretKey=e.applicationSecretKey):e.applicationId?t.applicationId=e.applicationId:tb.throwArgumentError("unsupported PocketProvider apiKey","apiKey",e),t}static getUrl(e,t){let n=null;switch(e?e.name:"unknown"){case"goerli":n="eth-goerli.gateway.pokt.network";break;case"homestead":n="eth-mainnet.gateway.pokt.network";break;case"kovan":n="poa-kovan.gateway.pokt.network";break;case"matic":n="poly-mainnet.gateway.pokt.network";break;case"maticmum":n="polygon-mumbai-rpc.gateway.pokt.network";break;case"rinkeby":n="eth-rinkeby.gateway.pokt.network";break;case"ropsten":n="eth-ropsten.gateway.pokt.network";break;default:tb.throwError("unsupported network",wi.errors.INVALID_ARGUMENT,{argument:"network",value:e})}const r={headers:{},url:`https://${n}/v1/lb/${t.applicationId}`};return null!=t.applicationSecretKey&&(r.user="",r.password=t.applicationSecretKey),r}isCommunityResource(){return this.applicationId===nb}}const ib=new wi(bp);let ab=1;function sb(e,t){const n="Web3LegacyFetcher";return function(e,r){const i={method:e,params:r,id:ab++,jsonrpc:"2.0"};return new Promise(((e,r)=>{this.emit("debug",{action:"request",fetcher:n,request:Aa(i),provider:this}),t(i,((t,a)=>{if(t)return this.emit("debug",{action:"response",fetcher:n,error:t,request:i,provider:this}),r(t);if(this.emit("debug",{action:"response",fetcher:n,request:i,response:a,provider:this}),a.error){const e=new Error(a.error.message);return e.code=a.error.code,e.data=a.error.data,r(e)}e(a.result)}))}))}}class ob extends im{constructor(e,t){null==e&&ib.throwArgumentError("missing provider","provider",e);let n=null,r=null,i=null;"function"==typeof e?(n="unknown:",r=e):(n=e.host||e.path||"",!n&&e.isMetaMask&&(n="metamask"),i=e,e.request?(""===n&&(n="eip-1193:"),r=function(e){return function(t,n){null==n&&(n=[]);const r={method:t,params:n};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:Aa(r),provider:this}),e.request(r).then((e=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:r,response:e,provider:this}),e)),(e=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:r,error:e,provider:this}),e}))}}(e)):e.sendAsync?r=sb(0,e.sendAsync.bind(e)):e.send?r=sb(0,e.send.bind(e)):ib.throwArgumentError("unsupported provider","provider",e),n||(n="unknown:")),super(n,t),ba(this,"jsonRpcFetchFunc",r),ba(this,"provider",i)}send(e,t){return this.jsonRpcFetchFunc(e,t)}}const cb=new wi(bp);function ub(e,t){if(null==e&&(e="homestead"),"string"==typeof e){const t=e.match(/^(ws|http)s?:/i);if(t)switch(t[1].toLowerCase()){case"http":case"https":return new im(e);case"ws":case"wss":return new um(e);default:cb.throwArgumentError("unsupported URL scheme","network",e)}}const n=$h(e);return n&&n._defaultProvider||cb.throwError("unsupported getDefaultProvider network",wi.errors.NETWORK_ERROR,{operation:"getDefaultProvider",network:e}),n._defaultProvider({FallbackProvider:Km,AlchemyProvider:ym,AnkrProvider:_m,CloudflareProvider:Am,EtherscanProvider:Mm,InfuraProvider:Ym,JsonRpcProvider:im,NodesmithProvider:eb,PocketProvider:rb,Web3Provider:ob,IpcProvider:null},t)}var db=Object.freeze({__proto__:null,AlchemyProvider:ym,AlchemyWebSocketProvider:bm,AnkrProvider:_m,BaseProvider:Wp,CloudflareProvider:Am,EtherscanProvider:Mm,FallbackProvider:Km,Formatter:gp,InfuraProvider:Ym,InfuraWebSocketProvider:Jm,IpcProvider:null,JsonRpcBatchProvider:Qm,JsonRpcProvider:im,JsonRpcSigner:tm,NodesmithProvider:eb,PocketProvider:rb,Provider:Fc,Resolver:zp,StaticJsonRpcProvider:lm,UrlJsonRpcProvider:hm,Web3Provider:ob,WebSocketProvider:um,getDefaultProvider:ub,getNetwork:$h,isCommunityResourcable:vp,isCommunityResource:wp,showThrottleMessage:Ep});const fb=new RegExp("^bytes([0-9]+)$"),lb=new RegExp("^(u?int)([0-9]*)$"),hb=new RegExp("^(.*)\\[([0-9]*)\\]$"),pb="0000000000000000000000000000000000000000000000000000000000000000",mb=new wi("solidity/5.7.0");function bb(e,t,n){switch(e){case"address":return n?Ci(t,32):Oi(t);case"string":return eo(t);case"bytes":return Oi(t);case"bool":return t=t?"0x01":"0x00",n?Ci(t,32):Oi(t)}let r=e.match(lb);if(r){let i=parseInt(r[2]||"256");return(r[2]&&String(i)!==r[2]||i%8!=0||0===i||i>256)&&mb.throwArgumentError("invalid number type","type",e),n&&(i=256),Ci(t=Ji.from(t).toTwos(i),i/8)}if(r=e.match(fb),r){const i=parseInt(r[1]);return(String(i)!==r[1]||0===i||i>32)&&mb.throwArgumentError("invalid bytes type","type",e),Oi(t).byteLength!==i&&mb.throwArgumentError(`invalid value for ${e}`,"value",t),n?Oi((t+pb).substring(0,66)):t}if(r=e.match(hb),r&&Array.isArray(t)){const n=r[1];parseInt(r[2]||String(t.length))!=t.length&&mb.throwArgumentError(`invalid array length for ${e}`,"value",t);const i=[];return t.forEach((function(e){i.push(bb(n,e,!0))})),Ii(i)}return mb.throwArgumentError("invalid type","type",e)}function yb(e,t){e.length!=t.length&&mb.throwArgumentError("wrong number of values; expected ${ types.length }","values",t);const n=[];return e.forEach((function(e,r){n.push(bb(e,t[r]))})),Ni(Ii(n))}function gb(e,t){return rs(yb(e,t))}function vb(e,t){return Rl(yb(e,t))}var wb=Object.freeze({__proto__:null,keccak256:gb,pack:yb,sha256:vb});const _b=new wi("units/5.7.0"),Eb=["wei","kwei","mwei","gwei","szabo","finney","ether"];function Tb(e){const t=String(e).split(".");(t.length>2||!t[0].match(/^-?[0-9]*$/)||t[1]&&!t[1].match(/^[0-9]*$/)||"."===e||"-."===e)&&_b.throwArgumentError("invalid value","value",e);let n=t[0],r="";for("-"===n.substring(0,1)&&(r="-",n=n.substring(1));"0"===n.substring(0,1);)n=n.substring(1);""===n&&(n="0");let i="";for(2===t.length&&(i="."+(t[1]||"0"));i.length>2&&"0"===i[i.length-1];)i=i.substring(0,i.length-1);const a=[];for(;n.length;){if(n.length<=3){a.unshift(n);break}{const e=n.length-3;a.unshift(n.substring(e)),n=n.substring(0,e)}}return r+a.join(",")+i}function Ab(e,t){if("string"==typeof t){const e=Eb.indexOf(t);-1!==e&&(t=3*e)}return ca(e,null!=t?t:18)}function Rb(e,t){if("string"!=typeof e&&_b.throwArgumentError("value must be a string","value",e),"string"==typeof t){const e=Eb.indexOf(t);-1!==e&&(t=3*e)}return ua(e,null!=t?t:18)}function Sb(e){return Ab(e,18)}function kb(e){return Rb(e,18)}var Ob=Object.freeze({__proto__:null,commify:Tb,formatEther:Sb,formatUnits:Ab,parseEther:kb,parseUnits:Rb}),Ib=Object.freeze({__proto__:null,AbiCoder:So,ConstructorFragment:Ha,ErrorFragment:Va,EventFragment:Ua,FormatTypes:Na,Fragment:Fa,FunctionFragment:Ga,HDNode:Vl,Indexed:xc,Interface:Pc,LogDescription:kc,Logger:wi,ParamType:Da,RLP:hs,SigningKey:Pf,get SupportedAlgorithm(){return _l},TransactionDescription:Oc,get TransactionTypes(){return Ff},get UnicodeNormalizationForm(){return $s},Utf8ErrorFuncs:Qs,get Utf8ErrorReason(){return Js},_TypedDataEncoder:Ac,_fetchData:np,_toEscapedUtf8String:no,accessListify:Kf,arrayify:Oi,base58:wl,base64:Mo,checkProperties:va,checkResultErrors:Qa,commify:Tb,computeAddress:Hf,computeHmac:kl,computePublicKey:Bf,concat:Ii,deepCopy:Aa,defaultAbiCoder:ko,defaultPath:Wl,defineReadOnly:ba,dnsEncode:sc,entropyToMnemonic:$l,fetchJson:rp,formatBytes32String:so,formatEther:Sb,formatUnits:Ab,getAccountPath:Yl,getAddress:vs,getContractAddress:Es,getCreate2Address:Ts,getIcapAddress:_s,getJsonWalletAddress:gh,getStatic:ya,hashMessage:cc,hexConcat:Li,hexDataLength:Bi,hexDataSlice:Di,hexStripZeros:Ui,hexValue:Fi,hexZeroPad:ji,hexlify:Ni,id:Oo,isAddress:ws,isBytes:ki,isBytesLike:Ri,isHexString:Mi,isValidMnemonic:Jl,isValidName:ic,joinSignature:zi,keccak256:rs,mnemonicToEntropy:Xl,mnemonicToSeed:Kl,namehash:ac,nameprep:vo,parseBytes32String:oo,parseEther:kb,parseTransaction:Zf,parseUnits:Rb,poll:ip,randomBytes:nh,recoverAddress:Gf,recoverPublicKey:Nf,resolveProperties:ga,ripemd160:Al,serializeTransaction:Yf,sha256:Rl,sha512:Sl,shallowCopy:wa,shuffled:rh,solidityKeccak256:gb,solidityPack:yb,soliditySha256:vb,splitSignature:qi,stripZeros:xi,toUtf8Bytes:eo,toUtf8CodePoints:ao,toUtf8String:io,verifyMessage:Uh,verifyTypedData:jh,zeroPad:Ci});const xb="ethers/5.7.2",Cb=new wi(xb);var Mb=Object.freeze({__proto__:null,BaseContract:ml,BigNumber:Ji,Contract:bl,ContractFactory:yl,FixedNumber:fa,Signer:Hc,VoidSigner:Gc,Wallet:Fh,Wordlist:Cl,constants:Vs,get errors(){return gi},getDefaultProvider:ub,logger:Cb,providers:db,utils:Ib,version:xb,wordlists:Bl});try{const e=window;null==e._ethers&&(e._ethers=Mb)}catch(e){}var Pb=Object.freeze({__proto__:null,BaseContract:ml,BigNumber:Ji,Contract:bl,ContractFactory:yl,FixedNumber:fa,Signer:Hc,VoidSigner:Gc,Wallet:Fh,Wordlist:Cl,constants:Vs,get errors(){return gi},ethers:Mb,getDefaultProvider:ub,logger:Cb,providers:db,utils:Ib,version:xb,wordlists:Bl}),Nb={},Bb=Fb;Fb.strict=Ub,Fb.loose=jb;var Db=Object.prototype.toString,Lb={"[object Int8Array]":!0,"[object Int16Array]":!0,"[object Int32Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Uint16Array]":!0,"[object Uint32Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0};function Fb(e){return Ub(e)||jb(e)}function Ub(e){return e instanceof Int8Array||e instanceof Int16Array||e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Uint16Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array}function jb(e){return Lb[Db.call(e)]}var qb=Bb.strict,zb=ir&&ir.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Nb,"__esModule",{value:!0});const Hb=zb(Bb),Gb=zb((function(e){if(qb(e)){var t=Buffer.from(e.buffer);return e.byteLength!==e.buffer.byteLength&&(t=t.slice(e.byteOffset,e.byteOffset+e.byteLength)),t}return Buffer.from(e)})),Wb="hex",Vb="utf8",Kb="0";function Xb(e){return new Uint8Array(e)}function $b(e,t=!1){const n=e.toString(Wb);return t?Cy(n):n}function Jb(e){return e.toString(Vb)}function Yb(e){return e.readUIntBE(0,e.length)}function Qb(e){return Gb.default(e)}function Zb(e,t=!1){return $b(Qb(e),t)}function ey(e){return Jb(Qb(e))}function ty(e){return Yb(Qb(e))}function ny(e){return Array.from(e).map(ly).join("")}function ry(e){return Buffer.from(Iy(e),Wb)}Nb.bufferToArray=Xb,Nb.bufferToHex=$b,Nb.bufferToUtf8=Jb,Nb.bufferToNumber=Yb,Nb.bufferToBinary=function(e){return ny(Xb(e))},Nb.arrayToBuffer=Qb,Nb.arrayToHex=Zb,Nb.arrayToUtf8=ey,Nb.arrayToNumber=ty,Nb.arrayToBinary=ny;var iy=Nb.hexToBuffer=ry;function ay(e){return Xb(ry(e))}function sy(e){return ny(ay(e))}Nb.hexToArray=ay,Nb.hexToUtf8=function(e){return Jb(ry(e))},Nb.hexToNumber=function(e){return ty(ay(e))};var oy=Nb.hexToBinary=sy;function cy(e){return Buffer.from(e,Vb)}function uy(e){return Xb(cy(e))}Nb.utf8ToBuffer=cy,Nb.utf8ToArray=uy;var dy=Nb.utf8ToHex=function(e,t=!1){return $b(cy(e),t)};Nb.utf8ToNumber=function(e){const t=parseInt(e,10);return function(e,t){if(!e)throw new Error(t)}(!function(e){return void 0===e}(t),"Number can only safely store up to 53 bits"),t},Nb.utf8ToBinary=function(e){return ny(uy(e))},Nb.numberToBuffer=function(e){return hy(ly(e))},Nb.numberToArray=function(e){return py(ly(e))};var fy=Nb.numberToHex=function(e,t){return my(ly(e),t)};function ly(e){return Ry((e>>>0).toString(2))}function hy(e){return Qb(py(e))}function py(e){return new Uint8Array(Ty(e).map((e=>parseInt(e,2))))}function my(e,t){return Zb(py(e),t)}Nb.numberToUtf8=function(e){return`${e}`},Nb.numberToBinary=ly,Nb.binaryToBuffer=hy,Nb.binaryToArray=py,Nb.binaryToHex=my,Nb.binaryToUtf8=function(e){return ey(py(e))};var by=Nb.binaryToNumber=function(e){return ty(py(e))};function yy(e){return!("string"!=typeof e||!new RegExp(/^[01]+$/).test(e))&&e.length%8==0}function gy(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!t||e.length===2+2*t)}function vy(e){return Buffer.isBuffer(e)}function wy(e){return Hb.default.strict(e)&&!vy(e)}function _y(e){return!wy(e)&&!vy(e)&&void 0!==e.byteLength}function Ey(e,t=8){const n=e%t;return n?(e-n)/t*t+t:e}function Ty(e,t=8){const n=Ry(e).match(new RegExp(`.{${t}}`,"gi"));return Array.from(n||[])}function Ay(e){return Ty(e).map(Ny).join("")}function Ry(e,t=8,n=Kb){return ky(e,Ey(e.length,t),n)}Nb.isBinaryString=yy,Nb.isHexString=gy,Nb.isBuffer=vy,Nb.isTypedArray=wy,Nb.isArrayBuffer=_y,Nb.getType=function(e){return vy(e)?"buffer":wy(e)?"typed-array":_y(e)?"array-buffer":Array.isArray(e)?"array":typeof e},Nb.getEncoding=function(e){return yy(e)?"binary":gy(e)?Wb:Vb},Nb.concatBuffers=function(...e){return Buffer.concat(e)},Nb.concatArrays=function(...e){let t=[];return e.forEach((e=>t=t.concat(Array.from(e)))),new Uint8Array([...t])},Nb.trimLeft=function(e,t){const n=e.length-t;return n>0&&(e=e.slice(n)),e},Nb.trimRight=function(e,t){return e.slice(0,t)},Nb.calcByteLength=Ey,Nb.splitBytes=Ty,Nb.swapBytes=Ay,Nb.swapHex=function(e){return my(Ay(sy(e)))};var Sy=Nb.sanitizeBytes=Ry;function ky(e,t,n=Kb){return By(e,t,!0,n)}var Oy=Nb.padLeft=ky;function Iy(e){return e.replace(/^0x/,"")}Nb.padRight=function(e,t,n=Kb){return By(e,t,!1,n)};var xy=Nb.removeHexPrefix=Iy;function Cy(e){return e.startsWith("0x")?e:`0x${e}`}var My=Nb.addHexPrefix=Cy;var Py=Nb.sanitizeHex=function(e){return(e=Ry(e=Iy(e),2))&&(e=Cy(e)),e};function Ny(e){return e.split("").reverse().join("")}function By(e,t,n,r=Kb){const i=t-e.length;let a=e;if(i>0){const t=r.repeat(i);a=n?t+e:e+t}return a}Nb.removeHexLeadingZeros=function(e){const t=e.startsWith("0x");return e=(e=Iy(e)).startsWith(Kb)?e.substring(1):e,t?Cy(e):e};var Dy={},Ly="6.5.4",Fy={},Uy={exports:{}};!function(e){!function(e,t){function n(e,t){if(!e)throw new Error(t||"Assertion failed")}function r(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}function i(e,t,n){if(i.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(n=t,t=10),this._init(e||0,t||10,n||"be"))}var a;"object"==typeof e?e.exports=i:t.BN=i,i.BN=i,i.wordSize=26;try{a="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:ci.Buffer}catch(e){}function s(e,t){var n=e.charCodeAt(t);return n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:n-48&15}function o(e,t,n){var r=s(e,n);return n-1>=t&&(r|=s(e,n-1)<<4),r}function c(e,t,n,r){for(var i=0,a=Math.min(e.length,n),s=t;s<a;s++){var o=e.charCodeAt(s)-48;i*=r,i+=o>=49?o-49+10:o>=17?o-17+10:o}return i}i.isBN=function(e){return e instanceof i||null!==e&&"object"==typeof e&&e.constructor.wordSize===i.wordSize&&Array.isArray(e.words)},i.max=function(e,t){return e.cmp(t)>0?e:t},i.min=function(e,t){return e.cmp(t)<0?e:t},i.prototype._init=function(e,t,r){if("number"==typeof e)return this._initNumber(e,t,r);if("object"==typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,r):(this._parseBase(e,t,i),"le"===r&&this._initArray(this.toArray(),t,r)))},i.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},i.prototype._initArray=function(e,t,r){if(n("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var a,s,o=0;if("be"===r)for(i=e.length-1,a=0;i>=0;i-=3)s=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[a]|=s<<o&67108863,this.words[a+1]=s>>>26-o&67108863,(o+=24)>=26&&(o-=26,a++);else if("le"===r)for(i=0,a=0;i<e.length;i+=3)s=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[a]|=s<<o&67108863,this.words[a+1]=s>>>26-o&67108863,(o+=24)>=26&&(o-=26,a++);return this.strip()},i.prototype._parseHex=function(e,t,n){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var i,a=0,s=0;if("be"===n)for(r=e.length-1;r>=t;r-=2)i=o(e,t,r)<<a,this.words[s]|=67108863&i,a>=18?(a-=18,s+=1,this.words[s]|=i>>>26):a+=8;else for(r=(e.length-t)%2==0?t+1:t;r<e.length;r+=2)i=o(e,t,r)<<a,this.words[s]|=67108863&i,a>=18?(a-=18,s+=1,this.words[s]|=i>>>26):a+=8;this.strip()},i.prototype._parseBase=function(e,t,n){this.words=[0],this.length=1;for(var r=0,i=1;i<=67108863;i*=t)r++;r--,i=i/t|0;for(var a=e.length-n,s=a%r,o=Math.min(a,a-s)+n,u=0,d=n;d<o;d+=r)u=c(e,d,d+r,t),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==s){var f=1;for(u=c(e,d,e.length,t),d=0;d<s;d++)f*=t;this.imuln(f),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},i.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},i.prototype.clone=function(){var e=new i(null);return this.copy(e),e},i.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},i.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function l(e,t,n){n.negative=t.negative^e.negative;var r=e.length+t.length|0;n.length=r,r=r-1|0;var i=0|e.words[0],a=0|t.words[0],s=i*a,o=67108863&s,c=s/67108864|0;n.words[0]=o;for(var u=1;u<r;u++){for(var d=c>>>26,f=67108863&c,l=Math.min(u,t.length-1),h=Math.max(0,u-e.length+1);h<=l;h++){var p=u-h|0;d+=(s=(i=0|e.words[p])*(a=0|t.words[h])+f)/67108864|0,f=67108863&s}n.words[u]=0|f,c=0|d}return 0!==c?n.words[u]=0|c:n.length--,n.strip()}i.prototype.toString=function(e,t){var r;if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var i=0,a=0,s=0;s<this.length;s++){var o=this.words[s],c=(16777215&(o<<i|a)).toString(16);r=0!==(a=o>>>24-i&16777215)||s!==this.length-1?u[6-c.length]+c+r:c+r,(i+=2)>=26&&(i-=26,s--)}for(0!==a&&(r=a.toString(16)+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var l=d[e],h=f[e];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(h).toString(e);r=(p=p.idivn(h)).isZero()?m+r:u[l-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(e,t){return n(void 0!==a),this.toArrayLike(a,e,t)},i.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},i.prototype.toArrayLike=function(e,t,r){var i=this.byteLength(),a=r||Math.max(1,i);n(i<=a,"byte array longer than desired length"),n(a>0,"Requested array length <= 0"),this.strip();var s,o,c="le"===t,u=new e(a),d=this.clone();if(c){for(o=0;!d.isZero();o++)s=d.andln(255),d.iushrn(8),u[o]=s;for(;o<a;o++)u[o]=0}else{for(o=0;o<a-i;o++)u[o]=0;for(o=0;!d.isZero();o++)s=d.andln(255),d.iushrn(8),u[a-o-1]=s}return u},Math.clz32?i.prototype._countBits=function(e){return 32-Math.clz32(e)}:i.prototype._countBits=function(e){var t=e,n=0;return t>=4096&&(n+=13,t>>>=13),t>=64&&(n+=7,t>>>=7),t>=8&&(n+=4,t>>>=4),t>=2&&(n+=2,t>>>=2),n+t},i.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,n=0;return 0==(8191&t)&&(n+=13,t>>>=13),0==(127&t)&&(n+=7,t>>>=7),0==(15&t)&&(n+=4,t>>>=4),0==(3&t)&&(n+=2,t>>>=2),0==(1&t)&&n++,n},i.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var n=this._zeroBits(this.words[t]);if(e+=n,26!==n)break}return e},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},i.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return 0!==this.negative},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},i.prototype.ior=function(e){return n(0==(this.negative|e.negative)),this.iuor(e)},i.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},i.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},i.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var n=0;n<t.length;n++)this.words[n]=this.words[n]&e.words[n];return this.length=t.length,this.strip()},i.prototype.iand=function(e){return n(0==(this.negative|e.negative)),this.iuand(e)},i.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},i.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},i.prototype.iuxor=function(e){var t,n;this.length>e.length?(t=this,n=e):(t=e,n=this);for(var r=0;r<n.length;r++)this.words[r]=t.words[r]^n.words[r];if(this!==t)for(;r<t.length;r++)this.words[r]=t.words[r];return this.length=t.length,this.strip()},i.prototype.ixor=function(e){return n(0==(this.negative|e.negative)),this.iuxor(e)},i.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},i.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},i.prototype.inotn=function(e){n("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},i.prototype.notn=function(e){return this.clone().inotn(e)},i.prototype.setn=function(e,t){n("number"==typeof e&&e>=0);var r=e/26|0,i=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<i:this.words[r]&~(1<<i),this.strip()},i.prototype.iadd=function(e){var t,n,r;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(n=this,r=e):(n=e,r=this);for(var i=0,a=0;a<r.length;a++)t=(0|n.words[a])+(0|r.words[a])+i,this.words[a]=67108863&t,i=t>>>26;for(;0!==i&&a<n.length;a++)t=(0|n.words[a])+i,this.words[a]=67108863&t,i=t>>>26;if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;a<n.length;a++)this.words[a]=n.words[a];return this},i.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},i.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var n,r,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(n=this,r=e):(n=e,r=this);for(var a=0,s=0;s<r.length;s++)a=(t=(0|n.words[s])-(0|r.words[s])+a)>>26,this.words[s]=67108863&t;for(;0!==a&&s<n.length;s++)a=(t=(0|n.words[s])+a)>>26,this.words[s]=67108863&t;if(0===a&&s<n.length&&n!==this)for(;s<n.length;s++)this.words[s]=n.words[s];return this.length=Math.max(this.length,s),n!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(e){return this.clone().isub(e)};var h=function(e,t,n){var r,i,a,s=e.words,o=t.words,c=n.words,u=0,d=0|s[0],f=8191&d,l=d>>>13,h=0|s[1],p=8191&h,m=h>>>13,b=0|s[2],y=8191&b,g=b>>>13,v=0|s[3],w=8191&v,_=v>>>13,E=0|s[4],T=8191&E,A=E>>>13,R=0|s[5],S=8191&R,k=R>>>13,O=0|s[6],I=8191&O,x=O>>>13,C=0|s[7],M=8191&C,P=C>>>13,N=0|s[8],B=8191&N,D=N>>>13,L=0|s[9],F=8191&L,U=L>>>13,j=0|o[0],q=8191&j,z=j>>>13,H=0|o[1],G=8191&H,W=H>>>13,V=0|o[2],K=8191&V,X=V>>>13,$=0|o[3],J=8191&$,Y=$>>>13,Q=0|o[4],Z=8191&Q,ee=Q>>>13,te=0|o[5],ne=8191&te,re=te>>>13,ie=0|o[6],ae=8191&ie,se=ie>>>13,oe=0|o[7],ce=8191&oe,ue=oe>>>13,de=0|o[8],fe=8191&de,le=de>>>13,he=0|o[9],pe=8191&he,me=he>>>13;n.negative=e.negative^t.negative,n.length=19;var be=(u+(r=Math.imul(f,q))|0)+((8191&(i=(i=Math.imul(f,z))+Math.imul(l,q)|0))<<13)|0;u=((a=Math.imul(l,z))+(i>>>13)|0)+(be>>>26)|0,be&=67108863,r=Math.imul(p,q),i=(i=Math.imul(p,z))+Math.imul(m,q)|0,a=Math.imul(m,z);var ye=(u+(r=r+Math.imul(f,G)|0)|0)+((8191&(i=(i=i+Math.imul(f,W)|0)+Math.imul(l,G)|0))<<13)|0;u=((a=a+Math.imul(l,W)|0)+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,r=Math.imul(y,q),i=(i=Math.imul(y,z))+Math.imul(g,q)|0,a=Math.imul(g,z),r=r+Math.imul(p,G)|0,i=(i=i+Math.imul(p,W)|0)+Math.imul(m,G)|0,a=a+Math.imul(m,W)|0;var ge=(u+(r=r+Math.imul(f,K)|0)|0)+((8191&(i=(i=i+Math.imul(f,X)|0)+Math.imul(l,K)|0))<<13)|0;u=((a=a+Math.imul(l,X)|0)+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,r=Math.imul(w,q),i=(i=Math.imul(w,z))+Math.imul(_,q)|0,a=Math.imul(_,z),r=r+Math.imul(y,G)|0,i=(i=i+Math.imul(y,W)|0)+Math.imul(g,G)|0,a=a+Math.imul(g,W)|0,r=r+Math.imul(p,K)|0,i=(i=i+Math.imul(p,X)|0)+Math.imul(m,K)|0,a=a+Math.imul(m,X)|0;var ve=(u+(r=r+Math.imul(f,J)|0)|0)+((8191&(i=(i=i+Math.imul(f,Y)|0)+Math.imul(l,J)|0))<<13)|0;u=((a=a+Math.imul(l,Y)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,r=Math.imul(T,q),i=(i=Math.imul(T,z))+Math.imul(A,q)|0,a=Math.imul(A,z),r=r+Math.imul(w,G)|0,i=(i=i+Math.imul(w,W)|0)+Math.imul(_,G)|0,a=a+Math.imul(_,W)|0,r=r+Math.imul(y,K)|0,i=(i=i+Math.imul(y,X)|0)+Math.imul(g,K)|0,a=a+Math.imul(g,X)|0,r=r+Math.imul(p,J)|0,i=(i=i+Math.imul(p,Y)|0)+Math.imul(m,J)|0,a=a+Math.imul(m,Y)|0;var we=(u+(r=r+Math.imul(f,Z)|0)|0)+((8191&(i=(i=i+Math.imul(f,ee)|0)+Math.imul(l,Z)|0))<<13)|0;u=((a=a+Math.imul(l,ee)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,r=Math.imul(S,q),i=(i=Math.imul(S,z))+Math.imul(k,q)|0,a=Math.imul(k,z),r=r+Math.imul(T,G)|0,i=(i=i+Math.imul(T,W)|0)+Math.imul(A,G)|0,a=a+Math.imul(A,W)|0,r=r+Math.imul(w,K)|0,i=(i=i+Math.imul(w,X)|0)+Math.imul(_,K)|0,a=a+Math.imul(_,X)|0,r=r+Math.imul(y,J)|0,i=(i=i+Math.imul(y,Y)|0)+Math.imul(g,J)|0,a=a+Math.imul(g,Y)|0,r=r+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(m,Z)|0,a=a+Math.imul(m,ee)|0;var _e=(u+(r=r+Math.imul(f,ne)|0)|0)+((8191&(i=(i=i+Math.imul(f,re)|0)+Math.imul(l,ne)|0))<<13)|0;u=((a=a+Math.imul(l,re)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,r=Math.imul(I,q),i=(i=Math.imul(I,z))+Math.imul(x,q)|0,a=Math.imul(x,z),r=r+Math.imul(S,G)|0,i=(i=i+Math.imul(S,W)|0)+Math.imul(k,G)|0,a=a+Math.imul(k,W)|0,r=r+Math.imul(T,K)|0,i=(i=i+Math.imul(T,X)|0)+Math.imul(A,K)|0,a=a+Math.imul(A,X)|0,r=r+Math.imul(w,J)|0,i=(i=i+Math.imul(w,Y)|0)+Math.imul(_,J)|0,a=a+Math.imul(_,Y)|0,r=r+Math.imul(y,Z)|0,i=(i=i+Math.imul(y,ee)|0)+Math.imul(g,Z)|0,a=a+Math.imul(g,ee)|0,r=r+Math.imul(p,ne)|0,i=(i=i+Math.imul(p,re)|0)+Math.imul(m,ne)|0,a=a+Math.imul(m,re)|0;var Ee=(u+(r=r+Math.imul(f,ae)|0)|0)+((8191&(i=(i=i+Math.imul(f,se)|0)+Math.imul(l,ae)|0))<<13)|0;u=((a=a+Math.imul(l,se)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,r=Math.imul(M,q),i=(i=Math.imul(M,z))+Math.imul(P,q)|0,a=Math.imul(P,z),r=r+Math.imul(I,G)|0,i=(i=i+Math.imul(I,W)|0)+Math.imul(x,G)|0,a=a+Math.imul(x,W)|0,r=r+Math.imul(S,K)|0,i=(i=i+Math.imul(S,X)|0)+Math.imul(k,K)|0,a=a+Math.imul(k,X)|0,r=r+Math.imul(T,J)|0,i=(i=i+Math.imul(T,Y)|0)+Math.imul(A,J)|0,a=a+Math.imul(A,Y)|0,r=r+Math.imul(w,Z)|0,i=(i=i+Math.imul(w,ee)|0)+Math.imul(_,Z)|0,a=a+Math.imul(_,ee)|0,r=r+Math.imul(y,ne)|0,i=(i=i+Math.imul(y,re)|0)+Math.imul(g,ne)|0,a=a+Math.imul(g,re)|0,r=r+Math.imul(p,ae)|0,i=(i=i+Math.imul(p,se)|0)+Math.imul(m,ae)|0,a=a+Math.imul(m,se)|0;var Te=(u+(r=r+Math.imul(f,ce)|0)|0)+((8191&(i=(i=i+Math.imul(f,ue)|0)+Math.imul(l,ce)|0))<<13)|0;u=((a=a+Math.imul(l,ue)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,r=Math.imul(B,q),i=(i=Math.imul(B,z))+Math.imul(D,q)|0,a=Math.imul(D,z),r=r+Math.imul(M,G)|0,i=(i=i+Math.imul(M,W)|0)+Math.imul(P,G)|0,a=a+Math.imul(P,W)|0,r=r+Math.imul(I,K)|0,i=(i=i+Math.imul(I,X)|0)+Math.imul(x,K)|0,a=a+Math.imul(x,X)|0,r=r+Math.imul(S,J)|0,i=(i=i+Math.imul(S,Y)|0)+Math.imul(k,J)|0,a=a+Math.imul(k,Y)|0,r=r+Math.imul(T,Z)|0,i=(i=i+Math.imul(T,ee)|0)+Math.imul(A,Z)|0,a=a+Math.imul(A,ee)|0,r=r+Math.imul(w,ne)|0,i=(i=i+Math.imul(w,re)|0)+Math.imul(_,ne)|0,a=a+Math.imul(_,re)|0,r=r+Math.imul(y,ae)|0,i=(i=i+Math.imul(y,se)|0)+Math.imul(g,ae)|0,a=a+Math.imul(g,se)|0,r=r+Math.imul(p,ce)|0,i=(i=i+Math.imul(p,ue)|0)+Math.imul(m,ce)|0,a=a+Math.imul(m,ue)|0;var Ae=(u+(r=r+Math.imul(f,fe)|0)|0)+((8191&(i=(i=i+Math.imul(f,le)|0)+Math.imul(l,fe)|0))<<13)|0;u=((a=a+Math.imul(l,le)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,r=Math.imul(F,q),i=(i=Math.imul(F,z))+Math.imul(U,q)|0,a=Math.imul(U,z),r=r+Math.imul(B,G)|0,i=(i=i+Math.imul(B,W)|0)+Math.imul(D,G)|0,a=a+Math.imul(D,W)|0,r=r+Math.imul(M,K)|0,i=(i=i+Math.imul(M,X)|0)+Math.imul(P,K)|0,a=a+Math.imul(P,X)|0,r=r+Math.imul(I,J)|0,i=(i=i+Math.imul(I,Y)|0)+Math.imul(x,J)|0,a=a+Math.imul(x,Y)|0,r=r+Math.imul(S,Z)|0,i=(i=i+Math.imul(S,ee)|0)+Math.imul(k,Z)|0,a=a+Math.imul(k,ee)|0,r=r+Math.imul(T,ne)|0,i=(i=i+Math.imul(T,re)|0)+Math.imul(A,ne)|0,a=a+Math.imul(A,re)|0,r=r+Math.imul(w,ae)|0,i=(i=i+Math.imul(w,se)|0)+Math.imul(_,ae)|0,a=a+Math.imul(_,se)|0,r=r+Math.imul(y,ce)|0,i=(i=i+Math.imul(y,ue)|0)+Math.imul(g,ce)|0,a=a+Math.imul(g,ue)|0,r=r+Math.imul(p,fe)|0,i=(i=i+Math.imul(p,le)|0)+Math.imul(m,fe)|0,a=a+Math.imul(m,le)|0;var Re=(u+(r=r+Math.imul(f,pe)|0)|0)+((8191&(i=(i=i+Math.imul(f,me)|0)+Math.imul(l,pe)|0))<<13)|0;u=((a=a+Math.imul(l,me)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,r=Math.imul(F,G),i=(i=Math.imul(F,W))+Math.imul(U,G)|0,a=Math.imul(U,W),r=r+Math.imul(B,K)|0,i=(i=i+Math.imul(B,X)|0)+Math.imul(D,K)|0,a=a+Math.imul(D,X)|0,r=r+Math.imul(M,J)|0,i=(i=i+Math.imul(M,Y)|0)+Math.imul(P,J)|0,a=a+Math.imul(P,Y)|0,r=r+Math.imul(I,Z)|0,i=(i=i+Math.imul(I,ee)|0)+Math.imul(x,Z)|0,a=a+Math.imul(x,ee)|0,r=r+Math.imul(S,ne)|0,i=(i=i+Math.imul(S,re)|0)+Math.imul(k,ne)|0,a=a+Math.imul(k,re)|0,r=r+Math.imul(T,ae)|0,i=(i=i+Math.imul(T,se)|0)+Math.imul(A,ae)|0,a=a+Math.imul(A,se)|0,r=r+Math.imul(w,ce)|0,i=(i=i+Math.imul(w,ue)|0)+Math.imul(_,ce)|0,a=a+Math.imul(_,ue)|0,r=r+Math.imul(y,fe)|0,i=(i=i+Math.imul(y,le)|0)+Math.imul(g,fe)|0,a=a+Math.imul(g,le)|0;var Se=(u+(r=r+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,me)|0)+Math.imul(m,pe)|0))<<13)|0;u=((a=a+Math.imul(m,me)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,r=Math.imul(F,K),i=(i=Math.imul(F,X))+Math.imul(U,K)|0,a=Math.imul(U,X),r=r+Math.imul(B,J)|0,i=(i=i+Math.imul(B,Y)|0)+Math.imul(D,J)|0,a=a+Math.imul(D,Y)|0,r=r+Math.imul(M,Z)|0,i=(i=i+Math.imul(M,ee)|0)+Math.imul(P,Z)|0,a=a+Math.imul(P,ee)|0,r=r+Math.imul(I,ne)|0,i=(i=i+Math.imul(I,re)|0)+Math.imul(x,ne)|0,a=a+Math.imul(x,re)|0,r=r+Math.imul(S,ae)|0,i=(i=i+Math.imul(S,se)|0)+Math.imul(k,ae)|0,a=a+Math.imul(k,se)|0,r=r+Math.imul(T,ce)|0,i=(i=i+Math.imul(T,ue)|0)+Math.imul(A,ce)|0,a=a+Math.imul(A,ue)|0,r=r+Math.imul(w,fe)|0,i=(i=i+Math.imul(w,le)|0)+Math.imul(_,fe)|0,a=a+Math.imul(_,le)|0;var ke=(u+(r=r+Math.imul(y,pe)|0)|0)+((8191&(i=(i=i+Math.imul(y,me)|0)+Math.imul(g,pe)|0))<<13)|0;u=((a=a+Math.imul(g,me)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,r=Math.imul(F,J),i=(i=Math.imul(F,Y))+Math.imul(U,J)|0,a=Math.imul(U,Y),r=r+Math.imul(B,Z)|0,i=(i=i+Math.imul(B,ee)|0)+Math.imul(D,Z)|0,a=a+Math.imul(D,ee)|0,r=r+Math.imul(M,ne)|0,i=(i=i+Math.imul(M,re)|0)+Math.imul(P,ne)|0,a=a+Math.imul(P,re)|0,r=r+Math.imul(I,ae)|0,i=(i=i+Math.imul(I,se)|0)+Math.imul(x,ae)|0,a=a+Math.imul(x,se)|0,r=r+Math.imul(S,ce)|0,i=(i=i+Math.imul(S,ue)|0)+Math.imul(k,ce)|0,a=a+Math.imul(k,ue)|0,r=r+Math.imul(T,fe)|0,i=(i=i+Math.imul(T,le)|0)+Math.imul(A,fe)|0,a=a+Math.imul(A,le)|0;var Oe=(u+(r=r+Math.imul(w,pe)|0)|0)+((8191&(i=(i=i+Math.imul(w,me)|0)+Math.imul(_,pe)|0))<<13)|0;u=((a=a+Math.imul(_,me)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,r=Math.imul(F,Z),i=(i=Math.imul(F,ee))+Math.imul(U,Z)|0,a=Math.imul(U,ee),r=r+Math.imul(B,ne)|0,i=(i=i+Math.imul(B,re)|0)+Math.imul(D,ne)|0,a=a+Math.imul(D,re)|0,r=r+Math.imul(M,ae)|0,i=(i=i+Math.imul(M,se)|0)+Math.imul(P,ae)|0,a=a+Math.imul(P,se)|0,r=r+Math.imul(I,ce)|0,i=(i=i+Math.imul(I,ue)|0)+Math.imul(x,ce)|0,a=a+Math.imul(x,ue)|0,r=r+Math.imul(S,fe)|0,i=(i=i+Math.imul(S,le)|0)+Math.imul(k,fe)|0,a=a+Math.imul(k,le)|0;var Ie=(u+(r=r+Math.imul(T,pe)|0)|0)+((8191&(i=(i=i+Math.imul(T,me)|0)+Math.imul(A,pe)|0))<<13)|0;u=((a=a+Math.imul(A,me)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,r=Math.imul(F,ne),i=(i=Math.imul(F,re))+Math.imul(U,ne)|0,a=Math.imul(U,re),r=r+Math.imul(B,ae)|0,i=(i=i+Math.imul(B,se)|0)+Math.imul(D,ae)|0,a=a+Math.imul(D,se)|0,r=r+Math.imul(M,ce)|0,i=(i=i+Math.imul(M,ue)|0)+Math.imul(P,ce)|0,a=a+Math.imul(P,ue)|0,r=r+Math.imul(I,fe)|0,i=(i=i+Math.imul(I,le)|0)+Math.imul(x,fe)|0,a=a+Math.imul(x,le)|0;var xe=(u+(r=r+Math.imul(S,pe)|0)|0)+((8191&(i=(i=i+Math.imul(S,me)|0)+Math.imul(k,pe)|0))<<13)|0;u=((a=a+Math.imul(k,me)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,r=Math.imul(F,ae),i=(i=Math.imul(F,se))+Math.imul(U,ae)|0,a=Math.imul(U,se),r=r+Math.imul(B,ce)|0,i=(i=i+Math.imul(B,ue)|0)+Math.imul(D,ce)|0,a=a+Math.imul(D,ue)|0,r=r+Math.imul(M,fe)|0,i=(i=i+Math.imul(M,le)|0)+Math.imul(P,fe)|0,a=a+Math.imul(P,le)|0;var Ce=(u+(r=r+Math.imul(I,pe)|0)|0)+((8191&(i=(i=i+Math.imul(I,me)|0)+Math.imul(x,pe)|0))<<13)|0;u=((a=a+Math.imul(x,me)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,r=Math.imul(F,ce),i=(i=Math.imul(F,ue))+Math.imul(U,ce)|0,a=Math.imul(U,ue),r=r+Math.imul(B,fe)|0,i=(i=i+Math.imul(B,le)|0)+Math.imul(D,fe)|0,a=a+Math.imul(D,le)|0;var Me=(u+(r=r+Math.imul(M,pe)|0)|0)+((8191&(i=(i=i+Math.imul(M,me)|0)+Math.imul(P,pe)|0))<<13)|0;u=((a=a+Math.imul(P,me)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,r=Math.imul(F,fe),i=(i=Math.imul(F,le))+Math.imul(U,fe)|0,a=Math.imul(U,le);var Pe=(u+(r=r+Math.imul(B,pe)|0)|0)+((8191&(i=(i=i+Math.imul(B,me)|0)+Math.imul(D,pe)|0))<<13)|0;u=((a=a+Math.imul(D,me)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863;var Ne=(u+(r=Math.imul(F,pe))|0)+((8191&(i=(i=Math.imul(F,me))+Math.imul(U,pe)|0))<<13)|0;return u=((a=Math.imul(U,me))+(i>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,c[0]=be,c[1]=ye,c[2]=ge,c[3]=ve,c[4]=we,c[5]=_e,c[6]=Ee,c[7]=Te,c[8]=Ae,c[9]=Re,c[10]=Se,c[11]=ke,c[12]=Oe,c[13]=Ie,c[14]=xe,c[15]=Ce,c[16]=Me,c[17]=Pe,c[18]=Ne,0!==u&&(c[19]=u,n.length++),n};function p(e,t,n){return(new m).mulp(e,t,n)}function m(e,t){this.x=e,this.y=t}Math.imul||(h=l),i.prototype.mulTo=function(e,t){var n,r=this.length+e.length;return n=10===this.length&&10===e.length?h(this,e,t):r<63?l(this,e,t):r<1024?function(e,t,n){n.negative=t.negative^e.negative,n.length=e.length+t.length;for(var r=0,i=0,a=0;a<n.length-1;a++){var s=i;i=0;for(var o=67108863&r,c=Math.min(a,t.length-1),u=Math.max(0,a-e.length+1);u<=c;u++){var d=a-u,f=(0|e.words[d])*(0|t.words[u]),l=67108863&f;o=67108863&(l=l+o|0),i+=(s=(s=s+(f/67108864|0)|0)+(l>>>26)|0)>>>26,s&=67108863}n.words[a]=o,r=s,s=i}return 0!==r?n.words[a]=r:n.length--,n.strip()}(this,e,t):p(this,e,t),n},m.prototype.makeRBT=function(e){for(var t=new Array(e),n=i.prototype._countBits(e)-1,r=0;r<e;r++)t[r]=this.revBin(r,n,e);return t},m.prototype.revBin=function(e,t,n){if(0===e||e===n-1)return e;for(var r=0,i=0;i<t;i++)r|=(1&e)<<t-i-1,e>>=1;return r},m.prototype.permute=function(e,t,n,r,i,a){for(var s=0;s<a;s++)r[s]=t[e[s]],i[s]=n[e[s]]},m.prototype.transform=function(e,t,n,r,i,a){this.permute(a,e,t,n,r,i);for(var s=1;s<i;s<<=1)for(var o=s<<1,c=Math.cos(2*Math.PI/o),u=Math.sin(2*Math.PI/o),d=0;d<i;d+=o)for(var f=c,l=u,h=0;h<s;h++){var p=n[d+h],m=r[d+h],b=n[d+h+s],y=r[d+h+s],g=f*b-l*y;y=f*y+l*b,b=g,n[d+h]=p+b,r[d+h]=m+y,n[d+h+s]=p-b,r[d+h+s]=m-y,h!==o&&(g=c*f-u*l,l=c*l+u*f,f=g)}},m.prototype.guessLen13b=function(e,t){var n=1|Math.max(t,e),r=1&n,i=0;for(n=n/2|0;n;n>>>=1)i++;return 1<<i+1+r},m.prototype.conjugate=function(e,t,n){if(!(n<=1))for(var r=0;r<n/2;r++){var i=e[r];e[r]=e[n-r-1],e[n-r-1]=i,i=t[r],t[r]=-t[n-r-1],t[n-r-1]=-i}},m.prototype.normalize13b=function(e,t){for(var n=0,r=0;r<t/2;r++){var i=8192*Math.round(e[2*r+1]/t)+Math.round(e[2*r]/t)+n;e[r]=67108863&i,n=i<67108864?0:i/67108864|0}return e},m.prototype.convert13b=function(e,t,r,i){for(var a=0,s=0;s<t;s++)a+=0|e[s],r[2*s]=8191&a,a>>>=13,r[2*s+1]=8191&a,a>>>=13;for(s=2*t;s<i;++s)r[s]=0;n(0===a),n(0==(-8192&a))},m.prototype.stub=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=0;return t},m.prototype.mulp=function(e,t,n){var r=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(r),a=this.stub(r),s=new Array(r),o=new Array(r),c=new Array(r),u=new Array(r),d=new Array(r),f=new Array(r),l=n.words;l.length=r,this.convert13b(e.words,e.length,s,r),this.convert13b(t.words,t.length,u,r),this.transform(s,a,o,c,r,i),this.transform(u,a,d,f,r,i);for(var h=0;h<r;h++){var p=o[h]*d[h]-c[h]*f[h];c[h]=o[h]*f[h]+c[h]*d[h],o[h]=p}return this.conjugate(o,c,r),this.transform(o,c,l,a,r,i),this.conjugate(l,a,r),this.normalize13b(l,r),n.negative=e.negative^t.negative,n.length=e.length+t.length,n.strip()},i.prototype.mul=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},i.prototype.mulf=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),p(this,e,t)},i.prototype.imul=function(e){return this.clone().mulTo(e,this)},i.prototype.imuln=function(e){n("number"==typeof e),n(e<67108864);for(var t=0,r=0;r<this.length;r++){var i=(0|this.words[r])*e,a=(67108863&i)+(67108863&t);t>>=26,t+=i/67108864|0,t+=a>>>26,this.words[r]=67108863&a}return 0!==t&&(this.words[r]=t,this.length++),this},i.prototype.muln=function(e){return this.clone().imuln(e)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),n=0;n<t.length;n++){var r=n/26|0,i=n%26;t[n]=(e.words[r]&1<<i)>>>i}return t}(e);if(0===t.length)return new i(1);for(var n=this,r=0;r<t.length&&0===t[r];r++,n=n.sqr());if(++r<t.length)for(var a=n.sqr();r<t.length;r++,a=a.sqr())0!==t[r]&&(n=n.mul(a));return n},i.prototype.iushln=function(e){n("number"==typeof e&&e>=0);var t,r=e%26,i=(e-r)/26,a=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(t=0;t<this.length;t++){var o=this.words[t]&a,c=(0|this.words[t])-o<<r;this.words[t]=c|s,s=o>>>26-r}s&&(this.words[t]=s,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this.strip()},i.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},i.prototype.iushrn=function(e,t,r){var i;n("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var a=e%26,s=Math.min((e-a)/26,this.length),o=67108863^67108863>>>a<<a,c=r;if(i-=s,i=Math.max(0,i),c){for(var u=0;u<s;u++)c.words[u]=this.words[u];c.length=s}if(0===s);else if(this.length>s)for(this.length-=s,u=0;u<this.length;u++)this.words[u]=this.words[u+s];else this.words[0]=0,this.length=1;var d=0;for(u=this.length-1;u>=0&&(0!==d||u>=i);u--){var f=0|this.words[u];this.words[u]=d<<26-a|f>>>a,d=f&o}return c&&0!==d&&(c.words[c.length++]=d),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(e,t,r){return n(0===this.negative),this.iushrn(e,t,r)},i.prototype.shln=function(e){return this.clone().ishln(e)},i.prototype.ushln=function(e){return this.clone().iushln(e)},i.prototype.shrn=function(e){return this.clone().ishrn(e)},i.prototype.ushrn=function(e){return this.clone().iushrn(e)},i.prototype.testn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26,i=1<<t;return!(this.length<=r)&&!!(this.words[r]&i)},i.prototype.imaskn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this.strip()},i.prototype.maskn=function(e){return this.clone().imaskn(e)},i.prototype.iaddn=function(e){return n("number"==typeof e),n(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},i.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},i.prototype.isubn=function(e){if(n("number"==typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},i.prototype.addn=function(e){return this.clone().iaddn(e)},i.prototype.subn=function(e){return this.clone().isubn(e)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(e,t,r){var i,a,s=e.length+r;this._expand(s);var o=0;for(i=0;i<e.length;i++){a=(0|this.words[i+r])+o;var c=(0|e.words[i])*t;o=((a-=67108863&c)>>26)-(c/67108864|0),this.words[i+r]=67108863&a}for(;i<this.length-r;i++)o=(a=(0|this.words[i+r])+o)>>26,this.words[i+r]=67108863&a;if(0===o)return this.strip();for(n(-1===o),o=0,i=0;i<this.length;i++)o=(a=-(0|this.words[i])+o)>>26,this.words[i]=67108863&a;return this.negative=1,this.strip()},i.prototype._wordDiv=function(e,t){var n=(this.length,e.length),r=this.clone(),a=e,s=0|a.words[a.length-1];0!==(n=26-this._countBits(s))&&(a=a.ushln(n),r.iushln(n),s=0|a.words[a.length-1]);var o,c=r.length-a.length;if("mod"!==t){(o=new i(null)).length=c+1,o.words=new Array(o.length);for(var u=0;u<o.length;u++)o.words[u]=0}var d=r.clone()._ishlnsubmul(a,1,c);0===d.negative&&(r=d,o&&(o.words[c]=1));for(var f=c-1;f>=0;f--){var l=67108864*(0|r.words[a.length+f])+(0|r.words[a.length+f-1]);for(l=Math.min(l/s|0,67108863),r._ishlnsubmul(a,l,f);0!==r.negative;)l--,r.negative=0,r._ishlnsubmul(a,1,f),r.isZero()||(r.negative^=1);o&&(o.words[f]=l)}return o&&o.strip(),r.strip(),"div"!==t&&0!==n&&r.iushrn(n),{div:o||null,mod:r}},i.prototype.divmod=function(e,t,r){return n(!e.isZero()),this.isZero()?{div:new i(0),mod:new i(0)}:0!==this.negative&&0===e.negative?(o=this.neg().divmod(e,t),"mod"!==t&&(a=o.div.neg()),"div"!==t&&(s=o.mod.neg(),r&&0!==s.negative&&s.iadd(e)),{div:a,mod:s}):0===this.negative&&0!==e.negative?(o=this.divmod(e.neg(),t),"mod"!==t&&(a=o.div.neg()),{div:a,mod:o.mod}):0!=(this.negative&e.negative)?(o=this.neg().divmod(e.neg(),t),"div"!==t&&(s=o.mod.neg(),r&&0!==s.negative&&s.isub(e)),{div:o.div,mod:s}):e.length>this.length||this.cmp(e)<0?{div:new i(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new i(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new i(this.modn(e.words[0]))}:this._wordDiv(e,t);var a,s,o},i.prototype.div=function(e){return this.divmod(e,"div",!1).div},i.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},i.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},i.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var n=0!==t.div.negative?t.mod.isub(e):t.mod,r=e.ushrn(1),i=e.andln(1),a=n.cmp(r);return a<0||1===i&&0===a?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},i.prototype.modn=function(e){n(e<=67108863);for(var t=(1<<26)%e,r=0,i=this.length-1;i>=0;i--)r=(t*r+(0|this.words[i]))%e;return r},i.prototype.idivn=function(e){n(e<=67108863);for(var t=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*t;this.words[r]=i/e|0,t=i%e}return this.strip()},i.prototype.divn=function(e){return this.clone().idivn(e)},i.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var a=new i(1),s=new i(0),o=new i(0),c=new i(1),u=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++u;for(var d=r.clone(),f=t.clone();!t.isZero();){for(var l=0,h=1;0==(t.words[0]&h)&&l<26;++l,h<<=1);if(l>0)for(t.iushrn(l);l-- >0;)(a.isOdd()||s.isOdd())&&(a.iadd(d),s.isub(f)),a.iushrn(1),s.iushrn(1);for(var p=0,m=1;0==(r.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(o.isOdd()||c.isOdd())&&(o.iadd(d),c.isub(f)),o.iushrn(1),c.iushrn(1);t.cmp(r)>=0?(t.isub(r),a.isub(o),s.isub(c)):(r.isub(t),o.isub(a),c.isub(s))}return{a:o,b:c,gcd:r.iushln(u)}},i.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var a,s=new i(1),o=new i(0),c=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var u=0,d=1;0==(t.words[0]&d)&&u<26;++u,d<<=1);if(u>0)for(t.iushrn(u);u-- >0;)s.isOdd()&&s.iadd(c),s.iushrn(1);for(var f=0,l=1;0==(r.words[0]&l)&&f<26;++f,l<<=1);if(f>0)for(r.iushrn(f);f-- >0;)o.isOdd()&&o.iadd(c),o.iushrn(1);t.cmp(r)>=0?(t.isub(r),s.isub(o)):(r.isub(t),o.isub(s))}return(a=0===t.cmpn(1)?s:o).cmpn(0)<0&&a.iadd(e),a},i.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),n=e.clone();t.negative=0,n.negative=0;for(var r=0;t.isEven()&&n.isEven();r++)t.iushrn(1),n.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;n.isEven();)n.iushrn(1);var i=t.cmp(n);if(i<0){var a=t;t=n,n=a}else if(0===i||0===n.cmpn(1))break;t.isub(n)}return n.iushln(r)},i.prototype.invm=function(e){return this.egcd(e).a.umod(e)},i.prototype.isEven=function(){return 0==(1&this.words[0])},i.prototype.isOdd=function(){return 1==(1&this.words[0])},i.prototype.andln=function(e){return this.words[0]&e},i.prototype.bincn=function(e){n("number"==typeof e);var t=e%26,r=(e-t)/26,i=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var a=i,s=r;0!==a&&s<this.length;s++){var o=0|this.words[s];a=(o+=a)>>>26,o&=67108863,this.words[s]=o}return 0!==a&&(this.words[s]=a,this.length++),this},i.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},i.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)t=1;else{r&&(e=-e),n(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},i.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},i.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],i=0|e.words[n];if(r!==i){r<i?t=-1:r>i&&(t=1);break}}return t},i.prototype.gtn=function(e){return 1===this.cmpn(e)},i.prototype.gt=function(e){return 1===this.cmp(e)},i.prototype.gten=function(e){return this.cmpn(e)>=0},i.prototype.gte=function(e){return this.cmp(e)>=0},i.prototype.ltn=function(e){return-1===this.cmpn(e)},i.prototype.lt=function(e){return-1===this.cmp(e)},i.prototype.lten=function(e){return this.cmpn(e)<=0},i.prototype.lte=function(e){return this.cmp(e)<=0},i.prototype.eqn=function(e){return 0===this.cmpn(e)},i.prototype.eq=function(e){return 0===this.cmp(e)},i.red=function(e){return new E(e)},i.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(e){return this.red=e,this},i.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},i.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},i.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},i.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},i.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},i.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},i.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},i.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var b={k256:null,p224:null,p192:null,p25519:null};function y(e,t){this.name=e,this.p=new i(t,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function g(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function v(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function w(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function _(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function E(e){if("string"==typeof e){var t=i._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function T(e){E.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var e=new i(null);return e.words=new Array(Math.ceil(this.n/13)),e},y.prototype.ireduce=function(e){var t,n=e;do{this.split(n,this.tmp),t=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(t>this.n);var r=t<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},y.prototype.split=function(e,t){e.iushrn(this.n,0,t)},y.prototype.imulK=function(e){return e.imul(this.k)},r(g,y),g.prototype.split=function(e,t){for(var n=4194303,r=Math.min(e.length,9),i=0;i<r;i++)t.words[i]=e.words[i];if(t.length=r,e.length<=9)return e.words[0]=0,void(e.length=1);var a=e.words[9];for(t.words[t.length++]=a&n,i=10;i<e.length;i++){var s=0|e.words[i];e.words[i-10]=(s&n)<<4|a>>>22,a=s}a>>>=22,e.words[i-10]=a,0===a&&e.length>10?e.length-=10:e.length-=9},g.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,n=0;n<e.length;n++){var r=0|e.words[n];t+=977*r,e.words[n]=67108863&t,t=64*r+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},r(v,y),r(w,y),r(_,y),_.prototype.imulK=function(e){for(var t=0,n=0;n<e.length;n++){var r=19*(0|e.words[n])+t,i=67108863&r;r>>>=26,e.words[n]=i,t=r}return 0!==t&&(e.words[e.length++]=t),e},i._prime=function(e){if(b[e])return b[e];var t;if("k256"===e)t=new g;else if("p224"===e)t=new v;else if("p192"===e)t=new w;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new _}return b[e]=t,t},E.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},E.prototype._verify2=function(e,t){n(0==(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},E.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},E.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},E.prototype.add=function(e,t){this._verify2(e,t);var n=e.add(t);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},E.prototype.iadd=function(e,t){this._verify2(e,t);var n=e.iadd(t);return n.cmp(this.m)>=0&&n.isub(this.m),n},E.prototype.sub=function(e,t){this._verify2(e,t);var n=e.sub(t);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},E.prototype.isub=function(e,t){this._verify2(e,t);var n=e.isub(t);return n.cmpn(0)<0&&n.iadd(this.m),n},E.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},E.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},E.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},E.prototype.isqr=function(e){return this.imul(e,e.clone())},E.prototype.sqr=function(e){return this.mul(e,e)},E.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2==1),3===t){var r=this.m.add(new i(1)).iushrn(2);return this.pow(e,r)}for(var a=this.m.subn(1),s=0;!a.isZero()&&0===a.andln(1);)s++,a.iushrn(1);n(!a.isZero());var o=new i(1).toRed(this),c=o.redNeg(),u=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new i(2*d*d).toRed(this);0!==this.pow(d,u).cmp(c);)d.redIAdd(c);for(var f=this.pow(d,a),l=this.pow(e,a.addn(1).iushrn(1)),h=this.pow(e,a),p=s;0!==h.cmp(o);){for(var m=h,b=0;0!==m.cmp(o);b++)m=m.redSqr();n(b<p);var y=this.pow(f,new i(1).iushln(p-b-1));l=l.redMul(y),f=y.redSqr(),h=h.redMul(f),p=b}return l},E.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},E.prototype.pow=function(e,t){if(t.isZero())return new i(1).toRed(this);if(0===t.cmpn(1))return e.clone();var n=new Array(16);n[0]=new i(1).toRed(this),n[1]=e;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],e);var a=n[0],s=0,o=0,c=t.bitLength()%26;for(0===c&&(c=26),r=t.length-1;r>=0;r--){for(var u=t.words[r],d=c-1;d>=0;d--){var f=u>>d&1;a!==n[0]&&(a=this.sqr(a)),0!==f||0!==s?(s<<=1,s|=f,(4===++o||0===r&&0===d)&&(a=this.mul(a,n[s]),o=0,s=0)):o=0}c=26}return a},E.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},E.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},i.mont=function(e){return new T(e)},r(T,E),T.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},T.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},T.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var n=e.imul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},T.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new i(0)._forceRed(this);var n=e.mul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),a=n.isub(r).iushrn(this.shift),s=a;return a.cmp(this.m)>=0?s=a.isub(this.m):a.cmpn(0)<0&&(s=a.iadd(this.m)),s._forceRed(this)},T.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e,ir)}(Uy);var jy=Uy.exports,qy={};!function(e){var t=e;function n(e){return 1===e.length?"0"+e:e}function r(e){for(var t="",r=0;r<e.length;r++)t+=n(e[r].toString(16));return t}t.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var n=[];if("string"!=typeof e){for(var r=0;r<e.length;r++)n[r]=0|e[r];return n}if("hex"===t){(e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e);for(r=0;r<e.length;r+=2)n.push(parseInt(e[r]+e[r+1],16))}else for(r=0;r<e.length;r++){var i=e.charCodeAt(r),a=i>>8,s=255&i;a?n.push(a,s):n.push(s)}return n},t.zero2=n,t.toHex=r,t.encode=function(e,t){return"hex"===t?r(e):e}}(qy),function(e){var t=e,n=jy,r=Kc,i=qy;t.assert=r,t.toArray=i.toArray,t.zero2=i.zero2,t.toHex=i.toHex,t.encode=i.encode,t.getNAF=function(e,t,n){var r=new Array(Math.max(e.bitLength(),n)+1);r.fill(0);for(var i=1<<t+1,a=e.clone(),s=0;s<r.length;s++){var o,c=a.andln(i-1);a.isOdd()?(o=c>(i>>1)-1?(i>>1)-c:c,a.isubn(o)):o=0,r[s]=o,a.iushrn(1)}return r},t.getJSF=function(e,t){var n=[[],[]];e=e.clone(),t=t.clone();for(var r,i=0,a=0;e.cmpn(-i)>0||t.cmpn(-a)>0;){var s,o,c=e.andln(3)+i&3,u=t.andln(3)+a&3;3===c&&(c=-1),3===u&&(u=-1),s=0==(1&c)?0:3!==(r=e.andln(7)+i&7)&&5!==r||2!==u?c:-c,n[0].push(s),o=0==(1&u)?0:3!==(r=t.andln(7)+a&7)&&5!==r||2!==c?u:-u,n[1].push(o),2*i===s+1&&(i=1-i),2*a===o+1&&(a=1-a),e.iushrn(1),t.iushrn(1)}return n},t.cachedProperty=function(e,t,n){var r="_"+t;e.prototype[t]=function(){return void 0!==this[r]?this[r]:this[r]=n.call(this)}},t.parseBytes=function(e){return"string"==typeof e?t.toArray(e,"hex"):e},t.intFromLE=function(e){return new n(e,"hex","le")}}(Fy);var zy,Hy={exports:{}},Gy=sr(Object.freeze({__proto__:null,default:{}}));function Wy(e){this.rand=e}if(Hy.exports=function(e){return zy||(zy=new Wy(null)),zy.generate(e)},Hy.exports.Rand=Wy,Wy.prototype.generate=function(e){return this._rand(e)},Wy.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),n=0;n<t.length;n++)t[n]=this.rand.getByte();return t},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?Wy.prototype._rand=function(e){var t=new Uint8Array(e);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?Wy.prototype._rand=function(e){var t=new Uint8Array(e);return self.msCrypto.getRandomValues(t),t}:"object"==typeof window&&(Wy.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var Vy=Gy;if("function"!=typeof Vy.randomBytes)throw new Error("Not supported");Wy.prototype._rand=function(e){return Vy.randomBytes(e)}}catch(mD){}var Ky=Hy.exports,Xy={},$y=jy,Jy=Fy,Yy=Jy.getNAF,Qy=Jy.getJSF,Zy=Jy.assert;function eg(e,t){this.type=e,this.p=new $y(t.p,16),this.red=t.prime?$y.red(t.prime):$y.mont(this.p),this.zero=new $y(0).toRed(this.red),this.one=new $y(1).toRed(this.red),this.two=new $y(2).toRed(this.red),this.n=t.n&&new $y(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var n=this.n&&this.p.div(this.n);!n||n.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var tg=eg;function ng(e,t){this.curve=e,this.type=t,this.precomputed=null}eg.prototype.point=function(){throw new Error("Not implemented")},eg.prototype.validate=function(){throw new Error("Not implemented")},eg.prototype._fixedNafMul=function(e,t){Zy(e.precomputed);var n=e._getDoubles(),r=Yy(t,1,this._bitLength),i=(1<<n.step+1)-(n.step%2==0?2:1);i/=3;var a,s,o=[];for(a=0;a<r.length;a+=n.step){s=0;for(var c=a+n.step-1;c>=a;c--)s=(s<<1)+r[c];o.push(s)}for(var u=this.jpoint(null,null,null),d=this.jpoint(null,null,null),f=i;f>0;f--){for(a=0;a<o.length;a++)(s=o[a])===f?d=d.mixedAdd(n.points[a]):s===-f&&(d=d.mixedAdd(n.points[a].neg()));u=u.add(d)}return u.toP()},eg.prototype._wnafMul=function(e,t){var n=4,r=e._getNAFPoints(n);n=r.wnd;for(var i=r.points,a=Yy(t,n,this._bitLength),s=this.jpoint(null,null,null),o=a.length-1;o>=0;o--){for(var c=0;o>=0&&0===a[o];o--)c++;if(o>=0&&c++,s=s.dblp(c),o<0)break;var u=a[o];Zy(0!==u),s="affine"===e.type?u>0?s.mixedAdd(i[u-1>>1]):s.mixedAdd(i[-u-1>>1].neg()):u>0?s.add(i[u-1>>1]):s.add(i[-u-1>>1].neg())}return"affine"===e.type?s.toP():s},eg.prototype._wnafMulAdd=function(e,t,n,r,i){var a,s,o,c=this._wnafT1,u=this._wnafT2,d=this._wnafT3,f=0;for(a=0;a<r;a++){var l=(o=t[a])._getNAFPoints(e);c[a]=l.wnd,u[a]=l.points}for(a=r-1;a>=1;a-=2){var h=a-1,p=a;if(1===c[h]&&1===c[p]){var m=[t[h],null,null,t[p]];0===t[h].y.cmp(t[p].y)?(m[1]=t[h].add(t[p]),m[2]=t[h].toJ().mixedAdd(t[p].neg())):0===t[h].y.cmp(t[p].y.redNeg())?(m[1]=t[h].toJ().mixedAdd(t[p]),m[2]=t[h].add(t[p].neg())):(m[1]=t[h].toJ().mixedAdd(t[p]),m[2]=t[h].toJ().mixedAdd(t[p].neg()));var b=[-3,-1,-5,-7,0,7,5,1,3],y=Qy(n[h],n[p]);for(f=Math.max(y[0].length,f),d[h]=new Array(f),d[p]=new Array(f),s=0;s<f;s++){var g=0|y[0][s],v=0|y[1][s];d[h][s]=b[3*(g+1)+(v+1)],d[p][s]=0,u[h]=m}}else d[h]=Yy(n[h],c[h],this._bitLength),d[p]=Yy(n[p],c[p],this._bitLength),f=Math.max(d[h].length,f),f=Math.max(d[p].length,f)}var w=this.jpoint(null,null,null),_=this._wnafT4;for(a=f;a>=0;a--){for(var E=0;a>=0;){var T=!0;for(s=0;s<r;s++)_[s]=0|d[s][a],0!==_[s]&&(T=!1);if(!T)break;E++,a--}if(a>=0&&E++,w=w.dblp(E),a<0)break;for(s=0;s<r;s++){var A=_[s];0!==A&&(A>0?o=u[s][A-1>>1]:A<0&&(o=u[s][-A-1>>1].neg()),w="affine"===o.type?w.mixedAdd(o):w.add(o))}}for(a=0;a<r;a++)u[a]=null;return i?w:w.toP()},eg.BasePoint=ng,ng.prototype.eq=function(){throw new Error("Not implemented")},ng.prototype.validate=function(){return this.curve.validate(this)},eg.prototype.decodePoint=function(e,t){e=Jy.toArray(e,t);var n=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*n)return 6===e[0]?Zy(e[e.length-1]%2==0):7===e[0]&&Zy(e[e.length-1]%2==1),this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));if((2===e[0]||3===e[0])&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),3===e[0]);throw new Error("Unknown point format")},ng.prototype.encodeCompressed=function(e){return this.encode(e,!0)},ng.prototype._encode=function(e){var t=this.curve.p.byteLength(),n=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",t))},ng.prototype.encode=function(e,t){return Jy.encode(this._encode(t),e)},ng.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},ng.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},ng.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],r=this,i=0;i<t;i+=e){for(var a=0;a<e;a++)r=r.dbl();n.push(r)}return{step:e,points:n}},ng.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],n=(1<<e)-1,r=1===n?null:this.dbl(),i=1;i<n;i++)t[i]=t[i-1].add(r);return{wnd:e,points:t}},ng.prototype._getBeta=function(){return null},ng.prototype.dblp=function(e){for(var t=this,n=0;n<e;n++)t=t.dbl();return t};var rg=jy,ig=Jc,ag=tg,sg=Fy.assert;function og(e){ag.call(this,"short",e),this.a=new rg(e.a,16).toRed(this.red),this.b=new rg(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}ig(og,ag);var cg=og;function ug(e,t,n,r){ag.BasePoint.call(this,e,"affine"),null===t&&null===n?(this.x=null,this.y=null,this.inf=!0):(this.x=new rg(t,16),this.y=new rg(n,16),r&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function dg(e,t,n,r){ag.BasePoint.call(this,e,"jacobian"),null===t&&null===n&&null===r?(this.x=this.curve.one,this.y=this.curve.one,this.z=new rg(0)):(this.x=new rg(t,16),this.y=new rg(n,16),this.z=new rg(r,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}og.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,n;if(e.beta)t=new rg(e.beta,16).toRed(this.red);else{var r=this._getEndoRoots(this.p);t=(t=r[0].cmp(r[1])<0?r[0]:r[1]).toRed(this.red)}if(e.lambda)n=new rg(e.lambda,16);else{var i=this._getEndoRoots(this.n);0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(t))?n=i[0]:(n=i[1],sg(0===this.g.mul(n).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:n,basis:e.basis?e.basis.map((function(e){return{a:new rg(e.a,16),b:new rg(e.b,16)}})):this._getEndoBasis(n)}}},og.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:rg.mont(e),n=new rg(2).toRed(t).redInvm(),r=n.redNeg(),i=new rg(3).toRed(t).redNeg().redSqrt().redMul(n);return[r.redAdd(i).fromRed(),r.redSub(i).fromRed()]},og.prototype._getEndoBasis=function(e){for(var t,n,r,i,a,s,o,c,u,d=this.n.ushrn(Math.floor(this.n.bitLength()/2)),f=e,l=this.n.clone(),h=new rg(1),p=new rg(0),m=new rg(0),b=new rg(1),y=0;0!==f.cmpn(0);){var g=l.div(f);c=l.sub(g.mul(f)),u=m.sub(g.mul(h));var v=b.sub(g.mul(p));if(!r&&c.cmp(d)<0)t=o.neg(),n=h,r=c.neg(),i=u;else if(r&&2==++y)break;o=c,l=f,f=c,m=h,h=u,b=p,p=v}a=c.neg(),s=u;var w=r.sqr().add(i.sqr());return a.sqr().add(s.sqr()).cmp(w)>=0&&(a=t,s=n),r.negative&&(r=r.neg(),i=i.neg()),a.negative&&(a=a.neg(),s=s.neg()),[{a:r,b:i},{a:a,b:s}]},og.prototype._endoSplit=function(e){var t=this.endo.basis,n=t[0],r=t[1],i=r.b.mul(e).divRound(this.n),a=n.b.neg().mul(e).divRound(this.n),s=i.mul(n.a),o=a.mul(r.a),c=i.mul(n.b),u=a.mul(r.b);return{k1:e.sub(s).sub(o),k2:c.add(u).neg()}},og.prototype.pointFromX=function(e,t){(e=new rg(e,16)).red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),r=n.redSqrt();if(0!==r.redSqr().redSub(n).cmp(this.zero))throw new Error("invalid point");var i=r.fromRed().isOdd();return(t&&!i||!t&&i)&&(r=r.redNeg()),this.point(e,r)},og.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,n=e.y,r=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(r).redIAdd(this.b);return 0===n.redSqr().redISub(i).cmpn(0)},og.prototype._endoWnafMulAdd=function(e,t,n){for(var r=this._endoWnafT1,i=this._endoWnafT2,a=0;a<e.length;a++){var s=this._endoSplit(t[a]),o=e[a],c=o._getBeta();s.k1.negative&&(s.k1.ineg(),o=o.neg(!0)),s.k2.negative&&(s.k2.ineg(),c=c.neg(!0)),r[2*a]=o,r[2*a+1]=c,i[2*a]=s.k1,i[2*a+1]=s.k2}for(var u=this._wnafMulAdd(1,r,i,2*a,n),d=0;d<2*a;d++)r[d]=null,i[d]=null;return u},ig(ug,ag.BasePoint),og.prototype.point=function(e,t,n){return new ug(this,e,t,n)},og.prototype.pointFromJSON=function(e,t){return ug.fromJSON(this,e,t)},ug.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,r=function(e){return n.point(e.x.redMul(n.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(r)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(r)}}}return t}},ug.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},ug.fromJSON=function(e,t,n){"string"==typeof t&&(t=JSON.parse(t));var r=e.point(t[0],t[1],n);if(!t[2])return r;function i(t){return e.point(t[0],t[1],n)}var a=t[2];return r.precomputed={beta:null,doubles:a.doubles&&{step:a.doubles.step,points:[r].concat(a.doubles.points.map(i))},naf:a.naf&&{wnd:a.naf.wnd,points:[r].concat(a.naf.points.map(i))}},r},ug.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},ug.prototype.isInfinity=function(){return this.inf},ug.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var n=t.redSqr().redISub(this.x).redISub(e.x),r=t.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,r)},ug.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,n=this.x.redSqr(),r=e.redInvm(),i=n.redAdd(n).redIAdd(n).redIAdd(t).redMul(r),a=i.redSqr().redISub(this.x.redAdd(this.x)),s=i.redMul(this.x.redSub(a)).redISub(this.y);return this.curve.point(a,s)},ug.prototype.getX=function(){return this.x.fromRed()},ug.prototype.getY=function(){return this.y.fromRed()},ug.prototype.mul=function(e){return e=new rg(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},ug.prototype.mulAdd=function(e,t,n){var r=[this,t],i=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(r,i):this.curve._wnafMulAdd(1,r,i,2)},ug.prototype.jmulAdd=function(e,t,n){var r=[this,t],i=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(r,i,!0):this.curve._wnafMulAdd(1,r,i,2,!0)},ug.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},ug.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,r=function(e){return e.neg()};t.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(r)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(r)}}}return t},ug.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},ig(dg,ag.BasePoint),og.prototype.jpoint=function(e,t,n){return new dg(this,e,t,n)},dg.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),n=this.x.redMul(t),r=this.y.redMul(t).redMul(e);return this.curve.point(n,r)},dg.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},dg.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),n=this.z.redSqr(),r=this.x.redMul(t),i=e.x.redMul(n),a=this.y.redMul(t.redMul(e.z)),s=e.y.redMul(n.redMul(this.z)),o=r.redSub(i),c=a.redSub(s);if(0===o.cmpn(0))return 0!==c.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=o.redSqr(),d=u.redMul(o),f=r.redMul(u),l=c.redSqr().redIAdd(d).redISub(f).redISub(f),h=c.redMul(f.redISub(l)).redISub(a.redMul(d)),p=this.z.redMul(e.z).redMul(o);return this.curve.jpoint(l,h,p)},dg.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),n=this.x,r=e.x.redMul(t),i=this.y,a=e.y.redMul(t).redMul(this.z),s=n.redSub(r),o=i.redSub(a);if(0===s.cmpn(0))return 0!==o.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=s.redSqr(),u=c.redMul(s),d=n.redMul(c),f=o.redSqr().redIAdd(u).redISub(d).redISub(d),l=o.redMul(d.redISub(f)).redISub(i.redMul(u)),h=this.z.redMul(s);return this.curve.jpoint(f,l,h)},dg.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var n=this;for(t=0;t<e;t++)n=n.dbl();return n}var r=this.curve.a,i=this.curve.tinv,a=this.x,s=this.y,o=this.z,c=o.redSqr().redSqr(),u=s.redAdd(s);for(t=0;t<e;t++){var d=a.redSqr(),f=u.redSqr(),l=f.redSqr(),h=d.redAdd(d).redIAdd(d).redIAdd(r.redMul(c)),p=a.redMul(f),m=h.redSqr().redISub(p.redAdd(p)),b=p.redISub(m),y=h.redMul(b);y=y.redIAdd(y).redISub(l);var g=u.redMul(o);t+1<e&&(c=c.redMul(l)),a=m,o=g,u=y}return this.curve.jpoint(a,u.redMul(i),o)},dg.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},dg.prototype._zeroDbl=function(){var e,t,n;if(this.zOne){var r=this.x.redSqr(),i=this.y.redSqr(),a=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(r).redISub(a);s=s.redIAdd(s);var o=r.redAdd(r).redIAdd(r),c=o.redSqr().redISub(s).redISub(s),u=a.redIAdd(a);u=(u=u.redIAdd(u)).redIAdd(u),e=c,t=o.redMul(s.redISub(c)).redISub(u),n=this.y.redAdd(this.y)}else{var d=this.x.redSqr(),f=this.y.redSqr(),l=f.redSqr(),h=this.x.redAdd(f).redSqr().redISub(d).redISub(l);h=h.redIAdd(h);var p=d.redAdd(d).redIAdd(d),m=p.redSqr(),b=l.redIAdd(l);b=(b=b.redIAdd(b)).redIAdd(b),e=m.redISub(h).redISub(h),t=p.redMul(h.redISub(e)).redISub(b),n=(n=this.y.redMul(this.z)).redIAdd(n)}return this.curve.jpoint(e,t,n)},dg.prototype._threeDbl=function(){var e,t,n;if(this.zOne){var r=this.x.redSqr(),i=this.y.redSqr(),a=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(r).redISub(a);s=s.redIAdd(s);var o=r.redAdd(r).redIAdd(r).redIAdd(this.curve.a),c=o.redSqr().redISub(s).redISub(s);e=c;var u=a.redIAdd(a);u=(u=u.redIAdd(u)).redIAdd(u),t=o.redMul(s.redISub(c)).redISub(u),n=this.y.redAdd(this.y)}else{var d=this.z.redSqr(),f=this.y.redSqr(),l=this.x.redMul(f),h=this.x.redSub(d).redMul(this.x.redAdd(d));h=h.redAdd(h).redIAdd(h);var p=l.redIAdd(l),m=(p=p.redIAdd(p)).redAdd(p);e=h.redSqr().redISub(m),n=this.y.redAdd(this.z).redSqr().redISub(f).redISub(d);var b=f.redSqr();b=(b=(b=b.redIAdd(b)).redIAdd(b)).redIAdd(b),t=h.redMul(p.redISub(e)).redISub(b)}return this.curve.jpoint(e,t,n)},dg.prototype._dbl=function(){var e=this.curve.a,t=this.x,n=this.y,r=this.z,i=r.redSqr().redSqr(),a=t.redSqr(),s=n.redSqr(),o=a.redAdd(a).redIAdd(a).redIAdd(e.redMul(i)),c=t.redAdd(t),u=(c=c.redIAdd(c)).redMul(s),d=o.redSqr().redISub(u.redAdd(u)),f=u.redISub(d),l=s.redSqr();l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var h=o.redMul(f).redISub(l),p=n.redAdd(n).redMul(r);return this.curve.jpoint(d,h,p)},dg.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),n=this.z.redSqr(),r=t.redSqr(),i=e.redAdd(e).redIAdd(e),a=i.redSqr(),s=this.x.redAdd(t).redSqr().redISub(e).redISub(r),o=(s=(s=(s=s.redIAdd(s)).redAdd(s).redIAdd(s)).redISub(a)).redSqr(),c=r.redIAdd(r);c=(c=(c=c.redIAdd(c)).redIAdd(c)).redIAdd(c);var u=i.redIAdd(s).redSqr().redISub(a).redISub(o).redISub(c),d=t.redMul(u);d=(d=d.redIAdd(d)).redIAdd(d);var f=this.x.redMul(o).redISub(d);f=(f=f.redIAdd(f)).redIAdd(f);var l=this.y.redMul(u.redMul(c.redISub(u)).redISub(s.redMul(o)));l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var h=this.z.redAdd(s).redSqr().redISub(n).redISub(o);return this.curve.jpoint(f,l,h)},dg.prototype.mul=function(e,t){return e=new rg(e,t),this.curve._wnafMul(this,e)},dg.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),n=e.z.redSqr();if(0!==this.x.redMul(n).redISub(e.x.redMul(t)).cmpn(0))return!1;var r=t.redMul(this.z),i=n.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(r)).cmpn(0)},dg.prototype.eqXToP=function(e){var t=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(n))return!0;for(var r=e.clone(),i=this.curve.redN.redMul(t);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(i),0===this.x.cmp(n))return!0}},dg.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},dg.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};var fg=jy,lg=Jc,hg=tg,pg=Fy;function mg(e){hg.call(this,"mont",e),this.a=new fg(e.a,16).toRed(this.red),this.b=new fg(e.b,16).toRed(this.red),this.i4=new fg(4).toRed(this.red).redInvm(),this.two=new fg(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}lg(mg,hg);var bg=mg;function yg(e,t,n){hg.BasePoint.call(this,e,"projective"),null===t&&null===n?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new fg(t,16),this.z=new fg(n,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}mg.prototype.validate=function(e){var t=e.normalize().x,n=t.redSqr(),r=n.redMul(t).redAdd(n.redMul(this.a)).redAdd(t);return 0===r.redSqrt().redSqr().cmp(r)},lg(yg,hg.BasePoint),mg.prototype.decodePoint=function(e,t){return this.point(pg.toArray(e,t),1)},mg.prototype.point=function(e,t){return new yg(this,e,t)},mg.prototype.pointFromJSON=function(e){return yg.fromJSON(this,e)},yg.prototype.precompute=function(){},yg.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},yg.fromJSON=function(e,t){return new yg(e,t[0],t[1]||e.one)},yg.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},yg.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},yg.prototype.dbl=function(){var e=this.x.redAdd(this.z).redSqr(),t=this.x.redSub(this.z).redSqr(),n=e.redSub(t),r=e.redMul(t),i=n.redMul(t.redAdd(this.curve.a24.redMul(n)));return this.curve.point(r,i)},yg.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},yg.prototype.diffAdd=function(e,t){var n=this.x.redAdd(this.z),r=this.x.redSub(this.z),i=e.x.redAdd(e.z),a=e.x.redSub(e.z).redMul(n),s=i.redMul(r),o=t.z.redMul(a.redAdd(s).redSqr()),c=t.x.redMul(a.redISub(s).redSqr());return this.curve.point(o,c)},yg.prototype.mul=function(e){for(var t=e.clone(),n=this,r=this.curve.point(null,null),i=[];0!==t.cmpn(0);t.iushrn(1))i.push(t.andln(1));for(var a=i.length-1;a>=0;a--)0===i[a]?(n=n.diffAdd(r,this),r=r.dbl()):(r=n.diffAdd(r,this),n=n.dbl());return r},yg.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},yg.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},yg.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},yg.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},yg.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var gg=jy,vg=Jc,wg=tg,_g=Fy.assert;function Eg(e){this.twisted=1!=(0|e.a),this.mOneA=this.twisted&&-1==(0|e.a),this.extended=this.mOneA,wg.call(this,"edwards",e),this.a=new gg(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new gg(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new gg(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),_g(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|e.c)}vg(Eg,wg);var Tg=Eg;function Ag(e,t,n,r,i){wg.BasePoint.call(this,e,"projective"),null===t&&null===n&&null===r?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new gg(t,16),this.y=new gg(n,16),this.z=r?new gg(r,16):this.curve.one,this.t=i&&new gg(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}Eg.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},Eg.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},Eg.prototype.jpoint=function(e,t,n,r){return this.point(e,t,n,r)},Eg.prototype.pointFromX=function(e,t){(e=new gg(e,16)).red||(e=e.toRed(this.red));var n=e.redSqr(),r=this.c2.redSub(this.a.redMul(n)),i=this.one.redSub(this.c2.redMul(this.d).redMul(n)),a=r.redMul(i.redInvm()),s=a.redSqrt();if(0!==s.redSqr().redSub(a).cmp(this.zero))throw new Error("invalid point");var o=s.fromRed().isOdd();return(t&&!o||!t&&o)&&(s=s.redNeg()),this.point(e,s)},Eg.prototype.pointFromY=function(e,t){(e=new gg(e,16)).red||(e=e.toRed(this.red));var n=e.redSqr(),r=n.redSub(this.c2),i=n.redMul(this.d).redMul(this.c2).redSub(this.a),a=r.redMul(i.redInvm());if(0===a.cmp(this.zero)){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var s=a.redSqrt();if(0!==s.redSqr().redSub(a).cmp(this.zero))throw new Error("invalid point");return s.fromRed().isOdd()!==t&&(s=s.redNeg()),this.point(s,e)},Eg.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),n=e.y.redSqr(),r=t.redMul(this.a).redAdd(n),i=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(n)));return 0===r.cmp(i)},vg(Ag,wg.BasePoint),Eg.prototype.pointFromJSON=function(e){return Ag.fromJSON(this,e)},Eg.prototype.point=function(e,t,n,r){return new Ag(this,e,t,n,r)},Ag.fromJSON=function(e,t){return new Ag(e,t[0],t[1],t[2])},Ag.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},Ag.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},Ag.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var r=this.curve._mulA(e),i=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),a=r.redAdd(t),s=a.redSub(n),o=r.redSub(t),c=i.redMul(s),u=a.redMul(o),d=i.redMul(o),f=s.redMul(a);return this.curve.point(c,u,f,d)},Ag.prototype._projDbl=function(){var e,t,n,r,i,a,s=this.x.redAdd(this.y).redSqr(),o=this.x.redSqr(),c=this.y.redSqr();if(this.curve.twisted){var u=(r=this.curve._mulA(o)).redAdd(c);this.zOne?(e=s.redSub(o).redSub(c).redMul(u.redSub(this.curve.two)),t=u.redMul(r.redSub(c)),n=u.redSqr().redSub(u).redSub(u)):(i=this.z.redSqr(),a=u.redSub(i).redISub(i),e=s.redSub(o).redISub(c).redMul(a),t=u.redMul(r.redSub(c)),n=u.redMul(a))}else r=o.redAdd(c),i=this.curve._mulC(this.z).redSqr(),a=r.redSub(i).redSub(i),e=this.curve._mulC(s.redISub(r)).redMul(a),t=this.curve._mulC(r).redMul(o.redISub(c)),n=r.redMul(a);return this.curve.point(e,t,n)},Ag.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},Ag.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),n=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),r=this.t.redMul(this.curve.dd).redMul(e.t),i=this.z.redMul(e.z.redAdd(e.z)),a=n.redSub(t),s=i.redSub(r),o=i.redAdd(r),c=n.redAdd(t),u=a.redMul(s),d=o.redMul(c),f=a.redMul(c),l=s.redMul(o);return this.curve.point(u,d,l,f)},Ag.prototype._projAdd=function(e){var t,n,r=this.z.redMul(e.z),i=r.redSqr(),a=this.x.redMul(e.x),s=this.y.redMul(e.y),o=this.curve.d.redMul(a).redMul(s),c=i.redSub(o),u=i.redAdd(o),d=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(a).redISub(s),f=r.redMul(c).redMul(d);return this.curve.twisted?(t=r.redMul(u).redMul(s.redSub(this.curve._mulA(a))),n=c.redMul(u)):(t=r.redMul(u).redMul(s.redSub(a)),n=this.curve._mulC(c).redMul(u)),this.curve.point(f,t,n)},Ag.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},Ag.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},Ag.prototype.mulAdd=function(e,t,n){return this.curve._wnafMulAdd(1,[this,t],[e,n],2,!1)},Ag.prototype.jmulAdd=function(e,t,n){return this.curve._wnafMulAdd(1,[this,t],[e,n],2,!0)},Ag.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},Ag.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},Ag.prototype.getX=function(){return this.normalize(),this.x.fromRed()},Ag.prototype.getY=function(){return this.normalize(),this.y.fromRed()},Ag.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},Ag.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var n=e.clone(),r=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(r),0===this.x.cmp(t))return!0}},Ag.prototype.toP=Ag.prototype.normalize,Ag.prototype.mixedAdd=Ag.prototype.add,function(e){var t=e;t.base=tg,t.short=cg,t.mont=bg,t.edwards=Tg}(Xy);var Rg,Sg,kg={};!function(e){var t,n=e,r=Wc,i=Xy,a=Fy.assert;function s(e){"short"===e.type?this.curve=new i.short(e):"edwards"===e.type?this.curve=new i.edwards(e):this.curve=new i.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,a(this.g.validate(),"Invalid curve"),a(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function o(e,t){Object.defineProperty(n,e,{configurable:!0,enumerable:!0,get:function(){var r=new s(t);return Object.defineProperty(n,e,{configurable:!0,enumerable:!0,value:r}),r}})}n.PresetCurve=s,o("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:r.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),o("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:r.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),o("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:r.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),o("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:r.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),o("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:r.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),o("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["9"]}),o("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{t=Sg?Rg:(Sg=1,Rg={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}})}catch(e){t=void 0}o("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:r.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",t]})}(kg);var Og=Wc,Ig=qy,xg=Kc;function Cg(e){if(!(this instanceof Cg))return new Cg(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=Ig.toArray(e.entropy,e.entropyEnc||"hex"),n=Ig.toArray(e.nonce,e.nonceEnc||"hex"),r=Ig.toArray(e.pers,e.persEnc||"hex");xg(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,n,r)}var Mg=Cg;Cg.prototype._init=function(e,t,n){var r=e.concat(t).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(r),this._reseed=1,this.reseedInterval=281474976710656},Cg.prototype._hmac=function(){return new Og.hmac(this.hash,this.K)},Cg.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},Cg.prototype.reseed=function(e,t,n,r){"string"!=typeof t&&(r=n,n=t,t=null),e=Ig.toArray(e,t),n=Ig.toArray(n,r),xg(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1},Cg.prototype.generate=function(e,t,n,r){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof t&&(r=n,n=t,t=null),n&&(n=Ig.toArray(n,r||"hex"),this._update(n));for(var i=[];i.length<e;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var a=i.slice(0,e);return this._update(n),this._reseed++,Ig.encode(a,t)};var Pg=jy,Ng=Fy.assert;function Bg(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var Dg=Bg;Bg.fromPublic=function(e,t,n){return t instanceof Bg?t:new Bg(e,{pub:t,pubEnc:n})},Bg.fromPrivate=function(e,t,n){return t instanceof Bg?t:new Bg(e,{priv:t,privEnc:n})},Bg.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},Bg.prototype.getPublic=function(e,t){return"string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},Bg.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},Bg.prototype._importPrivate=function(e,t){this.priv=new Pg(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},Bg.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?Ng(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||Ng(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},Bg.prototype.derive=function(e){return e.validate()||Ng(e.validate(),"public point not validated"),e.mul(this.priv).getX()},Bg.prototype.sign=function(e,t,n){return this.ec.sign(e,this,t,n)},Bg.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},Bg.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var Lg=jy,Fg=Fy,Ug=Fg.assert;function jg(e,t){if(e instanceof jg)return e;this._importDER(e,t)||(Ug(e.r&&e.s,"Signature without r or s"),this.r=new Lg(e.r,16),this.s=new Lg(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}var qg=jg;function zg(){this.place=0}function Hg(e,t){var n=e[t.place++];if(!(128&n))return n;var r=15&n;if(0===r||r>4)return!1;for(var i=0,a=0,s=t.place;a<r;a++,s++)i<<=8,i|=e[s],i>>>=0;return!(i<=127)&&(t.place=s,i)}function Gg(e){for(var t=0,n=e.length-1;!e[t]&&!(128&e[t+1])&&t<n;)t++;return 0===t?e:e.slice(t)}function Wg(e,t){if(t<128)e.push(t);else{var n=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|n);--n;)e.push(t>>>(n<<3)&255);e.push(t)}}jg.prototype._importDER=function(e,t){e=Fg.toArray(e,t);var n=new zg;if(48!==e[n.place++])return!1;var r=Hg(e,n);if(!1===r)return!1;if(r+n.place!==e.length)return!1;if(2!==e[n.place++])return!1;var i=Hg(e,n);if(!1===i)return!1;var a=e.slice(n.place,i+n.place);if(n.place+=i,2!==e[n.place++])return!1;var s=Hg(e,n);if(!1===s)return!1;if(e.length!==s+n.place)return!1;var o=e.slice(n.place,s+n.place);if(0===a[0]){if(!(128&a[1]))return!1;a=a.slice(1)}if(0===o[0]){if(!(128&o[1]))return!1;o=o.slice(1)}return this.r=new Lg(a),this.s=new Lg(o),this.recoveryParam=null,!0},jg.prototype.toDER=function(e){var t=this.r.toArray(),n=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&n[0]&&(n=[0].concat(n)),t=Gg(t),n=Gg(n);!(n[0]||128&n[1]);)n=n.slice(1);var r=[2];Wg(r,t.length),(r=r.concat(t)).push(2),Wg(r,n.length);var i=r.concat(n),a=[48];return Wg(a,i.length),a=a.concat(i),Fg.encode(a,e)};var Vg=jy,Kg=Mg,Xg=kg,$g=Ky,Jg=Fy.assert,Yg=Dg,Qg=qg;function Zg(e){if(!(this instanceof Zg))return new Zg(e);"string"==typeof e&&(Jg(Object.prototype.hasOwnProperty.call(Xg,e),"Unknown curve "+e),e=Xg[e]),e instanceof Xg.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}var ev=Zg;Zg.prototype.keyPair=function(e){return new Yg(this,e)},Zg.prototype.keyFromPrivate=function(e,t){return Yg.fromPrivate(this,e,t)},Zg.prototype.keyFromPublic=function(e,t){return Yg.fromPublic(this,e,t)},Zg.prototype.genKeyPair=function(e){e||(e={});for(var t=new Kg({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||$g(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),r=this.n.sub(new Vg(2));;){var i=new Vg(t.generate(n));if(!(i.cmp(r)>0))return i.iaddn(1),this.keyFromPrivate(i)}},Zg.prototype._truncateToN=function(e,t){var n=8*e.byteLength()-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},Zg.prototype.sign=function(e,t,n,r){"object"==typeof n&&(r=n,n=null),r||(r={}),t=this.keyFromPrivate(t,n),e=this._truncateToN(new Vg(e,16));for(var i=this.n.byteLength(),a=t.getPrivate().toArray("be",i),s=e.toArray("be",i),o=new Kg({hash:this.hash,entropy:a,nonce:s,pers:r.pers,persEnc:r.persEnc||"utf8"}),c=this.n.sub(new Vg(1)),u=0;;u++){var d=r.k?r.k(u):new Vg(o.generate(this.n.byteLength()));if(!((d=this._truncateToN(d,!0)).cmpn(1)<=0||d.cmp(c)>=0)){var f=this.g.mul(d);if(!f.isInfinity()){var l=f.getX(),h=l.umod(this.n);if(0!==h.cmpn(0)){var p=d.invm(this.n).mul(h.mul(t.getPrivate()).iadd(e));if(0!==(p=p.umod(this.n)).cmpn(0)){var m=(f.getY().isOdd()?1:0)|(0!==l.cmp(h)?2:0);return r.canonical&&p.cmp(this.nh)>0&&(p=this.n.sub(p),m^=1),new Qg({r:h,s:p,recoveryParam:m})}}}}}},Zg.prototype.verify=function(e,t,n,r){e=this._truncateToN(new Vg(e,16)),n=this.keyFromPublic(n,r);var i=(t=new Qg(t,"hex")).r,a=t.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0)return!1;if(a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var s,o=a.invm(this.n),c=o.mul(e).umod(this.n),u=o.mul(i).umod(this.n);return this.curve._maxwellTrick?!(s=this.g.jmulAdd(c,n.getPublic(),u)).isInfinity()&&s.eqXToP(i):!(s=this.g.mulAdd(c,n.getPublic(),u)).isInfinity()&&0===s.getX().umod(this.n).cmp(i)},Zg.prototype.recoverPubKey=function(e,t,n,r){Jg((3&n)===n,"The recovery param is more than two bits"),t=new Qg(t,r);var i=this.n,a=new Vg(e),s=t.r,o=t.s,c=1&n,u=n>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&u)throw new Error("Unable to find sencond key candinate");s=u?this.curve.pointFromX(s.add(this.curve.n),c):this.curve.pointFromX(s,c);var d=t.r.invm(i),f=i.sub(a).mul(d).umod(i),l=o.mul(d).umod(i);return this.g.mulAdd(f,s,l)},Zg.prototype.getKeyRecoveryParam=function(e,t,n,r){if(null!==(t=new Qg(t,r)).recoveryParam)return t.recoveryParam;for(var i=0;i<4;i++){var a;try{a=this.recoverPubKey(e,t,i)}catch(e){continue}if(a.eq(n))return i}throw new Error("Unable to find valid recovery factor")};var tv=Fy,nv=tv.assert,rv=tv.parseBytes,iv=tv.cachedProperty;function av(e,t){this.eddsa=e,this._secret=rv(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=rv(t.pub)}av.fromPublic=function(e,t){return t instanceof av?t:new av(e,{pub:t})},av.fromSecret=function(e,t){return t instanceof av?t:new av(e,{secret:t})},av.prototype.secret=function(){return this._secret},iv(av,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),iv(av,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),iv(av,"privBytes",(function(){var e=this.eddsa,t=this.hash(),n=e.encodingLength-1,r=t.slice(0,e.encodingLength);return r[0]&=248,r[n]&=127,r[n]|=64,r})),iv(av,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),iv(av,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),iv(av,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),av.prototype.sign=function(e){return nv(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},av.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},av.prototype.getSecret=function(e){return nv(this._secret,"KeyPair is public only"),tv.encode(this.secret(),e)},av.prototype.getPublic=function(e){return tv.encode(this.pubBytes(),e)};var sv=av,ov=jy,cv=Fy,uv=cv.assert,dv=cv.cachedProperty,fv=cv.parseBytes;function lv(e,t){this.eddsa=e,"object"!=typeof t&&(t=fv(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),uv(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof ov&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}dv(lv,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),dv(lv,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),dv(lv,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),dv(lv,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),lv.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},lv.prototype.toHex=function(){return cv.encode(this.toBytes(),"hex").toUpperCase()};var hv=lv,pv=Wc,mv=kg,bv=Fy,yv=bv.assert,gv=bv.parseBytes,vv=sv,wv=hv;function _v(e){if(yv("ed25519"===e,"only tested with ed25519 so far"),!(this instanceof _v))return new _v(e);e=mv[e].curve,this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=pv.sha512}var Ev=_v;function Tv(){throw new Error("setTimeout has not been defined")}function Av(){throw new Error("clearTimeout has not been defined")}_v.prototype.sign=function(e,t){e=gv(e);var n=this.keyFromSecret(t),r=this.hashInt(n.messagePrefix(),e),i=this.g.mul(r),a=this.encodePoint(i),s=this.hashInt(a,n.pubBytes(),e).mul(n.priv()),o=r.add(s).umod(this.curve.n);return this.makeSignature({R:i,S:o,Rencoded:a})},_v.prototype.verify=function(e,t,n){e=gv(e),t=this.makeSignature(t);var r=this.keyFromPublic(n),i=this.hashInt(t.Rencoded(),r.pubBytes(),e),a=this.g.mul(t.S());return t.R().add(r.pub().mul(i)).eq(a)},_v.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return bv.intFromLE(e.digest()).umod(this.curve.n)},_v.prototype.keyFromPublic=function(e){return vv.fromPublic(this,e)},_v.prototype.keyFromSecret=function(e){return vv.fromSecret(this,e)},_v.prototype.makeSignature=function(e){return e instanceof wv?e:new wv(this,e)},_v.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},_v.prototype.decodePoint=function(e){var t=(e=bv.parseBytes(e)).length-1,n=e.slice(0,t).concat(-129&e[t]),r=0!=(128&e[t]),i=bv.intFromLE(n);return this.curve.pointFromY(i,r)},_v.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},_v.prototype.decodeInt=function(e){return bv.intFromLE(e)},_v.prototype.isPoint=function(e){return e instanceof this.pointClass},function(e){var t=e;t.version=Ly,t.utils=Fy,t.rand=Ky,t.curve=Xy,t.curves=kg,t.ec=ev,t.eddsa=Ev}(Dy);var Rv=Tv,Sv=Av;function kv(e){if(Rv===setTimeout)return setTimeout(e,0);if((Rv===Tv||!Rv)&&setTimeout)return Rv=setTimeout,setTimeout(e,0);try{return Rv(e,0)}catch(t){try{return Rv.call(null,e,0)}catch(t){return Rv.call(this,e,0)}}}"function"==typeof cr.setTimeout&&(Rv=setTimeout),"function"==typeof cr.clearTimeout&&(Sv=clearTimeout);var Ov,Iv=[],xv=!1,Cv=-1;function Mv(){xv&&Ov&&(xv=!1,Ov.length?Iv=Ov.concat(Iv):Cv=-1,Iv.length&&Pv())}function Pv(){if(!xv){var e=kv(Mv);xv=!0;for(var t=Iv.length;t;){for(Ov=Iv,Iv=[];++Cv<t;)Ov&&Ov[Cv].run();Cv=-1,t=Iv.length}Ov=null,xv=!1,function(e){if(Sv===clearTimeout)return clearTimeout(e);if((Sv===Av||!Sv)&&clearTimeout)return Sv=clearTimeout,clearTimeout(e);try{return Sv(e)}catch(t){try{return Sv.call(null,e)}catch(t){return Sv.call(this,e)}}}(e)}}function Nv(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];Iv.push(new Bv(e,t)),1!==Iv.length||xv||kv(Pv)}function Bv(e,t){this.fun=e,this.array=t}Bv.prototype.run=function(){this.fun.apply(null,this.array)};function Dv(){}var Lv=Dv,Fv=Dv,Uv=Dv,jv=Dv,qv=Dv,zv=Dv,Hv=Dv;var Gv=cr.performance||{},Wv=Gv.now||Gv.mozNow||Gv.msNow||Gv.oNow||Gv.webkitNow||function(){return(new Date).getTime()};var Vv=new Date;var Kv={nextTick:Nv,title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:Lv,addListener:Fv,once:Uv,off:jv,removeListener:qv,removeAllListeners:zv,emit:Hv,binding:function(e){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(e){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(e){var t=.001*Wv.call(Gv),n=Math.floor(t),r=Math.floor(t%1*1e9);return e&&(n-=e[0],(r-=e[1])<0&&(n--,r+=1e9)),[n,r]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-Vv)/1e3}},Xv="function"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e},$v=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++)n[t[r]]=Object.getOwnPropertyDescriptor(e,t[r]);return n},Jv=/%[sdj%]/g;function Yv(e){if(!hw(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(nw(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,i=r.length,a=String(e).replace(Jv,(function(e){if("%%"===e)return"%";if(n>=i)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}})),s=r[n];n<i;s=r[++n])dw(s)||!yw(s)?a+=" "+s:a+=" "+nw(s);return a}function Qv(e,t){if(mw(cr.process))return function(){return Qv(e,t).apply(this,arguments)};if(!0===Kv.noDeprecation)return e;var n=!1;return function(){if(!n){if(Kv.throwDeprecation)throw new Error(t);Kv.traceDeprecation?console.trace(t):console.error(t),n=!0}return e.apply(this,arguments)}}var Zv,ew={};function tw(e){if(mw(Zv)&&(Zv=Kv.env.NODE_DEBUG||""),e=e.toUpperCase(),!ew[e])if(new RegExp("\\b"+e+"\\b","i").test(Zv)){ew[e]=function(){var t=Yv.apply(null,arguments);console.error("%s %d: %s",e,0,t)}}else ew[e]=function(){};return ew[e]}function nw(e,t){var n={seen:[],stylize:iw};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),uw(t)?n.showHidden=t:t&&kw(n,t),mw(n.showHidden)&&(n.showHidden=!1),mw(n.depth)&&(n.depth=2),mw(n.colors)&&(n.colors=!1),mw(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=rw),aw(n,e,n.depth)}function rw(e,t){var n=nw.styles[t];return n?"["+nw.colors[n][0]+"m"+e+"["+nw.colors[n][1]+"m":e}function iw(e,t){return e}function aw(e,t,n){if(e.customInspect&&t&&ww(t.inspect)&&t.inspect!==nw&&(!t.constructor||t.constructor.prototype!==t)){var r=t.inspect(n,e);return hw(r)||(r=aw(e,r,n)),r}var i=function(e,t){if(mw(t))return e.stylize("undefined","undefined");if(hw(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(lw(t))return e.stylize(""+t,"number");if(uw(t))return e.stylize(""+t,"boolean");if(dw(t))return e.stylize("null","null")}(e,t);if(i)return i;var a=Object.keys(t),s=function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(t)),vw(t)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return sw(t);if(0===a.length){if(ww(t)){var o=t.name?": "+t.name:"";return e.stylize("[Function"+o+"]","special")}if(bw(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(gw(t))return e.stylize(Date.prototype.toString.call(t),"date");if(vw(t))return sw(t)}var c,u="",d=!1,f=["{","}"];(cw(t)&&(d=!0,f=["[","]"]),ww(t))&&(u=" [Function"+(t.name?": "+t.name:"")+"]");return bw(t)&&(u=" "+RegExp.prototype.toString.call(t)),gw(t)&&(u=" "+Date.prototype.toUTCString.call(t)),vw(t)&&(u=" "+sw(t)),0!==a.length||d&&0!=t.length?n<0?bw(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),c=d?function(e,t,n,r,i){for(var a=[],s=0,o=t.length;s<o;++s)Ow(t,String(s))?a.push(ow(e,t,n,r,String(s),!0)):a.push("");return i.forEach((function(i){i.match(/^\d+$/)||a.push(ow(e,t,n,r,i,!0))})),a}(e,t,n,s,a):a.map((function(r){return ow(e,t,n,s,r,d)})),e.seen.pop(),function(e,t,n){var r=e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0);if(r>60)return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]}(c,u,f)):f[0]+u+f[1]}function sw(e){return"["+Error.prototype.toString.call(e)+"]"}function ow(e,t,n,r,i,a){var s,o,c;if((c=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?o=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(o=e.stylize("[Setter]","special")),Ow(r,i)||(s="["+i+"]"),o||(e.seen.indexOf(c.value)<0?(o=dw(n)?aw(e,c.value,null):aw(e,c.value,n-1)).indexOf("\n")>-1&&(o=a?o.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+o.split("\n").map((function(e){return"   "+e})).join("\n")):o=e.stylize("[Circular]","special")),mw(s)){if(a&&i.match(/^\d+$/))return o;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+o}function cw(e){return Array.isArray(e)}function uw(e){return"boolean"==typeof e}function dw(e){return null===e}function fw(e){return null==e}function lw(e){return"number"==typeof e}function hw(e){return"string"==typeof e}function pw(e){return"symbol"==typeof e}function mw(e){return void 0===e}function bw(e){return yw(e)&&"[object RegExp]"===Tw(e)}function yw(e){return"object"==typeof e&&null!==e}function gw(e){return yw(e)&&"[object Date]"===Tw(e)}function vw(e){return yw(e)&&("[object Error]"===Tw(e)||e instanceof Error)}function ww(e){return"function"==typeof e}function _w(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function Ew(e){return Tr.isBuffer(e)}function Tw(e){return Object.prototype.toString.call(e)}function Aw(e){return e<10?"0"+e.toString(10):e.toString(10)}nw.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},nw.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};var Rw=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Sw(){console.log("%s - %s",function(){var e=new Date,t=[Aw(e.getHours()),Aw(e.getMinutes()),Aw(e.getSeconds())].join(":");return[e.getDate(),Rw[e.getMonth()],t].join(" ")}(),Yv.apply(null,arguments))}function kw(e,t){if(!t||!yw(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}function Ow(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var Iw="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function xw(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(Iw&&e[Iw]){var t;if("function"!=typeof(t=e[Iw]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,Iw,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,n,r=new Promise((function(e,r){t=e,n=r})),i=[],a=0;a<arguments.length;a++)i.push(arguments[a]);i.push((function(e,r){e?n(e):t(r)}));try{e.apply(this,i)}catch(e){n(e)}return r}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),Iw&&Object.defineProperty(t,Iw,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,$v(e))}function Cw(e,t){if(!e){var n=new Error("Promise was rejected with a falsy value");n.reason=e,e=n}return t(e)}function Mw(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function t(){for(var t=[],n=0;n<arguments.length;n++)t.push(arguments[n]);var r=t.pop();if("function"!=typeof r)throw new TypeError("The last argument must be of type Function");var i=this,a=function(){return r.apply(i,arguments)};e.apply(this,t).then((function(e){Kv.nextTick(a.bind(null,null,e))}),(function(e){Kv.nextTick(Cw.bind(null,e,a))}))}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),Object.defineProperties(t,$v(e)),t}xw.custom=Iw;var Pw={inherits:Xv,_extend:kw,log:Sw,isBuffer:Ew,isPrimitive:_w,isFunction:ww,isError:vw,isDate:gw,isObject:yw,isRegExp:bw,isUndefined:mw,isSymbol:pw,isString:hw,isNumber:lw,isNullOrUndefined:fw,isNull:dw,isBoolean:uw,isArray:cw,inspect:nw,deprecate:Qv,format:Yv,debuglog:tw,promisify:xw,callbackify:Mw},Nw=Object.freeze({__proto__:null,_extend:kw,callbackify:Mw,debuglog:tw,default:Pw,deprecate:Qv,format:Yv,inherits:Xv,inspect:nw,isArray:cw,isBoolean:uw,isBuffer:Ew,isDate:gw,isError:vw,isFunction:ww,isNull:dw,isNullOrUndefined:fw,isNumber:lw,isObject:yw,isPrimitive:_w,isRegExp:bw,isString:hw,isSymbol:pw,isUndefined:mw,log:Sw,promisify:xw});function Bw(e,t){if(e===t)return 0;for(var n=e.length,r=t.length,i=0,a=Math.min(n,r);i<a;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0}var Dw,Lw=Object.prototype.hasOwnProperty,Fw=Object.keys||function(e){var t=[];for(var n in e)Lw.call(e,n)&&t.push(n);return t},Uw=Array.prototype.slice;function jw(){return void 0!==Dw?Dw:Dw="foo"===function(){}.name}function qw(e){return Object.prototype.toString.call(e)}function zw(e){return!si(e)&&("function"==typeof cr.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer))))}function Hw(e,t){e||$w(e,!0,t,"==",Jw)}var Gw=/\s*function\s+([^\(\s]*)\s*/;function Ww(e){if(ww(e)){if(jw())return e.name;var t=e.toString().match(Gw);return t&&t[1]}}function Vw(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=function(e){return Kw(Xw(e.actual),128)+" "+e.operator+" "+Kw(Xw(e.expected),128)}(this),this.generatedMessage=!0);var t=e.stackStartFunction||$w;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var n=new Error;if(n.stack){var r=n.stack,i=Ww(t),a=r.indexOf("\n"+i);if(a>=0){var s=r.indexOf("\n",a+1);r=r.substring(s+1)}this.stack=r}}}function Kw(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function Xw(e){if(jw()||!ww(e))return nw(e);var t=Ww(e);return"[Function"+(t?": "+t:"")+"]"}function $w(e,t,n,r,i){throw new Vw({message:n,actual:e,expected:t,operator:r,stackStartFunction:i})}function Jw(e,t){e||$w(e,!0,t,"==",Jw)}function Yw(e,t,n){e!=t&&$w(e,t,n,"==",Yw)}function Qw(e,t,n){e==t&&$w(e,t,n,"!=",Qw)}function Zw(e,t,n){t_(e,t,!1)||$w(e,t,n,"deepEqual",Zw)}function e_(e,t,n){t_(e,t,!0)||$w(e,t,n,"deepStrictEqual",e_)}function t_(e,t,n,r){if(e===t)return!0;if(si(e)&&si(t))return 0===Bw(e,t);if(gw(e)&&gw(t))return e.getTime()===t.getTime();if(bw(e)&&bw(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==typeof e||null!==t&&"object"==typeof t){if(zw(e)&&zw(t)&&qw(e)===qw(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===Bw(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(si(e)!==si(t))return!1;var i=(r=r||{actual:[],expected:[]}).actual.indexOf(e);return-1!==i&&i===r.expected.indexOf(t)||(r.actual.push(e),r.expected.push(t),function(e,t,n,r){if(null==e||null==t)return!1;if(_w(e)||_w(t))return e===t;if(n&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var i=n_(e),a=n_(t);if(i&&!a||!i&&a)return!1;if(i)return t_(e=Uw.call(e),t=Uw.call(t),n);var s,o,c=Fw(e),u=Fw(t);if(c.length!==u.length)return!1;for(c.sort(),u.sort(),o=c.length-1;o>=0;o--)if(c[o]!==u[o])return!1;for(o=c.length-1;o>=0;o--)if(!t_(e[s=c[o]],t[s],n,r))return!1;return!0}(e,t,n,r))}return n?e===t:e==t}function n_(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function r_(e,t,n){t_(e,t,!1)&&$w(e,t,n,"notDeepEqual",r_)}function i_(e,t,n){t_(e,t,!0)&&$w(e,t,n,"notDeepStrictEqual",i_)}function a_(e,t,n){e!==t&&$w(e,t,n,"===",a_)}function s_(e,t,n){e===t&&$w(e,t,n,"!==",s_)}function o_(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(e){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function c_(e,t,n,r){var i;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(r=n,n=null),i=function(e){var t;try{e()}catch(e){t=e}return t}(t),r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),e&&!i&&$w(i,n,"Missing expected exception"+r);var a="string"==typeof r,s=!e&&i&&!n;if((!e&&vw(i)&&a&&o_(i,n)||s)&&$w(i,n,"Got unwanted exception"+r),e&&i&&n&&!o_(i,n)||!e&&i)throw i}function u_(e,t,n){c_(!0,e,t,n)}function d_(e,t,n){c_(!1,e,t,n)}function f_(e){if(e)throw e}Hw.AssertionError=Vw,Xv(Vw,Error),Hw.fail=$w,Hw.ok=Jw,Hw.equal=Yw,Hw.notEqual=Qw,Hw.deepEqual=Zw,Hw.deepStrictEqual=e_,Hw.notDeepEqual=r_,Hw.notDeepStrictEqual=i_,Hw.strictEqual=a_,Hw.notStrictEqual=s_,Hw.throws=u_,Hw.doesNotThrow=d_,Hw.ifError=f_;var l_=Object.freeze({__proto__:null,AssertionError:Vw,assert:Jw,deepEqual:Zw,deepStrictEqual:e_,default:Hw,doesNotThrow:d_,equal:Yw,fail:$w,ifError:f_,notDeepEqual:r_,notDeepStrictEqual:i_,notEqual:Qw,notStrictEqual:s_,ok:Jw,strictEqual:a_,throws:u_}),h_={},p_={},m_={},b_={},y_={},g_=ir&&ir.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(y_,"__esModule",{value:!0}),y_.getLength=y_.decode=y_.encode=void 0;var v_=g_(ui);function w_(e,t){if("0"===e[0]&&"0"===e[1])throw new Error("invalid RLP: extra zeros");return parseInt(e,t)}function __(e,t){if(e<56)return Buffer.from([e+t]);var n=A_(e),r=A_(t+55+n.length/2);return Buffer.from(r+n,"hex")}function E_(e){var t,n,r,i,a,s=[],o=e[0];if(o<=127)return{data:e.slice(0,1),remainder:e.slice(1)};if(o<=183){if(t=o-127,r=128===o?Buffer.from([]):e.slice(1,t),2===t&&r[0]<128)throw new Error("invalid rlp encoding: byte must be less 0x80");return{data:r,remainder:e.slice(t)}}if(o<=191){if(n=o-182,e.length-1<n)throw new Error("invalid RLP: not enough bytes for string length");if((t=w_(e.slice(1,n).toString("hex"),16))<=55)throw new Error("invalid RLP: expected string length to be greater than 55");if((r=e.slice(n,t+n)).length<t)throw new Error("invalid RLP: not enough bytes for string");return{data:r,remainder:e.slice(t+n)}}if(o<=247){for(t=o-191,i=e.slice(1,t);i.length;)a=E_(i),s.push(a.data),i=a.remainder;return{data:s,remainder:e.slice(t)}}var c=(n=o-246)+(t=w_(e.slice(1,n).toString("hex"),16));if(c>e.length)throw new Error("invalid rlp: total length is larger than the data");if(0===(i=e.slice(n,c)).length)throw new Error("invalid rlp, List has a invalid length");for(;i.length;)a=E_(i),s.push(a.data),i=a.remainder;return{data:s,remainder:e.slice(c)}}function T_(e){return"0x"===e.slice(0,2)}function A_(e){if(e<0)throw new Error("Invalid integer as argument, must be unsigned!");var t=e.toString(16);return t.length%2?"0"+t:t}function R_(e){if(!Buffer.isBuffer(e)){if("string"==typeof e)return T_(e)?Buffer.from((n="string"!=typeof(r=e)?r:T_(r)?r.slice(2):r).length%2?"0"+n:n,"hex"):Buffer.from(e);if("number"==typeof e||"bigint"==typeof e)return e?(t=A_(e),Buffer.from(t,"hex")):Buffer.from([]);if(null==e)return Buffer.from([]);if(e instanceof Uint8Array)return Buffer.from(e);if(v_.default.isBN(e))return Buffer.from(e.toArray());throw new Error("invalid type")}var t,n,r;return e}y_.encode=function e(t){if(Array.isArray(t)){for(var n=[],r=0;r<t.length;r++)n.push(e(t[r]));var i=Buffer.concat(n);return Buffer.concat([__(i.length,192),i])}var a=R_(t);return 1===a.length&&a[0]<128?a:Buffer.concat([__(a.length,128),a])},y_.decode=function(e,t){if(void 0===t&&(t=!1),!e||0===e.length)return Buffer.from([]);var n=E_(R_(e));if(t)return n;if(0!==n.remainder.length)throw new Error("invalid remainder");return n.data},y_.getLength=function(e){if(!e||0===e.length)return Buffer.from([]);var t=R_(e),n=t[0];if(n<=127)return t.length;if(n<=183)return n-127;if(n<=191)return n-182;if(n<=247)return n-191;var r=n-246;return r+w_(t.slice(1,r).toString("hex"),16)};var S_=ir&&ir.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),k_=ir&&ir.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),O_=ir&&ir.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&S_(t,e,n);return k_(t,e),t},I_=ir&&ir.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(b_,"__esModule",{value:!0}),b_.rlp=b_.BN=void 0;var x_=I_(ui);b_.BN=x_.default;var C_=O_(y_);b_.rlp=C_,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.KECCAK256_RLP=e.KECCAK256_RLP_S=e.KECCAK256_RLP_ARRAY=e.KECCAK256_RLP_ARRAY_S=e.KECCAK256_NULL=e.KECCAK256_NULL_S=e.TWO_POW256=e.MAX_INTEGER=e.MAX_UINT64=void 0;var t=ci,n=b_;e.MAX_UINT64=new n.BN("ffffffffffffffff",16),e.MAX_INTEGER=new n.BN("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",16),e.TWO_POW256=new n.BN("10000000000000000000000000000000000000000000000000000000000000000",16),e.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",e.KECCAK256_NULL=t.Buffer.from(e.KECCAK256_NULL_S,"hex"),e.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",e.KECCAK256_RLP_ARRAY=t.Buffer.from(e.KECCAK256_RLP_ARRAY_S,"hex"),e.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",e.KECCAK256_RLP=t.Buffer.from(e.KECCAK256_RLP_S,"hex")}(m_);var M_={},P_=sr(l_),N_={};const B_="Impossible case. Please create issue.",D_="The tweak was out of range or the resulted private key is invalid",L_="The tweak was out of range or equal to zero",F_="Unknow error on context randomization",U_="Private Key is invalid",j_="Public Key could not be parsed",q_="Public Key serialization error",z_="The sum of the public keys is not valid",H_="Signature could not be parsed",G_="The nonce generation function failed, or the private key was invalid",W_="Public key could not be recover",V_="Scalar was invalid (zero or overflow)";function K_(e,t){if(!e)throw new Error(t)}function X_(e,t,n){if(K_(t instanceof Uint8Array,`Expected ${e} to be an Uint8Array`),void 0!==n)if(Array.isArray(n)){const r=`Expected ${e} to be an Uint8Array with length [${n.join(", ")}]`;K_(n.includes(t.length),r)}else{const r=`Expected ${e} to be an Uint8Array with length ${n}`;K_(t.length===n,r)}}function $_(e){K_("Boolean"===Y_(e),"Expected compressed to be a Boolean")}function J_(e=(e=>new Uint8Array(e)),t){return"function"==typeof e&&(e=e(t)),X_("output",e,t),e}function Y_(e){return Object.prototype.toString.call(e).slice(8,-1)}const Q_=new(0,Dy.ec)("secp256k1"),Z_=Q_.curve,eE=Z_.n.constructor;function tE(e){const t=e[0];switch(t){case 2:case 3:return 33!==e.length?null:function(e,t){let n=new eE(t);if(n.cmp(Z_.p)>=0)return null;n=n.toRed(Z_.red);let r=n.redSqr().redIMul(n).redIAdd(Z_.b).redSqrt();return 3===e!==r.isOdd()&&(r=r.redNeg()),Q_.keyPair({pub:{x:n,y:r}})}(t,e.subarray(1,33));case 4:case 6:case 7:return 65!==e.length?null:function(e,t,n){let r=new eE(t),i=new eE(n);if(r.cmp(Z_.p)>=0||i.cmp(Z_.p)>=0)return null;if(r=r.toRed(Z_.red),i=i.toRed(Z_.red),(6===e||7===e)&&i.isOdd()!==(7===e))return null;const a=r.redSqr().redIMul(r);return i.redSqr().redISub(a.redIAdd(Z_.b)).isZero()?Q_.keyPair({pub:{x:r,y:i}}):null}(t,e.subarray(1,33),e.subarray(33,65));default:return null}}function nE(e,t){const n=t.encode(null,33===e.length);for(let t=0;t<e.length;++t)e[t]=n[t]}var rE={contextRandomize:()=>0,privateKeyVerify(e){const t=new eE(e);return t.cmp(Z_.n)<0&&!t.isZero()?0:1},privateKeyNegate(e){const t=new eE(e),n=Z_.n.sub(t).umod(Z_.n).toArrayLike(Uint8Array,"be",32);return e.set(n),0},privateKeyTweakAdd(e,t){const n=new eE(t);if(n.cmp(Z_.n)>=0)return 1;if(n.iadd(new eE(e)),n.cmp(Z_.n)>=0&&n.isub(Z_.n),n.isZero())return 1;const r=n.toArrayLike(Uint8Array,"be",32);return e.set(r),0},privateKeyTweakMul(e,t){let n=new eE(t);if(n.cmp(Z_.n)>=0||n.isZero())return 1;n.imul(new eE(e)),n.cmp(Z_.n)>=0&&(n=n.umod(Z_.n));const r=n.toArrayLike(Uint8Array,"be",32);return e.set(r),0},publicKeyVerify:e=>null===tE(e)?1:0,publicKeyCreate(e,t){const n=new eE(t);if(n.cmp(Z_.n)>=0||n.isZero())return 1;return nE(e,Q_.keyFromPrivate(t).getPublic()),0},publicKeyConvert(e,t){const n=tE(t);if(null===n)return 1;return nE(e,n.getPublic()),0},publicKeyNegate(e,t){const n=tE(t);if(null===n)return 1;const r=n.getPublic();return r.y=r.y.redNeg(),nE(e,r),0},publicKeyCombine(e,t){const n=new Array(t.length);for(let e=0;e<t.length;++e)if(n[e]=tE(t[e]),null===n[e])return 1;let r=n[0].getPublic();for(let e=1;e<n.length;++e)r=r.add(n[e].pub);return r.isInfinity()?2:(nE(e,r),0)},publicKeyTweakAdd(e,t,n){const r=tE(t);if(null===r)return 1;if((n=new eE(n)).cmp(Z_.n)>=0)return 2;const i=r.getPublic().add(Z_.g.mul(n));return i.isInfinity()?2:(nE(e,i),0)},publicKeyTweakMul(e,t,n){const r=tE(t);if(null===r)return 1;if((n=new eE(n)).cmp(Z_.n)>=0||n.isZero())return 2;return nE(e,r.getPublic().mul(n)),0},signatureNormalize(e){const t=new eE(e.subarray(0,32)),n=new eE(e.subarray(32,64));return t.cmp(Z_.n)>=0||n.cmp(Z_.n)>=0?1:(1===n.cmp(Q_.nh)&&e.set(Z_.n.sub(n).toArrayLike(Uint8Array,"be",32),32),0)},signatureExport(e,t){const n=t.subarray(0,32),r=t.subarray(32,64);if(new eE(n).cmp(Z_.n)>=0)return 1;if(new eE(r).cmp(Z_.n)>=0)return 1;const{output:i}=e;let a=i.subarray(4,37);a[0]=0,a.set(n,1);let s=33,o=0;for(;s>1&&0===a[o]&&!(128&a[o+1]);--s,++o);if(a=a.subarray(o),128&a[0])return 1;if(s>1&&0===a[0]&&!(128&a[1]))return 1;let c=i.subarray(39,72);c[0]=0,c.set(r,1);let u=33,d=0;for(;u>1&&0===c[d]&&!(128&c[d+1]);--u,++d);return c=c.subarray(d),128&c[0]||u>1&&0===c[0]&&!(128&c[1])?1:(e.outputlen=6+s+u,i[0]=48,i[1]=e.outputlen-2,i[2]=2,i[3]=a.length,i.set(a,4),i[4+s]=2,i[5+s]=c.length,i.set(c,6+s),0)},signatureImport(e,t){if(t.length<8)return 1;if(t.length>72)return 1;if(48!==t[0])return 1;if(t[1]!==t.length-2)return 1;if(2!==t[2])return 1;const n=t[3];if(0===n)return 1;if(5+n>=t.length)return 1;if(2!==t[4+n])return 1;const r=t[5+n];if(0===r)return 1;if(6+n+r!==t.length)return 1;if(128&t[4])return 1;if(n>1&&0===t[4]&&!(128&t[5]))return 1;if(128&t[n+6])return 1;if(r>1&&0===t[n+6]&&!(128&t[n+7]))return 1;let i=t.subarray(4,4+n);if(33===i.length&&0===i[0]&&(i=i.subarray(1)),i.length>32)return 1;let a=t.subarray(6+n);if(33===a.length&&0===a[0]&&(a=a.slice(1)),a.length>32)throw new Error("S length is too long");let s=new eE(i);s.cmp(Z_.n)>=0&&(s=new eE(0));let o=new eE(t.subarray(6+n));return o.cmp(Z_.n)>=0&&(o=new eE(0)),e.set(s.toArrayLike(Uint8Array,"be",32),0),e.set(o.toArrayLike(Uint8Array,"be",32),32),0},ecdsaSign(e,t,n,r,i){if(i){const e=i;i=i=>{const a=e(t,n,null,r,i);if(!(a instanceof Uint8Array&&32===a.length))throw new Error("This is the way");return new eE(a)}}const a=new eE(n);if(a.cmp(Z_.n)>=0||a.isZero())return 1;let s;try{s=Q_.sign(t,n,{canonical:!0,k:i,pers:r})}catch(e){return 1}return e.signature.set(s.r.toArrayLike(Uint8Array,"be",32),0),e.signature.set(s.s.toArrayLike(Uint8Array,"be",32),32),e.recid=s.recoveryParam,0},ecdsaVerify(e,t,n){const r={r:e.subarray(0,32),s:e.subarray(32,64)},i=new eE(r.r),a=new eE(r.s);if(i.cmp(Z_.n)>=0||a.cmp(Z_.n)>=0)return 1;if(1===a.cmp(Q_.nh)||i.isZero()||a.isZero())return 3;const s=tE(n);if(null===s)return 2;const o=s.getPublic();return Q_.verify(t,r,o)?0:3},ecdsaRecover(e,t,n,r){const i={r:t.slice(0,32),s:t.slice(32,64)},a=new eE(i.r),s=new eE(i.s);if(a.cmp(Z_.n)>=0||s.cmp(Z_.n)>=0)return 1;if(a.isZero()||s.isZero())return 2;let o;try{o=Q_.recoverPubKey(r,i,n)}catch(e){return 2}return nE(e,o),0},ecdh(e,t,n,r,i,a,s){const o=tE(t);if(null===o)return 1;const c=new eE(n);if(c.cmp(Z_.n)>=0||c.isZero())return 2;const u=o.getPublic().mul(c);if(void 0===i){const t=u.encode(null,!0),n=Q_.hash().update(t).digest();for(let t=0;t<32;++t)e[t]=n[t]}else{a||(a=new Uint8Array(32));const t=u.getX().toArray("be",32);for(let e=0;e<32;++e)a[e]=t[e];s||(s=new Uint8Array(32));const n=u.getY().toArray("be",32);for(let e=0;e<32;++e)s[e]=n[e];const o=i(a,s,r);if(!(o instanceof Uint8Array&&o.length===e.length))return 2;e.set(o)}return 0}},iE=(e=>({contextRandomize(t){if(K_(null===t||t instanceof Uint8Array,"Expected seed to be an Uint8Array or null"),null!==t&&X_("seed",t,32),1===e.contextRandomize(t))throw new Error(F_)},privateKeyVerify:t=>(X_("private key",t,32),0===e.privateKeyVerify(t)),privateKeyNegate(t){switch(X_("private key",t,32),e.privateKeyNegate(t)){case 0:return t;case 1:throw new Error(B_)}},privateKeyTweakAdd(t,n){switch(X_("private key",t,32),X_("tweak",n,32),e.privateKeyTweakAdd(t,n)){case 0:return t;case 1:throw new Error(D_)}},privateKeyTweakMul(t,n){switch(X_("private key",t,32),X_("tweak",n,32),e.privateKeyTweakMul(t,n)){case 0:return t;case 1:throw new Error(L_)}},publicKeyVerify:t=>(X_("public key",t,[33,65]),0===e.publicKeyVerify(t)),publicKeyCreate(t,n=!0,r){switch(X_("private key",t,32),$_(n),r=J_(r,n?33:65),e.publicKeyCreate(r,t)){case 0:return r;case 1:throw new Error(U_);case 2:throw new Error(q_)}},publicKeyConvert(t,n=!0,r){switch(X_("public key",t,[33,65]),$_(n),r=J_(r,n?33:65),e.publicKeyConvert(r,t)){case 0:return r;case 1:throw new Error(j_);case 2:throw new Error(q_)}},publicKeyNegate(t,n=!0,r){switch(X_("public key",t,[33,65]),$_(n),r=J_(r,n?33:65),e.publicKeyNegate(r,t)){case 0:return r;case 1:throw new Error(j_);case 2:throw new Error(B_);case 3:throw new Error(q_)}},publicKeyCombine(t,n=!0,r){K_(Array.isArray(t),"Expected public keys to be an Array"),K_(t.length>0,"Expected public keys array will have more than zero items");for(const e of t)X_("public key",e,[33,65]);switch($_(n),r=J_(r,n?33:65),e.publicKeyCombine(r,t)){case 0:return r;case 1:throw new Error(j_);case 2:throw new Error(z_);case 3:throw new Error(q_)}},publicKeyTweakAdd(t,n,r=!0,i){switch(X_("public key",t,[33,65]),X_("tweak",n,32),$_(r),i=J_(i,r?33:65),e.publicKeyTweakAdd(i,t,n)){case 0:return i;case 1:throw new Error(j_);case 2:throw new Error(D_)}},publicKeyTweakMul(t,n,r=!0,i){switch(X_("public key",t,[33,65]),X_("tweak",n,32),$_(r),i=J_(i,r?33:65),e.publicKeyTweakMul(i,t,n)){case 0:return i;case 1:throw new Error(j_);case 2:throw new Error(L_)}},signatureNormalize(t){switch(X_("signature",t,64),e.signatureNormalize(t)){case 0:return t;case 1:throw new Error(H_)}},signatureExport(t,n){X_("signature",t,64);const r={output:n=J_(n,72),outputlen:72};switch(e.signatureExport(r,t)){case 0:return n.slice(0,r.outputlen);case 1:throw new Error(H_);case 2:throw new Error(B_)}},signatureImport(t,n){switch(X_("signature",t),n=J_(n,64),e.signatureImport(n,t)){case 0:return n;case 1:throw new Error(H_);case 2:throw new Error(B_)}},ecdsaSign(t,n,r={},i){X_("message",t,32),X_("private key",n,32),K_("Object"===Y_(r),"Expected options to be an Object"),void 0!==r.data&&X_("options.data",r.data),void 0!==r.noncefn&&K_("Function"===Y_(r.noncefn),"Expected options.noncefn to be a Function");const a={signature:i=J_(i,64),recid:null};switch(e.ecdsaSign(a,t,n,r.data,r.noncefn)){case 0:return a;case 1:throw new Error(G_);case 2:throw new Error(B_)}},ecdsaVerify(t,n,r){switch(X_("signature",t,64),X_("message",n,32),X_("public key",r,[33,65]),e.ecdsaVerify(t,n,r)){case 0:return!0;case 3:return!1;case 1:throw new Error(H_);case 2:throw new Error(j_)}},ecdsaRecover(t,n,r,i=!0,a){switch(X_("signature",t,64),K_("Number"===Y_(n)&&n>=0&&n<=3,"Expected recovery id to be a Number within interval [0, 3]"),X_("message",r,32),$_(i),a=J_(a,i?33:65),e.ecdsaRecover(a,t,n,r)){case 0:return a;case 1:throw new Error(H_);case 2:throw new Error(W_);case 3:throw new Error(B_)}},ecdh(t,n,r={},i){switch(X_("public key",t,[33,65]),X_("private key",n,32),K_("Object"===Y_(r),"Expected options to be an Object"),void 0!==r.data&&X_("options.data",r.data),void 0!==r.hashfn?(K_("Function"===Y_(r.hashfn),"Expected options.hashfn to be a Function"),void 0!==r.xbuf&&X_("options.xbuf",r.xbuf,32),void 0!==r.ybuf&&X_("options.ybuf",r.ybuf,32),X_("output",i)):i=J_(i,32),e.ecdh(i,t,n,r.data,r.hashfn,r.xbuf,r.ybuf)){case 0:return i;case 1:throw new Error(j_);case 2:throw new Error(V_)}}}))(rE),aE={},sE={exports:{}},oE={exports:{}};
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
!function(e,t){var n=ci,r=n.Buffer;function i(e,t){for(var n in e)t[n]=e[n]}function a(e,t,n){return r(e,t,n)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=n:(i(n,t),t.Buffer=a),a.prototype=Object.create(r.prototype),i(r,a),a.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return r(e,t,n)},a.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var i=r(e);return void 0!==t?"string"==typeof n?i.fill(t,n):i.fill(t):i.fill(0),i},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}}(oE,oE.exports);var cE=oE.exports,uE=65536,dE=4294967295;var fE=cE.Buffer,lE=ir.crypto||ir.msCrypto;lE&&lE.getRandomValues?sE.exports=function(e,t){if(e>dE)throw new RangeError("requested too many random bytes");var n=fE.allocUnsafe(e);if(e>0)if(e>uE)for(var r=0;r<e;r+=uE)lE.getRandomValues(n.slice(r,r+uE));else lE.getRandomValues(n);if("function"==typeof t)return process.nextTick((function(){t(null,n)}));return n}:sE.exports=function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")};var hE=sE.exports;Object.defineProperty(aE,"__esModule",{value:!0});var pE=hE;aE.getRandomBytes=function(e){return new Promise((function(t,n){pE(e,(function(e,r){e?n(e):t(r)}))}))},aE.getRandomBytesSync=function(e){return pE(e)},function(e){var t=ir&&ir.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function s(e){try{c(r.next(e))}catch(e){a(e)}}function o(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}c((r=r.apply(e,t||[])).next())}))},n=ir&&ir.__generator||function(e,t){var n,r,i,a,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(a){return function(o){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}};Object.defineProperty(e,"__esModule",{value:!0});var r=iE,i=aE;e.createPrivateKey=function(){return t(this,void 0,void 0,(function(){var e;return n(this,(function(t){switch(t.label){case 0:return[4,i.getRandomBytes(32)];case 1:return e=t.sent(),r.privateKeyVerify(e)?[2,e]:[3,0];case 2:return[2]}}))}))},e.createPrivateKeySync=function(){for(;;){var e=i.getRandomBytesSync(32);if(r.privateKeyVerify(e))return e}},function(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}(iE)}(N_);var mE={};function bE(e){if("string"!=typeof e)throw new Error("[isHexPrefixed] input must be type 'string', received type ".concat(typeof e));return"0"===e[0]&&"x"===e[1]}Object.defineProperty(mE,"__esModule",{value:!0}),mE.isHexString=mE.getKeys=mE.fromAscii=mE.fromUtf8=mE.toAscii=mE.arrayContainsArray=mE.getBinarySize=mE.padToEven=mE.stripHexPrefix=mE.isHexPrefixed=void 0,mE.isHexPrefixed=bE;function yE(e){var t=e;if("string"!=typeof t)throw new Error("[padToEven] value must be type 'string', received ".concat(typeof t));return t.length%2&&(t="0".concat(t)),t}mE.stripHexPrefix=function(e){if("string"!=typeof e)throw new Error("[stripHexPrefix] input must be type 'string', received ".concat(typeof e));return bE(e)?e.slice(2):e},mE.padToEven=yE,mE.getBinarySize=function(e){if("string"!=typeof e)throw new Error("[getBinarySize] method requires input type 'string', recieved ".concat(typeof e));return Buffer.byteLength(e,"utf8")},mE.arrayContainsArray=function(e,t,n){if(!0!==Array.isArray(e))throw new Error("[arrayContainsArray] method requires input 'superset' to be an array, got type '".concat(typeof e,"'"));if(!0!==Array.isArray(t))throw new Error("[arrayContainsArray] method requires input 'subset' to be an array, got type '".concat(typeof t,"'"));return t[n?"some":"every"]((function(t){return e.indexOf(t)>=0}))},mE.toAscii=function(e){var t="",n=0,r=e.length;for("0x"===e.substring(0,2)&&(n=2);n<r;n+=2){var i=parseInt(e.substr(n,2),16);t+=String.fromCharCode(i)}return t},mE.fromUtf8=function(e){var t=Buffer.from(e,"utf8");return"0x".concat(yE(t.toString("hex")).replace(/^0+|0+$/g,""))},mE.fromAscii=function(e){for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n).toString(16);t+=r.length<2?"0".concat(r):r}return"0x".concat(t)},mE.getKeys=function(e,t,n){if(!Array.isArray(e))throw new Error("[getKeys] method expects input 'params' to be an array, got ".concat(typeof e));if("string"!=typeof t)throw new Error("[getKeys] method expects input 'key' to be type 'string', got ".concat(typeof e));for(var r=[],i=0;i<e.length;i++){var a=e[i][t];if(n&&!a)a="";else if("string"!=typeof a)throw new Error("invalid abi - expected type 'string', received ".concat(typeof a));r.push(a)}return r},mE.isHexString=function(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!t||e.length===2+2*t)};var gE={},vE={};Object.defineProperty(vE,"__esModule",{value:!0}),vE.assertIsString=vE.assertIsArray=vE.assertIsBuffer=vE.assertIsHexString=void 0;var wE=mE;vE.assertIsHexString=function(e){if(!(0,wE.isHexString)(e)){var t="This method only supports 0x-prefixed hex strings but input was: ".concat(e);throw new Error(t)}};vE.assertIsBuffer=function(e){if(!Buffer.isBuffer(e)){var t="This method only supports Buffer but input was: ".concat(e);throw new Error(t)}};vE.assertIsArray=function(e){if(!Array.isArray(e)){var t="This method only supports number arrays but input was: ".concat(e);throw new Error(t)}};vE.assertIsString=function(e){if("string"!=typeof e){var t="This method only supports strings but input was: ".concat(e);throw new Error(t)}},function(e){var t=ir&&ir.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},n=ir&&ir.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return s};Object.defineProperty(e,"__esModule",{value:!0}),e.bufArrToArr=e.arrToBufArr=e.validateNoLeadingZeroes=e.baToJSON=e.toUtf8=e.addHexPrefix=e.toUnsigned=e.fromSigned=e.bufferToHex=e.bufferToInt=e.toBuffer=e.unpadHexString=e.unpadArray=e.unpadBuffer=e.setLengthRight=e.setLengthLeft=e.zeros=e.intToBuffer=e.intToHex=void 0;var r=b_,i=mE,a=vE;e.intToHex=function(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("Received an invalid integer type: ".concat(e));return"0x".concat(e.toString(16))};e.intToBuffer=function(t){var n=(0,e.intToHex)(t);return Buffer.from((0,i.padToEven)(n.slice(2)),"hex")};e.zeros=function(e){return Buffer.allocUnsafe(e).fill(0)};var s=function(t,n,r){var i=(0,e.zeros)(n);return r?t.length<n?(t.copy(i),i):t.slice(0,n):t.length<n?(t.copy(i,n-t.length),i):t.slice(-n)};e.setLengthLeft=function(e,t){return(0,a.assertIsBuffer)(e),s(e,t,!1)};e.setLengthRight=function(e,t){return(0,a.assertIsBuffer)(e),s(e,t,!0)};var o=function(e){for(var t=e[0];e.length>0&&"0"===t.toString();)t=(e=e.slice(1))[0];return e};e.unpadBuffer=function(e){return(0,a.assertIsBuffer)(e),o(e)};e.unpadArray=function(e){return(0,a.assertIsArray)(e),o(e)};e.unpadHexString=function(e){return(0,a.assertIsHexString)(e),e=(0,i.stripHexPrefix)(e),o(e)};e.toBuffer=function(t){if(null==t)return Buffer.allocUnsafe(0);if(Buffer.isBuffer(t))return Buffer.from(t);if(Array.isArray(t)||t instanceof Uint8Array)return Buffer.from(t);if("string"==typeof t){if(!(0,i.isHexString)(t))throw new Error("Cannot convert string to buffer. toBuffer only supports 0x-prefixed hex strings and this string was given: ".concat(t));return Buffer.from((0,i.padToEven)((0,i.stripHexPrefix)(t)),"hex")}if("number"==typeof t)return(0,e.intToBuffer)(t);if(r.BN.isBN(t)){if(t.isNeg())throw new Error("Cannot convert negative BN to buffer. Given: ".concat(t));return t.toArrayLike(Buffer)}if(t.toArray)return Buffer.from(t.toArray());if(t.toBuffer)return Buffer.from(t.toBuffer());throw new Error("invalid type")};e.bufferToInt=function(t){return new r.BN((0,e.toBuffer)(t)).toNumber()};e.bufferToHex=function(t){return"0x"+(t=(0,e.toBuffer)(t)).toString("hex")};e.fromSigned=function(e){return new r.BN(e).fromTwos(256)};e.toUnsigned=function(e){return Buffer.from(e.toTwos(256).toArray())};e.addHexPrefix=function(e){return"string"!=typeof e||(0,i.isHexPrefixed)(e)?e:"0x"+e};e.toUtf8=function(e){if((e=(0,i.stripHexPrefix)(e)).length%2!=0)throw new Error("Invalid non-even hex string input for toUtf8() provided");return Buffer.from(e.replace(/^(00)+|(00)+$/g,""),"hex").toString("utf8")};e.baToJSON=function(t){if(Buffer.isBuffer(t))return"0x".concat(t.toString("hex"));if(t instanceof Array){for(var n=[],r=0;r<t.length;r++)n.push((0,e.baToJSON)(t[r]));return n}};e.validateNoLeadingZeroes=function(e){var r,i;try{for(var a=t(Object.entries(e)),s=a.next();!s.done;s=a.next()){var o=n(s.value,2),c=o[0],u=o[1];if(void 0!==u&&u.length>0&&0===u[0])throw new Error("".concat(c," cannot have leading zeroes, received: ").concat(u.toString("hex")))}}catch(e){r={error:e}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}},e.arrToBufArr=function e(t){return Array.isArray(t)?t.map((function(t){return e(t)})):Buffer.from(t)},e.bufArrToArr=function e(t){return Array.isArray(t)?t.map((function(t){return e(t)})):Uint8Array.from(null!=t?t:[])}}(gE);var _E={},EE={},TE={};Object.defineProperty(TE,"__esModule",{value:!0}),TE.createHashFunction=function(e){return function(t){var n=e();return n.update(t),Buffer.from(n.digest())}};var AE={exports:{}};function RE(){}function SE(){SE.init.call(this)}function kE(e){return void 0===e._maxListeners?SE.defaultMaxListeners:e._maxListeners}function OE(e,t,n,r){var i,a,s;if("function"!=typeof n)throw new TypeError('"listener" argument must be a function');if((a=e._events)?(a.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),a=e._events),s=a[t]):(a=e._events=new RE,e._eventsCount=0),s){if("function"==typeof s?s=a[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),!s.warned&&(i=kE(e))&&i>0&&s.length>i){s.warned=!0;var o=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+t+" listeners added. Use emitter.setMaxListeners() to increase limit");o.name="MaxListenersExceededWarning",o.emitter=e,o.type=t,o.count=s.length,function(e){"function"==typeof console.warn?console.warn(e):console.log(e)}(o)}}else s=a[t]=n,++e._eventsCount;return e}function IE(e,t,n){var r=!1;function i(){e.removeListener(t,i),r||(r=!0,n.apply(e,arguments))}return i.listener=n,i}function xE(e){var t=this._events;if(t){var n=t[e];if("function"==typeof n)return 1;if(n)return n.length}return 0}function CE(e,t){for(var n=new Array(t);t--;)n[t]=e[t];return n}RE.prototype=Object.create(null),SE.EventEmitter=SE,SE.usingDomains=!1,SE.prototype.domain=void 0,SE.prototype._events=void 0,SE.prototype._maxListeners=void 0,SE.defaultMaxListeners=10,SE.init=function(){this.domain=null,SE.usingDomains&&undefined.active,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new RE,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},SE.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},SE.prototype.getMaxListeners=function(){return kE(this)},SE.prototype.emit=function(e){var t,n,r,i,a,s,o,c="error"===e;if(s=this._events)c=c&&null==s.error;else if(!c)return!1;if(o=this.domain,c){if(t=arguments[1],!o){if(t instanceof Error)throw t;var u=new Error('Uncaught, unspecified "error" event. ('+t+")");throw u.context=t,u}return t||(t=new Error('Uncaught, unspecified "error" event')),t.domainEmitter=this,t.domain=o,t.domainThrown=!1,o.emit("error",t),!1}if(!(n=s[e]))return!1;var d="function"==typeof n;switch(r=arguments.length){case 1:!function(e,t,n){if(t)e.call(n);else for(var r=e.length,i=CE(e,r),a=0;a<r;++a)i[a].call(n)}(n,d,this);break;case 2:!function(e,t,n,r){if(t)e.call(n,r);else for(var i=e.length,a=CE(e,i),s=0;s<i;++s)a[s].call(n,r)}(n,d,this,arguments[1]);break;case 3:!function(e,t,n,r,i){if(t)e.call(n,r,i);else for(var a=e.length,s=CE(e,a),o=0;o<a;++o)s[o].call(n,r,i)}(n,d,this,arguments[1],arguments[2]);break;case 4:!function(e,t,n,r,i,a){if(t)e.call(n,r,i,a);else for(var s=e.length,o=CE(e,s),c=0;c<s;++c)o[c].call(n,r,i,a)}(n,d,this,arguments[1],arguments[2],arguments[3]);break;default:for(i=new Array(r-1),a=1;a<r;a++)i[a-1]=arguments[a];!function(e,t,n,r){if(t)e.apply(n,r);else for(var i=e.length,a=CE(e,i),s=0;s<i;++s)a[s].apply(n,r)}(n,d,this,i)}return!0},SE.prototype.addListener=function(e,t){return OE(this,e,t,!1)},SE.prototype.on=SE.prototype.addListener,SE.prototype.prependListener=function(e,t){return OE(this,e,t,!0)},SE.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,IE(this,e,t)),this},SE.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.prependListener(e,IE(this,e,t)),this},SE.prototype.removeListener=function(e,t){var n,r,i,a,s;if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');if(!(r=this._events))return this;if(!(n=r[e]))return this;if(n===t||n.listener&&n.listener===t)0==--this._eventsCount?this._events=new RE:(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,a=n.length;a-- >0;)if(n[a]===t||n[a].listener&&n[a].listener===t){s=n[a].listener,i=a;break}if(i<0)return this;if(1===n.length){if(n[0]=void 0,0==--this._eventsCount)return this._events=new RE,this;delete r[e]}else!function(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}(n,i);r.removeListener&&this.emit("removeListener",e,s||t)}return this},SE.prototype.off=function(e,t){return this.removeListener(e,t)},SE.prototype.removeAllListeners=function(e){var t,n;if(!(n=this._events))return this;if(!n.removeListener)return 0===arguments.length?(this._events=new RE,this._eventsCount=0):n[e]&&(0==--this._eventsCount?this._events=new RE:delete n[e]),this;if(0===arguments.length){for(var r,i=Object.keys(n),a=0;a<i.length;++a)"removeListener"!==(r=i[a])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=new RE,this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(t)do{this.removeListener(e,t[t.length-1])}while(t[0]);return this},SE.prototype.listeners=function(e){var t,n,r=this._events;return n=r&&(t=r[e])?"function"==typeof t?[t.listener||t]:function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(t):[],n},SE.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):xE.call(e,t)},SE.prototype.listenerCount=xE,SE.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};var ME,PE,NE=sr(Object.freeze({__proto__:null,EventEmitter:SE,default:SE}));function BE(){return PE?ME:(PE=1,ME=NE.EventEmitter)}var DE,LE,FE,UE,jE=sr(Nw);function qE(){if(LE)return DE;function e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function t(t){for(var r=1;r<arguments.length;r++){var i=null!=arguments[r]?arguments[r]:{};r%2?e(Object(i),!0).forEach((function(e){n(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):e(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function n(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,i(r.key),r)}}function i(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}LE=1;var a=ci.Buffer,s=jE.inspect,o=s&&s.custom||"inspect";function c(e,t,n){a.prototype.copy.call(e,t,n)}return DE=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var n,i,u;return n=e,i=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n}},{key:"concat",value:function(e){if(0===this.length)return a.alloc(0);for(var t=a.allocUnsafe(e>>>0),n=this.head,r=0;n;)c(n.data,t,r),r+=n.data.length,n=n.next;return t}},{key:"consume",value:function(e,t){var n;return e<this.head.data.length?(n=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):n=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,n=1,r=t.data;for(e-=r.length;t=t.next;){var i=t.data,a=e>i.length?i.length:e;if(a===i.length?r+=i:r+=i.slice(0,e),0==(e-=a)){a===i.length?(++n,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(a));break}++n}return this.length-=n,r}},{key:"_getBuffer",value:function(e){var t=a.allocUnsafe(e),n=this.head,r=1;for(n.data.copy(t),e-=n.data.length;n=n.next;){var i=n.data,s=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,s),0==(e-=s)){s===i.length?(++r,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=i.slice(s));break}++r}return this.length-=r,t}},{key:o,value:function(e,n){return s(this,t(t({},n),{},{depth:0,customInspect:!1}))}}],i&&r(n.prototype,i),u&&r(n,u),Object.defineProperty(n,"prototype",{writable:!1}),e}(),DE}function zE(){if(UE)return FE;function e(e,r){n(e,r),t(e)}function t(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function n(e,t){e.emit("error",t)}return UE=1,FE={destroy:function(r,i){var a=this,s=this._readableState&&this._readableState.destroyed,o=this._writableState&&this._writableState.destroyed;return s||o?(i?i(r):r&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(n,this,r)):process.nextTick(n,this,r)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(r||null,(function(n){!i&&n?a._writableState?a._writableState.errorEmitted?process.nextTick(t,a):(a._writableState.errorEmitted=!0,process.nextTick(e,a,n)):process.nextTick(e,a,n):i?(process.nextTick(t,a),i(n)):process.nextTick(t,a)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var n=e._readableState,r=e._writableState;n&&n.autoDestroy||r&&r.autoDestroy?e.destroy(t):e.emit("error",t)}}}var HE={};var GE,WE,VE,KE,XE,$E,JE,YE,QE={};function ZE(e,t,n){n||(n=Error);var r=function(e){var n,r;function i(n,r,i){return e.call(this,function(e,n,r){return"string"==typeof t?t:t(e,n,r)}(n,r,i))||this}return r=e,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r,i}(n);r.prototype.name=n.name,r.prototype.code=e,QE[e]=r}function eT(e,t){if(Array.isArray(e)){var n=e.length;return e=e.map((function(e){return String(e)})),n>2?"one of ".concat(t," ").concat(e.slice(0,n-1).join(", "),", or ")+e[n-1]:2===n?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}function tT(){if(WE)return GE;WE=1;var e=HE.codes.ERR_INVALID_OPT_VALUE;return GE={getHighWaterMark:function(t,n,r,i){var a=function(e,t,n){return null!=e.highWaterMark?e.highWaterMark:t?e[n]:null}(n,i,r);if(null!=a){if(!isFinite(a)||Math.floor(a)!==a||a<0)throw new e(i?r:"highWaterMark",a);return Math.floor(a)}return t.objectMode?16:16384}}}function nT(){if(KE)return VE;function e(e){try{if(!ir.localStorage)return!1}catch(e){return!1}var t=ir.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}return KE=1,VE=function(t,n){if(e("noDeprecation"))return t;var r=!1;return function(){if(!r){if(e("throwDeprecation"))throw new Error(n);e("traceDeprecation")?console.trace(n):console.warn(n),r=!0}return t.apply(this,arguments)}},VE}function rT(){if($E)return XE;function e(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;e.entry=null;for(;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree.next=e}(t,e)}}var t;$E=1,XE=_,_.WritableState=w;var n={deprecate:nT()},r=BE(),i=ci.Buffer,a=(void 0!==ir?ir:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};var s,o=zE(),c=tT().getHighWaterMark,u=HE.codes,d=u.ERR_INVALID_ARG_TYPE,f=u.ERR_METHOD_NOT_IMPLEMENTED,l=u.ERR_MULTIPLE_CALLBACK,h=u.ERR_STREAM_CANNOT_PIPE,p=u.ERR_STREAM_DESTROYED,m=u.ERR_STREAM_NULL_VALUES,b=u.ERR_STREAM_WRITE_AFTER_END,y=u.ERR_UNKNOWN_ENCODING,g=o.errorOrDestroy;function v(){}function w(n,r,i){t=t||iT(),n=n||{},"boolean"!=typeof i&&(i=r instanceof t),this.objectMode=!!n.objectMode,i&&(this.objectMode=this.objectMode||!!n.writableObjectMode),this.highWaterMark=c(this,n,"writableHighWaterMark",i),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=!1===n.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=n.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if("function"!=typeof i)throw new l;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,r,i){--t.pendingcb,n?(process.nextTick(i,r),process.nextTick(k,e,t),e._writableState.errorEmitted=!0,g(e,r)):(i(r),e._writableState.errorEmitted=!0,g(e,r),k(e,t))}(e,n,r,t,i);else{var a=R(n)||e.destroyed;a||n.corked||n.bufferProcessing||!n.bufferedRequest||A(e,n),r?process.nextTick(T,e,n,a,i):T(e,n,a,i)}}(r,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==n.emitClose,this.autoDestroy=!!n.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}function _(e){var n=this instanceof(t=t||iT());if(!n&&!s.call(_,this))return new _(e);this._writableState=new w(e,this,n),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),r.call(this)}function E(e,t,n,r,i,a,s){t.writelen=r,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new p("write")):n?e._writev(i,t.onwrite):e._write(i,a,t.onwrite),t.sync=!1}function T(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),k(e,t)}function A(t,n){n.bufferProcessing=!0;var r=n.bufferedRequest;if(t._writev&&r&&r.next){var i=n.bufferedRequestCount,a=new Array(i),s=n.corkedRequestsFree;s.entry=r;for(var o=0,c=!0;r;)a[o]=r,r.isBuf||(c=!1),r=r.next,o+=1;a.allBuffers=c,E(t,n,!0,n.length,a,"",s.finish),n.pendingcb++,n.lastBufferedRequest=null,s.next?(n.corkedRequestsFree=s.next,s.next=null):n.corkedRequestsFree=new e(n),n.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,d=r.encoding,f=r.callback;if(E(t,n,!1,n.objectMode?1:u.length,u,d,f),r=r.next,n.bufferedRequestCount--,n.writing)break}null===r&&(n.lastBufferedRequest=null)}n.bufferedRequest=r,n.bufferProcessing=!1}function R(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function S(e,t){e._final((function(n){t.pendingcb--,n&&g(e,n),t.prefinished=!0,e.emit("prefinish"),k(e,t)}))}function k(e,t){var n=R(t);if(n&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,process.nextTick(S,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var r=e._readableState;(!r||r.autoDestroy&&r.endEmitted)&&e.destroy()}return n}return Jc(_,r),w.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(w.prototype,"buffer",{get:n.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(s=Function.prototype[Symbol.hasInstance],Object.defineProperty(_,Symbol.hasInstance,{value:function(e){return!!s.call(this,e)||this===_&&(e&&e._writableState instanceof w)}})):s=function(e){return e instanceof this},_.prototype.pipe=function(){g(this,new h)},_.prototype.write=function(e,t,n){var r,s=this._writableState,o=!1,c=!s.objectMode&&(r=e,i.isBuffer(r)||r instanceof a);return c&&!i.isBuffer(e)&&(e=function(e){return i.from(e)}(e)),"function"==typeof t&&(n=t,t=null),c?t="buffer":t||(t=s.defaultEncoding),"function"!=typeof n&&(n=v),s.ending?function(e,t){var n=new b;g(e,n),process.nextTick(t,n)}(this,n):(c||function(e,t,n,r){var i;return null===n?i=new m:"string"==typeof n||t.objectMode||(i=new d("chunk",["string","Buffer"],n)),!i||(g(e,i),process.nextTick(r,i),!1)}(this,s,e,n))&&(s.pendingcb++,o=function(e,t,n,r,a,s){if(!n){var o=function(e,t,n){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=i.from(t,n));return t}(t,r,a);r!==o&&(n=!0,a="buffer",r=o)}var c=t.objectMode?1:r.length;t.length+=c;var u=t.length<t.highWaterMark;u||(t.needDrain=!0);if(t.writing||t.corked){var d=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:a,isBuf:n,callback:s,next:null},d?d.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else E(e,t,!1,c,r,a,s);return u}(this,s,c,e,t,n)),o},_.prototype.cork=function(){this._writableState.corked++},_.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||A(this,e))},_.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new y(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(_.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(_.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),_.prototype._write=function(e,t,n){n(new f("_write()"))},_.prototype._writev=null,_.prototype.end=function(e,t,n){var r=this._writableState;return"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||function(e,t,n){t.ending=!0,k(e,t),n&&(t.finished?process.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,r,n),this},Object.defineProperty(_.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(_.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),_.prototype.destroy=o.destroy,_.prototype._undestroy=o.undestroy,_.prototype._destroy=function(e,t){t(e)},XE}function iT(){if(YE)return JE;YE=1;var e=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};JE=s;var t=_T(),n=rT();Jc(s,t);for(var r=e(n.prototype),i=0;i<r.length;i++){var a=r[i];s.prototype[a]||(s.prototype[a]=n.prototype[a])}function s(e){if(!(this instanceof s))return new s(e);t.call(this,e),n.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",o)))}function o(){this._writableState.ended||process.nextTick(c,this)}function c(e){e.end()}return Object.defineProperty(s.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(s.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(s.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(s.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),JE}ZE("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),ZE("ERR_INVALID_ARG_TYPE",(function(e,t,n){var r,i,a,s;if("string"==typeof t&&(i="not ",t.substr(!a||a<0?0:+a,i.length)===i)?(r="must not be",t=t.replace(/^not /,"")):r="must be",function(e,t,n){return(void 0===n||n>e.length)&&(n=e.length),e.substring(n-t.length,n)===t}(e," argument"))s="The ".concat(e," ").concat(r," ").concat(eT(t,"type"));else{var o=function(e,t,n){return"number"!=typeof n&&(n=0),!(n+t.length>e.length)&&-1!==e.indexOf(t,n)}(e,".")?"property":"argument";s='The "'.concat(e,'" ').concat(o," ").concat(r," ").concat(eT(t,"type"))}return s+=". Received type ".concat(typeof n)}),TypeError),ZE("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),ZE("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),ZE("ERR_STREAM_PREMATURE_CLOSE","Premature close"),ZE("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),ZE("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),ZE("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),ZE("ERR_STREAM_WRITE_AFTER_END","write after end"),ZE("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),ZE("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),ZE("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),HE.codes=QE;var aT=Tr.isEncoding||function(e){switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function sT(e){switch(this.encoding=(e||"utf8").toLowerCase().replace(/[-_]/,""),function(e){if(e&&!aT(e))throw new Error("Unknown encoding: "+e)}(e),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=cT;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=uT;break;default:return void(this.write=oT)}this.charBuffer=new Tr(6),this.charReceived=0,this.charLength=0}function oT(e){return e.toString(this.encoding)}function cT(e){this.charReceived=e.length%2,this.charLength=this.charReceived?2:0}function uT(e){this.charReceived=e.length%3,this.charLength=this.charReceived?3:0}sT.prototype.write=function(e){for(var t="";this.charLength;){var n=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length;if(e.copy(this.charBuffer,this.charReceived,0,n),this.charReceived+=n,this.charReceived<this.charLength)return"";if(e=e.slice(n,e.length),!((i=(t=this.charBuffer.slice(0,this.charLength).toString(this.encoding)).charCodeAt(t.length-1))>=55296&&i<=56319)){if(this.charReceived=this.charLength=0,0===e.length)return t;break}this.charLength+=this.surrogateSize,t=""}this.detectIncompleteChar(e);var r=e.length;this.charLength&&(e.copy(this.charBuffer,0,e.length-this.charReceived,r),r-=this.charReceived);var i;r=(t+=e.toString(this.encoding,0,r)).length-1;if((i=t.charCodeAt(r))>=55296&&i<=56319){var a=this.surrogateSize;return this.charLength+=a,this.charReceived+=a,this.charBuffer.copy(this.charBuffer,a,0,a),e.copy(this.charBuffer,0,0,a),t.substring(0,r)}return t},sT.prototype.detectIncompleteChar=function(e){for(var t=e.length>=3?3:e.length;t>0;t--){var n=e[e.length-t];if(1==t&&n>>5==6){this.charLength=2;break}if(t<=2&&n>>4==14){this.charLength=3;break}if(t<=3&&n>>3==30){this.charLength=4;break}}this.charReceived=t},sT.prototype.end=function(e){var t="";if(e&&e.length&&(t=this.write(e)),this.charReceived){var n=this.charReceived,r=this.charBuffer,i=this.encoding;t+=r.slice(0,n).toString(i)}return t};var dT=sr(Object.freeze({__proto__:null,StringDecoder:sT})),fT=HE.codes.ERR_STREAM_PREMATURE_CLOSE;function lT(){}var hT,pT,mT,bT,yT,gT,vT=function e(t,n,r){if("function"==typeof n)return e(t,null,n);n||(n={}),r=function(e){var t=!1;return function(){if(!t){t=!0;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r)}}}(r||lT);var i=n.readable||!1!==n.readable&&t.readable,a=n.writable||!1!==n.writable&&t.writable,s=function(){t.writable||c()},o=t._writableState&&t._writableState.finished,c=function(){a=!1,o=!0,i||r.call(t)},u=t._readableState&&t._readableState.endEmitted,d=function(){i=!1,u=!0,a||r.call(t)},f=function(e){r.call(t,e)},l=function(){var e;return i&&!u?(t._readableState&&t._readableState.ended||(e=new fT),r.call(t,e)):a&&!o?(t._writableState&&t._writableState.ended||(e=new fT),r.call(t,e)):void 0},h=function(){t.req.on("finish",c)};return!function(e){return e.setHeader&&"function"==typeof e.abort}(t)?a&&!t._writableState&&(t.on("end",s),t.on("close",s)):(t.on("complete",c),t.on("abort",l),t.req?h():t.on("request",h)),t.on("end",d),t.on("finish",c),!1!==n.error&&t.on("error",f),t.on("close",l),function(){t.removeListener("complete",c),t.removeListener("abort",l),t.removeListener("request",h),t.req&&t.req.removeListener("finish",c),t.removeListener("end",s),t.removeListener("close",s),t.removeListener("finish",c),t.removeListener("end",d),t.removeListener("error",f),t.removeListener("close",l)}};function wT(){if(pT)return hT;var e;function t(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}pT=1;var n=vT,r=Symbol("lastResolve"),i=Symbol("lastReject"),a=Symbol("error"),s=Symbol("ended"),o=Symbol("lastPromise"),c=Symbol("handlePromise"),u=Symbol("stream");function d(e,t){return{value:e,done:t}}function f(e){var t=e[r];if(null!==t){var n=e[u].read();null!==n&&(e[o]=null,e[r]=null,e[i]=null,t(d(n,!1)))}}function l(e){process.nextTick(f,e)}var h=Object.getPrototypeOf((function(){})),p=Object.setPrototypeOf((e={get stream(){return this[u]},next:function(){var e=this,t=this[a];if(null!==t)return Promise.reject(t);if(this[s])return Promise.resolve(d(void 0,!0));if(this[u].destroyed)return new Promise((function(t,n){process.nextTick((function(){e[a]?n(e[a]):t(d(void 0,!0))}))}));var n,r=this[o];if(r)n=new Promise(function(e,t){return function(n,r){e.then((function(){t[s]?n(d(void 0,!0)):t[c](n,r)}),r)}}(r,this));else{var i=this[u].read();if(null!==i)return Promise.resolve(d(i,!1));n=new Promise(this[c])}return this[o]=n,n}},t(e,Symbol.asyncIterator,(function(){return this})),t(e,"return",(function(){var e=this;return new Promise((function(t,n){e[u].destroy(null,(function(e){e?n(e):t(d(void 0,!0))}))}))})),e),h);return hT=function(e){var f,h=Object.create(p,(t(f={},u,{value:e,writable:!0}),t(f,r,{value:null,writable:!0}),t(f,i,{value:null,writable:!0}),t(f,a,{value:null,writable:!0}),t(f,s,{value:e._readableState.endEmitted,writable:!0}),t(f,c,{value:function(e,t){var n=h[u].read();n?(h[o]=null,h[r]=null,h[i]=null,e(d(n,!1))):(h[r]=e,h[i]=t)},writable:!0}),f));return h[o]=null,n(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=h[i];return null!==t&&(h[o]=null,h[r]=null,h[i]=null,t(e)),void(h[a]=e)}var n=h[r];null!==n&&(h[o]=null,h[r]=null,h[i]=null,n(d(void 0,!0))),h[s]=!0})),e.on("readable",l.bind(null,h)),h},hT}function _T(){if(gT)return yT;var e;gT=1,yT=_,_.ReadableState=w,NE.EventEmitter;var t=function(e,t){return e.listeners(t).length},n=BE(),r=ci.Buffer,i=(void 0!==ir?ir:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};var a,s=jE;a=s&&s.debuglog?s.debuglog("stream"):function(){};var o,c,u,d=qE(),f=zE(),l=tT().getHighWaterMark,h=HE.codes,p=h.ERR_INVALID_ARG_TYPE,m=h.ERR_STREAM_PUSH_AFTER_EOF,b=h.ERR_METHOD_NOT_IMPLEMENTED,y=h.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;Jc(_,n);var g=f.errorOrDestroy,v=["error","close","destroy","pause","resume"];function w(t,n,r){e=e||iT(),t=t||{},"boolean"!=typeof r&&(r=n instanceof e),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=l(this,t,"readableHighWaterMark",r),this.buffer=new d,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(o||(o=dT.StringDecoder),this.decoder=new o(t.encoding),this.encoding=t.encoding)}function _(t){if(e=e||iT(),!(this instanceof _))return new _(t);var r=this instanceof e;this._readableState=new w(t,this,r),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),n.call(this)}function E(e,t,n,s,o){a("readableAddChunk",t);var c,u=e._readableState;if(null===t)u.reading=!1,function(e,t){if(a("onEofChunk"),t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.sync?S(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,k(e)))}(e,u);else if(o||(c=function(e,t){var n;a=t,r.isBuffer(a)||a instanceof i||"string"==typeof t||void 0===t||e.objectMode||(n=new p("chunk",["string","Buffer","Uint8Array"],t));var a;return n}(u,t)),c)g(e,c);else if(u.objectMode||t&&t.length>0)if("string"==typeof t||u.objectMode||Object.getPrototypeOf(t)===r.prototype||(t=function(e){return r.from(e)}(t)),s)u.endEmitted?g(e,new y):T(e,u,t,!0);else if(u.ended)g(e,new m);else{if(u.destroyed)return!1;u.reading=!1,u.decoder&&!n?(t=u.decoder.write(t),u.objectMode||0!==t.length?T(e,u,t,!1):O(e,u)):T(e,u,t,!1)}else s||(u.reading=!1,O(e,u));return!u.ended&&(u.length<u.highWaterMark||0===u.length)}function T(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",n)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&S(e)),O(e,t)}Object.defineProperty(_.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),_.prototype.destroy=f.destroy,_.prototype._undestroy=f.undestroy,_.prototype._destroy=function(e,t){t(e)},_.prototype.push=function(e,t){var n,i=this._readableState;return i.objectMode?n=!0:"string"==typeof e&&((t=t||i.defaultEncoding)!==i.encoding&&(e=r.from(e,t),t=""),n=!0),E(this,e,t,!1,n)},_.prototype.unshift=function(e){return E(this,e,null,!0,!1)},_.prototype.isPaused=function(){return!1===this._readableState.flowing},_.prototype.setEncoding=function(e){o||(o=dT.StringDecoder);var t=new o(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,r="";null!==n;)r+=t.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==r&&this._readableState.buffer.push(r),this._readableState.length=r.length,this};var A=1073741824;function R(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=A?e=A:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function S(e){var t=e._readableState;a("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(a("emitReadable",t.flowing),t.emittedReadable=!0,process.nextTick(k,e))}function k(e){var t=e._readableState;a("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,P(e)}function O(e,t){t.readingMore||(t.readingMore=!0,process.nextTick(I,e,t))}function I(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var n=t.length;if(a("maybeReadMore read 0"),e.read(0),n===t.length)break}t.readingMore=!1}function x(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function C(e){a("readable nexttick read 0"),e.read(0)}function M(e,t){a("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),P(e),t.flowing&&!t.reading&&e.read(0)}function P(e){var t=e._readableState;for(a("flow",t.flowing);t.flowing&&null!==e.read(););}function N(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n);var n}function B(e){var t=e._readableState;a("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,process.nextTick(D,t,e))}function D(e,t){if(a("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var n=t._writableState;(!n||n.autoDestroy&&n.finished)&&t.destroy()}}function L(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}return _.prototype.read=function(e){a("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return a("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?B(this):S(this),null;if(0===(e=R(e,t))&&t.ended)return 0===t.length&&B(this),null;var r,i=t.needReadable;return a("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&a("length less than watermark",i=!0),t.ended||t.reading?a("reading or ended",i=!1):i&&(a("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=R(n,t))),null===(r=e>0?N(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&B(this)),null!==r&&this.emit("data",r),r},_.prototype._read=function(e){g(this,new b("_read()"))},_.prototype.pipe=function(e,n){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,a("pipe count=%d opts=%j",i.pipesCount,n);var s=(!n||!1!==n.end)&&e!==process.stdout&&e!==process.stderr?c:m;function o(t,n){a("onunpipe"),t===r&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,a("cleanup"),e.removeListener("close",h),e.removeListener("finish",p),e.removeListener("drain",u),e.removeListener("error",l),e.removeListener("unpipe",o),r.removeListener("end",c),r.removeListener("end",m),r.removeListener("data",f),d=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||u())}function c(){a("onend"),e.end()}i.endEmitted?process.nextTick(s):r.once("end",s),e.on("unpipe",o);var u=function(e){return function(){var n=e._readableState;a("pipeOnDrain",n.awaitDrain),n.awaitDrain&&n.awaitDrain--,0===n.awaitDrain&&t(e,"data")&&(n.flowing=!0,P(e))}}(r);e.on("drain",u);var d=!1;function f(t){a("ondata");var n=e.write(t);a("dest.write",n),!1===n&&((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==L(i.pipes,e))&&!d&&(a("false write response, pause",i.awaitDrain),i.awaitDrain++),r.pause())}function l(n){a("onerror",n),m(),e.removeListener("error",l),0===t(e,"error")&&g(e,n)}function h(){e.removeListener("finish",p),m()}function p(){a("onfinish"),e.removeListener("close",h),m()}function m(){a("unpipe"),r.unpipe(e)}return r.on("data",f),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",l),e.once("close",h),e.once("finish",p),e.emit("pipe",r),i.flowing||(a("pipe resume"),r.resume()),e},_.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var a=0;a<i;a++)r[a].emit("unpipe",this,{hasUnpiped:!1});return this}var s=L(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},_.prototype.on=function(e,t){var r=n.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,a("on readable",i.length,i.reading),i.length?S(this):i.reading||process.nextTick(C,this))),r},_.prototype.addListener=_.prototype.on,_.prototype.removeListener=function(e,t){var r=n.prototype.removeListener.call(this,e,t);return"readable"===e&&process.nextTick(x,this),r},_.prototype.removeAllListeners=function(e){var t=n.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||process.nextTick(x,this),t},_.prototype.resume=function(){var e=this._readableState;return e.flowing||(a("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,process.nextTick(M,e,t))}(this,e)),e.paused=!1,this},_.prototype.pause=function(){return a("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(a("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},_.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",(function(){if(a("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(a("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i)||(n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var s=0;s<v.length;s++)e.on(v[s],this.emit.bind(this,v[s]));return this._read=function(t){a("wrapped _read",t),r&&(r=!1,e.resume())},this},"function"==typeof Symbol&&(_.prototype[Symbol.asyncIterator]=function(){return void 0===c&&(c=wT()),c(this)}),Object.defineProperty(_.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(_.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(_.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),_._fromList=N,Object.defineProperty(_.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(_.from=function(e,t){return void 0===u&&(u=bT?mT:(bT=1,mT=function(){throw new Error("Readable.from is not available in the browser")})),u(_,e,t)}),yT}var ET=xT,TT=HE.codes,AT=TT.ERR_METHOD_NOT_IMPLEMENTED,RT=TT.ERR_MULTIPLE_CALLBACK,ST=TT.ERR_TRANSFORM_ALREADY_TRANSFORMING,kT=TT.ERR_TRANSFORM_WITH_LENGTH_0,OT=iT();function IT(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(null===r)return this.emit("error",new RT);n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function xT(e){if(!(this instanceof xT))return new xT(e);OT.call(this,e),this._transformState={afterTransform:IT.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",CT)}function CT(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?MT(this,null,null):this._flush((function(t,n){MT(e,t,n)}))}function MT(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new kT;if(e._transformState.transforming)throw new ST;return e.push(null)}Jc(xT,OT),xT.prototype.push=function(e,t){return this._transformState.needTransform=!1,OT.prototype.push.call(this,e,t)},xT.prototype._transform=function(e,t,n){n(new AT("_transform()"))},xT.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},xT.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},xT.prototype._destroy=function(e,t){OT.prototype._destroy.call(this,e,(function(e){t(e)}))};var PT,NT=DT,BT=ET;function DT(e){if(!(this instanceof DT))return new DT(e);BT.call(this,e)}Jc(DT,BT),DT.prototype._transform=function(e,t,n){n(null,e)};var LT=HE.codes,FT=LT.ERR_MISSING_ARGS,UT=LT.ERR_STREAM_DESTROYED;function jT(e){if(e)throw e}function qT(e){e()}function zT(e,t){return e.pipe(t)}var HT=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i=function(e){return e.length?"function"!=typeof e[e.length-1]?jT:e.pop():jT}(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new FT("streams");var a=t.map((function(e,n){var s=n<t.length-1;return function(e,t,n,r){r=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(r);var i=!1;e.on("close",(function(){i=!0})),void 0===PT&&(PT=vT),PT(e,{readable:t,writable:n},(function(e){if(e)return r(e);i=!0,r()}));var a=!1;return function(t){if(!i&&!a)return a=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void r(t||new UT("pipe"))}}(e,s,n>0,(function(e){r||(r=e),e&&a.forEach(qT),s||(a.forEach(qT),i(r))}))}));return t.reduce(zT)};!function(e,t){(t=e.exports=_T()).Stream=t,t.Readable=t,t.Writable=rT(),t.Duplex=iT(),t.Transform=ET,t.PassThrough=NT,t.finished=vT,t.pipeline=HT}(AE,AE.exports);var GT=AE.exports;const{Transform:WT}=GT;const{Transform:VT}=GT;const KT=e=>class t extends WT{constructor(t,n,r,i,a){super(a),this._rate=t,this._capacity=n,this._delimitedSuffix=r,this._hashBitLength=i,this._options=a,this._state=new e,this._state.initialize(t,n),this._finalized=!1}_transform(e,t,n){let r=null;try{this.update(e,t)}catch(e){r=e}n(r)}_flush(e){let t=null;try{this.push(this.digest())}catch(e){t=e}e(t)}update(e,t){if(!Buffer.isBuffer(e)&&"string"!=typeof e)throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return Buffer.isBuffer(e)||(e=Buffer.from(e,t)),this._state.absorb(e),this}digest(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let t=this._state.squeeze(this._hashBitLength/8);return void 0!==e&&(t=t.toString(e)),this._resetState(),t}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const e=new t(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(e._state),e._finalized=this._finalized,e}},XT=e=>class t extends VT{constructor(t,n,r,i){super(i),this._rate=t,this._capacity=n,this._delimitedSuffix=r,this._options=i,this._state=new e,this._state.initialize(t,n),this._finalized=!1}_transform(e,t,n){let r=null;try{this.update(e,t)}catch(e){r=e}n(r)}_flush(){}_read(e){this.push(this.squeeze(e))}update(e,t){if(!Buffer.isBuffer(e)&&"string"!=typeof e)throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return Buffer.isBuffer(e)||(e=Buffer.from(e,t)),this._state.absorb(e),this}squeeze(e,t){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let n=this._state.squeeze(e);return void 0!==t&&(n=n.toString(t)),n}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const e=new t(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(e._state),e._finalized=this._finalized,e}};var $T={};const JT=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];$T.p1600=function(e){for(let t=0;t<24;++t){const n=e[0]^e[10]^e[20]^e[30]^e[40],r=e[1]^e[11]^e[21]^e[31]^e[41],i=e[2]^e[12]^e[22]^e[32]^e[42],a=e[3]^e[13]^e[23]^e[33]^e[43],s=e[4]^e[14]^e[24]^e[34]^e[44],o=e[5]^e[15]^e[25]^e[35]^e[45],c=e[6]^e[16]^e[26]^e[36]^e[46],u=e[7]^e[17]^e[27]^e[37]^e[47],d=e[8]^e[18]^e[28]^e[38]^e[48],f=e[9]^e[19]^e[29]^e[39]^e[49];let l=d^(i<<1|a>>>31),h=f^(a<<1|i>>>31);const p=e[0]^l,m=e[1]^h,b=e[10]^l,y=e[11]^h,g=e[20]^l,v=e[21]^h,w=e[30]^l,_=e[31]^h,E=e[40]^l,T=e[41]^h;l=n^(s<<1|o>>>31),h=r^(o<<1|s>>>31);const A=e[2]^l,R=e[3]^h,S=e[12]^l,k=e[13]^h,O=e[22]^l,I=e[23]^h,x=e[32]^l,C=e[33]^h,M=e[42]^l,P=e[43]^h;l=i^(c<<1|u>>>31),h=a^(u<<1|c>>>31);const N=e[4]^l,B=e[5]^h,D=e[14]^l,L=e[15]^h,F=e[24]^l,U=e[25]^h,j=e[34]^l,q=e[35]^h,z=e[44]^l,H=e[45]^h;l=s^(d<<1|f>>>31),h=o^(f<<1|d>>>31);const G=e[6]^l,W=e[7]^h,V=e[16]^l,K=e[17]^h,X=e[26]^l,$=e[27]^h,J=e[36]^l,Y=e[37]^h,Q=e[46]^l,Z=e[47]^h;l=c^(n<<1|r>>>31),h=u^(r<<1|n>>>31);const ee=e[8]^l,te=e[9]^h,ne=e[18]^l,re=e[19]^h,ie=e[28]^l,ae=e[29]^h,se=e[38]^l,oe=e[39]^h,ce=e[48]^l,ue=e[49]^h,de=p,fe=m,le=y<<4|b>>>28,he=b<<4|y>>>28,pe=g<<3|v>>>29,me=v<<3|g>>>29,be=_<<9|w>>>23,ye=w<<9|_>>>23,ge=E<<18|T>>>14,ve=T<<18|E>>>14,we=A<<1|R>>>31,_e=R<<1|A>>>31,Ee=k<<12|S>>>20,Te=S<<12|k>>>20,Ae=O<<10|I>>>22,Re=I<<10|O>>>22,Se=C<<13|x>>>19,ke=x<<13|C>>>19,Oe=M<<2|P>>>30,Ie=P<<2|M>>>30,xe=B<<30|N>>>2,Ce=N<<30|B>>>2,Me=D<<6|L>>>26,Pe=L<<6|D>>>26,Ne=U<<11|F>>>21,Be=F<<11|U>>>21,De=j<<15|q>>>17,Le=q<<15|j>>>17,Fe=H<<29|z>>>3,Ue=z<<29|H>>>3,je=G<<28|W>>>4,qe=W<<28|G>>>4,ze=K<<23|V>>>9,He=V<<23|K>>>9,Ge=X<<25|$>>>7,We=$<<25|X>>>7,Ve=J<<21|Y>>>11,Ke=Y<<21|J>>>11,Xe=Z<<24|Q>>>8,$e=Q<<24|Z>>>8,Je=ee<<27|te>>>5,Ye=te<<27|ee>>>5,Qe=ne<<20|re>>>12,Ze=re<<20|ne>>>12,et=ae<<7|ie>>>25,tt=ie<<7|ae>>>25,nt=se<<8|oe>>>24,rt=oe<<8|se>>>24,it=ce<<14|ue>>>18,at=ue<<14|ce>>>18;e[0]=de^~Ee&Ne,e[1]=fe^~Te&Be,e[10]=je^~Qe&pe,e[11]=qe^~Ze&me,e[20]=we^~Me&Ge,e[21]=_e^~Pe&We,e[30]=Je^~le&Ae,e[31]=Ye^~he&Re,e[40]=xe^~ze&et,e[41]=Ce^~He&tt,e[2]=Ee^~Ne&Ve,e[3]=Te^~Be&Ke,e[12]=Qe^~pe&Se,e[13]=Ze^~me&ke,e[22]=Me^~Ge&nt,e[23]=Pe^~We&rt,e[32]=le^~Ae&De,e[33]=he^~Re&Le,e[42]=ze^~et&be,e[43]=He^~tt&ye,e[4]=Ne^~Ve&it,e[5]=Be^~Ke&at,e[14]=pe^~Se&Fe,e[15]=me^~ke&Ue,e[24]=Ge^~nt&ge,e[25]=We^~rt&ve,e[34]=Ae^~De&Xe,e[35]=Re^~Le&$e,e[44]=et^~be&Oe,e[45]=tt^~ye&Ie,e[6]=Ve^~it&de,e[7]=Ke^~at&fe,e[16]=Se^~Fe&je,e[17]=ke^~Ue&qe,e[26]=nt^~ge&we,e[27]=rt^~ve&_e,e[36]=De^~Xe&Je,e[37]=Le^~$e&Ye,e[46]=be^~Oe&xe,e[47]=ye^~Ie&Ce,e[8]=it^~de&Ee,e[9]=at^~fe&Te,e[18]=Fe^~je&Qe,e[19]=Ue^~qe&Ze,e[28]=ge^~we&Me,e[29]=ve^~_e&Pe,e[38]=Xe^~Je&le,e[39]=$e^~Ye&he,e[48]=Oe^~xe&ze,e[49]=Ie^~Ce&He,e[0]^=JT[2*t],e[1]^=JT[2*t+1]}};const YT=$T;function QT(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}QT.prototype.initialize=function(e,t){for(let e=0;e<50;++e)this.state[e]=0;this.blockSize=e/8,this.count=0,this.squeezing=!1},QT.prototype.absorb=function(e){for(let t=0;t<e.length;++t)this.state[~~(this.count/4)]^=e[t]<<this.count%4*8,this.count+=1,this.count===this.blockSize&&(YT.p1600(this.state),this.count=0)},QT.prototype.absorbLastFewBits=function(e){this.state[~~(this.count/4)]^=e<<this.count%4*8,0!=(128&e)&&this.count===this.blockSize-1&&YT.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<(this.blockSize-1)%4*8,YT.p1600(this.state),this.count=0,this.squeezing=!0},QT.prototype.squeeze=function(e){this.squeezing||this.absorbLastFewBits(1);const t=Buffer.alloc(e);for(let n=0;n<e;++n)t[n]=this.state[~~(this.count/4)]>>>this.count%4*8&255,this.count+=1,this.count===this.blockSize&&(YT.p1600(this.state),this.count=0);return t},QT.prototype.copy=function(e){for(let t=0;t<50;++t)e.state[t]=this.state[t];e.blockSize=this.blockSize,e.count=this.count,e.squeezing=this.squeezing};var ZT=function(e){const t=KT(e),n=XT(e);return function(e,r){switch("string"==typeof e?e.toLowerCase():e){case"keccak224":return new t(1152,448,null,224,r);case"keccak256":return new t(1088,512,null,256,r);case"keccak384":return new t(832,768,null,384,r);case"keccak512":return new t(576,1024,null,512,r);case"sha3-224":return new t(1152,448,6,224,r);case"sha3-256":return new t(1088,512,6,256,r);case"sha3-384":return new t(832,768,6,384,r);case"sha3-512":return new t(576,1024,6,512,r);case"shake128":return new n(1344,256,31,r);case"shake256":return new n(1088,512,31,r);default:throw new Error("Invald algorithm: "+e)}}}(QT);Object.defineProperty(EE,"__esModule",{value:!0});var eA=TE,tA=ZT;EE.keccak224=eA.createHashFunction((function(){return tA("keccak224")})),EE.keccak256=eA.createHashFunction((function(){return tA("keccak256")})),EE.keccak384=eA.createHashFunction((function(){return tA("keccak384")})),EE.keccak512=eA.createHashFunction((function(){return tA("keccak512")}));var nA=cE.Buffer,rA=GT.Transform;function iA(e){rA.call(this),this._block=nA.allocUnsafe(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}Jc(iA,rA),iA.prototype._transform=function(e,t,n){var r=null;try{this.update(e,t)}catch(e){r=e}n(r)},iA.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(e){t=e}e(t)},iA.prototype.update=function(e,t){if(function(e,t){if(!nA.isBuffer(e)&&"string"!=typeof e)throw new TypeError(t+" must be a string or a buffer")}(e,"Data"),this._finalized)throw new Error("Digest already called");nA.isBuffer(e)||(e=nA.from(e,t));for(var n=this._block,r=0;this._blockOffset+e.length-r>=this._blockSize;){for(var i=this._blockOffset;i<this._blockSize;)n[i++]=e[r++];this._update(),this._blockOffset=0}for(;r<e.length;)n[this._blockOffset++]=e[r++];for(var a=0,s=8*e.length;s>0;++a)this._length[a]+=s,(s=this._length[a]/4294967296|0)>0&&(this._length[a]-=4294967296*s);return this},iA.prototype._update=function(){throw new Error("_update is not implemented")},iA.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();void 0!==e&&(t=t.toString(e)),this._block.fill(0),this._blockOffset=0;for(var n=0;n<4;++n)this._length[n]=0;return t},iA.prototype._digest=function(){throw new Error("_digest is not implemented")};var aA=iA,sA=Jc,oA=aA,cA=cE.Buffer,uA=new Array(16);function dA(){oA.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function fA(e,t){return e<<t|e>>>32-t}function lA(e,t,n,r,i,a,s){return fA(e+(t&n|~t&r)+i+a|0,s)+t|0}function hA(e,t,n,r,i,a,s){return fA(e+(t&r|n&~r)+i+a|0,s)+t|0}function pA(e,t,n,r,i,a,s){return fA(e+(t^n^r)+i+a|0,s)+t|0}function mA(e,t,n,r,i,a,s){return fA(e+(n^(t|~r))+i+a|0,s)+t|0}sA(dA,oA),dA.prototype._update=function(){for(var e=uA,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);var n=this._a,r=this._b,i=this._c,a=this._d;n=lA(n,r,i,a,e[0],3614090360,7),a=lA(a,n,r,i,e[1],3905402710,12),i=lA(i,a,n,r,e[2],606105819,17),r=lA(r,i,a,n,e[3],3250441966,22),n=lA(n,r,i,a,e[4],4118548399,7),a=lA(a,n,r,i,e[5],1200080426,12),i=lA(i,a,n,r,e[6],2821735955,17),r=lA(r,i,a,n,e[7],4249261313,22),n=lA(n,r,i,a,e[8],1770035416,7),a=lA(a,n,r,i,e[9],2336552879,12),i=lA(i,a,n,r,e[10],4294925233,17),r=lA(r,i,a,n,e[11],2304563134,22),n=lA(n,r,i,a,e[12],1804603682,7),a=lA(a,n,r,i,e[13],4254626195,12),i=lA(i,a,n,r,e[14],2792965006,17),n=hA(n,r=lA(r,i,a,n,e[15],1236535329,22),i,a,e[1],4129170786,5),a=hA(a,n,r,i,e[6],3225465664,9),i=hA(i,a,n,r,e[11],643717713,14),r=hA(r,i,a,n,e[0],3921069994,20),n=hA(n,r,i,a,e[5],3593408605,5),a=hA(a,n,r,i,e[10],38016083,9),i=hA(i,a,n,r,e[15],3634488961,14),r=hA(r,i,a,n,e[4],3889429448,20),n=hA(n,r,i,a,e[9],568446438,5),a=hA(a,n,r,i,e[14],3275163606,9),i=hA(i,a,n,r,e[3],4107603335,14),r=hA(r,i,a,n,e[8],1163531501,20),n=hA(n,r,i,a,e[13],2850285829,5),a=hA(a,n,r,i,e[2],4243563512,9),i=hA(i,a,n,r,e[7],1735328473,14),n=pA(n,r=hA(r,i,a,n,e[12],2368359562,20),i,a,e[5],4294588738,4),a=pA(a,n,r,i,e[8],2272392833,11),i=pA(i,a,n,r,e[11],1839030562,16),r=pA(r,i,a,n,e[14],4259657740,23),n=pA(n,r,i,a,e[1],2763975236,4),a=pA(a,n,r,i,e[4],1272893353,11),i=pA(i,a,n,r,e[7],4139469664,16),r=pA(r,i,a,n,e[10],3200236656,23),n=pA(n,r,i,a,e[13],681279174,4),a=pA(a,n,r,i,e[0],3936430074,11),i=pA(i,a,n,r,e[3],3572445317,16),r=pA(r,i,a,n,e[6],76029189,23),n=pA(n,r,i,a,e[9],3654602809,4),a=pA(a,n,r,i,e[12],3873151461,11),i=pA(i,a,n,r,e[15],530742520,16),n=mA(n,r=pA(r,i,a,n,e[2],3299628645,23),i,a,e[0],4096336452,6),a=mA(a,n,r,i,e[7],1126891415,10),i=mA(i,a,n,r,e[14],2878612391,15),r=mA(r,i,a,n,e[5],4237533241,21),n=mA(n,r,i,a,e[12],1700485571,6),a=mA(a,n,r,i,e[3],2399980690,10),i=mA(i,a,n,r,e[10],4293915773,15),r=mA(r,i,a,n,e[1],2240044497,21),n=mA(n,r,i,a,e[8],1873313359,6),a=mA(a,n,r,i,e[15],4264355552,10),i=mA(i,a,n,r,e[6],2734768916,15),r=mA(r,i,a,n,e[13],1309151649,21),n=mA(n,r,i,a,e[4],4149444226,6),a=mA(a,n,r,i,e[11],3174756917,10),i=mA(i,a,n,r,e[2],718787259,15),r=mA(r,i,a,n,e[9],3951481745,21),this._a=this._a+n|0,this._b=this._b+r|0,this._c=this._c+i|0,this._d=this._d+a|0},dA.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=cA.allocUnsafe(16);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e};var bA=dA,yA=ci.Buffer,gA=Jc,vA=aA,wA=new Array(16),_A=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],EA=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],TA=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],AA=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],RA=[0,1518500249,1859775393,2400959708,2840853838],SA=[1352829926,1548603684,1836072691,2053994217,0];function kA(){vA.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function OA(e,t){return e<<t|e>>>32-t}function IA(e,t,n,r,i,a,s,o){return OA(e+(t^n^r)+a+s|0,o)+i|0}function xA(e,t,n,r,i,a,s,o){return OA(e+(t&n|~t&r)+a+s|0,o)+i|0}function CA(e,t,n,r,i,a,s,o){return OA(e+((t|~n)^r)+a+s|0,o)+i|0}function MA(e,t,n,r,i,a,s,o){return OA(e+(t&r|n&~r)+a+s|0,o)+i|0}function PA(e,t,n,r,i,a,s,o){return OA(e+(t^(n|~r))+a+s|0,o)+i|0}gA(kA,vA),kA.prototype._update=function(){for(var e=wA,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);for(var n=0|this._a,r=0|this._b,i=0|this._c,a=0|this._d,s=0|this._e,o=0|this._a,c=0|this._b,u=0|this._c,d=0|this._d,f=0|this._e,l=0;l<80;l+=1){var h,p;l<16?(h=IA(n,r,i,a,s,e[_A[l]],RA[0],TA[l]),p=PA(o,c,u,d,f,e[EA[l]],SA[0],AA[l])):l<32?(h=xA(n,r,i,a,s,e[_A[l]],RA[1],TA[l]),p=MA(o,c,u,d,f,e[EA[l]],SA[1],AA[l])):l<48?(h=CA(n,r,i,a,s,e[_A[l]],RA[2],TA[l]),p=CA(o,c,u,d,f,e[EA[l]],SA[2],AA[l])):l<64?(h=MA(n,r,i,a,s,e[_A[l]],RA[3],TA[l]),p=xA(o,c,u,d,f,e[EA[l]],SA[3],AA[l])):(h=PA(n,r,i,a,s,e[_A[l]],RA[4],TA[l]),p=IA(o,c,u,d,f,e[EA[l]],SA[4],AA[l])),n=s,s=a,a=OA(i,10),i=r,r=h,o=f,f=d,d=OA(u,10),u=c,c=p}var m=this._b+i+d|0;this._b=this._c+a+f|0,this._c=this._d+s+o|0,this._d=this._e+n+c|0,this._e=this._a+r+u|0,this._a=m},kA.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=yA.alloc?yA.alloc(20):new yA(20);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e.writeInt32LE(this._e,16),e};var NA=kA,BA={exports:{}},DA=cE.Buffer;function LA(e,t){this._block=DA.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}LA.prototype.update=function(e,t){"string"==typeof e&&(t=t||"utf8",e=DA.from(e,t));for(var n=this._block,r=this._blockSize,i=e.length,a=this._len,s=0;s<i;){for(var o=a%r,c=Math.min(i-s,r-o),u=0;u<c;u++)n[o+u]=e[s+u];s+=c,(a+=c)%r==0&&this._update(n)}return this._len+=i,this},LA.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var n=8*this._len;if(n<=4294967295)this._block.writeUInt32BE(n,this._blockSize-4);else{var r=(4294967295&n)>>>0,i=(n-r)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(r,this._blockSize-4)}this._update(this._block);var a=this._hash();return e?a.toString(e):a},LA.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var FA=LA,UA=Jc,jA=FA,qA=cE.Buffer,zA=[1518500249,1859775393,-1894007588,-899497514],HA=new Array(80);function GA(){this.init(),this._w=HA,jA.call(this,64,56)}function WA(e){return e<<30|e>>>2}function VA(e,t,n,r){return 0===e?t&n|~t&r:2===e?t&n|t&r|n&r:t^n^r}UA(GA,jA),GA.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},GA.prototype._update=function(e){for(var t,n=this._w,r=0|this._a,i=0|this._b,a=0|this._c,s=0|this._d,o=0|this._e,c=0;c<16;++c)n[c]=e.readInt32BE(4*c);for(;c<80;++c)n[c]=n[c-3]^n[c-8]^n[c-14]^n[c-16];for(var u=0;u<80;++u){var d=~~(u/20),f=0|((t=r)<<5|t>>>27)+VA(d,i,a,s)+o+n[u]+zA[d];o=s,s=a,a=WA(i),i=r,r=f}this._a=r+this._a|0,this._b=i+this._b|0,this._c=a+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0},GA.prototype._hash=function(){var e=qA.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e};var KA=GA,XA=Jc,$A=FA,JA=cE.Buffer,YA=[1518500249,1859775393,-1894007588,-899497514],QA=new Array(80);function ZA(){this.init(),this._w=QA,$A.call(this,64,56)}function eR(e){return e<<5|e>>>27}function tR(e){return e<<30|e>>>2}function nR(e,t,n,r){return 0===e?t&n|~t&r:2===e?t&n|t&r|n&r:t^n^r}XA(ZA,$A),ZA.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},ZA.prototype._update=function(e){for(var t,n=this._w,r=0|this._a,i=0|this._b,a=0|this._c,s=0|this._d,o=0|this._e,c=0;c<16;++c)n[c]=e.readInt32BE(4*c);for(;c<80;++c)n[c]=(t=n[c-3]^n[c-8]^n[c-14]^n[c-16])<<1|t>>>31;for(var u=0;u<80;++u){var d=~~(u/20),f=eR(r)+nR(d,i,a,s)+o+n[u]+YA[d]|0;o=s,s=a,a=tR(i),i=r,r=f}this._a=r+this._a|0,this._b=i+this._b|0,this._c=a+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0},ZA.prototype._hash=function(){var e=JA.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e};var rR=ZA,iR=Jc,aR=FA,sR=cE.Buffer,oR=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],cR=new Array(64);function uR(){this.init(),this._w=cR,aR.call(this,64,56)}function dR(e,t,n){return n^e&(t^n)}function fR(e,t,n){return e&t|n&(e|t)}function lR(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function hR(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function pR(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}function mR(e){return(e>>>17|e<<15)^(e>>>19|e<<13)^e>>>10}iR(uR,aR),uR.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},uR.prototype._update=function(e){for(var t=this._w,n=0|this._a,r=0|this._b,i=0|this._c,a=0|this._d,s=0|this._e,o=0|this._f,c=0|this._g,u=0|this._h,d=0;d<16;++d)t[d]=e.readInt32BE(4*d);for(;d<64;++d)t[d]=mR(t[d-2])+t[d-7]+pR(t[d-15])+t[d-16]|0;for(var f=0;f<64;++f){var l=u+hR(s)+dR(s,o,c)+oR[f]+t[f]|0,h=lR(n)+fR(n,r,i)|0;u=c,c=o,o=s,s=a+l|0,a=i,i=r,r=n,n=l+h|0}this._a=n+this._a|0,this._b=r+this._b|0,this._c=i+this._c|0,this._d=a+this._d|0,this._e=s+this._e|0,this._f=o+this._f|0,this._g=c+this._g|0,this._h=u+this._h|0},uR.prototype._hash=function(){var e=sR.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e};var bR=uR,yR=Jc,gR=bR,vR=FA,wR=cE.Buffer,_R=new Array(64);function ER(){this.init(),this._w=_R,vR.call(this,64,56)}yR(ER,gR),ER.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},ER.prototype._hash=function(){var e=wR.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e};var TR=ER,AR=Jc,RR=FA,SR=cE.Buffer,kR=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],OR=new Array(160);function IR(){this.init(),this._w=OR,RR.call(this,128,112)}function xR(e,t,n){return n^e&(t^n)}function CR(e,t,n){return e&t|n&(e|t)}function MR(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function PR(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function NR(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function BR(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function DR(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function LR(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function FR(e,t){return e>>>0<t>>>0?1:0}AR(IR,RR),IR.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},IR.prototype._update=function(e){for(var t=this._w,n=0|this._ah,r=0|this._bh,i=0|this._ch,a=0|this._dh,s=0|this._eh,o=0|this._fh,c=0|this._gh,u=0|this._hh,d=0|this._al,f=0|this._bl,l=0|this._cl,h=0|this._dl,p=0|this._el,m=0|this._fl,b=0|this._gl,y=0|this._hl,g=0;g<32;g+=2)t[g]=e.readInt32BE(4*g),t[g+1]=e.readInt32BE(4*g+4);for(;g<160;g+=2){var v=t[g-30],w=t[g-30+1],_=NR(v,w),E=BR(w,v),T=DR(v=t[g-4],w=t[g-4+1]),A=LR(w,v),R=t[g-14],S=t[g-14+1],k=t[g-32],O=t[g-32+1],I=E+S|0,x=_+R+FR(I,E)|0;x=(x=x+T+FR(I=I+A|0,A)|0)+k+FR(I=I+O|0,O)|0,t[g]=x,t[g+1]=I}for(var C=0;C<160;C+=2){x=t[C],I=t[C+1];var M=CR(n,r,i),P=CR(d,f,l),N=MR(n,d),B=MR(d,n),D=PR(s,p),L=PR(p,s),F=kR[C],U=kR[C+1],j=xR(s,o,c),q=xR(p,m,b),z=y+L|0,H=u+D+FR(z,y)|0;H=(H=(H=H+j+FR(z=z+q|0,q)|0)+F+FR(z=z+U|0,U)|0)+x+FR(z=z+I|0,I)|0;var G=B+P|0,W=N+M+FR(G,B)|0;u=c,y=b,c=o,b=m,o=s,m=p,s=a+H+FR(p=h+z|0,h)|0,a=i,h=l,i=r,l=f,r=n,f=d,n=H+W+FR(d=z+G|0,z)|0}this._al=this._al+d|0,this._bl=this._bl+f|0,this._cl=this._cl+l|0,this._dl=this._dl+h|0,this._el=this._el+p|0,this._fl=this._fl+m|0,this._gl=this._gl+b|0,this._hl=this._hl+y|0,this._ah=this._ah+n+FR(this._al,d)|0,this._bh=this._bh+r+FR(this._bl,f)|0,this._ch=this._ch+i+FR(this._cl,l)|0,this._dh=this._dh+a+FR(this._dl,h)|0,this._eh=this._eh+s+FR(this._el,p)|0,this._fh=this._fh+o+FR(this._fl,m)|0,this._gh=this._gh+c+FR(this._gl,b)|0,this._hh=this._hh+u+FR(this._hl,y)|0},IR.prototype._hash=function(){var e=SR.allocUnsafe(64);function t(t,n,r){e.writeInt32BE(t,r),e.writeInt32BE(n,r+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),e};var UR=IR,jR=Jc,qR=UR,zR=FA,HR=cE.Buffer,GR=new Array(160);function WR(){this.init(),this._w=GR,zR.call(this,128,112)}jR(WR,qR),WR.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},WR.prototype._hash=function(){var e=HR.allocUnsafe(48);function t(t,n,r){e.writeInt32BE(t,r),e.writeInt32BE(n,r+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),e};var VR=WR,KR=BA.exports=function(e){e=e.toLowerCase();var t=KR[e];if(!t)throw new Error(e+" is not supported (we accept pull requests)");return new t};KR.sha=KA,KR.sha1=rR,KR.sha224=TR,KR.sha256=bR,KR.sha384=VR,KR.sha512=UR;var XR=BA.exports;function $R(){this.head=null,this.tail=null,this.length=0}$R.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},$R.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},$R.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},$R.prototype.clear=function(){this.head=this.tail=null,this.length=0},$R.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},$R.prototype.concat=function(e){if(0===this.length)return Tr.alloc(0);if(1===this.length)return this.head.data;for(var t=Tr.allocUnsafe(e>>>0),n=this.head,r=0;n;)n.data.copy(t,r),r+=n.data.length,n=n.next;return t},QR.ReadableState=YR;var JR=tw("stream");function YR(e,t){e=e||{},this.objectMode=!!e.objectMode,t instanceof SS&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var n=e.highWaterMark,r=this.objectMode?16:16384;this.highWaterMark=n||0===n?n:r,this.highWaterMark=~~this.highWaterMark,this.buffer=new $R,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(this.decoder=new sT(e.encoding),this.encoding=e.encoding)}function QR(e){if(!(this instanceof QR))return new QR(e);this._readableState=new YR(e,this),this.readable=!0,e&&"function"==typeof e.read&&(this._read=e.read),SE.call(this)}function ZR(e,t,n,r,i){var a=function(e,t){var n=null;Tr.isBuffer(t)||"string"==typeof t||null==t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));return n}(t,n);if(a)e.emit("error",a);else if(null===n)t.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,nS(e)}(e,t);else if(t.objectMode||n&&n.length>0)if(t.ended&&!i){var s=new Error("stream.push() after EOF");e.emit("error",s)}else if(t.endEmitted&&i){var o=new Error("stream.unshift() after end event");e.emit("error",o)}else{var c;!t.decoder||i||r||(n=t.decoder.write(n),c=!t.objectMode&&0===n.length),i||(t.reading=!1),c||(t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,i?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&nS(e))),function(e,t){t.readingMore||(t.readingMore=!0,Nv(iS,e,t))}(e,t)}else i||(t.reading=!1);return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(t)}Xv(QR,SE),QR.prototype.push=function(e,t){var n=this._readableState;return n.objectMode||"string"!=typeof e||(t=t||n.defaultEncoding)!==n.encoding&&(e=Tr.from(e,t),t=""),ZR(this,n,e,t,!1)},QR.prototype.unshift=function(e){return ZR(this,this._readableState,e,"",!0)},QR.prototype.isPaused=function(){return!1===this._readableState.flowing},QR.prototype.setEncoding=function(e){return this._readableState.decoder=new sT(e),this._readableState.encoding=e,this};var eS=8388608;function tS(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=eS?e=eS:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function nS(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(JR("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?Nv(rS,e):rS(e))}function rS(e){JR("emit readable"),e.emit("readable"),oS(e)}function iS(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(JR("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function aS(e){JR("readable nexttick read 0"),e.read(0)}function sS(e,t){t.reading||(JR("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),oS(e),t.flowing&&!t.reading&&e.read(0)}function oS(e){var t=e._readableState;for(JR("flow",t.flowing);t.flowing&&null!==e.read(););}function cS(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=function(e,t,n){var r;e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?function(e,t){var n=t.head,r=1,i=n.data;e-=i.length;for(;n=n.next;){var a=n.data,s=e>a.length?a.length:e;if(s===a.length?i+=a:i+=a.slice(0,e),0===(e-=s)){s===a.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=a.slice(s));break}++r}return t.length-=r,i}(e,t):function(e,t){var n=Tr.allocUnsafe(e),r=t.head,i=1;r.data.copy(n),e-=r.data.length;for(;r=r.next;){var a=r.data,s=e>a.length?a.length:e;if(a.copy(n,n.length-e,0,s),0===(e-=s)){s===a.length?(++i,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=a.slice(s));break}++i}return t.length-=i,n}(e,t);return r}(e,t.buffer,t.decoder),n);var n}function uS(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,Nv(dS,t,e))}function dS(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function fS(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function lS(){}function hS(e,t,n){this.chunk=e,this.encoding=t,this.callback=n,this.next=null}function pS(e,t){Object.defineProperty(this,"buffer",{get:Qv((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")}),e=e||{},this.objectMode=!!e.objectMode,t instanceof SS&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var n=e.highWaterMark,r=this.objectMode?16:16384;this.highWaterMark=n||0===n?n:r,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var i=!1===e.decodeStrings;this.decodeStrings=!i,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,r,i){--t.pendingcb,n?Nv(i,r):i(r);e._writableState.errorEmitted=!0,e.emit("error",r)}(e,n,r,t,i);else{var a=vS(n);a||n.corked||n.bufferProcessing||!n.bufferedRequest||gS(e,n),r?Nv(yS,e,n,a,i):yS(e,n,a,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new ES(this)}function mS(e){if(!(this instanceof mS||this instanceof SS))return new mS(e);this._writableState=new pS(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev)),SE.call(this)}function bS(e,t,n,r,i,a,s){t.writelen=r,t.writecb=s,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,a,t.onwrite),t.sync=!1}function yS(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),_S(e,t)}function gS(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,i=new Array(r),a=t.corkedRequestsFree;a.entry=n;for(var s=0;n;)i[s]=n,n=n.next,s+=1;bS(e,t,!0,t.length,i,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new ES(t)}else{for(;n;){var o=n.chunk,c=n.encoding,u=n.callback;if(bS(e,t,!1,t.objectMode?1:o.length,o,c,u),n=n.next,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequestCount=0,t.bufferedRequest=n,t.bufferProcessing=!1}function vS(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function wS(e,t){t.prefinished||(t.prefinished=!0,e.emit("prefinish"))}function _S(e,t){var n=vS(t);return n&&(0===t.pendingcb?(wS(e,t),t.finished=!0,e.emit("finish")):wS(e,t)),n}function ES(e){var t=this;this.next=null,this.entry=null,this.finish=function(n){var r=t.entry;for(t.entry=null;r;){var i=r.callback;e.pendingcb--,i(n),r=r.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}}QR.prototype.read=function(e){JR("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return JR("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?uS(this):nS(this),null;if(0===(e=tS(e,t))&&t.ended)return 0===t.length&&uS(this),null;var r,i=t.needReadable;return JR("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&JR("length less than watermark",i=!0),t.ended||t.reading?JR("reading or ended",i=!1):i&&(JR("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=tS(n,t))),null===(r=e>0?cS(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&uS(this)),null!==r&&this.emit("data",r),r},QR.prototype._read=function(e){this.emit("error",new Error("not implemented"))},QR.prototype.pipe=function(e,t){var n=this,r=this._readableState;switch(r.pipesCount){case 0:r.pipes=e;break;case 1:r.pipes=[r.pipes,e];break;default:r.pipes.push(e)}r.pipesCount+=1,JR("pipe count=%d opts=%j",r.pipesCount,t);var i=!t||!1!==t.end?s:u;function a(e){JR("onunpipe"),e===n&&u()}function s(){JR("onend"),e.end()}r.endEmitted?Nv(i):n.once("end",i),e.on("unpipe",a);var o=function(e){return function(){var t=e._readableState;JR("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&e.listeners("data").length&&(t.flowing=!0,oS(e))}}(n);e.on("drain",o);var c=!1;function u(){JR("cleanup"),e.removeListener("close",h),e.removeListener("finish",p),e.removeListener("drain",o),e.removeListener("error",l),e.removeListener("unpipe",a),n.removeListener("end",s),n.removeListener("end",u),n.removeListener("data",f),c=!0,!r.awaitDrain||e._writableState&&!e._writableState.needDrain||o()}var d=!1;function f(t){JR("ondata"),d=!1,!1!==e.write(t)||d||((1===r.pipesCount&&r.pipes===e||r.pipesCount>1&&-1!==fS(r.pipes,e))&&!c&&(JR("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,d=!0),n.pause())}function l(t){var n;JR("onerror",t),m(),e.removeListener("error",l),0===(n="error",e.listeners(n).length)&&e.emit("error",t)}function h(){e.removeListener("finish",p),m()}function p(){JR("onfinish"),e.removeListener("close",h),m()}function m(){JR("unpipe"),n.unpipe(e)}return n.on("data",f),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",l),e.once("close",h),e.once("finish",p),e.emit("pipe",n),r.flowing||(JR("pipe resume"),n.resume()),e},QR.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this)),this;if(!e){var n=t.pipes,r=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<r;i++)n[i].emit("unpipe",this);return this}var a=fS(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this)),this},QR.prototype.on=function(e,t){var n=SE.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&nS(this):Nv(aS,this))}return n},QR.prototype.addListener=QR.prototype.on,QR.prototype.resume=function(){var e=this._readableState;return e.flowing||(JR("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,Nv(sS,e,t))}(this,e)),this},QR.prototype.pause=function(){return JR("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(JR("pause"),this._readableState.flowing=!1,this.emit("pause")),this},QR.prototype.wrap=function(e){var t=this._readableState,n=!1,r=this;for(var i in e.on("end",(function(){if(JR("wrapped end"),t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&r.push(e)}r.push(null)})),e.on("data",(function(i){(JR("wrapped data"),t.decoder&&(i=t.decoder.write(i)),t.objectMode&&null==i)||(t.objectMode||i&&i.length)&&(r.push(i)||(n=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));return function(e,t){for(var n=0,r=e.length;n<r;n++)t(e[n],n)}(["error","close","destroy","pause","resume"],(function(t){e.on(t,r.emit.bind(r,t))})),r._read=function(t){JR("wrapped _read",t),n&&(n=!1,e.resume())},r},QR._fromList=cS,mS.WritableState=pS,Xv(mS,SE),pS.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},mS.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},mS.prototype.write=function(e,t,n){var r=this._writableState,i=!1;return"function"==typeof t&&(n=t,t=null),Tr.isBuffer(e)?t="buffer":t||(t=r.defaultEncoding),"function"!=typeof n&&(n=lS),r.ended?function(e,t){var n=new Error("write after end");e.emit("error",n),Nv(t,n)}(this,n):function(e,t,n,r){var i=!0,a=!1;return null===n?a=new TypeError("May not write null values to stream"):Tr.isBuffer(n)||"string"==typeof n||void 0===n||t.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(e.emit("error",a),Nv(r,a),i=!1),i}(this,r,e,n)&&(r.pendingcb++,i=function(e,t,n,r,i){n=function(e,t,n){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=Tr.from(t,n));return t}(t,n,r),Tr.isBuffer(n)&&(r="buffer");var a=t.objectMode?1:n.length;t.length+=a;var s=t.length<t.highWaterMark;s||(t.needDrain=!0);if(t.writing||t.corked){var o=t.lastBufferedRequest;t.lastBufferedRequest=new hS(n,r,i),o?o.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else bS(e,t,!1,a,n,r,i);return s}(this,r,e,t,n)),i},mS.prototype.cork=function(){this._writableState.corked++},mS.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||gS(this,e))},mS.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},mS.prototype._write=function(e,t,n){n(new Error("not implemented"))},mS.prototype._writev=null,mS.prototype.end=function(e,t,n){var r=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||function(e,t,n){t.ending=!0,_S(e,t),n&&(t.finished?Nv(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,r,n)},Xv(SS,QR);for(var TS=Object.keys(mS.prototype),AS=0;AS<TS.length;AS++){var RS=TS[AS];SS.prototype[RS]||(SS.prototype[RS]=mS.prototype[RS])}function SS(e){if(!(this instanceof SS))return new SS(e);QR.call(this,e),mS.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",kS)}function kS(){this.allowHalfOpen||this._writableState.ended||Nv(OS,this)}function OS(e){e.end()}function IS(e){this.afterTransform=function(t,n){return function(e,t,n){var r=e._transformState;r.transforming=!1;var i=r.writecb;if(!i)return e.emit("error",new Error("no writecb in Transform class"));r.writechunk=null,r.writecb=null,null!=n&&e.push(n);i(t);var a=e._readableState;a.reading=!1,(a.needReadable||a.length<a.highWaterMark)&&e._read(a.highWaterMark)}(e,t,n)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function xS(e){if(!(this instanceof xS))return new xS(e);SS.call(this,e),this._transformState=new IS(this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.once("prefinish",(function(){"function"==typeof this._flush?this._flush((function(e){CS(t,e)})):CS(t)}))}function CS(e,t){if(t)return e.emit("error",t);var n=e._writableState,r=e._transformState;if(n.length)throw new Error("Calling transform done when ws.length != 0");if(r.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}function MS(e){if(!(this instanceof MS))return new MS(e);xS.call(this,e)}function PS(){SE.call(this)}Xv(xS,SS),xS.prototype.push=function(e,t){return this._transformState.needTransform=!1,SS.prototype.push.call(this,e,t)},xS.prototype._transform=function(e,t,n){throw new Error("Not implemented")},xS.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},xS.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},Xv(MS,xS),MS.prototype._transform=function(e,t,n){n(null,e)},Xv(PS,SE),PS.Readable=QR,PS.Writable=mS,PS.Duplex=SS,PS.Transform=xS,PS.PassThrough=MS,PS.Stream=PS,PS.prototype.pipe=function(e,t){var n=this;function r(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function i(){n.readable&&n.resume&&n.resume()}n.on("data",r),e.on("drain",i),e._isStdio||t&&!1===t.end||(n.on("end",s),n.on("close",o));var a=!1;function s(){a||(a=!0,e.end())}function o(){a||(a=!0,"function"==typeof e.destroy&&e.destroy())}function c(e){if(u(),0===SE.listenerCount(this,"error"))throw e}function u(){n.removeListener("data",r),e.removeListener("drain",i),n.removeListener("end",s),n.removeListener("close",o),n.removeListener("error",c),e.removeListener("error",c),n.removeListener("end",u),n.removeListener("close",u),e.removeListener("close",u)}return n.on("error",c),e.on("error",c),n.on("end",u),n.on("close",u),e.on("close",u),e.emit("pipe",n),e};var NS=sr(Object.freeze({__proto__:null,Duplex:SS,PassThrough:MS,Readable:QR,Stream:PS,Transform:xS,Writable:mS,default:PS})),BS=cE.Buffer,DS=NS.Transform,LS=dT.StringDecoder;function FS(e){DS.call(this),this.hashMode="string"==typeof e,this.hashMode?this[e]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}Jc(FS,DS),FS.prototype.update=function(e,t,n){"string"==typeof e&&(e=BS.from(e,t));var r=this._update(e);return this.hashMode?this:(n&&(r=this._toString(r,n)),r)},FS.prototype.setAutoPadding=function(){},FS.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},FS.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},FS.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},FS.prototype._transform=function(e,t,n){var r;try{this.hashMode?this._update(e):this.push(this._update(e))}catch(e){r=e}finally{n(r)}},FS.prototype._flush=function(e){var t;try{this.push(this.__final())}catch(e){t=e}e(t)},FS.prototype._finalOrDigest=function(e){var t=this.__final()||BS.alloc(0);return e&&(t=this._toString(t,e,!0)),t},FS.prototype._toString=function(e,t,n){if(this._decoder||(this._decoder=new LS(t),this._encoding=t),this._encoding!==t)throw new Error("can't switch encodings");var r=this._decoder.write(e);return n&&(r+=this._decoder.end()),r};var US=FS,jS=bA,qS=NA,zS=XR,HS=US;function GS(e){HS.call(this,"digest"),this._hash=e}Jc(GS,HS),GS.prototype._update=function(e){this._hash.update(e)},GS.prototype._final=function(){return this._hash.digest()};var WS=function(e){return"md5"===(e=e.toLowerCase())?new jS:"rmd160"===e||"ripemd160"===e?new qS:new GS(zS(e))};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.rlphash=e.ripemd160FromArray=e.ripemd160FromString=e.ripemd160=e.sha256FromArray=e.sha256FromString=e.sha256=e.keccakFromArray=e.keccakFromHexString=e.keccakFromString=e.keccak256=e.keccak=void 0;var t=EE,n=WS,r=b_,i=gE,a=vE;e.keccak=function(e,n){switch(void 0===n&&(n=256),(0,a.assertIsBuffer)(e),n){case 224:return(0,t.keccak224)(e);case 256:return(0,t.keccak256)(e);case 384:return(0,t.keccak384)(e);case 512:return(0,t.keccak512)(e);default:throw new Error("Invald algorithm: keccak".concat(n))}};e.keccak256=function(t){return(0,e.keccak)(t)};e.keccakFromString=function(t,n){void 0===n&&(n=256),(0,a.assertIsString)(t);var r=Buffer.from(t,"utf8");return(0,e.keccak)(r,n)};e.keccakFromHexString=function(t,n){return void 0===n&&(n=256),(0,a.assertIsHexString)(t),(0,e.keccak)((0,i.toBuffer)(t),n)};e.keccakFromArray=function(t,n){return void 0===n&&(n=256),(0,a.assertIsArray)(t),(0,e.keccak)((0,i.toBuffer)(t),n)};var s=function(e){return e=(0,i.toBuffer)(e),n("sha256").update(e).digest()};e.sha256=function(e){return(0,a.assertIsBuffer)(e),s(e)};e.sha256FromString=function(e){return(0,a.assertIsString)(e),s(e)};e.sha256FromArray=function(e){return(0,a.assertIsArray)(e),s(e)};var o=function(e,t){e=(0,i.toBuffer)(e);var r=n("rmd160").update(e).digest();return!0===t?(0,i.setLengthLeft)(r,32):r};e.ripemd160=function(e,t){return(0,a.assertIsBuffer)(e),o(e,t)};e.ripemd160FromString=function(e,t){return(0,a.assertIsString)(e),o(e,t)};e.ripemd160FromArray=function(e,t){return(0,a.assertIsArray)(e),o(e,t)};e.rlphash=function(t){return(0,e.keccak)(r.rlp.encode(t))}}(_E);var VS={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.toType=e.TypeOutput=e.bnToRlp=e.bnToUnpaddedBuffer=e.bnToHex=void 0;var t,n=b_,r=mE,i=gE;function a(e){return(0,i.unpadBuffer)(e.toArrayLike(Buffer))}e.bnToHex=function(e){return"0x".concat(e.toString(16))},e.bnToUnpaddedBuffer=a,e.bnToRlp=function(e){return a(e)},function(e){e[e.Number=0]="Number",e[e.BN=1]="BN",e[e.Buffer=2]="Buffer",e[e.PrefixedHexString=3]="PrefixedHexString"}(t=e.TypeOutput||(e.TypeOutput={})),e.toType=function(e,a){if(null===e)return null;if(void 0!==e){if("string"==typeof e&&!(0,r.isHexString)(e))throw new Error("A string must be provided with a 0x-prefix, given: ".concat(e));if("number"==typeof e&&!Number.isSafeInteger(e))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");var s=(0,i.toBuffer)(e);if(a===t.Buffer)return s;if(a===t.BN)return new n.BN(s);if(a===t.Number){var o=new n.BN(s),c=new n.BN(Number.MAX_SAFE_INTEGER.toString());if(o.gt(c))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative output type)");return o.toNumber()}return"0x".concat(s.toString("hex"))}}}(VS),function(e){var t=ir&&ir.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return s},n=ir&&ir.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.isZeroAddress=e.zeroAddress=e.importPublic=e.privateToAddress=e.privateToPublic=e.publicToAddress=e.pubToAddress=e.isValidPublic=e.isValidPrivate=e.generateAddress2=e.generateAddress=e.isValidChecksumAddress=e.toChecksumAddress=e.isValidAddress=e.Account=void 0;var r=n(P_),i=b_,a=N_,s=mE,o=m_,c=gE,u=_E,d=vE,f=VS,l=function(){function e(e,t,n,r){void 0===e&&(e=new i.BN(0)),void 0===t&&(t=new i.BN(0)),void 0===n&&(n=o.KECCAK256_RLP),void 0===r&&(r=o.KECCAK256_NULL),this.nonce=e,this.balance=t,this.stateRoot=n,this.codeHash=r,this._validate()}return e.fromAccountData=function(t){var n=t.nonce,r=t.balance,a=t.stateRoot,s=t.codeHash;return new e(n?new i.BN((0,c.toBuffer)(n)):void 0,r?new i.BN((0,c.toBuffer)(r)):void 0,a?(0,c.toBuffer)(a):void 0,s?(0,c.toBuffer)(s):void 0)},e.fromRlpSerializedAccount=function(e){var t=i.rlp.decode(e);if(!Array.isArray(t))throw new Error("Invalid serialized account input. Must be array");return this.fromValuesArray(t)},e.fromValuesArray=function(n){var r=t(n,4),a=r[0],s=r[1],o=r[2],c=r[3];return new e(new i.BN(a),new i.BN(s),o,c)},e.prototype._validate=function(){if(this.nonce.lt(new i.BN(0)))throw new Error("nonce must be greater than zero");if(this.balance.lt(new i.BN(0)))throw new Error("balance must be greater than zero");if(32!==this.stateRoot.length)throw new Error("stateRoot must have a length of 32");if(32!==this.codeHash.length)throw new Error("codeHash must have a length of 32")},e.prototype.raw=function(){return[(0,f.bnToUnpaddedBuffer)(this.nonce),(0,f.bnToUnpaddedBuffer)(this.balance),this.stateRoot,this.codeHash]},e.prototype.serialize=function(){return i.rlp.encode(this.raw())},e.prototype.isContract=function(){return!this.codeHash.equals(o.KECCAK256_NULL)},e.prototype.isEmpty=function(){return this.balance.isZero()&&this.nonce.isZero()&&this.codeHash.equals(o.KECCAK256_NULL)},e}();e.Account=l;e.isValidAddress=function(e){try{(0,d.assertIsString)(e)}catch(e){return!1}return/^0x[0-9a-fA-F]{40}$/.test(e)};e.toChecksumAddress=function(e,t){(0,d.assertIsHexString)(e);var n=(0,s.stripHexPrefix)(e).toLowerCase(),r="";t&&(r=(0,f.toType)(t,f.TypeOutput.BN).toString()+"0x");for(var i=(0,u.keccakFromString)(r+n).toString("hex"),a="0x",o=0;o<n.length;o++)parseInt(i[o],16)>=8?a+=n[o].toUpperCase():a+=n[o];return a};e.isValidChecksumAddress=function(t,n){return(0,e.isValidAddress)(t)&&(0,e.toChecksumAddress)(t,n)===t};e.generateAddress=function(e,t){(0,d.assertIsBuffer)(e),(0,d.assertIsBuffer)(t);var n=new i.BN(t);return n.isZero()?(0,u.rlphash)([e,null]).slice(-20):(0,u.rlphash)([e,Buffer.from(n.toArray())]).slice(-20)};e.generateAddress2=function(e,t,n){return(0,d.assertIsBuffer)(e),(0,d.assertIsBuffer)(t),(0,d.assertIsBuffer)(n),(0,r.default)(20===e.length),(0,r.default)(32===t.length),(0,u.keccak256)(Buffer.concat([Buffer.from("ff","hex"),e,t,(0,u.keccak256)(n)])).slice(-20)};e.isValidPrivate=function(e){return(0,a.privateKeyVerify)(e)};e.isValidPublic=function(e,t){return void 0===t&&(t=!1),(0,d.assertIsBuffer)(e),64===e.length?(0,a.publicKeyVerify)(Buffer.concat([Buffer.from([4]),e])):!!t&&(0,a.publicKeyVerify)(e)};e.pubToAddress=function(e,t){return void 0===t&&(t=!1),(0,d.assertIsBuffer)(e),t&&64!==e.length&&(e=Buffer.from((0,a.publicKeyConvert)(e,!1).slice(1))),(0,r.default)(64===e.length),(0,u.keccak)(e).slice(-20)},e.publicToAddress=e.pubToAddress;e.privateToPublic=function(e){return(0,d.assertIsBuffer)(e),Buffer.from((0,a.publicKeyCreate)(e,!1)).slice(1)};e.privateToAddress=function(t){return(0,e.publicToAddress)((0,e.privateToPublic)(t))};e.importPublic=function(e){return(0,d.assertIsBuffer)(e),64!==e.length&&(e=Buffer.from((0,a.publicKeyConvert)(e,!1).slice(1))),e};e.zeroAddress=function(){var e=(0,c.zeros)(20);return(0,c.bufferToHex)(e)};e.isZeroAddress=function(t){try{(0,d.assertIsString)(t)}catch(e){return!1}return(0,e.zeroAddress)()===t}}(M_);var KS={},XS=ir&&ir.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(KS,"__esModule",{value:!0}),KS.Address=void 0;var $S=XS(P_),JS=b_,YS=gE,QS=M_,ZS=function(){function e(e){(0,$S.default)(20===e.length,"Invalid address length"),this.buf=e}return e.zero=function(){return new e((0,YS.zeros)(20))},e.fromString=function(t){return(0,$S.default)((0,QS.isValidAddress)(t),"Invalid address"),new e((0,YS.toBuffer)(t))},e.fromPublicKey=function(t){return(0,$S.default)(Buffer.isBuffer(t),"Public key should be Buffer"),new e((0,QS.pubToAddress)(t))},e.fromPrivateKey=function(t){return(0,$S.default)(Buffer.isBuffer(t),"Private key should be Buffer"),new e((0,QS.privateToAddress)(t))},e.generate=function(t,n){return(0,$S.default)(JS.BN.isBN(n)),new e((0,QS.generateAddress)(t.buf,n.toArrayLike(Buffer)))},e.generate2=function(t,n,r){return(0,$S.default)(Buffer.isBuffer(n)),(0,$S.default)(Buffer.isBuffer(r)),new e((0,QS.generateAddress2)(t.buf,n,r))},e.prototype.equals=function(e){return this.buf.equals(e.buf)},e.prototype.isZero=function(){return this.equals(e.zero())},e.prototype.isPrecompileOrSystemAddress=function(){var e=new JS.BN(this.buf),t=new JS.BN(0),n=new JS.BN("ffff","hex");return e.gte(t)&&e.lte(n)},e.prototype.toString=function(){return"0x"+this.buf.toString("hex")},e.prototype.toBuffer=function(){return Buffer.from(this.buf)},e}();KS.Address=ZS;var ek={};Object.defineProperty(ek,"__esModule",{value:!0}),ek.hashPersonalMessage=ek.isValidSignature=ek.fromRpcSig=ek.toCompactSig=ek.toRpcSig=ek.ecrecover=ek.ecsign=void 0;var tk=N_,nk=b_,rk=gE,ik=_E,ak=vE,sk=VS;function ok(e,t){var n=(0,sk.toType)(e,sk.TypeOutput.BN);if(n.eqn(0)||n.eqn(1))return(0,sk.toType)(e,sk.TypeOutput.BN);if(!t)return n.subn(27);var r=(0,sk.toType)(t,sk.TypeOutput.BN);return n.sub(r.muln(2).addn(35))}function ck(e){var t=new nk.BN(e);return t.eqn(0)||t.eqn(1)}ek.ecsign=function(e,t,n){var r=(0,tk.ecdsaSign)(e,t),i=r.signature,a=r.recid,s=Buffer.from(i.slice(0,32)),o=Buffer.from(i.slice(32,64));if(!n||"number"==typeof n){if(n&&!Number.isSafeInteger(n))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");return{r:s,s:o,v:n?a+(2*n+35):a+27}}return{r:s,s:o,v:(0,sk.toType)(n,sk.TypeOutput.BN).muln(2).addn(35).addn(a).toArrayLike(Buffer)}};ek.ecrecover=function(e,t,n,r,i){var a=Buffer.concat([(0,rk.setLengthLeft)(n,32),(0,rk.setLengthLeft)(r,32)],64),s=ok(t,i);if(!ck(s))throw new Error("Invalid signature v value");var o=(0,tk.ecdsaRecover)(a,s.toNumber(),e);return Buffer.from((0,tk.publicKeyConvert)(o,!1).slice(1))};ek.toRpcSig=function(e,t,n,r){if(!ck(ok(e,r)))throw new Error("Invalid signature v value");return(0,rk.bufferToHex)(Buffer.concat([(0,rk.setLengthLeft)(t,32),(0,rk.setLengthLeft)(n,32),(0,rk.toBuffer)(e)]))};ek.toCompactSig=function(e,t,n,r){if(!ck(ok(e,r)))throw new Error("Invalid signature v value");var i=(0,sk.toType)(e,sk.TypeOutput.Number),a=n;return(i>28&&i%2==1||1===i||28===i)&&((a=Buffer.from(n))[0]|=128),(0,rk.bufferToHex)(Buffer.concat([(0,rk.setLengthLeft)(t,32),(0,rk.setLengthLeft)(a,32)]))};ek.fromRpcSig=function(e){var t,n,r,i=(0,rk.toBuffer)(e);if(i.length>=65)t=i.slice(0,32),n=i.slice(32,64),r=(0,rk.bufferToInt)(i.slice(64));else{if(64!==i.length)throw new Error("Invalid signature length");t=i.slice(0,32),n=i.slice(32,64),r=(0,rk.bufferToInt)(i.slice(32,33))>>7,n[0]&=127}return r<27&&(r+=27),{v:r,r:t,s:n}};ek.isValidSignature=function(e,t,n,r,i){void 0===r&&(r=!0);var a=new nk.BN("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),s=new nk.BN("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141",16);if(32!==t.length||32!==n.length)return!1;if(!ck(ok(e,i)))return!1;var o=new nk.BN(t),c=new nk.BN(n);return!(o.isZero()||o.gt(s)||c.isZero()||c.gt(s))&&(!r||1!==c.cmp(a))};ek.hashPersonalMessage=function(e){(0,ak.assertIsBuffer)(e);var t=Buffer.from("Ethereum Signed Message:\n".concat(e.length),"utf-8");return(0,ik.keccak)(Buffer.concat([t,e]))};var uk={},dk=ir&&ir.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(uk,"__esModule",{value:!0}),uk.defineProperties=void 0;var fk=dk(P_),lk=mE,hk=b_,pk=gE;uk.defineProperties=function(e,t,n){if(e.raw=[],e._fields=[],e.toJSON=function(t){if(void 0===t&&(t=!1),t){var n={};return e._fields.forEach((function(t){n[t]="0x".concat(e[t].toString("hex"))})),n}return(0,pk.baToJSON)(e.raw)},e.serialize=function(){return hk.rlp.encode(e.raw)},t.forEach((function(t,n){function r(){return e.raw[n]}function i(r){"00"!==(r=(0,pk.toBuffer)(r)).toString("hex")||t.allowZero||(r=Buffer.allocUnsafe(0)),t.allowLess&&t.length?(r=(0,pk.unpadBuffer)(r),(0,fk.default)(t.length>=r.length,"The field ".concat(t.name," must not have more ").concat(t.length," bytes"))):t.allowZero&&0===r.length||!t.length||(0,fk.default)(t.length===r.length,"The field ".concat(t.name," must have byte length of ").concat(t.length)),e.raw[n]=r}e._fields.push(t.name),Object.defineProperty(e,t.name,{enumerable:!0,configurable:!0,get:r,set:i}),t.default&&(e[t.name]=t.default),t.alias&&Object.defineProperty(e,t.alias,{enumerable:!1,configurable:!0,set:i,get:r})})),n)if("string"==typeof n&&(n=Buffer.from((0,lk.stripHexPrefix)(n),"hex")),Buffer.isBuffer(n)&&(n=hk.rlp.decode(n)),Array.isArray(n)){if(n.length>e._fields.length)throw new Error("wrong number of fields in data");n.forEach((function(t,n){e[e._fields[n]]=(0,pk.toBuffer)(t)}))}else{if("object"!=typeof n)throw new Error("invalid data");var r=Object.keys(n);t.forEach((function(t){-1!==r.indexOf(t.name)&&(e[t.name]=n[t.name]),-1!==r.indexOf(t.alias)&&(e[t.alias]=n[t.alias])}))}},function(e){var t=ir&&ir.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=ir&&ir.__exportStar||function(e,n){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(n,r)||t(n,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),e.isHexString=e.getKeys=e.fromAscii=e.fromUtf8=e.toAscii=e.arrayContainsArray=e.getBinarySize=e.padToEven=e.stripHexPrefix=e.isHexPrefixed=void 0,n(m_,e),n(M_,e),n(KS,e),n(_E,e),n(ek,e),n(gE,e),n(uk,e),n(b_,e),n(VS,e);var r=mE;Object.defineProperty(e,"isHexPrefixed",{enumerable:!0,get:function(){return r.isHexPrefixed}}),Object.defineProperty(e,"stripHexPrefix",{enumerable:!0,get:function(){return r.stripHexPrefix}}),Object.defineProperty(e,"padToEven",{enumerable:!0,get:function(){return r.padToEven}}),Object.defineProperty(e,"getBinarySize",{enumerable:!0,get:function(){return r.getBinarySize}}),Object.defineProperty(e,"arrayContainsArray",{enumerable:!0,get:function(){return r.arrayContainsArray}}),Object.defineProperty(e,"toAscii",{enumerable:!0,get:function(){return r.toAscii}}),Object.defineProperty(e,"fromUtf8",{enumerable:!0,get:function(){return r.fromUtf8}}),Object.defineProperty(e,"fromAscii",{enumerable:!0,get:function(){return r.fromAscii}}),Object.defineProperty(e,"getKeys",{enumerable:!0,get:function(){return r.getKeys}}),Object.defineProperty(e,"isHexString",{enumerable:!0,get:function(){return r.isHexString}})}(p_);var mk={},bk={},yk=cE.Buffer;var gk=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var r=0;r<e.length;r++){var i=e.charAt(r),a=i.charCodeAt(0);if(255!==t[a])throw new TypeError(i+" is ambiguous");t[a]=r}var s=e.length,o=e.charAt(0),c=Math.log(s)/Math.log(256),u=Math.log(256)/Math.log(s);function d(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return yk.alloc(0);for(var n=0,r=0,i=0;e[n]===o;)r++,n++;for(var a=(e.length-n)*c+1>>>0,u=new Uint8Array(a);e[n];){var d=t[e.charCodeAt(n)];if(255===d)return;for(var f=0,l=a-1;(0!==d||f<i)&&-1!==l;l--,f++)d+=s*u[l]>>>0,u[l]=d%256>>>0,d=d/256>>>0;if(0!==d)throw new Error("Non-zero carry");i=f,n++}for(var h=a-i;h!==a&&0===u[h];)h++;var p=yk.allocUnsafe(r+(a-h));p.fill(0,0,r);for(var m=r;h!==a;)p[m++]=u[h++];return p}return{encode:function(t){if((Array.isArray(t)||t instanceof Uint8Array)&&(t=yk.from(t)),!yk.isBuffer(t))throw new TypeError("Expected Buffer");if(0===t.length)return"";for(var n=0,r=0,i=0,a=t.length;i!==a&&0===t[i];)i++,n++;for(var c=(a-i)*u+1>>>0,d=new Uint8Array(c);i!==a;){for(var f=t[i],l=0,h=c-1;(0!==f||l<r)&&-1!==h;h--,l++)f+=256*d[h]>>>0,d[h]=f%s>>>0,f=f/s>>>0;if(0!==f)throw new Error("Non-zero carry");r=l,i++}for(var p=c-r;p!==c&&0===d[p];)p++;for(var m=o.repeat(n);p<c;++p)m+=e.charAt(d[p]);return m},decodeUnsafe:d,decode:function(e){var t=d(e);if(t)return t;throw new Error("Non-base"+s+" character")}}},vk=gk("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),wk=cE.Buffer,_k=WS;var Ek=function(e){function t(t){var n=t.slice(0,-4),r=t.slice(-4),i=e(n);if(!(r[0]^i[0]|r[1]^i[1]|r[2]^i[2]|r[3]^i[3]))return n}return{encode:function(t){var n=e(t);return vk.encode(wk.concat([t,n],t.length+4))},decode:function(e){var n=t(vk.decode(e));if(!n)throw new Error("Invalid checksum");return n},decodeUnsafe:function(e){var n=vk.decodeUnsafe(e);if(n)return t(n)}}}((function(e){var t=_k("sha256").update(e).digest();return _k("sha256").update(t).digest()})),Tk={},Ak={};Object.defineProperty(Ak,"__esModule",{value:!0});var Rk=Rd.ripemd160,Sk=TE;Ak.ripemd160=Sk.createHashFunction((function(){return new Rk}));var kk={};Object.defineProperty(kk,"__esModule",{value:!0});var Ok=ju,Ik=TE;kk.sha256=Ik.createHashFunction((function(){return new Ok}));var xk=Jc,Ck=cE.Buffer,Mk=US,Pk=Ck.alloc(128),Nk=64;function Bk(e,t){Mk.call(this,"digest"),"string"==typeof t&&(t=Ck.from(t)),this._alg=e,this._key=t,t.length>Nk?t=e(t):t.length<Nk&&(t=Ck.concat([t,Pk],Nk));for(var n=this._ipad=Ck.allocUnsafe(Nk),r=this._opad=Ck.allocUnsafe(Nk),i=0;i<Nk;i++)n[i]=54^t[i],r[i]=92^t[i];this._hash=[n]}xk(Bk,Mk),Bk.prototype._update=function(e){this._hash.push(e)},Bk.prototype._final=function(){var e=this._alg(Ck.concat(this._hash));return this._alg(Ck.concat([this._opad,e]))};var Dk=bA,Lk=Jc,Fk=Bk,Uk=US,jk=cE.Buffer,qk=function(e){return(new Dk).update(e).digest()},zk=NA,Hk=XR,Gk=jk.alloc(128);function Wk(e,t){Uk.call(this,"digest"),"string"==typeof t&&(t=jk.from(t));var n="sha512"===e||"sha384"===e?128:64;(this._alg=e,this._key=t,t.length>n)?t=("rmd160"===e?new zk:Hk(e)).update(t).digest():t.length<n&&(t=jk.concat([t,Gk],n));for(var r=this._ipad=jk.allocUnsafe(n),i=this._opad=jk.allocUnsafe(n),a=0;a<n;a++)r[a]=54^t[a],i[a]=92^t[a];this._hash="rmd160"===e?new zk:Hk(e),this._hash.update(r)}Lk(Wk,Uk),Wk.prototype._update=function(e){this._hash.update(e)},Wk.prototype._final=function(){var e=this._hash.digest();return("rmd160"===this._alg?new zk:Hk(this._alg)).update(this._opad).update(e).digest()};Object.defineProperty(Tk,"__esModule",{value:!0});var Vk=Ak,Kk=kk;Tk.createHmac=function(e,t){return"rmd160"===(e=e.toLowerCase())||"ripemd160"===e?new Wk("rmd160",t):"md5"===e?new Fk(qk,t):new Wk(e,t)},Tk.randomBytes=hE;var Xk=function(){function e(e){this.hashFunction=e,this.buffers=[]}return e.prototype.update=function(e){if(!Buffer.isBuffer(e))throw new Error("hdkey-crypto shim is outdated");return this.buffers.push(e),this},e.prototype.digest=function(e){if(e)throw new Error("hdkey-crypto shim is outdated");return this.hashFunction(Buffer.concat(this.buffers))},e}();Tk.createHash=function(e){if("ripemd160"===e)return new Xk(Vk.ripemd160);if("sha256"===e)return new Xk(Kk.sha256);throw new Error("hdkey-crypto shim is outdated")};var $k={},Jk={},Yk=ir&&ir.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(Jk,"__esModule",{value:!0});var Qk=Yk(iE);function Zk(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Jk.privateKeyVerify=function(e){return Qk.privateKeyVerify(e)},Jk.publicKeyCreate=function(e,t){return void 0===t&&(t=!0),Buffer.from(Qk.publicKeyCreate(e,t))},Jk.publicKeyVerify=function(e){return Qk.publicKeyVerify(e)},Jk.publicKeyConvert=function(e,t){return void 0===t&&(t=!0),Buffer.from(Qk.publicKeyConvert(e,t))},Jk.privateKeyTweakAdd=function(e,t){return Buffer.from(Qk.privateKeyTweakAdd(Buffer.from(e),t))},Jk.publicKeyTweakAdd=function(e,t,n){return void 0===n&&(n=!0),Buffer.from(Qk.publicKeyTweakAdd(Buffer.from(e),t,n))},Jk.sign=function(e,t){var n=Qk.ecdsaSign(e,t);return{signature:Buffer.from(n.signature),recovery:n.recid}},Jk.verify=function(e,t,n){return Qk.ecdsaVerify(t,e,n)},function(e){Object.defineProperty(e,"__esModule",{value:!0}),function(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}(Jk)}($k);var eO=Zk(P_),tO=Zk(cE),nO=Zk(Ek),rO=Tk,iO=$k,aO=tO.Buffer,sO=aO.from("Bitcoin seed","utf8"),oO=2147483648,cO={private:76066276,public:76067358};function uO(e){this.versions=e||cO,this.depth=0,this.index=0,this._privateKey=null,this._publicKey=null,this.chainCode=null,this._fingerprint=0,this.parentFingerprint=0}function dO(e,t,n){var r=aO.allocUnsafe(78);r.writeUInt32BE(t,0),r.writeUInt8(e.depth,4);var i=e.depth?e.parentFingerprint:0;return r.writeUInt32BE(i,5),r.writeUInt32BE(e.index,9),e.chainCode.copy(r,13),n.copy(r,45),r}function fO(e){var t=rO.createHash("sha256").update(e).digest();return rO.createHash("ripemd160").update(t).digest()}Object.defineProperty(uO.prototype,"fingerprint",{get:function(){return this._fingerprint}}),Object.defineProperty(uO.prototype,"identifier",{get:function(){return this._identifier}}),Object.defineProperty(uO.prototype,"pubKeyHash",{get:function(){return this.identifier}}),Object.defineProperty(uO.prototype,"privateKey",{get:function(){return this._privateKey},set:function(e){eO.equal(e.length,32,"Private key must be 32 bytes."),eO(!0===iO.privateKeyVerify(e),"Invalid private key"),this._privateKey=e,this._publicKey=iO.publicKeyCreate(e,!0),this._identifier=fO(this.publicKey),this._fingerprint=this._identifier.slice(0,4).readUInt32BE(0)}}),Object.defineProperty(uO.prototype,"publicKey",{get:function(){return this._publicKey},set:function(e){eO(33===e.length||65===e.length,"Public key must be 33 or 65 bytes."),eO(!0===iO.publicKeyVerify(e),"Invalid public key"),this._publicKey=iO.publicKeyConvert(e,!0),this._identifier=fO(this.publicKey),this._fingerprint=this._identifier.slice(0,4).readUInt32BE(0),this._privateKey=null}}),Object.defineProperty(uO.prototype,"privateExtendedKey",{get:function(){return this._privateKey?nO.encode(dO(this,this.versions.private,aO.concat([aO.alloc(1,0),this.privateKey]))):null}}),Object.defineProperty(uO.prototype,"publicExtendedKey",{get:function(){return nO.encode(dO(this,this.versions.public,this.publicKey))}}),uO.prototype.derive=function(e){if("m"===e||"M"===e||"m'"===e||"M'"===e)return this;var t=e.split("/"),n=this;return t.forEach((function(e,t){if(0!==t){var r=e.length>1&&"'"===e[e.length-1],i=parseInt(e,10);eO(i<oO,"Invalid index"),r&&(i+=oO),n=n.deriveChild(i)}else eO(/^[mM]{1}/.test(e),'Path must start with "m" or "M"')})),n},uO.prototype.deriveChild=function(e){var t,n=e>=oO,r=aO.allocUnsafe(4);if(r.writeUInt32BE(e,0),n){eO(this.privateKey,"Could not derive hardened child key");var i=this.privateKey,a=aO.alloc(1,0);i=aO.concat([a,i]),t=aO.concat([i,r])}else t=aO.concat([this.publicKey,r]);var s=rO.createHmac("sha512",this.chainCode).update(t).digest(),o=s.slice(0,32),c=s.slice(32),u=new uO(this.versions);if(this.privateKey)try{u.privateKey=iO.privateKeyTweakAdd(this.privateKey,o)}catch(t){return this.deriveChild(e+1)}else try{u.publicKey=iO.publicKeyTweakAdd(this.publicKey,o,!0)}catch(t){return this.deriveChild(e+1)}return u.chainCode=c,u.depth=this.depth+1,u.parentFingerprint=this.fingerprint,u.index=e,u},uO.prototype.sign=function(e){return iO.sign(e,this.privateKey).signature},uO.prototype.verify=function(e,t){return iO.verify(e,t,this.publicKey)},uO.prototype.wipePrivateData=function(){return this._privateKey&&rO.randomBytes(this._privateKey.length).copy(this._privateKey),this._privateKey=null,this},uO.prototype.toJSON=function(){return{xpriv:this.privateExtendedKey,xpub:this.publicExtendedKey}},uO.fromMasterSeed=function(e,t){var n=rO.createHmac("sha512",sO).update(e).digest(),r=n.slice(0,32),i=n.slice(32),a=new uO(t);return a.chainCode=i,a.privateKey=r,a},uO.fromExtendedKey=function(e,t){var n=new uO(t=t||cO),r=nO.decode(e),i=r.readUInt32BE(0);eO(i===t.private||i===t.public,"Version mismatch: does not match private or public"),n.depth=r.readUInt8(4),n.parentFingerprint=r.readUInt32BE(5),n.index=r.readUInt32BE(9),n.chainCode=r.slice(13,45);var a=r.slice(45);return 0===a.readUInt8(0)?(eO(i===t.private,"Version mismatch: version does not match private"),n.privateKey=a.slice(1)):(eO(i===t.public,"Version mismatch: version does not match public"),n.publicKey=a),n},uO.fromJSON=function(e){return uO.fromExtendedKey(e.xpriv)},uO.HARDENED_OFFSET=oO;var lO=uO;Object.defineProperty(bk,"__esModule",{value:!0});var hO,pO=lO;bk.HDKey=pO;var mO={},bO={};
/*! https://mths.be/utf8js v3.0.0 by @mathias */
!function(e){!function(e){var t,n,r,i=String.fromCharCode;function a(e){for(var t,n,r=[],i=0,a=e.length;i<a;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<a?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function s(e){if(e>=55296&&e<=57343)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value")}function o(e,t){return i(e>>t&63|128)}function c(e){if(0==(4294967168&e))return i(e);var t="";return 0==(4294965248&e)?t=i(e>>6&31|192):0==(4294901760&e)?(s(e),t=i(e>>12&15|224),t+=o(e,6)):0==(4292870144&e)&&(t=i(e>>18&7|240),t+=o(e,12),t+=o(e,6)),t+=i(63&e|128)}function u(){if(r>=n)throw Error("Invalid byte index");var e=255&t[r];if(r++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function d(){var e,i;if(r>n)throw Error("Invalid byte index");if(r==n)return!1;if(e=255&t[r],r++,0==(128&e))return e;if(192==(224&e)){if((i=(31&e)<<6|u())>=128)return i;throw Error("Invalid continuation byte")}if(224==(240&e)){if((i=(15&e)<<12|u()<<6|u())>=2048)return s(i),i;throw Error("Invalid continuation byte")}if(240==(248&e)&&(i=(7&e)<<18|u()<<12|u()<<6|u())>=65536&&i<=1114111)return i;throw Error("Invalid UTF-8 detected")}e.version="3.0.0",e.encode=function(e){for(var t=a(e),n=t.length,r=-1,i="";++r<n;)i+=c(t[r]);return i},e.decode=function(e){t=a(e),n=t.length,r=0;for(var s,o=[];!1!==(s=d());)o.push(s);return function(e){for(var t,n=e.length,r=-1,a="";++r<n;)(t=e[r])>65535&&(a+=i((t-=65536)>>>10&1023|55296),t=56320|1023&t),a+=i(t);return a}(o)}}(e)}(bO);var yO={exports:{}};
/*! MIT License. Copyright 2015-2018 Richard Moore <me@ricmoo.com>. See LICENSE.txt. */!function(e,t){!function(t){function n(e){return parseInt(e)===e}function r(e){if(!n(e.length))return!1;for(var t=0;t<e.length;t++)if(!n(e[t])||e[t]<0||e[t]>255)return!1;return!0}function i(e,t){if(e.buffer&&"Uint8Array"===e.name)return t&&(e=e.slice?e.slice():Array.prototype.slice.call(e)),e;if(Array.isArray(e)){if(!r(e))throw new Error("Array contains invalid value: "+e);return new Uint8Array(e)}if(n(e.length)&&r(e))return new Uint8Array(e);throw new Error("unsupported array-like object")}function a(e){return new Uint8Array(e)}function s(e,t,n,r,i){null==r&&null==i||(e=e.slice?e.slice(r,i):Array.prototype.slice.call(e,r,i)),t.set(e,n)}var o,c={toBytes:function(e){var t=[],n=0;for(e=encodeURI(e);n<e.length;){var r=e.charCodeAt(n++);37===r?(t.push(parseInt(e.substr(n,2),16)),n+=2):t.push(r)}return i(t)},fromBytes:function(e){for(var t=[],n=0;n<e.length;){var r=e[n];r<128?(t.push(String.fromCharCode(r)),n++):r>191&&r<224?(t.push(String.fromCharCode((31&r)<<6|63&e[n+1])),n+=2):(t.push(String.fromCharCode((15&r)<<12|(63&e[n+1])<<6|63&e[n+2])),n+=3)}return t.join("")}},u=(o="0123456789abcdef",{toBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},fromBytes:function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push(o[(240&r)>>4]+o[15&r])}return t.join("")}}),d={16:10,24:12,32:14},f=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],l=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],h=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],p=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],m=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],b=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],y=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],g=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],v=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],w=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],_=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],E=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],T=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],A=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],R=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function S(e){for(var t=[],n=0;n<e.length;n+=4)t.push(e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3]);return t}var k=function(e){if(!(this instanceof k))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:i(e,!0)}),this._prepare()};k.prototype._prepare=function(){var e=d[this.key.length];if(null==e)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var t=0;t<=e;t++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);var n,r=4*(e+1),i=this.key.length/4,a=S(this.key);for(t=0;t<i;t++)n=t>>2,this._Ke[n][t%4]=a[t],this._Kd[e-n][t%4]=a[t];for(var s,o=0,c=i;c<r;){if(s=a[i-1],a[0]^=l[s>>16&255]<<24^l[s>>8&255]<<16^l[255&s]<<8^l[s>>24&255]^f[o]<<24,o+=1,8!=i)for(t=1;t<i;t++)a[t]^=a[t-1];else{for(t=1;t<i/2;t++)a[t]^=a[t-1];s=a[i/2-1],a[i/2]^=l[255&s]^l[s>>8&255]<<8^l[s>>16&255]<<16^l[s>>24&255]<<24;for(t=i/2+1;t<i;t++)a[t]^=a[t-1]}for(t=0;t<i&&c<r;)u=c>>2,h=c%4,this._Ke[u][h]=a[t],this._Kd[e-u][h]=a[t++],c++}for(var u=1;u<e;u++)for(var h=0;h<4;h++)s=this._Kd[u][h],this._Kd[u][h]=E[s>>24&255]^T[s>>16&255]^A[s>>8&255]^R[255&s]},k.prototype.encrypt=function(e){if(16!=e.length)throw new Error("invalid plaintext size (must be 16 bytes)");for(var t=this._Ke.length-1,n=[0,0,0,0],r=S(e),i=0;i<4;i++)r[i]^=this._Ke[0][i];for(var s=1;s<t;s++){for(i=0;i<4;i++)n[i]=p[r[i]>>24&255]^m[r[(i+1)%4]>>16&255]^b[r[(i+2)%4]>>8&255]^y[255&r[(i+3)%4]]^this._Ke[s][i];r=n.slice()}var o,c=a(16);for(i=0;i<4;i++)o=this._Ke[t][i],c[4*i]=255&(l[r[i]>>24&255]^o>>24),c[4*i+1]=255&(l[r[(i+1)%4]>>16&255]^o>>16),c[4*i+2]=255&(l[r[(i+2)%4]>>8&255]^o>>8),c[4*i+3]=255&(l[255&r[(i+3)%4]]^o);return c},k.prototype.decrypt=function(e){if(16!=e.length)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var t=this._Kd.length-1,n=[0,0,0,0],r=S(e),i=0;i<4;i++)r[i]^=this._Kd[0][i];for(var s=1;s<t;s++){for(i=0;i<4;i++)n[i]=g[r[i]>>24&255]^v[r[(i+3)%4]>>16&255]^w[r[(i+2)%4]>>8&255]^_[255&r[(i+1)%4]]^this._Kd[s][i];r=n.slice()}var o,c=a(16);for(i=0;i<4;i++)o=this._Kd[t][i],c[4*i]=255&(h[r[i]>>24&255]^o>>24),c[4*i+1]=255&(h[r[(i+3)%4]>>16&255]^o>>16),c[4*i+2]=255&(h[r[(i+2)%4]>>8&255]^o>>8),c[4*i+3]=255&(h[255&r[(i+1)%4]]^o);return c};var O=function(e){if(!(this instanceof O))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new k(e)};O.prototype.encrypt=function(e){if((e=i(e)).length%16!=0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var t=a(e.length),n=a(16),r=0;r<e.length;r+=16)s(e,n,0,r,r+16),s(n=this._aes.encrypt(n),t,r);return t},O.prototype.decrypt=function(e){if((e=i(e)).length%16!=0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var t=a(e.length),n=a(16),r=0;r<e.length;r+=16)s(e,n,0,r,r+16),s(n=this._aes.decrypt(n),t,r);return t};var I=function(e,t){if(!(this instanceof I))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",t){if(16!=t.length)throw new Error("invalid initialation vector size (must be 16 bytes)")}else t=a(16);this._lastCipherblock=i(t,!0),this._aes=new k(e)};I.prototype.encrypt=function(e){if((e=i(e)).length%16!=0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var t=a(e.length),n=a(16),r=0;r<e.length;r+=16){s(e,n,0,r,r+16);for(var o=0;o<16;o++)n[o]^=this._lastCipherblock[o];this._lastCipherblock=this._aes.encrypt(n),s(this._lastCipherblock,t,r)}return t},I.prototype.decrypt=function(e){if((e=i(e)).length%16!=0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var t=a(e.length),n=a(16),r=0;r<e.length;r+=16){s(e,n,0,r,r+16),n=this._aes.decrypt(n);for(var o=0;o<16;o++)t[r+o]=n[o]^this._lastCipherblock[o];s(e,this._lastCipherblock,0,r,r+16)}return t};var x=function(e,t,n){if(!(this instanceof x))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",t){if(16!=t.length)throw new Error("invalid initialation vector size (must be 16 size)")}else t=a(16);n||(n=1),this.segmentSize=n,this._shiftRegister=i(t,!0),this._aes=new k(e)};x.prototype.encrypt=function(e){if(e.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var t,n=i(e,!0),r=0;r<n.length;r+=this.segmentSize){t=this._aes.encrypt(this._shiftRegister);for(var a=0;a<this.segmentSize;a++)n[r+a]^=t[a];s(this._shiftRegister,this._shiftRegister,0,this.segmentSize),s(n,this._shiftRegister,16-this.segmentSize,r,r+this.segmentSize)}return n},x.prototype.decrypt=function(e){if(e.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var t,n=i(e,!0),r=0;r<n.length;r+=this.segmentSize){t=this._aes.encrypt(this._shiftRegister);for(var a=0;a<this.segmentSize;a++)n[r+a]^=t[a];s(this._shiftRegister,this._shiftRegister,0,this.segmentSize),s(e,this._shiftRegister,16-this.segmentSize,r,r+this.segmentSize)}return n};var C=function(e,t){if(!(this instanceof C))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",t){if(16!=t.length)throw new Error("invalid initialation vector size (must be 16 bytes)")}else t=a(16);this._lastPrecipher=i(t,!0),this._lastPrecipherIndex=16,this._aes=new k(e)};C.prototype.encrypt=function(e){for(var t=i(e,!0),n=0;n<t.length;n++)16===this._lastPrecipherIndex&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),t[n]^=this._lastPrecipher[this._lastPrecipherIndex++];return t},C.prototype.decrypt=C.prototype.encrypt;var M=function(e){if(!(this instanceof M))throw Error("Counter must be instanitated with `new`");0===e||e||(e=1),"number"==typeof e?(this._counter=a(16),this.setValue(e)):this.setBytes(e)};M.prototype.setValue=function(e){if("number"!=typeof e||parseInt(e)!=e)throw new Error("invalid counter value (must be an integer)");if(e>Number.MAX_SAFE_INTEGER)throw new Error("integer value out of safe range");for(var t=15;t>=0;--t)this._counter[t]=e%256,e=parseInt(e/256)},M.prototype.setBytes=function(e){if(16!=(e=i(e,!0)).length)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=e},M.prototype.increment=function(){for(var e=15;e>=0;e--){if(255!==this._counter[e]){this._counter[e]++;break}this._counter[e]=0}};var P=function(e,t){if(!(this instanceof P))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",t instanceof M||(t=new M(t)),this._counter=t,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new k(e)};P.prototype.encrypt=function(e){for(var t=i(e,!0),n=0;n<t.length;n++)16===this._remainingCounterIndex&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),t[n]^=this._remainingCounter[this._remainingCounterIndex++];return t},P.prototype.decrypt=P.prototype.encrypt;var N={AES:k,Counter:M,ModeOfOperation:{ecb:O,cbc:I,cfb:x,ofb:C,ctr:P},utils:{hex:u,utf8:c},padding:{pkcs7:{pad:function(e){var t=16-(e=i(e,!0)).length%16,n=a(e.length+t);s(e,n);for(var r=e.length;r<n.length;r++)n[r]=t;return n},strip:function(e){if((e=i(e,!0)).length<16)throw new Error("PKCS#7 invalid length");var t=e[e.length-1];if(t>16)throw new Error("PKCS#7 padding byte out of range");for(var n=e.length-t,r=0;r<t;r++)if(e[n+r]!==t)throw new Error("PKCS#7 invalid padding byte");var o=a(n);return s(e,o,0,0,n),o}}},_arrayTest:{coerceArray:i,createArray:a,copyArray:s}};e.exports=N}()}(yO);var gO,vO,wO=yO.exports;function _O(){if(gO)return mO;gO=1;var e=ir&&ir.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),t=ir&&ir.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=ir&&ir.__importStar||function(n){if(n&&n.__esModule)return n;var r={};if(null!=n)for(var i in n)"default"!==i&&Object.prototype.hasOwnProperty.call(n,i)&&e(r,n,i);return t(r,n),r},r=ir&&ir.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function s(e){try{c(r.next(e))}catch(e){a(e)}}function o(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}c((r=r.apply(e,t||[])).next())}))},i=ir&&ir.__generator||function(e,t){var n,r,i,a,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(a){return function(o){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}},a=ir&&ir.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(mO,"__esModule",{value:!0}),mO.fromQuorumWallet=mO.fromKryptoKit=mO.fromEtherCamp=mO.fromEtherWallet=void 0;var s=n(Gy),o=p_,c=wh,u=a(YO()),d=bO,f=wO;var l={count:1,keysize:16,ivsize:16,digest:"md5"};function h(e,t,n){var r=function(e){return e?{count:e.count||l.count,keysize:e.keysize||l.keysize,ivsize:e.ivsize||l.ivsize,digest:e.digest||l.digest}:l}(n);function i(n){var i=s.createHash(r.digest);i.update(n),i.update(e),i.update(t),n=i.digest();for(var a=1,o=r.count;a<o;a++)(i=s.createHash(r.digest)).update(n),n=i.digest();return n}for(var a=[],o=0;Buffer.concat(a).length<r.keysize+r.ivsize;)a[o]=i(0===o?Buffer.alloc(0):a[o-1]),o++;var c=Buffer.concat(a);return{key:c.slice(0,r.keysize),iv:c.slice(r.keysize,r.keysize+r.ivsize)}}function p(e,t){var n,r="object"==typeof e?e:JSON.parse(e);if(r.locked){if("string"!=typeof t)throw new Error("Password required");if(t.length<7)throw new Error("Password must be at least 7 characters");var i=function(e){var t=Buffer.from(e,"base64");return"Salted__"===t.slice(0,8).toString()?{salt:t.slice(8,16),ciphertext:t.slice(16)}:{ciphertext:t}}(r.encrypted?r.private.slice(0,128):r.private);if(!i.salt)throw new Error("Unsupported EtherWallet key format");var a=h(Buffer.from(t),i.salt,{keysize:32,ivsize:16});n=function(e,t){return Buffer.concat([e.update(t),e.final()])}(s.createDecipheriv("aes-256-cbc",a.key,a.iv),Buffer.from(i.ciphertext)),n=Buffer.from(d.decode(n.toString()),"hex")}else{if(64!==r.private.length)throw new Error("Invalid private key length");n=Buffer.from(r.private,"hex")}var o=new u.default(n);if(o.getAddressString()!==r.address)throw new Error("Invalid private key or address");return o}function m(e){return new u.default((0,o.keccak256)(Buffer.from(e)))}function b(e,t){return r(this,void 0,void 0,(function(){var n,r,a,s,d,l,h;return i(this,(function(i){switch(i.label){case 0:return"#"===e[0]&&(e=e.slice(1)),n=e[0],e=e.slice(1),"d"!==n?[3,1]:(r=(0,o.sha256)((0,o.toBuffer)(e)),[3,4]);case 1:if("q"!==n)return[3,3];if("string"!=typeof t)throw new Error("Password required");return a=(0,o.sha256)(Buffer.from(e.slice(0,30))),s=e.slice(30,46),d=function(e){function t(e){try{return decodeURIComponent(e)}catch(e){return String.fromCharCode(65533)}}for(var n="",r="",i=0;i<e.length;i++)e[i]<=127?(n+=t(r)+String.fromCharCode(e[i]),r=""):r+="%"+e[i].toString(16);return Buffer.from(n+t(r))}(a),[4,(0,c.scrypt)(Buffer.from(t,"utf8"),d,16384,8,1,32)];case 2:if(l=i.sent(),h=new f.ModeOfOperation.ecb(l),r=Buffer.concat([Buffer.from(h.decrypt(a.slice(0,16))),Buffer.from(h.decrypt(a.slice(16,32)))]),s.length>0&&s!==(0,o.sha256)((0,o.sha256)(r)).slice(0,8).toString("hex"))throw new Error("Failed to decrypt input - possibly invalid passphrase");return[3,4];case 3:throw new Error("Unsupported or invalid entropy type");case 4:return[2,new u.default(r)]}}))}))}function y(e,t){if(e.length<10)throw new Error("Passphrase must be at least 10 characters");if(t.length<10)throw new Error("User id must be at least 10 characters");var n=e+t,r=s.pbkdf2Sync(n,n,2e3,32,"sha256");return new u.default(r)}mO.fromEtherWallet=p,mO.fromEtherCamp=m,mO.fromKryptoKit=b,mO.fromQuorumWallet=y;var g={fromEtherWallet:p,fromEtherCamp:m,fromKryptoKit:b,fromQuorumWallet:y};return mO.default=g,mO}var EO=new Uint8Array(16);function TO(){if(!vO&&!(vO="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return vO(EO)}var AO=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function RO(e){return"string"==typeof e&&AO.test(e)}for(var SO,kO,OO=[],IO=0;IO<256;++IO)OO.push((IO+256).toString(16).substr(1));function xO(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(OO[e[t+0]]+OO[e[t+1]]+OO[e[t+2]]+OO[e[t+3]]+"-"+OO[e[t+4]]+OO[e[t+5]]+"-"+OO[e[t+6]]+OO[e[t+7]]+"-"+OO[e[t+8]]+OO[e[t+9]]+"-"+OO[e[t+10]]+OO[e[t+11]]+OO[e[t+12]]+OO[e[t+13]]+OO[e[t+14]]+OO[e[t+15]]).toLowerCase();if(!RO(n))throw TypeError("Stringified UUID is invalid");return n}var CO=0,MO=0;function PO(e){if(!RO(e))throw TypeError("Invalid UUID");var t,n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=255&t,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=255&t,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=255&t,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=255&t,n}function NO(e,t,n){function r(e,r,i,a){if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}(e)),"string"==typeof r&&(r=PO(r)),16!==r.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var s=new Uint8Array(16+e.length);if(s.set(r),s.set(e,r.length),(s=n(s))[6]=15&s[6]|t,s[8]=63&s[8]|128,i){a=a||0;for(var o=0;o<16;++o)i[a+o]=s[o];return i}return xO(s)}try{r.name=e}catch(e){}return r.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",r.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",r}function BO(e){return 14+(e+64>>>9<<4)+1}function DO(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function LO(e,t,n,r,i,a){return DO((s=DO(DO(t,e),DO(r,a)))<<(o=i)|s>>>32-o,n);var s,o}function FO(e,t,n,r,i,a,s){return LO(t&n|~t&r,e,t,i,a,s)}function UO(e,t,n,r,i,a,s){return LO(t&r|n&~r,e,t,i,a,s)}function jO(e,t,n,r,i,a,s){return LO(t^n^r,e,t,i,a,s)}function qO(e,t,n,r,i,a,s){return LO(n^(t|~r),e,t,i,a,s)}var zO=NO("v3",48,(function(e){if("string"==typeof e){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var n=0;n<t.length;++n)e[n]=t.charCodeAt(n)}return function(e){for(var t=[],n=32*e.length,r="0123456789abcdef",i=0;i<n;i+=8){var a=e[i>>5]>>>i%32&255,s=parseInt(r.charAt(a>>>4&15)+r.charAt(15&a),16);t.push(s)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[BO(t)-1]=t;for(var n=1732584193,r=-271733879,i=-1732584194,a=271733878,s=0;s<e.length;s+=16){var o=n,c=r,u=i,d=a;n=FO(n,r,i,a,e[s],7,-680876936),a=FO(a,n,r,i,e[s+1],12,-389564586),i=FO(i,a,n,r,e[s+2],17,606105819),r=FO(r,i,a,n,e[s+3],22,-1044525330),n=FO(n,r,i,a,e[s+4],7,-176418897),a=FO(a,n,r,i,e[s+5],12,1200080426),i=FO(i,a,n,r,e[s+6],17,-1473231341),r=FO(r,i,a,n,e[s+7],22,-45705983),n=FO(n,r,i,a,e[s+8],7,1770035416),a=FO(a,n,r,i,e[s+9],12,-1958414417),i=FO(i,a,n,r,e[s+10],17,-42063),r=FO(r,i,a,n,e[s+11],22,-1990404162),n=FO(n,r,i,a,e[s+12],7,1804603682),a=FO(a,n,r,i,e[s+13],12,-40341101),i=FO(i,a,n,r,e[s+14],17,-1502002290),n=UO(n,r=FO(r,i,a,n,e[s+15],22,1236535329),i,a,e[s+1],5,-165796510),a=UO(a,n,r,i,e[s+6],9,-1069501632),i=UO(i,a,n,r,e[s+11],14,643717713),r=UO(r,i,a,n,e[s],20,-373897302),n=UO(n,r,i,a,e[s+5],5,-701558691),a=UO(a,n,r,i,e[s+10],9,38016083),i=UO(i,a,n,r,e[s+15],14,-660478335),r=UO(r,i,a,n,e[s+4],20,-405537848),n=UO(n,r,i,a,e[s+9],5,568446438),a=UO(a,n,r,i,e[s+14],9,-1019803690),i=UO(i,a,n,r,e[s+3],14,-187363961),r=UO(r,i,a,n,e[s+8],20,1163531501),n=UO(n,r,i,a,e[s+13],5,-1444681467),a=UO(a,n,r,i,e[s+2],9,-51403784),i=UO(i,a,n,r,e[s+7],14,1735328473),n=jO(n,r=UO(r,i,a,n,e[s+12],20,-1926607734),i,a,e[s+5],4,-378558),a=jO(a,n,r,i,e[s+8],11,-2022574463),i=jO(i,a,n,r,e[s+11],16,1839030562),r=jO(r,i,a,n,e[s+14],23,-35309556),n=jO(n,r,i,a,e[s+1],4,-1530992060),a=jO(a,n,r,i,e[s+4],11,1272893353),i=jO(i,a,n,r,e[s+7],16,-155497632),r=jO(r,i,a,n,e[s+10],23,-1094730640),n=jO(n,r,i,a,e[s+13],4,681279174),a=jO(a,n,r,i,e[s],11,-358537222),i=jO(i,a,n,r,e[s+3],16,-722521979),r=jO(r,i,a,n,e[s+6],23,76029189),n=jO(n,r,i,a,e[s+9],4,-640364487),a=jO(a,n,r,i,e[s+12],11,-421815835),i=jO(i,a,n,r,e[s+15],16,530742520),n=qO(n,r=jO(r,i,a,n,e[s+2],23,-995338651),i,a,e[s],6,-198630844),a=qO(a,n,r,i,e[s+7],10,1126891415),i=qO(i,a,n,r,e[s+14],15,-1416354905),r=qO(r,i,a,n,e[s+5],21,-57434055),n=qO(n,r,i,a,e[s+12],6,1700485571),a=qO(a,n,r,i,e[s+3],10,-1894986606),i=qO(i,a,n,r,e[s+10],15,-1051523),r=qO(r,i,a,n,e[s+1],21,-2054922799),n=qO(n,r,i,a,e[s+8],6,1873313359),a=qO(a,n,r,i,e[s+15],10,-30611744),i=qO(i,a,n,r,e[s+6],15,-1560198380),r=qO(r,i,a,n,e[s+13],21,1309151649),n=qO(n,r,i,a,e[s+4],6,-145523070),a=qO(a,n,r,i,e[s+11],10,-1120210379),i=qO(i,a,n,r,e[s+2],15,718787259),r=qO(r,i,a,n,e[s+9],21,-343485551),n=DO(n,o),r=DO(r,c),i=DO(i,u),a=DO(a,d)}return[n,r,i,a]}(function(e){if(0===e.length)return[];for(var t=8*e.length,n=new Uint32Array(BO(t)),r=0;r<t;r+=8)n[r>>5]|=(255&e[r/8])<<r%32;return n}(e),8*e.length))})),HO=zO;function GO(e,t,n,r){switch(e){case 0:return t&n^~t&r;case 1:case 3:return t^n^r;case 2:return t&n^t&r^n&r}}function WO(e,t){return e<<t|e>>>32-t}var VO=NO("v5",80,(function(e){var t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){var r=unescape(encodeURIComponent(e));e=[];for(var i=0;i<r.length;++i)e.push(r.charCodeAt(i))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var a=e.length/4+2,s=Math.ceil(a/16),o=new Array(s),c=0;c<s;++c){for(var u=new Uint32Array(16),d=0;d<16;++d)u[d]=e[64*c+4*d]<<24|e[64*c+4*d+1]<<16|e[64*c+4*d+2]<<8|e[64*c+4*d+3];o[c]=u}o[s-1][14]=8*(e.length-1)/Math.pow(2,32),o[s-1][14]=Math.floor(o[s-1][14]),o[s-1][15]=8*(e.length-1)&4294967295;for(var f=0;f<s;++f){for(var l=new Uint32Array(80),h=0;h<16;++h)l[h]=o[f][h];for(var p=16;p<80;++p)l[p]=WO(l[p-3]^l[p-8]^l[p-14]^l[p-16],1);for(var m=n[0],b=n[1],y=n[2],g=n[3],v=n[4],w=0;w<80;++w){var _=Math.floor(w/20),E=WO(m,5)+GO(_,b,y,g)+v+t[_]+l[w]>>>0;v=g,g=y,y=WO(b,30)>>>0,b=m,m=E}n[0]=n[0]+m>>>0,n[1]=n[1]+b>>>0,n[2]=n[2]+y>>>0,n[3]=n[3]+g>>>0,n[4]=n[4]+v>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]})),KO=VO;var XO,$O=Object.freeze({__proto__:null,NIL:"00000000-0000-0000-0000-000000000000",parse:PO,stringify:xO,v1:function(e,t,n){var r=t&&n||0,i=t||new Array(16),a=(e=e||{}).node||SO,s=void 0!==e.clockseq?e.clockseq:kO;if(null==a||null==s){var o=e.random||(e.rng||TO)();null==a&&(a=SO=[1|o[0],o[1],o[2],o[3],o[4],o[5]]),null==s&&(s=kO=16383&(o[6]<<8|o[7]))}var c=void 0!==e.msecs?e.msecs:Date.now(),u=void 0!==e.nsecs?e.nsecs:MO+1,d=c-CO+(u-MO)/1e4;if(d<0&&void 0===e.clockseq&&(s=s+1&16383),(d<0||c>CO)&&void 0===e.nsecs&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");CO=c,MO=u,kO=s;var f=(1e4*(268435455&(c+=122192928e5))+u)%4294967296;i[r++]=f>>>24&255,i[r++]=f>>>16&255,i[r++]=f>>>8&255,i[r++]=255&f;var l=c/4294967296*1e4&268435455;i[r++]=l>>>8&255,i[r++]=255&l,i[r++]=l>>>24&15|16,i[r++]=l>>>16&255,i[r++]=s>>>8|128,i[r++]=255&s;for(var h=0;h<6;++h)i[r+h]=a[h];return t||xO(i)},v3:HO,v4:function(e,t,n){var r=(e=e||{}).random||(e.rng||TO)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return xO(r)},v5:KO,validate:RO,version:function(e){if(!RO(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}}),JO=sr($O);function YO(){return XO||(XO=1,function(e){var t=ir&&ir.__assign||function(){return t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},t.apply(this,arguments)},n=ir&&ir.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),r=ir&&ir.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=ir&&ir.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&n(t,e,i);return r(t,e),t},a=ir&&ir.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function s(e){try{c(r.next(e))}catch(e){a(e)}}function o(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}c((r=r.apply(e,t||[])).next())}))},s=ir&&ir.__generator||function(e,t){var n,r,i,a,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(a){return function(o){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}},o=ir&&ir.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.thirdparty=e.hdkey=void 0;var c=i(Gy),u=p_,d=wh,f=function(){if(hO)return mk;hO=1;var e=ir&&ir.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(mk,"__esModule",{value:!0});var t=e(YO()),n=bk,r=function(){function e(e){this._hdkey=e}return e.fromMasterSeed=function(t){return new e(n.HDKey.fromMasterSeed(t))},e.fromExtendedKey=function(t){return new e(n.HDKey.fromExtendedKey(t))},e.prototype.privateExtendedKey=function(){if(!this._hdkey.privateExtendedKey)throw new Error("This is a public key only wallet");return this._hdkey.privateExtendedKey},e.prototype.publicExtendedKey=function(){return this._hdkey.publicExtendedKey},e.prototype.derivePath=function(t){return new e(this._hdkey.derive(t))},e.prototype.deriveChild=function(t){return new e(this._hdkey.deriveChild(t))},e.prototype.getWallet=function(){return this._hdkey._privateKey?t.default.fromPrivateKey(this._hdkey._privateKey):t.default.fromPublicKey(this._hdkey._publicKey,!0)},e}();return mk.default=r,mk}();Object.defineProperty(e,"hdkey",{enumerable:!0,get:function(){return o(f).default}});var l=_O();Object.defineProperty(e,"thirdparty",{enumerable:!0,get:function(){return o(l).default}});var h=Ek,p=hE,m=JO.v4;function b(e,t,n){if(t.toLowerCase().startsWith("0x")&&(t=t.slice(2)),!t&&!n)return t;if(n%2)throw new Error("Invalid length argument, must be an even number");if("number"==typeof n&&t.length!==n)throw new Error("Invalid "+e+", string must be "+n+" hex characters");if(!/^([0-9a-f]{2})+$/i.test(t))throw new Error("Invalid "+e+", string must be "+("number"==typeof n?n:"empty or a non-zero even number of")+" hex characters");return t}function y(e,t,n){if(!Buffer.isBuffer(t))throw new Error("Invalid "+e+", must be a string ("+("number"==typeof n?""+2*n:"empty or a non-zero even number of")+" hex characters) or buffer"+("number"==typeof n?" ("+n+" bytes)":""));if("number"==typeof n&&t.length!==n)throw new Error("Invalid "+e+", buffer must be "+n+" bytes");return t}var g=function(){function e(e,t){if(void 0===t&&(t=void 0),this.privateKey=e,this.publicKey=t,e&&t)throw new Error("Cannot supply both a private and a public key to the constructor");if(e&&!(0,u.isValidPrivate)(e))throw new Error("Private key does not satisfy the curve requirements (ie. it is invalid)");if(t&&!(0,u.isValidPublic)(t))throw new Error("Invalid public key")}return e.generate=function(t){if(void 0===t&&(t=!1),!t)return new e(p(32));for(var n=new u.BN("088f924eeceeda7fe92e1f5b0fffffffffffffff",16);;){var r=p(32);if(new u.BN((0,u.privateToAddress)(r)).lte(n))return new e(r)}},e.generateVanityAddress=function(t){for(t instanceof RegExp||(t=new RegExp(t));;){var n=p(32),r=(0,u.privateToAddress)(n);if(t.test(r.toString("hex")))return new e(n)}},e.fromPublicKey=function(t,n){return void 0===n&&(n=!1),n&&(t=(0,u.importPublic)(t)),new e(void 0,t)},e.fromExtendedPublicKey=function(t){if("xpub"!==t.slice(0,4))throw new Error("Not an extended public key");var n=h.decode(t).slice(45);return e.fromPublicKey(n,!0)},e.fromPrivateKey=function(t){return new e(t)},e.fromExtendedPrivateKey=function(t){if("xprv"!==t.slice(0,4))throw new Error("Not an extended private key");var n=h.decode(t);if(0!==n[45])throw new Error("Invalid extended private key");return e.fromPrivateKey(n.slice(46))},e.fromV1=function(t,n){return a(this,void 0,void 0,(function(){var r,i,a,o,f;return s(this,(function(s){switch(s.label){case 0:if("1"!==(r="object"==typeof t?t:JSON.parse(t)).Version)throw new Error("Not a V1 Wallet");if("scrypt"!==r.Crypto.KeyHeader.Kdf)throw new Error("Unsupported key derivation scheme");return i=r.Crypto.KeyHeader.KdfParams,[4,(0,d.scrypt)(Buffer.from(n),Buffer.from(r.Crypto.Salt,"hex"),i.N,i.R,i.P,i.DkLen)];case 1:if(a=s.sent(),o=Buffer.from(r.Crypto.CipherText,"hex"),(0,u.keccak256)(Buffer.concat([a.slice(16,32),o])).toString("hex")!==r.Crypto.MAC)throw new Error("Key derivation failed - possibly wrong passphrase");return f=c.createDecipheriv("aes-128-cbc",(0,u.keccak256)(a.slice(0,16)).slice(0,16),Buffer.from(r.Crypto.IV,"hex")),[2,new e(v(f,o))]}}))}))},e.fromV3=function(t,n,r){return void 0===r&&(r=!1),a(this,void 0,void 0,(function(){var i,a,o,f,l;return s(this,(function(s){switch(s.label){case 0:if(3!==(i="object"==typeof t?t:JSON.parse(r?t.toLowerCase():t)).version)throw new Error("Not a V3 wallet");return"scrypt"!==i.crypto.kdf?[3,2]:(o=i.crypto.kdfparams,[4,(0,d.scrypt)(Buffer.from(n),Buffer.from(o.salt,"hex"),o.n,o.r,o.p,o.dklen)]);case 1:return a=s.sent(),[3,3];case 2:if("pbkdf2"!==i.crypto.kdf)throw new Error("Unsupported key derivation scheme");if("hmac-sha256"!==(o=i.crypto.kdfparams).prf)throw new Error("Unsupported parameters to PBKDF2");a=c.pbkdf2Sync(Buffer.from(n),Buffer.from(o.salt,"hex"),o.c,o.dklen,"sha256"),s.label=3;case 3:if(f=Buffer.from(i.crypto.ciphertext,"hex"),(0,u.keccak256)(Buffer.concat([Buffer.from(a.slice(16,32)),f])).toString("hex")!==i.crypto.mac)throw new Error("Key derivation failed - possibly wrong passphrase");return l=c.createDecipheriv(i.crypto.cipher,a.slice(0,16),Buffer.from(i.crypto.cipherparams.iv,"hex")),[2,new e(v(l,f))]}}))}))},e.fromEthSale=function(t,n){var r="object"==typeof t?t:JSON.parse(t),i=Buffer.from(r.encseed,"hex"),a=c.pbkdf2Sync(n,n,2e3,32,"sha256").slice(0,16),s=v(c.createDecipheriv("aes-128-cbc",a,i.slice(0,16)),i.slice(16)),o=new e((0,u.keccak256)(s));if(o.getAddress().toString("hex")!==r.ethaddr)throw new Error("Decoded key mismatch - possibly wrong passphrase");return o},Object.defineProperty(e.prototype,"pubKey",{get:function(){return w(this.publicKey)||(this.publicKey=(0,u.privateToPublic)(this.privateKey)),this.publicKey},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"privKey",{get:function(){if(!w(this.privateKey))throw new Error("This is a public key only wallet");return this.privateKey},enumerable:!1,configurable:!0}),e.prototype.getPrivateKey=function(){return this.privKey},e.prototype.getPrivateKeyString=function(){return(0,u.bufferToHex)(this.privKey)},e.prototype.getPublicKey=function(){return this.pubKey},e.prototype.getPublicKeyString=function(){return(0,u.bufferToHex)(this.getPublicKey())},e.prototype.getAddress=function(){return(0,u.publicToAddress)(this.pubKey)},e.prototype.getAddressString=function(){return(0,u.bufferToHex)(this.getAddress())},e.prototype.getChecksumAddressString=function(){return(0,u.toChecksumAddress)(this.getAddressString())},e.prototype.toV3=function(e,n){return a(this,void 0,void 0,(function(){var r,i,a,o,f,l;return s(this,(function(s){switch(s.label){case 0:if(!w(this.privateKey))throw new Error("This is a public key only wallet");switch(h=n,g={cipher:"aes-128-ctr",kdf:"scrypt",salt:p(32),iv:p(16),uuid:p(16),dklen:32,c:262144,n:262144,r:8,p:1},r=h?("string"==typeof h.salt&&(h.salt=Buffer.from(b("salt",h.salt),"hex")),"string"==typeof h.iv&&(h.iv=Buffer.from(b("iv",h.iv,32),"hex")),"string"==typeof h.uuid&&(h.uuid=Buffer.from(b("uuid",h.uuid,32),"hex")),h.salt&&y("salt",h.salt),h.iv&&y("iv",h.iv,16),h.uuid&&y("uuid",h.uuid,16),t(t({},g),h)):g,r.kdf){case"pbkdf2":return[3,1];case"scrypt":return[3,2]}return[3,4];case 1:return i=function(e){return{dklen:e.dklen,salt:e.salt,c:e.c,prf:"hmac-sha256"}}(r),a=c.pbkdf2Sync(Buffer.from(e),i.salt,i.c,i.dklen,"sha256"),[3,5];case 2:return i=function(e){return{dklen:e.dklen,salt:e.salt,n:e.n,r:e.r,p:e.p}}(r),[4,(0,d.scrypt)(Buffer.from(e),i.salt,i.n,i.r,i.p,i.dklen)];case 3:return a=s.sent(),[3,5];case 4:throw new Error("Unsupported kdf");case 5:if(!(o=c.createCipheriv(r.cipher,a.slice(0,16),r.iv)))throw new Error("Unsupported cipher");return f=v(o,this.privKey),l=(0,u.keccak256)(Buffer.concat([Buffer.from(a.slice(16,32)),Buffer.from(f)])),[2,{version:3,id:m({random:r.uuid}),address:this.getAddress().toString("hex"),crypto:{ciphertext:f.toString("hex"),cipherparams:{iv:r.iv.toString("hex")},cipher:r.cipher,kdf:r.kdf,kdfparams:t(t({},i),{salt:i.salt.toString("hex")}),mac:l.toString("hex")}}]}var h,g}))}))},e.prototype.getV3Filename=function(e){return["UTC--",(e?new Date(e):new Date).toJSON().replace(/:/g,"-"),"--",this.getAddress().toString("hex")].join("")},e.prototype.toV3String=function(e,t){return a(this,void 0,void 0,(function(){var n,r;return s(this,(function(i){switch(i.label){case 0:return r=(n=JSON).stringify,[4,this.toV3(e,t)];case 1:return[2,r.apply(n,[i.sent()])]}}))}))},e}();function v(e,t){return Buffer.concat([e.update(t),e.final()])}function w(e){return null!=e}e.default=g}(h_)),h_}var QO=YO(),ZO={exports:{}},eI=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}},tI=eI,nI=Object.prototype.toString;function rI(e){return Array.isArray(e)}function iI(e){return void 0===e}function aI(e){return"[object ArrayBuffer]"===nI.call(e)}function sI(e){return null!==e&&"object"==typeof e}function oI(e){if("[object Object]"!==nI.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function cI(e){return"[object Function]"===nI.call(e)}function uI(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),rI(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}var dI={isArray:rI,isArrayBuffer:aI,isBuffer:function(e){return null!==e&&!iI(e)&&null!==e.constructor&&!iI(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"[object FormData]"===nI.call(e)},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&aI(e.buffer)},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:sI,isPlainObject:oI,isUndefined:iI,isDate:function(e){return"[object Date]"===nI.call(e)},isFile:function(e){return"[object File]"===nI.call(e)},isBlob:function(e){return"[object Blob]"===nI.call(e)},isFunction:cI,isStream:function(e){return sI(e)&&cI(e.pipe)},isURLSearchParams:function(e){return"[object URLSearchParams]"===nI.call(e)},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:uI,merge:function e(){var t={};function n(n,r){oI(t[r])&&oI(n)?t[r]=e(t[r],n):oI(n)?t[r]=e({},n):rI(n)?t[r]=n.slice():t[r]=n}for(var r=0,i=arguments.length;r<i;r++)uI(arguments[r],n);return t},extend:function(e,t,n){return uI(t,(function(t,r){e[r]=n&&"function"==typeof t?tI(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}},fI=dI;function lI(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var hI=function(e,t,n){if(!t)return e;var r;if(n)r=n(t);else if(fI.isURLSearchParams(t))r=t.toString();else{var i=[];fI.forEach(t,(function(e,t){null!=e&&(fI.isArray(e)?t+="[]":e=[e],fI.forEach(e,(function(e){fI.isDate(e)?e=e.toISOString():fI.isObject(e)&&(e=JSON.stringify(e)),i.push(lI(t)+"="+lI(e))})))})),r=i.join("&")}if(r){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e},pI=dI;function mI(){this.handlers=[]}mI.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},mI.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},mI.prototype.forEach=function(e){pI.forEach(this.handlers,(function(t){null!==t&&e(t)}))};var bI,yI,gI,vI,wI,_I,EI,TI,AI,RI,SI,kI,OI,II,xI,CI,MI,PI,NI,BI,DI=mI,LI=dI,FI=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e},UI={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1};function jI(){if(yI)return bI;yI=1;var e=FI;return bI=function(t,n,r,i,a){var s=new Error(t);return e(s,n,r,i,a)},bI}function qI(){if(kI)return SI;kI=1;var e=TI?EI:(TI=1,EI=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}),t=RI?AI:(RI=1,AI=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e});return SI=function(n,r){return n&&!e(r)?t(n,r):r}}function zI(){if(PI)return MI;function e(e){this.message=e}return PI=1,e.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},e.prototype.__CANCEL__=!0,MI=e}function HI(){if(BI)return NI;BI=1;var e=dI,t=function(){if(vI)return gI;vI=1;var e=jI();return gI=function(t,n,r){var i=r.config.validateStatus;r.status&&i&&!i(r.status)?n(e("Request failed with status code "+r.status,r.config,null,r.request,r)):t(r)},gI}(),n=function(){if(_I)return wI;_I=1;var e=dI;return wI=e.isStandardBrowserEnv()?{write:function(t,n,r,i,a,s){var o=[];o.push(t+"="+encodeURIComponent(n)),e.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),e.isString(i)&&o.push("path="+i),e.isString(a)&&o.push("domain="+a),!0===s&&o.push("secure"),document.cookie=o.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},wI}(),r=hI,i=qI(),a=function(){if(II)return OI;II=1;var e=dI,t=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return OI=function(n){var r,i,a,s={};return n?(e.forEach(n.split("\n"),(function(n){if(a=n.indexOf(":"),r=e.trim(n.substr(0,a)).toLowerCase(),i=e.trim(n.substr(a+1)),r){if(s[r]&&t.indexOf(r)>=0)return;s[r]="set-cookie"===r?(s[r]?s[r]:[]).concat([i]):s[r]?s[r]+", "+i:i}})),s):s},OI}(),s=function(){if(CI)return xI;CI=1;var e=dI;return xI=e.isStandardBrowserEnv()?function(){var t,n=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function i(e){var t=e;return n&&(r.setAttribute("href",t),t=r.href),r.setAttribute("href",t),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return t=i(window.location.href),function(n){var r=e.isString(n)?i(n):n;return r.protocol===t.protocol&&r.host===t.host}}():function(){return!0}}(),o=jI(),c=UI,u=zI();return NI=function(d){return new Promise((function(f,l){var h,p=d.data,m=d.headers,b=d.responseType;function y(){d.cancelToken&&d.cancelToken.unsubscribe(h),d.signal&&d.signal.removeEventListener("abort",h)}e.isFormData(p)&&delete m["Content-Type"];var g=new XMLHttpRequest;if(d.auth){var v=d.auth.username||"",w=d.auth.password?unescape(encodeURIComponent(d.auth.password)):"";m.Authorization="Basic "+btoa(v+":"+w)}var _=i(d.baseURL,d.url);function E(){if(g){var e="getAllResponseHeaders"in g?a(g.getAllResponseHeaders()):null,n={data:b&&"text"!==b&&"json"!==b?g.response:g.responseText,status:g.status,statusText:g.statusText,headers:e,config:d,request:g};t((function(e){f(e),y()}),(function(e){l(e),y()}),n),g=null}}if(g.open(d.method.toUpperCase(),r(_,d.params,d.paramsSerializer),!0),g.timeout=d.timeout,"onloadend"in g?g.onloadend=E:g.onreadystatechange=function(){g&&4===g.readyState&&(0!==g.status||g.responseURL&&0===g.responseURL.indexOf("file:"))&&setTimeout(E)},g.onabort=function(){g&&(l(o("Request aborted",d,"ECONNABORTED",g)),g=null)},g.onerror=function(){l(o("Network Error",d,null,g)),g=null},g.ontimeout=function(){var e=d.timeout?"timeout of "+d.timeout+"ms exceeded":"timeout exceeded",t=d.transitional||c;d.timeoutErrorMessage&&(e=d.timeoutErrorMessage),l(o(e,d,t.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",g)),g=null},e.isStandardBrowserEnv()){var T=(d.withCredentials||s(_))&&d.xsrfCookieName?n.read(d.xsrfCookieName):void 0;T&&(m[d.xsrfHeaderName]=T)}"setRequestHeader"in g&&e.forEach(m,(function(e,t){void 0===p&&"content-type"===t.toLowerCase()?delete m[t]:g.setRequestHeader(t,e)})),e.isUndefined(d.withCredentials)||(g.withCredentials=!!d.withCredentials),b&&"json"!==b&&(g.responseType=d.responseType),"function"==typeof d.onDownloadProgress&&g.addEventListener("progress",d.onDownloadProgress),"function"==typeof d.onUploadProgress&&g.upload&&g.upload.addEventListener("progress",d.onUploadProgress),(d.cancelToken||d.signal)&&(h=function(e){g&&(l(!e||e&&e.type?new u("canceled"):e),g.abort(),g=null)},d.cancelToken&&d.cancelToken.subscribe(h),d.signal&&(d.signal.aborted?h():d.signal.addEventListener("abort",h))),p||(p=null),g.send(p)}))},NI}var GI=dI,WI=function(e,t){LI.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))},VI=FI,KI={"Content-Type":"application/x-www-form-urlencoded"};function XI(e,t){!GI.isUndefined(e)&&GI.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var $I,JI={transitional:UI,adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&($I=HI()),$I),transformRequest:[function(e,t){return WI(t,"Accept"),WI(t,"Content-Type"),GI.isFormData(e)||GI.isArrayBuffer(e)||GI.isBuffer(e)||GI.isStream(e)||GI.isFile(e)||GI.isBlob(e)?e:GI.isArrayBufferView(e)?e.buffer:GI.isURLSearchParams(e)?(XI(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):GI.isObject(e)||t&&"application/json"===t["Content-Type"]?(XI(t,"application/json"),function(e,t,n){if(GI.isString(e))try{return(t||JSON.parse)(e),GI.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||JI.transitional,n=t&&t.silentJSONParsing,r=t&&t.forcedJSONParsing,i=!n&&"json"===this.responseType;if(i||r&&GI.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(i){if("SyntaxError"===e.name)throw VI(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};GI.forEach(["delete","get","head"],(function(e){JI.headers[e]={}})),GI.forEach(["post","put","patch"],(function(e){JI.headers[e]=GI.merge(KI)}));var YI,QI,ZI=JI,ex=dI,tx=ZI;function nx(){return QI?YI:(QI=1,YI=function(e){return!(!e||!e.__CANCEL__)})}var rx=dI,ix=function(e,t,n){var r=this||tx;return ex.forEach(n,(function(n){e=n.call(r,e,t)})),e},ax=nx(),sx=ZI,ox=zI();function cx(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ox("canceled")}var ux,dx,fx=dI,lx=function(e,t){t=t||{};var n={};function r(e,t){return fx.isPlainObject(e)&&fx.isPlainObject(t)?fx.merge(e,t):fx.isPlainObject(t)?fx.merge({},t):fx.isArray(t)?t.slice():t}function i(n){return fx.isUndefined(t[n])?fx.isUndefined(e[n])?void 0:r(void 0,e[n]):r(e[n],t[n])}function a(e){if(!fx.isUndefined(t[e]))return r(void 0,t[e])}function s(n){return fx.isUndefined(t[n])?fx.isUndefined(e[n])?void 0:r(void 0,e[n]):r(void 0,t[n])}function o(n){return n in t?r(e[n],t[n]):n in e?r(void 0,e[n]):void 0}var c={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:o};return fx.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=c[e]||i,r=t(e);fx.isUndefined(r)&&t!==o||(n[e]=r)})),n};function hx(){return dx?ux:(dx=1,ux={version:"0.26.1"})}var px=hx().version,mx={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){mx[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var bx={};mx.transitional=function(e,t,n){function r(e,t){return"[Axios v"+px+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,i,a){if(!1===e)throw new Error(r(i," has been removed"+(t?" in "+t:"")));return t&&!bx[i]&&(bx[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,a)}};var yx,gx,vx,wx,_x,Ex,Tx={assertOptions:function(e,t,n){if("object"!=typeof e)throw new TypeError("options must be an object");for(var r=Object.keys(e),i=r.length;i-- >0;){var a=r[i],s=t[a];if(s){var o=e[a],c=void 0===o||s(o,a,e);if(!0!==c)throw new TypeError("option "+a+" must be "+c)}else if(!0!==n)throw Error("Unknown option "+a)}},validators:mx},Ax=dI,Rx=hI,Sx=DI,kx=function(e){return cx(e),e.headers=e.headers||{},e.data=ix.call(e,e.data,e.headers,e.transformRequest),e.headers=rx.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),rx.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||sx.adapter)(e).then((function(t){return cx(e),t.data=ix.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return ax(t)||(cx(e),t&&t.response&&(t.response.data=ix.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))},Ox=lx,Ix=Tx,xx=Ix.validators;function Cx(e){this.defaults=e,this.interceptors={request:new Sx,response:new Sx}}Cx.prototype.request=function(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},(t=Ox(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;void 0!==n&&Ix.assertOptions(n,{silentJSONParsing:xx.transitional(xx.boolean),forcedJSONParsing:xx.transitional(xx.boolean),clarifyTimeoutError:xx.transitional(xx.boolean)},!1);var r=[],i=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,r.unshift(e.fulfilled,e.rejected))}));var a,s=[];if(this.interceptors.response.forEach((function(e){s.push(e.fulfilled,e.rejected)})),!i){var o=[kx,void 0];for(Array.prototype.unshift.apply(o,r),o=o.concat(s),a=Promise.resolve(t);o.length;)a=a.then(o.shift(),o.shift());return a}for(var c=t;r.length;){var u=r.shift(),d=r.shift();try{c=u(c)}catch(e){d(e);break}}try{a=kx(c)}catch(e){return Promise.reject(e)}for(;s.length;)a=a.then(s.shift(),s.shift());return a},Cx.prototype.getUri=function(e){return e=Ox(this.defaults,e),Rx(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},Ax.forEach(["delete","get","head","options"],(function(e){Cx.prototype[e]=function(t,n){return this.request(Ox(n||{},{method:e,url:t,data:(n||{}).data}))}})),Ax.forEach(["post","put","patch"],(function(e){Cx.prototype[e]=function(t,n,r){return this.request(Ox(r||{},{method:e,url:t,data:n}))}}));var Mx=dI,Px=eI,Nx=Cx,Bx=lx;var Dx=function e(t){var n=new Nx(t),r=Px(Nx.prototype.request,n);return Mx.extend(r,Nx.prototype,n),Mx.extend(r,n),r.create=function(n){return e(Bx(t,n))},r}(ZI);Dx.Axios=Nx,Dx.Cancel=zI(),Dx.CancelToken=function(){if(gx)return yx;gx=1;var e=zI();function t(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var n;this.promise=new Promise((function(e){n=e}));var r=this;this.promise.then((function(e){if(r._listeners){var t,n=r._listeners.length;for(t=0;t<n;t++)r._listeners[t](e);r._listeners=null}})),this.promise.then=function(e){var t,n=new Promise((function(e){r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},t((function(t){r.reason||(r.reason=new e(t),n(r.reason))}))}return t.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},t.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},t.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},t.source=function(){var e,n=new t((function(t){e=t}));return{token:n,cancel:e}},yx=t}(),Dx.isCancel=nx(),Dx.VERSION=hx().version,Dx.all=function(e){return Promise.all(e)},Dx.spread=wx?vx:(wx=1,vx=function(e){return function(t){return e.apply(null,t)}}),Dx.isAxiosError=function(){if(Ex)return _x;Ex=1;var e=dI;return _x=function(t){return e.isObject(t)&&!0===t.isAxiosError}}(),ZO.exports=Dx,ZO.exports.default=Dx;var Lx=ar(ZO.exports);
/**
     * @license
     * author: Immutable
     * core-sdk.js v2.4.0
     * Released under the Apache-2.0 license.
     */
function Fx(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ux(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jx(e,t,n){return t&&Ux(e.prototype,t),n&&Ux(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function qx(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var zx=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}],Hx=function(){function e(){Fx(this,e)}return jx(e,null,[{key:"createInterface",value:function(){return new Pc(zx)}},{key:"connect",value:function(e,t){return new bl(e,zx,t)}}]),e}();qx(Hx,"abi",zx);var Gx=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"balance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"operator",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"owner",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"_approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"}],Wx=function(){function e(){Fx(this,e)}return jx(e,null,[{key:"createInterface",value:function(){return new Pc(Gx)}},{key:"connect",value:function(e,t){return new bl(e,Gx,t)}}]),e}();qx(Wx,"abi",Gx);var Vx=[{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}];qx(function(){function e(){Fx(this,e)}return jx(e,null,[{key:"createInterface",value:function(){return new Pc(Vx)}},{key:"connect",value:function(e,t){return new bl(e,Vx,t)}}]),e}(),"abi",Vx);var Kx=[{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"depositorEthKey",type:"address"},{indexed:!1,internalType:"uint256",name:"starkKey",type:"uint256"},{indexed:!1,internalType:"uint256",name:"vaultId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"assetType",type:"uint256"},{indexed:!1,internalType:"uint256",name:"nonQuantizedAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"quantizedAmount",type:"uint256"}],name:"LogDeposit",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"starkKey",type:"uint256"},{indexed:!1,internalType:"uint256",name:"vaultId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"assetId",type:"uint256"}],name:"LogDepositCancel",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"starkKey",type:"uint256"},{indexed:!1,internalType:"uint256",name:"vaultId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"assetType",type:"uint256"},{indexed:!1,internalType:"uint256",name:"nonQuantizedAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"quantizedAmount",type:"uint256"}],name:"LogDepositCancelReclaimed",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"starkKey",type:"uint256"},{indexed:!1,internalType:"uint256",name:"vaultId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"assetType",type:"uint256"},{indexed:!1,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"assetId",type:"uint256"}],name:"LogDepositNftCancelReclaimed",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"starkKey",type:"uint256"},{indexed:!1,internalType:"uint256",name:"vaultId",type:"uint256"}],name:"LogFullWithdrawalRequest",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"ownerKey",type:"uint256"},{indexed:!1,internalType:"uint256",name:"assetType",type:"uint256"},{indexed:!1,internalType:"uint256",name:"nonQuantizedAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"quantizedAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"assetId",type:"uint256"}],name:"LogMintWithdrawalPerformed",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"ownerKey",type:"uint256"},{indexed:!1,internalType:"uint256",name:"assetId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"quantizedAmount",type:"uint256"}],name:"LogMintableWithdrawalAllowed",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"depositorEthKey",type:"address"},{indexed:!1,internalType:"uint256",name:"starkKey",type:"uint256"},{indexed:!1,internalType:"uint256",name:"vaultId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"assetType",type:"uint256"},{indexed:!1,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"assetId",type:"uint256"}],name:"LogNftDeposit",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"ownerKey",type:"uint256"},{indexed:!1,internalType:"uint256",name:"assetId",type:"uint256"}],name:"LogNftWithdrawalAllowed",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"ownerKey",type:"uint256"},{indexed:!1,internalType:"uint256",name:"assetType",type:"uint256"},{indexed:!1,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"assetId",type:"uint256"},{indexed:!1,internalType:"address",name:"recipient",type:"address"}],name:"LogNftWithdrawalPerformed",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"sequenceNumber",type:"uint256"},{indexed:!1,internalType:"uint256",name:"batchId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"vaultRoot",type:"uint256"},{indexed:!1,internalType:"uint256",name:"orderRoot",type:"uint256"}],name:"LogRootUpdate",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes32",name:"stateTransitionFact",type:"bytes32"}],name:"LogStateTransitionFact",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"ethKey",type:"address"},{indexed:!1,internalType:"uint256",name:"assetId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"vaultId",type:"uint256"},{indexed:!1,internalType:"int256",name:"quantizedAmountChange",type:"int256"}],name:"LogVaultBalanceChangeApplied",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"ownerKey",type:"uint256"},{indexed:!1,internalType:"uint256",name:"assetType",type:"uint256"},{indexed:!1,internalType:"uint256",name:"nonQuantizedAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"quantizedAmount",type:"uint256"}],name:"LogWithdrawalAllowed",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"ownerKey",type:"uint256"},{indexed:!1,internalType:"uint256",name:"assetType",type:"uint256"},{indexed:!1,internalType:"uint256",name:"nonQuantizedAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"quantizedAmount",type:"uint256"},{indexed:!1,internalType:"address",name:"recipient",type:"address"}],name:"LogWithdrawalPerformed",type:"event"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"announceAvailabilityVerifierRemovalIntent",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"announceVerifierRemovalIntent",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"starkKey",type:"uint256"},{internalType:"uint256",name:"assetType",type:"uint256"},{internalType:"uint256",name:"vaultId",type:"uint256"}],name:"deposit",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"starkKey",type:"uint256"},{internalType:"uint256",name:"assetType",type:"uint256"},{internalType:"uint256",name:"vaultId",type:"uint256"},{internalType:"uint256",name:"quantizedAmount",type:"uint256"}],name:"deposit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"starkKey",type:"uint256"},{internalType:"uint256",name:"assetId",type:"uint256"},{internalType:"uint256",name:"vaultId",type:"uint256"}],name:"depositCancel",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"starkKey",type:"uint256"},{internalType:"uint256",name:"assetType",type:"uint256"},{internalType:"uint256",name:"vaultId",type:"uint256"},{internalType:"uint256",name:"quantizedAmount",type:"uint256"}],name:"depositERC20",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"starkKey",type:"uint256"},{internalType:"uint256",name:"assetType",type:"uint256"},{internalType:"uint256",name:"vaultId",type:"uint256"}],name:"depositEth",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"starkKey",type:"uint256"},{internalType:"uint256",name:"assetType",type:"uint256"},{internalType:"uint256",name:"vaultId",type:"uint256"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"depositNft",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"starkKey",type:"uint256"},{internalType:"uint256",name:"assetType",type:"uint256"},{internalType:"uint256",name:"vaultId",type:"uint256"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"depositNftReclaim",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"starkKey",type:"uint256"},{internalType:"uint256",name:"assetId",type:"uint256"},{internalType:"uint256",name:"vaultId",type:"uint256"}],name:"depositReclaim",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"starkKey",type:"uint256"},{internalType:"uint256",name:"vaultId",type:"uint256"},{internalType:"uint256",name:"assetId",type:"uint256"},{internalType:"uint256",name:"quantizedAmount",type:"uint256"}],name:"escape",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"starkKey",type:"uint256"},{internalType:"uint256",name:"vaultId",type:"uint256"}],name:"freezeRequest",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"starkKey",type:"uint256"},{internalType:"uint256",name:"vaultId",type:"uint256"}],name:"fullWithdrawalRequest",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"assetType",type:"uint256"}],name:"getAssetInfo",outputs:[{internalType:"bytes",name:"assetInfo",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"starkKey",type:"uint256"},{internalType:"uint256",name:"assetId",type:"uint256"},{internalType:"uint256",name:"vaultId",type:"uint256"}],name:"getCancellationRequest",outputs:[{internalType:"uint256",name:"request",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"starkKey",type:"uint256"},{internalType:"uint256",name:"assetId",type:"uint256"},{internalType:"uint256",name:"vaultId",type:"uint256"}],name:"getDepositBalance",outputs:[{internalType:"uint256",name:"balance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"starkKey",type:"uint256"}],name:"getEthKey",outputs:[{internalType:"address",name:"ethKey",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"starkKey",type:"uint256"},{internalType:"uint256",name:"vaultId",type:"uint256"}],name:"getFullWithdrawalRequest",outputs:[{internalType:"uint256",name:"res",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getLastBatchId",outputs:[{internalType:"uint256",name:"batchId",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getOrderRoot",outputs:[{internalType:"uint256",name:"root",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getOrderTreeHeight",outputs:[{internalType:"uint256",name:"height",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"starkKey",type:"uint256"},{internalType:"uint256",name:"assetId",type:"uint256"},{internalType:"uint256",name:"vaultId",type:"uint256"}],name:"getQuantizedDepositBalance",outputs:[{internalType:"uint256",name:"balance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"presumedAssetType",type:"uint256"}],name:"getQuantum",outputs:[{internalType:"uint256",name:"quantum",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getRegisteredAvailabilityVerifiers",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getRegisteredVerifiers",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getSequenceNumber",outputs:[{internalType:"uint256",name:"seq",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getVaultRoot",outputs:[{internalType:"uint256",name:"root",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getVaultTreeHeight",outputs:[{internalType:"uint256",name:"height",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"ownerKey",type:"uint256"},{internalType:"uint256",name:"assetId",type:"uint256"}],name:"getWithdrawalBalance",outputs:[{internalType:"uint256",name:"balance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"isAvailabilityVerifier",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"isFrozen",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"isOperator",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"isTokenAdmin",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"isUserAdmin",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"isVerifier",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"mainAcceptGovernance",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"mainCancelNomination",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"mainIsGovernor",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"mainNominateNewGovernor",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"mainRemoveGovernor",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC721Received",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"ethKey",type:"address"},{internalType:"uint256",name:"starkKey",type:"uint256"},{internalType:"bytes",name:"signature",type:"bytes"},{internalType:"uint256",name:"assetType",type:"uint256"},{internalType:"uint256",name:"vaultId",type:"uint256"},{internalType:"uint256",name:"quantizedAmount",type:"uint256"}],name:"registerAndDepositERC20",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"ethKey",type:"address"},{internalType:"uint256",name:"starkKey",type:"uint256"},{internalType:"bytes",name:"signature",type:"bytes"},{internalType:"uint256",name:"assetType",type:"uint256"},{internalType:"uint256",name:"vaultId",type:"uint256"}],name:"registerAndDepositEth",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"string",name:"",type:"string"}],name:"registerAvailabilityVerifier",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"registerOperator",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],name:"registerToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"registerTokenAdmin",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],name:"registerUser",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"registerUserAdmin",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"string",name:"",type:"string"}],name:"registerVerifier",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"removeAvailabilityVerifier",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"removeVerifier",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unFreeze",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"unregisterOperator",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"unregisterTokenAdmin",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"unregisterUserAdmin",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256[]",name:"publicInput",type:"uint256[]"},{internalType:"uint256[]",name:"applicationData",type:"uint256[]"}],name:"updateState",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"ownerKey",type:"uint256"},{internalType:"uint256",name:"assetType",type:"uint256"}],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"ownerKey",type:"uint256"},{internalType:"uint256",name:"assetType",type:"uint256"},{internalType:"bytes",name:"mintingBlob",type:"bytes"}],name:"withdrawAndMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"ownerKey",type:"uint256"},{internalType:"uint256",name:"assetType",type:"uint256"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"withdrawNft",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"address",name:"",type:"address"}],name:"withdrawNftTo",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"address",name:"",type:"address"}],name:"withdrawTo",outputs:[],stateMutability:"nonpayable",type:"function"}],Xx=function(){function e(){Fx(this,e)}return jx(e,null,[{key:"createInterface",value:function(){return new Pc(Kx)}},{key:"connect",value:function(e,t){return new bl(e,Kx,t)}}]),e}();function $x(e){return $x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},$x(e)}function Jx(){return Jx="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=$x(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Jx.apply(this,arguments)}function Yx(e,t){return Yx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Yx(e,t)}function Qx(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yx(e,t)}function Zx(e){return Zx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zx(e)}function eC(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tC(e,t){if(t&&("object"===Zx(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return eC(e)}qx(Xx,"abi",Kx);var nC=[{inputs:[{internalType:"contract Core",name:"_imx",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"imx",outputs:[{internalType:"contract Core",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"starkKey",type:"uint256"}],name:"isRegistered",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"ethKey",type:"address"},{internalType:"uint256",name:"starkKey",type:"uint256"},{internalType:"bytes",name:"signature",type:"bytes"},{internalType:"uint256",name:"assetType",type:"uint256"},{internalType:"uint256",name:"vaultId",type:"uint256"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"registerAndDepositNft",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"ethKey",type:"address"},{internalType:"uint256",name:"starkKey",type:"uint256"},{internalType:"bytes",name:"signature",type:"bytes"},{internalType:"uint256",name:"assetType",type:"uint256"}],name:"registerAndWithdraw",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"ethKey",type:"address"},{internalType:"uint256",name:"starkKey",type:"uint256"},{internalType:"bytes",name:"signature",type:"bytes"},{internalType:"uint256",name:"assetType",type:"uint256"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"registerAndWithdrawNft",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"ethKey",type:"address"},{internalType:"uint256",name:"starkKey",type:"uint256"},{internalType:"bytes",name:"signature",type:"bytes"},{internalType:"uint256",name:"assetType",type:"uint256"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"address",name:"recipient",type:"address"}],name:"registerAndWithdrawNftTo",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"ethKey",type:"address"},{internalType:"uint256",name:"starkKey",type:"uint256"},{internalType:"bytes",name:"signature",type:"bytes"},{internalType:"uint256",name:"assetType",type:"uint256"},{internalType:"address",name:"recipient",type:"address"}],name:"registerAndWithdrawTo",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"ethKey",type:"address"},{internalType:"uint256",name:"starkKey",type:"uint256"},{internalType:"bytes",name:"signature",type:"bytes"},{internalType:"uint256",name:"assetType",type:"uint256"},{internalType:"bytes",name:"mintingBlob",type:"bytes"}],name:"regsiterAndWithdrawAndMint",outputs:[],stateMutability:"nonpayable",type:"function"}],rC="0x60806040523480156200001157600080fd5b5060405162001313380380620013138339818101604052810190620000379190620000fc565b806000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550506200012e565b600080fd5b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000620000b08262000083565b9050919050565b6000620000c482620000a3565b9050919050565b620000d681620000b7565b8114620000e257600080fd5b50565b600081519050620000f681620000cb565b92915050565b6000602082840312156200011557620001146200007e565b5b60006200012584828501620000e5565b91505092915050565b6111d5806200013e6000396000f3fe608060405234801561001057600080fd5b50600436106100885760003560e01c80634280d50a1161005b5780634280d50a146100ff5780634627d5981461011b578063579a698814610137578063ea864adf1461016757610088565b80630a9c3beb1461008d5780630f08025f146100a95780631259cc6c146100c7578063352eb84c146100e3575b600080fd5b6100a760048036038101906100a29190610a72565b610183565b005b6100b16102ae565b6040516100be9190610b8d565b60405180910390f35b6100e160048036038101906100dc9190610ba8565b6102d2565b005b6100fd60048036038101906100f89190610c57565b6103fd565b005b61011960048036038101906101149190610cf1565b610525565b005b61013560048036038101906101309190610da0565b610650565b005b610151600480360381019061014c9190610e3a565b610778565b60405161015e9190610e82565b60405180910390f35b610181600480360381019061017c9190610e9d565b61084a565b005b60008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663dd2414d4888888886040518563ffffffff1660e01b81526004016101e29493929190610fa1565b600060405180830381600087803b1580156101fc57600080fd5b505af1158015610210573d6000803e3d6000fd5b5050505060008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663d91443b7878585856040518563ffffffff1660e01b81526004016102739493929190610fe1565b600060405180830381600087803b15801561028d57600080fd5b505af11580156102a1573d6000803e3d6000fd5b5050505050505050505050565b60008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b60008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663dd2414d4888888886040518563ffffffff1660e01b81526004016103319493929190610fa1565b600060405180830381600087803b15801561034b57600080fd5b505af115801561035f573d6000803e3d6000fd5b5050505060008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663ebef0fd0878585856040518563ffffffff1660e01b81526004016103c29493929190611021565b600060405180830381600087803b1580156103dc57600080fd5b505af11580156103f0573d6000803e3d6000fd5b5050505050505050505050565b60008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663dd2414d4878787876040518563ffffffff1660e01b815260040161045c9493929190610fa1565b600060405180830381600087803b15801561047657600080fd5b505af115801561048a573d6000803e3d6000fd5b5050505060008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663019b417a8684846040518463ffffffff1660e01b81526004016104eb93929190611066565b600060405180830381600087803b15801561050557600080fd5b505af1158015610519573d6000803e3d6000fd5b50505050505050505050565b60008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663dd2414d4888888886040518563ffffffff1660e01b81526004016105849493929190610fa1565b600060405180830381600087803b15801561059e57600080fd5b505af11580156105b2573d6000803e3d6000fd5b5050505060008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663ae1cdde6878585856040518563ffffffff1660e01b8152600401610615949392919061109d565b600060405180830381600087803b15801561062f57600080fd5b505af1158015610643573d6000803e3d6000fd5b5050505050505050505050565b60008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663dd2414d4878787876040518563ffffffff1660e01b81526004016106af9493929190610fa1565b600060405180830381600087803b1580156106c957600080fd5b505af11580156106dd573d6000803e3d6000fd5b5050505060008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166314cd70e48684846040518463ffffffff1660e01b815260040161073e939291906110e2565b600060405180830381600087803b15801561075857600080fd5b505af115801561076c573d6000803e3d6000fd5b50505050505050505050565b60008073ffffffffffffffffffffffffffffffffffffffff1660008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16631dbd1da7846040518263ffffffff1660e01b81526004016107ea9190611119565b602060405180830381865afa158015610807573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061082b9190611149565b73ffffffffffffffffffffffffffffffffffffffff1614159050919050565b60008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663dd2414d4868686866040518563ffffffff1660e01b81526004016108a99493929190610fa1565b600060405180830381600087803b1580156108c357600080fd5b505af11580156108d7573d6000803e3d6000fd5b5050505060008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663441a3e7085836040518363ffffffff1660e01b8152600401610936929190611176565b600060405180830381600087803b15801561095057600080fd5b505af1158015610964573d6000803e3d6000fd5b505050505050505050565b600080fd5b600080fd5b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b60006109a482610979565b9050919050565b6109b481610999565b81146109bf57600080fd5b50565b6000813590506109d1816109ab565b92915050565b6000819050919050565b6109ea816109d7565b81146109f557600080fd5b50565b600081359050610a07816109e1565b92915050565b600080fd5b600080fd5b600080fd5b60008083601f840112610a3257610a31610a0d565b5b8235905067ffffffffffffffff811115610a4f57610a4e610a12565b5b602083019150836001820283011115610a6b57610a6a610a17565b5b9250929050565b600080600080600080600060a0888a031215610a9157610a9061096f565b5b6000610a9f8a828b016109c2565b9750506020610ab08a828b016109f8565b965050604088013567ffffffffffffffff811115610ad157610ad0610974565b5b610add8a828b01610a1c565b95509550506060610af08a828b016109f8565b935050608088013567ffffffffffffffff811115610b1157610b10610974565b5b610b1d8a828b01610a1c565b925092505092959891949750929550565b6000819050919050565b6000610b53610b4e610b4984610979565b610b2e565b610979565b9050919050565b6000610b6582610b38565b9050919050565b6000610b7782610b5a565b9050919050565b610b8781610b6c565b82525050565b6000602082019050610ba26000830184610b7e565b92915050565b600080600080600080600060c0888a031215610bc757610bc661096f565b5b6000610bd58a828b016109c2565b9750506020610be68a828b016109f8565b965050604088013567ffffffffffffffff811115610c0757610c06610974565b5b610c138a828b01610a1c565b95509550506060610c268a828b016109f8565b9350506080610c378a828b016109f8565b92505060a0610c488a828b016109c2565b91505092959891949750929550565b60008060008060008060a08789031215610c7457610c7361096f565b5b6000610c8289828a016109c2565b9650506020610c9389828a016109f8565b955050604087013567ffffffffffffffff811115610cb457610cb3610974565b5b610cc089828a01610a1c565b94509450506060610cd389828a016109f8565b9250506080610ce489828a016109f8565b9150509295509295509295565b600080600080600080600060c0888a031215610d1057610d0f61096f565b5b6000610d1e8a828b016109c2565b9750506020610d2f8a828b016109f8565b965050604088013567ffffffffffffffff811115610d5057610d4f610974565b5b610d5c8a828b01610a1c565b95509550506060610d6f8a828b016109f8565b9350506080610d808a828b016109f8565b92505060a0610d918a828b016109f8565b91505092959891949750929550565b60008060008060008060a08789031215610dbd57610dbc61096f565b5b6000610dcb89828a016109c2565b9650506020610ddc89828a016109f8565b955050604087013567ffffffffffffffff811115610dfd57610dfc610974565b5b610e0989828a01610a1c565b94509450506060610e1c89828a016109f8565b9250506080610e2d89828a016109c2565b9150509295509295509295565b600060208284031215610e5057610e4f61096f565b5b6000610e5e848285016109f8565b91505092915050565b60008115159050919050565b610e7c81610e67565b82525050565b6000602082019050610e976000830184610e73565b92915050565b600080600080600060808688031215610eb957610eb861096f565b5b6000610ec7888289016109c2565b9550506020610ed8888289016109f8565b945050604086013567ffffffffffffffff811115610ef957610ef8610974565b5b610f0588828901610a1c565b93509350506060610f18888289016109f8565b9150509295509295909350565b610f2e81610999565b82525050565b610f3d816109d7565b82525050565b600082825260208201905092915050565b82818337600083830152505050565b6000601f19601f8301169050919050565b6000610f808385610f43565b9350610f8d838584610f54565b610f9683610f63565b840190509392505050565b6000606082019050610fb66000830187610f25565b610fc36020830186610f34565b8181036040830152610fd6818486610f74565b905095945050505050565b6000606082019050610ff66000830187610f34565b6110036020830186610f34565b8181036040830152611016818486610f74565b905095945050505050565b60006080820190506110366000830187610f34565b6110436020830186610f34565b6110506040830185610f34565b61105d6060830184610f25565b95945050505050565b600060608201905061107b6000830186610f34565b6110886020830185610f34565b6110956040830184610f34565b949350505050565b60006080820190506110b26000830187610f34565b6110bf6020830186610f34565b6110cc6040830185610f34565b6110d96060830184610f34565b95945050505050565b60006060820190506110f76000830186610f34565b6111046020830185610f34565b6111116040830184610f25565b949350505050565b600060208201905061112e6000830184610f34565b92915050565b600081519050611143816109ab565b92915050565b60006020828403121561115f5761115e61096f565b5b600061116d84828501611134565b91505092915050565b600060408201905061118b6000830185610f34565b6111986020830184610f34565b939250505056fea264697066735822122032218b31f9c0e88bb1991ae2275255c3d0cb01b4bf63a689bcaeccdcc791192c64736f6c634300080b0033",iC=function(e){Qx(n,yl);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$x(e);if(t){var i=$x(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return tC(this,n)}}(n);function n(){Fx(this,n);for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return tC(function(e){return e.length>1}(r)?t.call.apply(t,[this].concat(r)):t.call(this,nC,rC,r[0]))}return jx(n,[{key:"deploy",value:function(e,t){return Jx($x(n.prototype),"deploy",this).call(this,e,t||{})}},{key:"getDeployTransaction",value:function(e,t){return Jx($x(n.prototype),"getDeployTransaction",this).call(this,e,t||{})}},{key:"attach",value:function(e){return Jx($x(n.prototype),"attach",this).call(this,e)}},{key:"connect",value:function(e){return Jx($x(n.prototype),"connect",this).call(this,e)}}],[{key:"createInterface",value:function(){return new Pc(nC)}},{key:"connect",value:function(e,t){return new bl(e,nC,t)}}]),n}();qx(iC,"bytecode",rC),qx(iC,"abi",nC);var aC=Object.freeze({__proto__:null,Core:Xx,Registration:iC,IERC20:Hx,IERC721:Wx});function sC(e,t,n,r,i,a,s){try{var o=e[a](s),c=o.value}catch(e){return void n(e)}o.done?t(c):Promise.resolve(c).then(r,i)}function oC(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function s(e){sC(a,r,i,s,o,"next",e)}function o(e){sC(a,r,i,s,o,"throw",e)}s(void 0)}))}}var cC="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},uC={exports:{}},dC={exports:{}};!function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(dC),function(e){var t=dC.exports.default;function n(){
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
e.exports=n=function(){return r},e.exports.__esModule=!0,e.exports.default=e.exports;var r={},i=Object.prototype,a=i.hasOwnProperty,s="function"==typeof Symbol?Symbol:{},o=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",u=s.toStringTag||"@@toStringTag";function d(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),s=new S(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return{value:void 0,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var o=T(s,n);if(o){if(o===h)continue;return o}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===h)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(e,n,s),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}r.wrap=f;var h={};function p(){}function m(){}function b(){}var y={};d(y,o,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(k([])));v&&v!==i&&a.call(v,o)&&(y=v);var w=b.prototype=p.prototype=Object.create(y);function _(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,n){function r(i,s,o,c){var u=l(e[i],e,s);if("throw"!==u.type){var d=u.arg,f=d.value;return f&&"object"==t(f)&&a.call(f,"__await")?n.resolve(f.__await).then((function(e){r("next",e,o,c)}),(function(e){r("throw",e,o,c)})):n.resolve(f).then((function(e){d.value=e,o(d)}),(function(e){return r("throw",e,o,c)}))}c(u.arg)}var i;this._invoke=function(e,t){function a(){return new n((function(n,i){r(e,t,n,i)}))}return i=i?i.then(a,a):a()}}function T(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,T(e,t),"throw"===t.method))return h;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var r=l(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,h;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function R(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:O}}function O(){return{value:void 0,done:!0}}return m.prototype=b,d(w,"constructor",b),d(b,"constructor",m),m.displayName=d(b,u,"GeneratorFunction"),r.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},r.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,d(e,u,"GeneratorFunction")),e.prototype=Object.create(w),e},r.awrap=function(e){return{__await:e}},_(E.prototype),d(E.prototype,c,(function(){return this})),r.AsyncIterator=E,r.async=function(e,t,n,i,a){void 0===a&&(a=Promise);var s=new E(f(e,t,n,i),a);return r.isGeneratorFunction(t)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},_(w),d(w,u,"Generator"),d(w,o,(function(){return this})),d(w,"toString",(function(){return"[object Generator]"})),r.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},r.values=k,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(R),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return s.type="throw",s.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],s=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var o=a.call(i,"catchLoc"),c=a.call(i,"finallyLoc");if(o&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(o){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=e,s.arg=t,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),R(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;R(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},r}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(uC);var fC=uC.exports(),lC=fC;try{regeneratorRuntime=fC}catch(mD){"object"==typeof globalThis?globalThis.regeneratorRuntime=fC:Function("r","regeneratorRuntime = r")(fC)}function hC(e){var t;return My(Oy(e.r.toString(16),64)+Oy(e.s.toString(16),64)+Oy((null===(t=e.recoveryParam)||void 0===t?void 0:t.toString(16))||"",2))}function pC(e){return e.trim()?-1!==new di(e,16).cmp(new di(27))?new di(e,16).sub(new di(27)).toNumber():new di(e,16).toNumber():void 0}function mC(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:64;return e=xy(e),{r:new di(e.substring(0,t),"hex"),s:new di(e.substring(t,2*t),"hex"),recoveryParam:pC(e.substring(2*t,2*t+2))}}function bC(e,t){return yC.apply(this,arguments)}function yC(){return(yC=oC(lC.mark((function e(t,n){var r;return lC.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=mC,e.next=3,n.signMessage(t);case 3:return e.t1=e.sent,r=(0,e.t0)(e.t1),e.abrupt("return",hC(r));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gC(e){return vC.apply(this,arguments)}function vC(){return(vC=oC(lC.mark((function e(t){var n,r;return lC.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Math.floor(Date.now()/1e3).toString(),e.next=3,bC(n,t);case 3:return r=e.sent,e.abrupt("return",{timestamp:n,signature:r});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wC(e,t){return _C.apply(this,arguments)}function _C(){return(_C=oC(lC.mark((function e(t,n){var r,i;return lC.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getAddress();case 2:return r=e.sent,e.next=5,bC(t,n);case 5:return i=e.sent,e.abrupt("return",{message:t,ethAddress:r,ethSignature:i});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var EC=[["49ee3eba8c1600700ee1b87eb599f16716b0b1022947733551fde4050ca6804","3ca0cfe4b3bc6ddf346d49d06ea0ed34e621062c0e056c1d0405d266e10268a"],["1ef15c18599971b7beced415a40f0c7deacfd9b0d1819e03d723d8bc943cfca","5668060aa49730b7be4801df46ec62de53ecd11abe43a32873000c36e8dc1f"],["234287dcbaffe7f969c748655fca9e58fa8120b6d56eb0c1080d17957ebe47b","3b056f100f96fb21e889527d41f4e39940135dd7a6c94cc6ed0268ee89e5615"],["3909690e1123c80678a7ba0fde0e8447f6f02b3f6b960034d1e93524f8b476","7122e9063d239d89d4e336753845b76f2b33ca0d7f0c1acd4b9fe974994cc19"],["40fd002e38ea01a01b2702eb7c643e9decc2894cbf31765922e281939ab542c","109f720a79e2a41471f054ca885efd90c8cfbbec37991d1b6343991e0a3e740"],["2f52066635c139fc2f64eb0bd5e3fd7a705f576854ec4f00aa60361fddb981b","6d78a24d8a5f97fc600318ce16b3c840315979c3273078ec1a285f217ee6a26"],["6a0767a1fd60d5b9027a35af1b68e57a1c366ebcde2006cdd07af27043ef674","606b72c0ca0498b8c1817ed7922d550894c324f5efdfc85a19a1ae382411ca2"],["7fa463ee2a2d6a585d5c3358918270f6c28c66df1f86803374d1edf3819cc62","a996edf01598832e644e1cae9a37288865ad80e2787f9bf958aceccc99afae"],["3d4da70d1540da597dbae1651d28487604a4e66a4a1823b97e8e9639393dbec","45cdef70c35d3b6f0a2273a9886ccb6306d813e8204bdfd30b4efee63c8a3f9"],["1e448fdbcd9896c6fbf5f36cb7e7fcb77a751ff2d942593cae023363cc7750e","30c81da0f3a8cb64468eaa491c7ae7b4842b62cb4148820da211afc4caffb3a"],["6531acf1a7cb90a4eb27de0b7f915e387a3b0fd063ba6e1289b91f48411be26","31330f5daa091889981a3ea782ae997f5f171336ed0487a03f051551a2cafa2"],["54be016394d5662d67d7e82f5e889ed2f97ccf95d911f57dd2362c4040ed4f4","c6cb184053f054d6a59c1bf0986d17090d25089b3fdcdaf185edc87ef113e5"],["35b9ecd0499ca1d5d42dcbb0c6b4042b3733c64b607ca711e706e786ef2afc6","5624b476a5b21c3a544f0712d4817b06ad380a5a6529d323bf64da8ef862d8d"],["4ce0378e3ee8f77ed58f2ddbd8bb7676c8a38bfb1d3694c275254bd8ca38e23","5a16fcbff0769c9cf2b02c31621878ec819fff4b8231bff82c6183db2746820"],["648d5c6f98680a1b926bfeb01c00224c56fdcf751b251c4449c8a94f425cfcf","72c05ac793cd1620a833fbe2214d36900ebe446e095c62fcb740937f98cca8c"],["bd09be3e4e1af8a14189977e334f097c18e4a8bf42577ef5aafa0f807bd89b","6e0e72ed7eb65c86cee29c411fb4761122558ee81013344ba8509c49de9f9b6"],["35ea4e339b44ae7724419bdfbe07022253137a4afb7cbaffad341ea61249357","3665d676a026a174f367bb4417780e53a7803cb02d0db32eb4545c267c42f14"],["36457bc744f42e697b825c2d1afd8f4029d696a4514710f81da52d88e178643","7c93715896735492a68c7969a024b3a8fd538bffc1521538107de1a5f13ce9c"],["5b3a08ebcf9c109cc9082f70d9df2b9c11b5428ee23917b4e790c4c10f6e661","9d7b42ab0c20f5510df7ea5e196eec99342739077e9a168198c89da859753"],["21883ef8580fc06e59481955d52ece3aca6e82c8c9fc58e216dcf46f96990c6","51a6423543e6e8a43e71da34cd90f5b520b8d33b67c4bf857573ab9e301aa4c"],["19e86b77f9b581e81092b305c852faf53940a8f15f0a6990c414f04c0fa7ef9","515630e35d4398c9c79fc4ee08e1023fa47d8e03c6e7819c6d2ccef45398fa"],["888ab8eb4c31bb2ac5b54aa320dbe1a69c96b864e8a5f54d89c1d1a6b86c24","730e148467f6a55ce22c5296f5380df88f38de76ef0b2de844cd3094aaaf3ea"],["75e79ff13a894e7120dac17b7429c0c32ce7828f726c9973728c0977a5f5977","4960526e59c1c736561a201bc56f7d762641b39f609d273cc996f5d9197cfb8"],["640fe009249115d7254f72ecafb3006139e4bed7e9041af51458c737282d1d5","3cc6c978a575246e2ce4f7ef1fcc7f63085db9ff98a1b1f3fe374087c0332c"],["6d6fd09ccab7c26de9b3906191235deb5c34685580c488275356a05e209ca96","7157f81a34213dd8f91dea4f6df1bcfabc4ee091a3049eeeb3b7923d39b8645"],["5531ca1d00f151d71da820918f74caf2985b24dca20e124721fff507b5a5876","518529643d3f25e47f72c322223ba60a63d6bfe78cf3f612215d9c19bf29200"],["6192d454e4f8fe212bdfccd5b15dd5056d7622ffe456c6c67e5a7265aea49c4","2377a45dc630017ae863cb968ddb38333a70c7946d8684e6d7a6213f634b7bc"],["542fb44b4ef3640a64fdb22a2560fb26668065c069cf31d1df424819a39ff18","5dbae9b0948e0361aea443503840341c322aa1a1366ce5390e71bf161f78f8c"],["299ff3e3412a7eb4cb4a3051b07b1be2e7b1c4b789f39ffb52cba3d048b71de","1951d3175c02761b291d86b6c0a08387ad5e2a2130ccc33c852530572cb3958"],["628ce3f5367dadc1411133e55eb25e2e3c2880d6e28754a5cb1c5d109627e73","ae3e9b7d50964e28bd15380400b7659b87affdef5d2586cbefcd9be7d67c0d"],["6ea54aff064895eccf9db2283225d62044ae67621192b3346338948382f5933","6431507e51aadacfaf39f102a8ff387756e9b5e1bc8323d44acae55130d93db"],["28097d50d175a6235320fe8cfe138dd9e46895d189582e472c38ad7a67d923a","7f9eab4133d7d09a7ff63368d6135c26262b62336eca1b5ca33f2096ce388ba"],["619fd09cdd6ff4323973f256c2cbdcb224f7f25b8aef623af2d4a0105e62e02","2c95f0ae11d47eeae1bc7f1350f75f9185c5bc840382ceb38a797cae9c40308"],["641c18982ced304512a3f2395942a38add0d6a7156229c2a7c8b8dfbe9beb96","6f6288c9c659b6af5ac975f4180deffe53d516399b2cc62f31732e9d4ba9837"],["58ab546e51fe49fc5a382e4064a2bd6cfc268904412f86c26de14f28a71d0f2","124b7217943e7e328408e8afdfa7da00dcbc94a2bb85fd8e01fb162d2c2c0a9"],["a82c2fdedbb26c3c762a12f7e86b0e01e65320e0a25a8399d665f6e266bf74","1a1de28e253f3e10f44d0111e8074f882d7f42e5900780ccbdc31da372d3fd8"],["744c725a7455a992e3cf5bd007bc234dd4668dba285f553f38350ad94c1615b","7f721a87f48798bdc4a9c0eb88559e2ad7a74112fd901e70ea159e67a9c33f"],["434df142ddaa60f7881b6348d91687de40457de7ccfb07f0304b9e820705d0c","7fae425e3b53f97dd1f5b20e49ed9fe24ff1efc341ba5e017ac89cf8df0cc39"],["7a1e2b809dff46277021cbc376f79c37e1b683bbd6bca5317014f0dc0e1ae73","56790278a231912c334eff05281e08af1558e85516b4411ef64647c13bea431"],["4931b7990348d41cf8907be79f45bb7991fd18f8a57868351c92fa7a34cbcd7","ca35091815cdf0837d396e25aad6052ad32d497a33b123256cffdc008bc50e"],["250b815d352fd89f8210b624b147ea7d0a4f47bcac49f3ac9b777840da93ebe","1173f10e9691948b7da7632f328520455aadcba46e017f891e0a1d7da2bef04"],["2223b85032fa67292f6e1f822628e6756e5c3cc08fc252ab88d63d624e4dfb2","55619ba96a7dcec77832fcb22cd5c21c7dcebc0280d730cba0002b67e0a8c63"],["249b131e04de73af9820d3e22492d9ec51bdc0c4c4f34d95352fa44dd61f245","7576d3b5d136368ff01170a77d8286d0d1c7c40688862fb40813b4af3c6065e"],["6777915d9b4769027eb7e04733f8a2d669c84fe06080f55e8a55674dfbf9efb","640d0ff384c9635e1af364760f104e058e3c86209fa9d2320aeac887b2e02d8"],["2abe3f237681052f002414399111cf07f8421535af41251edc427a36b5b19c9","636ce4deaf468a503ab20ccb2f7e5bdc98551656ebf53e9c7786b11dd9090be"],["4d5cc5414758ea1be55be779bd7da296c7e11f1564d9e8797ceea347c16f8ea","1a680c4c410cf5ddc74e95ff2897c193edaaecce5b2cde4e96bbae5c0054eff"],["46c375c684b30adf4d51de81e92afee52b1a3847e177403372c82109373edca","1eaadc5783c90a0261306423d52009e991126b3f620e9cb6cffca41ca096f4f"],["2ddfb71f51205888118cbabba8fd07d460a810289bfdeeb7118707e310cb152","1fd905d07b3933be886f2518246bdafa6f33259a174668808223cd7c28183c7"],["386f3879960713d41fdb3b1e41bbebf26b1c0e27a9a75bb1adcc1a0d3e8547b","2b21498c0f34ec6f17c720334dc0f36021c2f87afbbbc8847d0bd536eb265e5"],["407eae62c6c4de3b942195afec3f45efec71ddb5e6edee3d427631bcdbf9b90","436e7f2d78268ef62c4172d2ff1469028bad1f1d0f97ab007064418e61caa8f"],["1b881175e21201d17e095e9b3966b354f47de8c1acee5177f5909e0fd72328f","69954b1a9b8bfccf8ec384d32924518a935758f3d3662ef754bcc88f1f6f3ec"],["7d545a82bff003b8115be32a0c437f7c0a98f776bcf7fddb0392822844f3c5e","34b6e53a9565a7daa010711f5bf72254a4e61da3e6a562210a9abc9e8b66d69"],["299b9fcd4fadfc4b6141457a3036aaa68501c23df579de26df69d4def89b913","b95bf2c2bb303c38bb396382edc798ca6a4847e573ce19b7b08533d1912675"],["551f5a4dae4a341a3e20336a7d2f365ddd45849351ec6dd4fcbedfe4806d5d5","5865c977a0ecf13ce85ae14c5c316872080bd36f0f614f56b6dfc7ece83792e"],["7a1d69c08e68c80ad8b310736e6247a53bcba0183b9b8798833bc696a0fb6e2","3ce803a20ebb3b120d5eaf0ad64bed0522fad1a0f2ce39a5c5cbae98c4438f6"],["28acacc0bc41d84e83663f02b36981a2c8272ecd72d3901164be2affb09c504","7a5aee0b160eaff5b5968ab1a0304ce58c3d5ae0148d9191c39e87668229e5b"],["1f78cfdbcc767b68e69a224a077468cdfcb0afd6952b85bccbdb96d1fb8500b","4772ba173c6b583284eb001cfc2a124104833f464ff9df096443e10ef3e9dd4"],["2774108962ca9897e7f22c064d2ccedac4fef5fc9569331c27cdc336c95774b","9e13d79b68e8dc8091c019618f5b07283a710ddf1733dc674a99fc32c12911"],["770d116415cd2c4ace0d8b721dd77e4a2ef766591f9ec9fa0b61304548994ed","42165d93c82f687635aa2b68492b3adffd516beb4baa94520efa11467a209fd"],["5e6e4ece6621e2275415e1fda1e7c4f496de498b77c0b913073c6a6099394b9","3d92ce044fc77fa227adc31f6fc17ef8b4ec1c5aafc44630c0d9195075bf56d"],["6e69c717b5d98807ff1e404a5187a9ceaf0110b83aa15a84f930928b1171825","1ee7cfc3a9744d7fa380ba28604af9df33ac077724374c04588bd71fa16b177"],["404318f2d2ceb44f549c80f9d7de9879d8f7da4b81e7350c00e974ebf2daef1","3934831b5af70d17a3f1da9d2931bd757e6acf2893236264fc7e0d92ff1a1cb"],["20dcb6f394fea6d549b2e75748f61b7ec03b6e52319cb14163373a9c22bb9dc","106a8c96cfb95a331618b7416d1498554730499e194a58fbf63019890480fc7"],["119000f277ccee013e6bb121194ec1ab5460fb6a96eb702a14079865f4170aa","1737a32f5415e8720a5606ec1dd4756f02e7c6817e3723b453d091f2d192773"],["45d0fb5cd95db76d05dec3faa12e467a308eabaad363a062353db3cd2d9b749","ae08691b5b0cdd19ec499132421638f470f493320e4003d123ab1da761b965"],["1257b3e65cdfb6367c6d0942327e799bc66eb221e70c6573a9862889eb51c38","593309fd45755dd2cc4afd2b9316bc4638b0c5ddb3009694fcb7b250d0c8a2f"],["186dcf9950f72e868014a8accf14aa36e82a7a2a29f86ba37f6632da4189db3","55684c9f7a043fc523ed78f756f834b4db823d5e4161bd79602c17d55a5cd8c"],["58791d5569f282f5c3b01ecdc9388df7ba3ca223a2dc1eed5edaf2a1d302fb9","6298d7dd51561a045bb4089deda9f40b2865589ed433e56d54554f8b45e79f0"],["13fd87144aa5aa4b24d5a7bf907d8280d15937fed262d41084898cb688fc28b","3fa54367770cc4479a857411ddcabe86627b405ce1cd14ad3b2863bde13abe4"],["48118139445415f0c1879224e2dee744ed35280ff00537260402a1741ec3676","4dfa39dadaabecfc54ecb7a25319444f8e952782d863790e42a9887064fc0c1"],["4ad031bb9eda84f2fe5d354c7948d41558ca657a04508654721810ee72ef158","620ebd5d0086b92c6009a42777b946a351c2c7ba852b57d3c9905fc337459ef"],["4a34abb016ad8cb4575ea5bd28385d2348e5bcc0cbba90059f90f9c71f86e8b","4f781829ad83f9ed1e1b6de0e5f4ac60dfdfe7f23cb4411e815817e705e52c8"],["7fc632d7512aab5356b7915dca854c8b12b369ab54f524fbce352f00eb9b9f9","2ce80b944fc9158005f630b34385d50c3ad84450a9e1e529925b3211dd2a1de"],["65ed10347503cbc0216ca03f7536cca16b6abd18d332a9258685907f2e5c23f","3be1a18c6bfa6f2f4898ebefad5a8e844c74626d5baa04a820d407fe28bbca6"],["1a8abba1be2e276cdd1f28c912280833a5ede1ec121738fcca47dc070dcc71d","21b724378bc029a5199799df005922590d4e59cae52976f8e437bf6693eec4a"],["3a99c22dafcfe9004ebb674805736a26aeed7ed5d465ae37226dcbe270a972b","5bf67552af08e1e6e2a24bf562c23225e89869cab9bef8becb3669175a3c94f"],["4a6a5e4b3501f2b7bbdd8da73ea81ffca347170bdfb6776a037cdd74c560fb4","5af167ebb259c2da88740ec559ee04052bb66480b836cadd0e2590c32d7111b"],["6890d95308525f0bac9dc25cc1189eb92d29d4b3fe61bc8aee1c716ac17b1e8","e6f23f78e882026b53ea4fac6950e56e3da461e52339eb43d2fdb2dade7ca9"],["748f4cf4f027efdeaed7c7f91ef3730ff2f2bb0bfc2db8f27aadde947f7d4d5","3a1cbc550699411052c76293b8c41a3a8a1ecf12cbbc029a1b2b6ea986fca93"],["7321f3f581690922cd0dec40c9c352aae412ec2ccdf718f137f7786ab452cd3","5be5130c9277cdb76d7409452438ec15d246b211dd1e276ee58e82a81c98fd4"],["6c4d6cb7e7ae70955224b8a912ff57ca218635a2436b36cee25dce8a5cdf51f","32f8c03c6db3246946e432e4148e69f5628b200c6d7d72449df6eeac0998039"],["1dad5f2e795ea6fa5177f110989516eacf8fb37bd6a091c7c93f1d73a2fe309","56b2298c538180e99dea3e171dbb5c6fba0bd0a9ed40537277c0c2373a8e2c4"],["1610605baacc9bc62c4cc923dc943347cfece7ae241e746fbe6c2c878221dbd","431a82d657e0d109d00dea88cf3fa9b999845221b7b5590a20c40fc71368c1c"],["6a4f5c787fb09a5be2b04d2eafa1e6f3d3c863ee22960eb0b64f6eaf6659162","14dbc3eaea6146ee7eaace5a91ed9430dad3a47e9ca2f68b455171f8fe6a7b3"],["738415b73e55412b0e582e45ff0d7bf4b1bf2922db581783fdcc75559f40e","33825aeb3fd8459999eb418d15102ba5864b069c6ea517f0c6e9eab8d9aca47"],["2603e72ce53985c70782774057a17944f7b4ce224a809be4e2b5af3606aa1d8","92822921809c42318f42dac4d773325f41c43069e990adac7818a45e2554dc"],["181cd967ab4615357cc96c82eae9152ce7598c1a1dfdd91a458bddb016ae9fe","5d562fdaeb0e12647e230e50eaf216bed52fa73c6b7378821a3bfc4cd66d4ff"],["1121726069b9ef5954ba6490100b226e0be53fef3e071b7c58a1286174b789a","4b25594cf4e9eb2d14b3f52f2661a9992234fc222c0a0d44517cb77deb9c16f"],["e543663969b915337f105f80995a77b356f1a51d8b4a4fb12d44364130e873","34b2e3c009fdab4cb7349a580df2e64c0098a123280078e5da6623a9ec6b44f"],["4e2f8909bb62de5ef65600e61bbf969293815296b6e23702875e049b3ce5c45","3cb81f2c21f22a7add26fa38a9ce5d9cce1bb251bd2698f90c34ff0a84f7af"],["37b546e403a1ba970c17b67c2f1361ab9c803f8d2b5cd93803014faa08861ed","37079184ea46272f5809b523d060686633f7995167897a153be1772fd6566f6"],["27bddca77f7bd7f66b3693567a4238f2e6751d95b0bcb409f6b24d08f84798c","6417a85cbfd6fc02df560d3963a241a986baacdfa423f65d7227ce49a96c57d"],["2de71a39aa043057d1bc66e45f804542acddf18f7a6d88c0d7fb0ca240debdf","306c1ce39ab46300f7cca0f3a2fbfa77296a27e24bc66b0b8044968ec0ee413"],["307c877154364c0c03534e7327d5a88e1380ceef6481567ade37a14ee7c1a72","3404bc7dbfb33b95d922d0693aaf9358f77888d7d95e773c38d83dbe2e5f995"],["79f09ff7c60850e5f5ea020722659a1ed27db4c95dca131f99552f785c8afbc","40429528c099349b426ddbf129497176951a64a53db5f9d8bd2be0252cb22b2"],["4027dc6b56d446e5972f35464eeac85c5254ef377c902d9fe37aea841bb5292","7c3ea37689ef679fa2f5c7e031a78e23d484a8317990fd34d44d95cc1db3717"],["645dbf78a3c228c4b7151450b5e65edb58e71f37e1e4bc5f471e0f1abd6d9c2","15cfe7850f327b256e23b00627451560c5c6ab60db78d45b7ab286afb6f13ab"],["1503ca373757677ad1d911a2b599d01c46eb879d1ce21ae171c7e439846a85f","583eb269b7030da6a0c324026919de3f9489d2ff6ae0e6320c36f05469ad66c"],["66e1819ba3ec4ad4ae9f7d7588d23baa004e29d3aad2393d52af204a81626ca","505249980cbe6273b82ad5038fe04a981896f4117345ac1abcc67e2525c0ee4"],["5ec20dbb290254545f9292c0a8e4fbbfb80ad9aab0a0e0e9e9923f784d70ed1","bdb1ca3a859227cf5d00eaae1f22584e826ed83b7ccdb65483ed5213dc4323"],["a5c1a5011f4b81c5c01ef0b07c0fbf0a166de77280f0ae241f2db6cba15194","4444521fb9b33d7dfeb1247d0ee1a2b854ad166cb663d9dd2e686909362a689"],["1f35335de40e00c62642dac2fda8b30f071986ce4f11db849df11bc45ad4e0c","7801a2c761b90fd4477ba0be9a775003d5dfcd959b1ed198b4681f15e7acbf"],["48db4798cf6821c1ffb8178b1d3bb6020e04186c96aaf4670972d367f4ed5f","781019494df95b888f1578f1b4a3f8e125ea60eca47ef9207a10630671217a3"],["17f653d904210148a8e74d8e719a3061683c164aa6d79c902a19f185ab437bd","6780e97985932c3860d810af1e065d454b1cb4be0e7ffe2d8cea7d52526e223"],["5c4d0c7432f9b0070436240f9855adae1467cdc9826952ae01b68cd52a3ad89","1c5747f968ed91261b7ae9bf1023c999da9816e37de602d6a1a50d397752bff"],["6fedd7639fdaa2f7bad4ca0b391710f6f8a7e890250ae8ae4252bb8b39a1e58","436a215f655a3fd3778b2335ffdc9aca6b98474e43d764c1f8362830b084f0e"],["7fbd45a889c5e9d127bb4f8474d6be7cb9796bbfff923b75e42a1ad4cae37d6","484bd12622a6ba81cd53049c550d9ed682a8e765b656b1cbff9bbea637bd1f4"],["17d984d47937263f7966a3e7b1eea04071e678494bd749c9e02b48b3234f06d","7b341ff08722c4e161005d0037204a7a2001fdda7af2cc1a0b04a027f115a0f"],["7f1822045db45ea07e1519c3ee1f7705915f35fe4dd8db1e8921b5d1c740edf","33d41e06b93320ad1b3d9580380ec797a05dac3f1cc8008899110ebefde2f78"],["7b19453ecb74b7d0e2a66b9890ff73bfbbcd61a266abd6d82dbe665bf32f34d","6dba2355420dac582b1f349609ea1c89b89bba2d1a68a0642f1dd12d86e73cb"],["273e82a15f395ddf2489a95685bec8bac62c4b459d1b28987d3cb27e4bc9128","653375b48a4cf5d5b101c9ef533039bedce5dbeef3f59e8f168bdc99b06ca5f"],["3006c9e7fc6a553d8eb4e8a47ce9f10d1a39576ac255ae9e0a4ce3869e76212","65fe9e2ef2aae608be309332d464f57e28f1df5de1a6a519751b056971f932e"],["5e8f384c8a4607fbe9789fcc52d54249d304d698562597d114c1d81452d3dee","3c8bc78066b5d947dc1e405e326ee55ea606c7988f666748d259850fa259a22"],["7841b2102e9aa103fb53a642b3e167b21113ea44751ab38e0b5ef8312654db9","71bf5c8308fcf9c4a7847494cd9bdd946fddf7d3a37e8bb0b201ff2343deb8e"],["40f68027420c11e3ade9aae041978dc18081c4f94943463aac92d887f922a62","499c6062594a6c7e21a3cb91ea451813393bff365a27a08f1a515439b83cf42"],["6ce77a50d038b222634e87948df0590b79d66087b01e42b9b6d8fa30ebb1465","35f5c46bb1be8555a93f155a174d54ec048c2ac8676e7c743054ddc52709d37"],["604f8b9f2dacb13d569262864063c2d4bb2b2cd716db6eeb2b1eeabc57746f6","68c6799e24f3b44eec3049973445174727a66970f1614a782efa2b91ab1e457"],["73d620f3bfe77f672943d448d7dc05327adf64b8e7af50039c469d7f7c994c4","4859deb36eaf0c802f0d1514602368143a33ec6ce8fd55248b59025debc6afb"],["3fd2bcd1c89d706a3647fbd354097f09c76636e93ae504973f944d8fc3bcc1","677ef842cf5eb2444941f527abec567725e469469192354ad509a26ebb3d0e0"],["39222ea924ac17b533c72ffb2c47ffdc11d6a7f7c70fbde3a10fb0b8f35eb2f","20dc4bd1089019bc1d7379b4feb3eae6eb5af59e9f253845da9fd633057e952"],["326f58994e1347f62e4102183215b5db956378d2f61f14aba4dec94577f53c","7a03284c296003bbe05178a1d82efdb7b8125511d63e20e50aed789c2e52e1"],["53aa8939c74d4ee58f03bc88bace5a45c7bfcf27466201da05dc6723a5f5632","2e32535ca7732904a048183247b04b426ecf9b39fc393a9cebe92fb1dc7a7f1"],["6cee1a03145e93b3e826e6067005f09c06099c98198c91c222407ba5c8c132e","beaecad1274e7c6e5476a100c271aa1a6f86ee5a9fa5c2f26124d5886fa63"],["3ec659b8175e1be1bd5a252108714776b813e330393f587814f5f1f32a73332","529a5cf9f8c237ae69a94217d173c8d19c156952041f5c980da557990863fa7"],["3d66ec5963d0c534d4139c8cef2e1ac48b3e7965fafabf58be26f903318af4e","3d3f2de7a95f59b683725ee6283cbaf31f97c4b600df9a4621413223a468740"],["7fb38ace8e0932fac2ea0d3eb676db8d684db1817e2e4d59da7996ce398b4a","68f92bd5768cdd4710249f9d49ef1d5654e497b9a4ba10bd2971366d83fb400"],["1c4a49314d6b4969cdd142c76ceb7682bfb868ace7f7568b0fc8635bda5a9fb","5fc0519f1f4cc10b5771312458748c036313b87707ed0540026ac64a5955aa9"],["3073c95d08d3b97caea5f0be16b2789bee766f76b7e5499f8ce8f96abb0f344","52a8974b4eb9a1f6a0ae2c83cb4715bf18d73f057255fcb3f63b74f7e78f590"],["44485b16d597a5de3604df6f7ed7e00b8aeef9e7e8dea8688255153b8bb16aa","6cccb0ba170123266f24b5d93a744397dc2c44820edc4f8f5b9a0f5c9b3b940"],["7618f77b7b32d512688dd62e0b48231d9574c6361e8be353a7dc04f7c3a115e","78ffcd16d80636381ca231aae70d99c9e20298b4f5388fd823ea9fa2b8ddfd9"],["7dc82fee1ef95cf5b3720fcc07f63246654bfe39762627839da40e51c75654d","4c0ccdd70955da74558de20c88352df8a02aa97e4d5971c500e884740a8cb62"],["7fa5d460dc10cbb418b444d9bde97e92c70a99a222b99f244dccee7e62cc04c","636163901baa5b7576c38c43407af578b8c4607e01e86011ae2dde587a89f84"],["758930d46006623a756c89bd0cc378f6a3c1f43c9a0edbb42274c35e75c16d2","1d74dd9f81c2fec811b8cbd6168a745b0a111932b2a345265ef2853b50b6245"],["7332ee0626b044d664ef228f8cb84df7c643e52f6a2591ae1c9007ad61ec16e","229bd8e630572cbdee54283234cf3e9f060e6382f99943bf234119d47b54470"],["78a16ef803aa20a075bb2f66c61bb2dae5698bebb94a0995fa74c3d53de1614","246d588b68edb6fed96c128349908c42dcd64c46341b205e79f4aed9b5d3675"],["6e1933939bd03b67bba753cc0cbe7d2f25bad68c993887ef8c9e2fcd59b0647","599413f7c204a11a5ce315eab11299ab7326603412bb00bc1c59ff75a37d6b4"],["4a79957a5a1888ad063b51c69565a2b48e8eb917183e220a1c8d3374526d30e","1f092de0e069bba7fc5386e2e9a114c1618f88c4b95e220cd35ffe96f99fcad"],["3148aa3df9ece39aca84f59489f2710522216f14be6055ee0027529d1d55e2d","617e9a52a92975db0ba1977f71116f7058a0d31b869ac7f3ee2fd80b0c5100c"],["5c1188e72384160ae39d07328346cda4f6c12d227448e6236f04dc971625287","1643006eb3a3bc6aafd5f685cf054f2a572e6ca58c0118bcec0b833741f116d"],["3f72efc93c9b71adc4c51d8fc69d3940b20d08733af2b7d05140fdb1d1c1004","7399259987c8f4ebfab46e522380707e58427d3962ee0c2a91760813f76d232"],["3129b34c03c51aa8f611e91d5cfcc9bd3ef108ee66e6d3ee35a0e0e50055bb","563b18b5650085efb4cf179a029e6afff27b1d3091cd28eaa68d24fa1f801c6"],["16eac0f9fb4c67cf89a7fa4ee615bbe731d8edcb709a1b9b50c7d873a530f52","7ff8288b6e199ca8f316192881424a37fb080c29daa76b1f0edaccaf580a80e"],["75f6b6028c43ce832f65d7e8e620d43b16cba215b4b94df5b60fc24e9655ee4","35e9ccfaed2293a8b94b28de03bcb13eb64a26c831e26cc61a39b97969a2ff0"],["3c6152fe093bd6316897917ec56a218640ec1b2148f21db9b14fc7a5ff362e8","6eef2df27ae7d63a28856b07b73e7aad7ca94f317201a1e675ffc6f9a1710dd"],["54e01b5fe4fd96052aad55b3f26b1d254dfc7e2525fffb9ae0a77eb8cc5579","7c3d39232ab333675b219abc766ed9b4782c840e6b046614dedb8a619696eb0"],["d1e63f8ea8a76429cf254a6d3b668761f0dc572d4bfac4fd56d9eaf58fb6c0","2bd0a84d3908a63085824c9329a0983913006ba155b56a58eb3f9becab29c45"],["2d6122f2a702edd4da7385b1580796a71d13bd72be94cfb3fec01149c006c2d","70eb282fae992efa6f5915e578b640653549f23385ef3a29ab29b1b9b8ad63b"],["752fec14beaadb5ddbba6b3a17fcb86579fa588ef407fad0ea07dbb22a640d3","3feb6728eca21a1e84e8f9f23010387a53a96a1cb62d86fb37996150a1299ef"],["63f94a92f27acde8f5ed949b459506f51d70c85bcc61a34d647264ecc53c65e","37e5dce0646ee66f4fdb93b82d54d83a054948fa7d7fa74ab6b36246fc7383e"],["d6aa909287a2f05b9528690c741702c4c5f4d486c19a46c38215f52ef79c7b","5ebe1128dd81093df4aca0df365d58adab848d1be1a94b95eeb649afd66a018"],["12866812b3053e2f7a9572bdaf5ef2b48c6fb62a0eed9ff0356df50e7d05557","6785f7eb2cd1c120e4c7167b46861d10117040a2e9f2ca86a71e9d67df90613"],["46a730d05330b1b13673cb8a1b8f45460035e4a9f1a1751cfba099c4355c1c","76fb0ec6cd16a8141cdcd875c8b2de9fce42d296072643d148ac7e7fa7472df"],["4bd4380a22900bd34835e0a908eacf4b6edb61eda0cf483f9212453b37e7516","5e9551cd20d8d7ddbf4366880b7d5267385afa1966ff30da4baaf273b009d29"],["71f1994ad40baa2922424ae222663a64f93d8b67929e9a10f9e4c1ab19f3833","85320fe68ec0d37cc19fdfd03589d66906ffa4046c80e1b094a85f27676346"],["5a63b1bf5232f28f808765c6be7ce1f81c52145b39f01c879fae0f4303bee61","3bc5d6df68bb6d0577bf9ae2ae59ec0e9b2dc7dd56ea179fb38a41e853db950"],["161ded55ff1087032381e6c1449704f63ad2d88df82dfc44a71890fa09b3941","78a52e0013842037274ea75daaf8eb4afc04ccc4b07bfaf3f5ee47d165e01b"],["1bfce5229c5fbff5c0f452a22317fcfcd9262f23df41840f84fe7d44cfba1a1","66b387872c00e63c73006a955d42cf49c46c5708fc9d1579b9ae38341b24a3d"],["56d47dadc9cbd1dcb2ee3efcd5d4af5e6aea71df10815c68b54a14e81d11b44","47e966ba54df48e9b612a903685e0060a67e4725402e8cb4cf654e54e813a3e"],["4b1c44438afd4ddf20a2cf612df2ee494ce84c7274c5529e857693e73018491","430403bd31d8f0677e06abff7159384560f27b9622943fea1a3192f14bf40d4"],["7f7281728fc2214aa1dbf13176a4624b53814734abd570eb6ef7c7e32379606","312da47be347fb3fa2c9089b38df372560dcace2effeeacab4d96ab11567295"],["16a28884a1be8183e0d3fc0db84a9afbf47126fd3be548c2a584aaafbfa7dfe","7c3f57b3b895564ba562c1cd80b71fda6d2e611665c6ab87744f5390858fe24"],["323339f37b327a731232a9580e79952063c7c232bd1380146d8a83c285f4b8b","4f16be1d983c7232f92cce6b9690695978d42cecc8eeb8c206e125d1098a265"],["624d26cbaa197e104eb83cebf2adeed09a5cdad359993fe5e3529d4d0def21d","261b7da3cfb55c788977e0d8d640e3e93ae5a325d962ce85c816d7d32cfc430"],["f24ecb7ee83a3e28dab54a330dc93d0429a7aea36412e922dce8fbff40d60d","b043e36a258d1df1d21b0cc7be9c4dcae1bd4ed326c110e668ac23d86805a6"],["686cea46b710bde1231483bfdbc700cfa3da6ecd5841c0e0c782f9ea24328ec","7eb7407aa58edd6911c7c7e8d1e03bb52ead4a2415a0c33325872ff3a521dd6"],["3866ee1186264549df3dfcdf8705c0380c9372eef6d4081c2454d3aded1720e","634c6d3e8eb8af652a4be73e3b613452c2213104ca875b66b4b15ee5b1716af"],["484c687cd2969a1d20a58cdfb9a60f280a473284503b1ecff5de514aaf8206b","34d44d26b7427e51a646d1b924084762f5b461685450f21d6a472de565bebd8"],["203561333771fa0fe22c4033349f7b877d15b0542a5598e81e067968768247a","2b6a533aff6e2163a36a2a89cb7415848bef48db40f952ffd380f47676707c2"],["2ffa6cca6233695760251206fc5e34c8d3692498589478cdd3d5b09f0b7c05d","6c57d605478fa9626c4ed769554d075daa53e1a1d0bd4d94174d3bfeeb11ad6"],["5dccf0fa46a5571f204d0b033b45f299cbb3d9f80fded57253ea4f1c64faaef","30a38e131ee8756ee5ea2a3e16618a5dbc28b5b9311308bf037ecc2039dfc7d"],["57b0a2eaebeafd950221facdd24790d7d1ab8883e5c5d55635f0d14a1ee4741","7b41cc478fa6be38417271db8ed12efc0da6982552c1496025d2df0576bf4ad"],["611b5725101f611c387ccaa13889ecf3bb5595071a179ce350029bfca4ad7f1","3129755977abc8995fec7eec1123a1561e429fde37ff36af002d3211831ecf4"],["1c06bbd0c52fdab9fcaf680c7a93fb821e538a2ed79f00f3c34d5afb9ea6b31","3873d3bdfe0be0157bbc141198dc95497823cc222986d24c594b87bd48dc527"],["275cdbabc989c615130d36dabfa55ca9d539ed5f67c187444b0a9a12e5b7234","2b7f723e68e579e551115d56f0ae71a3b787b843cc04a35b9f11084b006521"],["6cc702eb20f8b5940c7da71f8b1801f55c8c2d8e2e4a3c6c983f00bc1ffdd95","5d15b3727bc66f3aba6d589acdd139fae115232eb845abe61fbdfc51341352e"],["44defb418700cee8c9bd696b872adb005490512d8bba081f8f99a9f15cc981c","3b2072cdb1d919b2b65b5cb3557f0a3381d7ca293c267ca4a38f83e77bcc96e"],["fd83ce77b1578b3a9b8c3cbeaddb1504d2fd4a19c901c21ac65961224e4966","110cbe64fc10c6b9c66f15ca406a35f50b723b35d83c5eb9797a57f8395f4f9"],["9dc6ff90e341875e113bbfb507724dc7095a280d2f32cb6ba61a1e0c2d2aef","4aeb622896c852c2747454e8f172c9482955a42ecbe522d6ce07ecde79d0a51"],["71c58b0e47b9dd9107ebd8a8c8fa9f0534e78231bac612c1ddc7a94edf33eb7","7f90edaf4792bf8334adbaa0f4ee7c654312725af188682d75f34874c4eccb9"],["1f6de1f14988778ceb2dfe844f92394f1f1e72fd1581ceb3bf336c95ce50345","4f6007ed4e022d2ee9fe4ca8207c5f6c766c4f3b85260e941fb24ad0dcbf0bc"],["3ddc3ac25ede4a67a97547ed27dc920239b585fb3624177e2e8d59eba678115","a9afd8f8bb759cbd1dff2addc63f47da4ba1291ea34229c09c0637dc5c8d24"],["c56b0269d8431556e471cab9d70edda3a37b391696f107b2dc370631de51d","729c52f6b134f733eb750c14bd9f95c077f0f6f6ff4005701e5bedc6544599d"],["44d32ce19ac6807cb22e4f25fe1486a36a13926f147fbfa054b63ff0446177d","212a21e8c124c9cd37c80d2dd66913ceaa6b6f666522f115c39382b2d5925e8"],["35dfc16f3ae6ccc06a267bf6d931601e52f3e45359ffc513570b65b96adc4f","74311d10f4bece01b5ae65a6affe5c931463aa1b73a3320eeb41bbb7bb1ff62"],["e0acd9d2d907031b319b80121dc90699d003d220ea785d50e5033cdb3b1a03","3911ba78d6e507485d6374b0f7d2e6198f6462a7d6d3cf046404a07af690357"],["3c57918ca254c0cb7dac251ef4e10c7d82327969552eae15d26c4c52660922a","5fd5f5ff3f14e671548074114c72c48409df8a2e71fc8aa3c8acb506e2a88df"],["222ad8b61e219ba2b581f606b7c996516850a46a3db72fe1f72b5a9be6c324c","72015a5e2db648112abd284fd867b59fc5606645177d26cf6e9a655c9912d42"],["3c86d5d774bc614469768ad38f7be9a53e9a233942c5c553b82e49aae684764","480febea8229e130dedffff89c11f3c43e11724e6bd89d5566d78752859d41c"],["adb73bb8352d0c10175df371f7868ef2c9e0c79ac788430c480c0f7d85c187","60b564785248111502e6f39c4994d6293fac22bc25f4d764b2fb1957d3c9bd8"],["3836ab8b46cf4f453a22532c886940b982029b29c42adca90ded5bf77e6bcb9","7b15e91d6355f147b171a90b064a9d8b2d7bf3699bbf4987664c61c950d8996"],["12ed96af1a97c45ec31f1531e96f6fb28a03ba52ab8484545fbe0dddc97bb32","6d1f522b6c6cad0940cff8e23decc72bb8d4164696af031415508b025aa8be1"],["27382994ae5878223ef802e9b4882f481a1b4008f1eec8484483471f7aa742b","c31750d242b3975b0026a0e86ccdd17d0f680a8c6f53f197fc25eb1f777917"],["431677eba3715455bc235557518a74f3b111a88844ef13e159ad44bc16de3e6","30000e1eb6a17d9df776981e65c6e500fded1ac12003adc9446b269812c9197"],["4b563e6f42589671579eabfa2cda5502b361c46a5ac8d45c8ed44741a925b33","627bdb41678443fdd1aa607709e9699b652308615f4bea760a3b79ee0d9ab5c"],["2932fd3f81fc973ca9def6b7f1bb50f980fe589187cfe9e9f52ba4d356cf2c8","1e6bfd00fa976c4770263a227048214c38850fe0f059e7b3d2c7871ef07d68f"],["e44e4f3d96d9dec775b996be57e57fdc28e7c68023109b221c414a244a0dbc","58b1e52fa274812e5184e00e9ad812bec2463140adfb4bea3b2d665867dcc9"],["7fcb89be1f4bec745887bb891e53fefd665c53d00a9e74de16b8a7e1f7adfb5","74af0b06633f779897e199609c71cc5649bbb65bc2c0abd4c678f0480c198d1"],["62a381ffb904ea3ff4d451d4c8459457cdbc3dc2fd2da646a95d8c1e90c0b7b","1ba058658e09db9e319fa73de8ab4a992b71e4efc22c273725bdcab84e2a315"],["1b0fbb7a84c67e668450a54449c7a46261a2d355589f8b84ebfbaf9a77ee938","44f8fffa33dd33a6146c35d196595e22cc4a215f61ee9197cd751400970a1b"],["78fe920bd96a356d4d95ee34adafe8fecf071d3107c36f047b4024ddc4b3eea","6162f29607fdbec10181fbac6e57d5cb41b922c5791fb24bd28bcdd75d16c41"],["5629b849e026e65d119ac11821d7ab7efd9c52226f75c7427505d6818bb0c8d","1539c0f90970ee8b490e45bbe5568170e5708521a0e59f976be680595906feb"],["62bc853f349bac8c6e5921d27ba85dbd9ba20a375d70a7bc008928f3e123b04","6acfeb1de05ba43c3ef1a9110a983a320e77b3ca294abbc04aeca19b194f26f"],["4cf4bed663464418285cbae359b5d84ec76b5997d24f3640984c7663421190f","941f818e3e3e8fb1568da85217d17f9250ebc948379014d900a7b1a848494"],["52ff3d9ffe9a302f6dfaaf74bab57c08027d5cb699a69b30830540c0a2d47a1","987dd8876873778d933fbfed37aab2f7d6f669c37024f926b1edcb2ca55782"],["1109ee32f0bc53de6bfa457060b366e909d7c18061ec9845f46ac715496897f","38f36f172bdfd454b9285f86e6bdece8fdffc95182c7d801b03c671cc55139b"],["4b4482f1d84efe23dadf3bb10df3dcaa251312dcdd604f616f1eb540e1f3232","7c9c149dcae9135f940fb54482f9c3cd8193721643a6e23157b8020410d439c"],["69cb459b9e415b7581ca163611c470d875971d5d7949de732d1f0f200544a73","a7136fa9dd00c0469863b7def3f83a5611ed628810d7e807e7a873da5a9897"],["b66a4e32ac9a4baa8f64780acd94ed3628b2b0ea874ba4dece629af65f9e62","24328ba9996a24389658e3467b8b90dc3927ef8419fe28b3f55b1c1aaa51915"],["5ecc3080062dd451236de0e4eb91c5c75100733364bc5469f5fa76f79021ecb","6da4abb9031a27b5be94529324fad8026e7d871570780081b0f424d4fe543c9"],["1e3146f00880bb22486d5bc73e54367d54251f4002bcf342d0393b05a4b9ce0","23b6fb8e945d3205f633ba724202db5a99305f807137edf942cd60eef867699"],["2e1da8013285598b899f026c6974185db12c97b4c63509769d3d4ad1d18a4e5","1e7e7b668674d1593c39d58bc7bccbf568208732b3519bc2cdf93db34366862"],["d26c3f389d81709506f184b53871497c8d36c5c9eee8e3737358204c1acba3","34649c3d39f3b825947fedbca215ae30c5a5995e93b1c8efca4944cf85a082a"],["91300478a83595d548f32f259033291fc7d083953b0b8bde88c7559660c563","e5d2bff57fc6551e9b80c06ac7314a71907cdcc66ce82f2cce721a670df10a"],["1f7abcb9d462c63ffe92aa56619ae8590089cca4d93ee3e5f34a63882452cc7","7e9f85c7b7ca6e9a4f3a026d1048adbeef69ea9d876c6f647c257b879a81bdd"],["4d2caa1323012e4c83b0ad387308b8aef5637bc35ddd882e7f5e41cf2ca410f","47150e808c81a540b6f8864e9d6636589cacaa516f82caaa96506edfbd6f0e"],["3c10a6083c38351deb3e6d1b386827d0acf48979b66b95249eb8700ec26b069","47e34bfe561d903cffdd1d849b85aa3cbd31cb4a9bbd8cc2e5fd2f95016cabc"],["758bd54868eec045d0b4d3d2bc415d24bce13fee47cefdfda46425c109b657","3392a7c66ea3bd7b044680bbe9f78ae86752097404c067e9d2572f55330df83"],["19e718e0ca1d2d6fadbc6006ee7dda7a385430e29f5e239cdd4bb7c3fdcb2f8","5c68249b7fe03ea2e13481a63b6cd4bf74ce42009a89fee0b3f8f968b3ec709"],["28077f57ea62401806367e6d54fe45d02de5b072db787ffdcc3854e12a3e855","14f3762689072f5fb41d03e94b01808c739f6d42b7b785b0e464100b150efd2"],["3b8a8cefd017363ce867265af3293cec081fa589fe561830f0078778cbd338f","69ccf2383cb7b4f9c806d72535812483e7c5e9a1a5928529d64ca7e085e758d"],["77878f388d22161a2953e5aca6bac1ea480e102f329574b4b201640d44a296b","7eb35706a90a03aff7c2fecca72659136547cee98038746db5aba16fd7178df"],["97332e6da70961f2ef31b7b628f1018d21db8db015922a301fca7d6fc6a8e6","2e37b06f639fc7a82601b744570a2619e543cbfaf60e474107fcaf4686d3223"],["a81518d452d3aac48bf0386c3ff170ef4e684a4def242c964e129c64f4d647","37506e44c85908ec7b7adda9547fbdcc2e3605151fefa77fbf127ce3bc938f2"],["e80336b2220b1d666074f6b0dac85353d0e4c2e8bd0f37055a2236a6a9fadc","1cae76d73eda7a5964c5d9d3ad6748aff51f5543c56441d2fdb7b444a39846a"],["2c01fd8430ecb44e066f352c4f697fc9fda177dbe162f82862d7b9ea8c918de","6e1dfa99640fdf5b30603d34c7c97c1aa6e6b7f3a2c52a21fc64b0fcac7d591"],["744e37b511cd0ddcfe15f3581947014c159de81ed055d15a13c7a2d1fa39f0f","685caa8ff6979a6c63640ac638a3f9c75737f2031bd55322a47384357af164d"],["40e627ff84e1a7a9068b4368770f5956128a4d9e9e33e9cf5e24d9a242149fd","2465bd6cb20bbdf810e2bc5c3c458cecf4f3aa163a7ac99c2579e5f33417f2e"],["5f635af7f554a17bceb6ccb6e637abf89ab6dadd399189b0a0390e87b1896bc","2aa6238a69f89665646c0e3ca2ba5f709cc6e14351cf71e1b00ec45201417a2"],["5edad3063c9fa8305978d7e6a4e037c9fa519b8023c7608dfc3b66e5c1e8985","49f405d07d7d01919da51159ecdad1031a5ac208c026fdfc14d38f633d92183"],["2fdf2e8a45858c12926a1f25a62255fb2d02d0149a15ef669f859806683e649","61cfb686bb31e2524470d4ad2ae09e3cc91b16305a21d748098feb1d8ce3b3d"],["ecdbd7c37f1dffa3943977278da3bb429afdf948b4ea6cdebace3d3be82381","190b67fb34f7f3ad6afd3d6b6427aa327547d8ac0fb4deeb0feeba1f63d6c60"],["233021b483f578dfa5222f8cccba5766ceee0ac65f6d4a3b1673b302a21fb3c","7d4b6d44d175d4b593f06f5a6dcba2cdbc4eaa2097abaf613123546866cf4ef"],["42db4e953c2a7a743de9fe20c5798f2247f51db4eabc6f40e86c13909a310ce","12c1a0764a0b9f3666e431923ce15e7fcd0ded5ab153f0b48d362cca1604e65"],["30d539e2b545fb957e40e2255f6463b52d227c9808472cee6a3d521aa283a44","5f9eccf747fe6313570f99e845db32b40070acee9ce9e34da7f3c29ca53a07a"],["4bd64e5ade3e2733580a6116b4af328751198e7128f9acfe3a3496b545efb5a","4d584768900dabfc0dbaa086632b8051bb3905ef79b84d96c01514441d0cc93"],["62d6e771f02e591557197d13c3e77dfa2d1794ac1808407bd8227c4be31b466","5c6f5607c1808e899ba36a425911fa8566b7ea9cc80de8a80538c0fceb837c0"],["5ce406218cb2852b1d2fe1836b19462f664631785216e87ffbce26030e2101f","5225f107743c255ab50e7be4a090fe39478d1ef4ff558468559d8cfa87bb94"],["670286486e8dda3dc66b0ed3149be7697d3e06c8279844079daa7e42d5af728","26becabe7430380c56e320f5ae3329569cae7b0af06fd5327ee23979d200eb0"],["3ef448df33a4394c43e93e5850cd0c5a6dcb18ae1cd865d00fe8ede9336a9f5","56711f6ab7e0e4f7365ac34e284ac2879f40208c46f6febcc1dcf7146ecf015"],["4b63fc130288e92f2d6ba238caa7a6364804e29829ac037c57df32fbf762bc3","1eb8c80af55278b4113286c038fff2bfad2da62763bb03426506b869139da0e"],["4e7e998557b29a95f805a6e2e26efc1e970108272d4755738c04f28572295c0","97cfcc2f447bde61bde71049d8200a74a3028b21703bc139143d81a3623f09"],["574b67898f02964c408f68e9470e7b615be037e40b824e6617f89cb56c21219","49392d5f8e6740a1b0b7444f56d7a17363f8656c6e4c628678c86223f2e46c8"],["7e8cb50ea5d5c1b09e219e7305bcb601d99b6d7185b1c388aa8e36fe1e56554","47fefa308645455c12ccb5817da338f0c4f423b341aff4a9d158891a4fd69ba"],["67266dea9e71b4ed2bf24a597a823dd048cf31e725db511edceac72998c9ef6","39babd65850befde1f7c28e41dbdbb4caf82bbcf3bcb5b33161f1c2960b2d8"],["63e99c2cb9c74eb9227d48065e27abb8f606df8fc83b2c44e4ea38b046bad2b","60494a53dd13ecf34e08079d343c88fb655d6d810785af81f08d5aa9bcdcf9"],["3cf0600b0f5a2a4eb78c487cd385350e8c7848e3f6983231881d7f1bbe28543","56dee4288528de609976ef6b903b652127c37b0590e91a2fdbebc3f11df2628"],["758f09245fa4b8b23d290ee2b3bfcede199b4fdb11f3cf2502a8ceedd61b129","622d9baadfde781e985d9722e0a04715666769a4cc7a9bea0b96d6386be1746"],["38e1a45b81492aa95d7abea2b08b8c14dc0b8a41108b036871fb737910ae18c","145c611262656385e5ed6243568cd3f9f59dbfed7a01ba11e22bb8bb272e08e"],["206e54ca53a2f155bd4fc45bf2edb77798ae6623defd4cf22f2dd4a7d119dad","6c94e7f0825ad81680e4cdbcaaaf4df806d57a0d1fb2331926c3fe2b79d22e8"],["56e98d2862893caebf66180e84badf19ffc8b53041eaaa313ae7286a8fac3d","526306f9c01afd6e0c1198ea5de17630f5a39c4ecd02d8e6f0d613c355995c6"],["4fa56f376c83db33f9dab2656558f3399099ec1de5e3018b7a6932dba8aa378","3fa0984c931c9e38113e0c0e47e4401562761f92a7a23b45168f4e80ff5b54d"],["450cfaadfecdb8a2fbd4b95c44cb1db723ee5ac9677c9c188b3d7c8eff4ca58","1a552bdfc0c81be734f1f6ca9a6dd3ab4daa61c11fb53ebb7046eee25d617c7"],["6fe20e5c8a8004e33eafc84d16ef770f2f0b7bace19adaaa150f987d295a34d","28a35040a2ebe9a14a162d3208d5eabc6e2f3a8310f926bd80be65aa71775e2"],["1bd65f45a35bf62ae8f9ffcbd7de2976b90518b6820c219f039c50043bb1edf","fb5f0f8659f9b6ed7cb0ddd7999506d0c20b26bbe69d1915a31842cfac41eb"],["4ba4cc166be8dec764910f75b45f74b40c690c74709e90f3aa372f0bd2d6997","40301cf5c1751f4b971e46c4ede85fcac5c59a5ce5ae7c48151f27b24b219c"],["21cfbc678f5a279ebb6ed124273c8df37eaf12a2d04180403ae6b5ec0b1e1ef","4478ed6a346d899ad7b0b10350270aad39ddd5b68529297e4c91a54357f0a7f"],["350bfefbe3d864eaadac9cc1195c14159bb736be743aed7380d2384cadd2046","5e2a4b3ad0e1d7b9b8ef72b10d68a80e5ee691d7db591fcfbaad6240d41da8b"],["529acd569127f73c8d34345f87e96cebfb48ee12a00a3861cda209337ed94e6","3120671a89b705e5bfd99b0e7fd2118b4914a3ac309b3d74527cacb5ad7491"],["55d3d7956a97d10e65a4d8ffeba40deaf0db0b57f8e022cdb3df6df613f5c6d","159e59a6f92f48fcf85aa96c1a03749a4c4e2cf9e2bc94dd36796daebd9b8b9"],["405f019ee8f2e972a005c549b0884b5051f63d1e78480b73208dc07d8c65a1f","4301a3d0c285ad309ff24a12c100ead7f48ba1368143712f32ac141ab4d9e8d"],["376d59b298d982f02dccad0edd5bbd4e5e8fad7898750675ed0856850a7babe","5233b12bbc50564eb61cc098a17d3d97f06ec7a230380e4c5d3b725cc318eba"],["2f55624af6109ef04b2ed035a44a904ace8627f55889f011f768aabf4de9a38","7f64209ce7dfb63337ccf3d8c14f4093295f86996cabfee23b1655549aca089"],["3b8965e942bed2714bc2e685fb103496e1e3595ac6a343d6df45fb5ef6979ed","5b7cac7a165cb69ae103dd9052fb39c00ed0aad47989005aee53972d82d45b5"],["7abfe3accdec1eae1a50049efdd9a8eb7c2921a08e8bf1fe606e9d5a4039ec4","3af178e7e831f8148244d2d2b284a32991852db6212ad0a9d77540ef648a5fe"],["4983196df6ad7d6f0a8d76f86af3863ad8611374a03fc0fd00793181dbde9d","204c1f91b70f975a21d24a8face664e496f00f602daaafa69a3b56098a4cf89"],["79e2b91c1531a3b16dbd53e72d94e16bf265cbec261658151acfaea3718ea72","3d9bdb47e8b148c1c5e9e694ffbc2cf71aac74ae1a85e8d8c3f77e580f962eb"],["297efceec61b3be17565843cae465c52524b4ecd9331a4170f54f7de8c4556c","6ccef1733624cc8b973ac63dd54e7a53604929affe81c3439525ae5ed6af993"],["44f04b1966264a23ccdc870c8563ad2efcd4c8087b5469b90e792287a5581c7","1c417f0e9829fa3d3cbb7c3cf4dc7aac04c5bf66ff3f86b833a42c533aed1fc"],["6ff83f5d8b51db3be0bda80eed2e2adb7037f2f58f705e88f0f98197431ac26","64f59b8428894c2b7afd740866065ded42e716c7d48accd3f117f22768ed9fd"],["14aa8187c9559f77cd1cf96b2dfc949182529936f2b0b4050ea56e134073b24","5f36508c68b1dc586f3fd3f4e2bd29c6d8258491b8a6aa19ede811ce0d3d0a1"],["95e8882a68c5000d1c2be7c0b43e7f2a6f8de906485241f0285a5c73a27a83","1e4cb67207ab73bc1e5d19fa2146fde6d03021393b77a55df4ddda1fd28f5b1"],["2ae0704dacb3da47d564514b4c3543505b403ba09a248c6e74593cba1867ff5","5a4b5818088dc9ef4066b90a8893ae80fc89584f987ec1928ef9d72cea2bd67"],["61a10898a76fb99989e51c0e823cb60b95ec7ccccb917c42b2b28014f5fd94d","23d8ec1de45366d3b86c64c2da05a2ce3d171adf52ca5522e652ffd0eeee795"],["79884133c879cf07734976fd64de220c5a972e04c2a3afb74c362d6c3beecbf","2aaa0e6d4891b792b5643fdf09873343cd0e3fbba3cbd0601b481a4083f32b6"],["45f73d2fa82be6c5ccd0f62d2237efe8727c479967d27cce28e42b9a44bad5b","2fa4932215f72d56d8be5205c5851c9b3e5f2a14468e4a7acace5437c6b27dd"],["37f53f771850f52f9c8f87b53c6bf0c93c2bed76f5fd1d5697356d0b2325007","50f1a052b79b446fbc7b93ffa1a4515f6c3be3a76a2b0bc5eb8ff327549960c"],["71bd6d23e0d2f312d47582efa609101f15b9ccc571fca8ac4fe3457c67fbc9b","3b3fdf86bd4c7fc26d60540a6439b4d179dcbf7b91efb0ddc60dfbff9a148c6"],["78219ba049438385b829c13a4993874a4a326c4143de0dd581c7b9956f99b06","5505f1268dcdd4ee01b77abac3bfdcbf3f0513ab097c69ff777b4a631aaf256"],["b81e924a86536dcf68bc5a2ca2065a61103ba6c9eb0ae4cf8cce9dbe286f15","653a6dfb51acfe8a844fb8362795e5549d424aed88d3a090366a44f840b5b83"],["441c0d7b7aa705046dc0e07ba5f33a7d9df23f694a05192ff8c2d7be2aa3fdc","4c06568c0902bb99d428bfa0a946ed0f0ca0a51fbf07cad88e06e9c78e38a59"],["2569c8c78b6d6b92533f29f767c95720d377fa63ad5a3b9827ee0a74b0488aa","4b59c81d3cfe08834f946d9d57614f5366e0bcd9349475aaaebe01341196fe0"],["3f2fa285a0471647b214eac652bbad9d58a9f2dd2e812aff0210d0d8a6eb32f","4cdb18e1c2848c2b52c1a6557165bd1a8f55c2f7562f5cc0b326f73c25b696c"],["5bb5141ab4fcc5290ae9151b8045a2cd8391547ce7b3b33cbbb10f8fb538092","5a36bfd52acc6a83a9913b937ec086cc27fed030b5fa70dbc5d3c12c9515f56"],["3f3fed272edf91aa7f8ca5d70005d390fbc67830ffc69c5fa3ae17582d2771","459057e0883c44d8776fa217405f443e5954f08c4a5db68e437becaa664a999"],["5237ca6656237a717a739a4509f70db1b9dedbb6cd232f60c9bd8c4563a6b1f","56c7799dd02896dbe7d69dd8bb9718270549592099569d107b7b49c34bf5a49"],["1cf6b8499ac881e0b2fc7def9bc1a28937033b2fc52de99e75909a620c7a281","5769cf4f735366fa386b6858043dc99a100f86fbc77b16d57d77766197ba27a"],["1b74b8a6b86dbf9638cdb0601e1a332b8d880753423d38c3394902c57f15e40","6bb2dc10d2ecbb913219d0ebdc8d3337d644ed8b6c4e70637ef4c7e50887488"],["61e4da415661bba52a4737e2bcde1a837787c4796b2e1854778534f1582c29b","27c43e632cb7652e8508c9c38e3b4ad0d3dd6ba748d42dc84ec2685e64b9aad"],["7c460a204d23f20ce86596dae6ac9b36734e4a9f7c5b43262c97a36c6a41c6e","481a11f9300ab4c4bf6924c5ca884728cc361247377065920966785d043fbbf"],["124ff5e55e4effa40daa5b9618d75c49c8b6fad95cbe8c0bfdd83cb9bed8316","33a2ea15d0f71f58a00de71acd7f22ccf9002115e49dd1f7631faa0d32f9987"],["61c9f8fc86715e95ff43583a865c5a6515f93381839d557ef884a68637eaf4c","5877daaa42bbab9083b571e12648a9d62ced4470d71653092b6546f4a5acceb"],["70a6b9a9e5d1fcc07dd9ebef6d8f5fcf04c6cb34932d0fe2335330ac6dc8d3d","3f0cbd332ac56922e886656bee74f6e9bb4bb88f7af7bba9098678af1f38fc"],["41db8a0f1ea78443a39e08a54323743c8897eed1ddc28f41aec6f2655040d9f","7d4bf32f8f4719c2e4af8b7889f3b65cfdd033dc2f971798a12170f2b26efce"],["62f035e01acdfe841104942d6c8c07f0fbd618cb85998ea24bcc24cfac1f8","1caa886104b7d753fda93645a746989794cd825c62473b526ea34b3d51b5771"],["441c6f016d270e86c19843727b83b864cec060cafc813b23d7e41e5abb1a60a","29fece4e40400f3acae0586f4fc8ed535e805e472123ec38d662d8a0b01c086"],["2c791ba0fb0b66177815c98191fa6188dba9c795e34a7c3c8a19086215e3cee","11123151389d4b330db6a665a560407e7cd8c3807c749e2b0cffd9c3074ba77"],["5292da4ca71ae75ed0554c267747e39c7a129b3b863e1af3ebb3e368439c4ea","63af6a5016deea8cc674c44f16c63c1db31f09af4fb4d2ea7917c28116661fc"],["3367388d5d1b7758dc3d92e244f227bb8a54e3d9909e7b7dd62ab5965e3efc7","7ffb4833071e4b03ea755ccb9938487a478248fe9b1158a08f1ac298801c092"],["95c863314b7f18090f8eee602403be823a367a1b416d54c32e5f914e67d922","159c2824f899171deee23e0ed520d4825bd667983df0a8d45d3a1f7156d91f9"],["621c6e08b3c57404644ad49ac7629832c141273fa1f323781b3395393fe985c","65d1eb0140652958c4371ebec791e03317d6b2e689d90e304666f1b610783dd"],["54313129bf13993952cd2b31ed06013aba85e74c1b8a00e062031f32188a84e","680129efc9eb8ec07fc180e8f6877e5f0f9f44e3000a2c586ed4ce49d12a313"],["21ea57a1c8286bb45872e78617853c47b89091670ba51c124afa3362e7260d","7087e5c1536df233ec9bfe2f983e8d7622892b9bf64c450c9823898e2cc2fc8"],["3793b05b99e7a57d88db4ed0dbc3b771285abcd9052da50f88595354409f3f3","12164105041c056f127e737c7cd63981e05f246bd2b6b65d1f427019c7c3801"],["befd345cef5fcae22ac37dacd6b9128cc58cbba3e3fd774e11b421c2ba392","6209d25f24f88f7876ca604db23d05f78e6b3b67fb033f2f1bee221f352b8c8"],["15fa536045fda4c65ff74f10b4e669ce88b9996c6772288289d3ad725987fa6","30e0c2124a35e265e931ccc66ce5ac3697d982814beb407144ff6762cb691df"],["38b795bd77ac573576dc204857a488cac2cce19809882631ca2069598c577c8","786ba555d55ebef688b068bb9186a34a08cb00bdfef51619bbf911890ae9a13"],["6c66853592196c3eb8d9526dc155205e2c64097adf8684bb0e15eb460ce1c72","1bb4ebf654f4250c8dd1061a4e1b464b31a8a9999ac9960446ef8108a66871a"],["5b08dfbc87ad9c00b88e78816973ad2f9c10c70f2156908892cc7b7a2a1fd30","1151f407a77e2556073173d8f5c9ff561d8a23742121ca15f7d0ac391af50ea"],["309190eba106aa6ead54b5ca5817969aa68b4b4c627700799a49fc6bdd32ba1","505b6a2bc7b0d78ca6ce2abe7dfb7312369918a4599cccf8a615f6701cfd851"],["89cc205966af08acc8910d563af7443d5dfbb5d88dae79c013c678c65dcecc","1f8cf955694b246a423ac725791231257b88936e00347ecaa1e17045c0ab540"],["480086b61a80c36cf1e1a350baf554e58ee8d9333186b70c9c512fb9e9d5a84","511edfe58f8d36a6170df743731da1ff525cfd5108be20e30ac4183d1281570"],["3caf14fb1d2e90a13ad4eb091250fe37133aabf6029633e905e5a93ead41dbb","49122aff6059dfda19e4b973aba5ebe3804c91728936c6381c1ed1ea9380920"],["66d1b8fb2cabc46cd79741ce1cb7326077ad8ea3227a6427244bdd3806bdadd","4a52eb74f4d5371ba3265dffd61c844f9e68d4ff0b44dc4936182f9280bb66b"],["373330c5afd53c31257fcc9050fef873e15ea9f81d9810f30744309b04e02b3","5889806607b3dc97a9c5b0c8a2f16d1792099a22866b879ca480cb89a11ef5c"],["26840d0ec69a22c6818ff64b8b14633b531508c866e21d1dc9239778ae9e8c7","157971f9a6e3a24d3b307be0e7c8cd352e2eb5cad33cf276270c0f309ee63fc"],["ebb84848f1c38c19a754d1b5d9460e39624dadbb30800987c9419c0f933b9f","517b297cf32f4064e6d6c8e761ba8db89809604a701c7b3aa1a9c6beb370ea7"],["25780380bc0795ed0dca727c55240f1d63593e552d224adb40df2d3721c0f66","10215fb5a893e0275e9f1f66b217dde35addee91ed0e8f7d79531a2ff57b8c8"],["243e1581cd1abfbf18c31c19a4c3d1cedfe69a40bb57b607c9af2717eefc742","1296c27929f14535718c3a4ebe045f00afdc60afc74c7d398d8ce1b6609dc0f"],["48babb8649e054bc8e0b902c89e6940c265f48464520649502ef1064eb94562","3235be7852b0526d1a16f6969ec0e5b0e09cedaadc65863dea4e47f4f398264"],["592db7c27e63489ef4bcef2eafce89f40067cd9a1ba48bc3dc76b5fc62ad9ca","48b7711b570cd9ac65910e75e752f4b751fdbfb4091a28f59b8c046d3d9f8bc"],["31d133456222586ae42a9ec7ce8539ee04afbe0b2ed00a2564dab0798d9b55d","a77c52fa1fd718db5c83e7fda6d7d4d9aafef9ad95cad621470f2b753729e5"],["4651668379883521e7983aafcb93811b4a72ef2975b3277773746708ef3e3fc","512507f3f544d80ba5d47f73b571881e8d70d7b1d305b9704bdad036b7abc47"],["26069e359b2e847affaef604f772f36224608b7642245d0e643889ed231bddc","75ae1ec379f074ebc91270077c74b4d34347ce183b676b4dbe100bfff143b9e"],["3196d01d1fa11dc3803b4813c4bbc6326869f61410f2bd14bc0f570d875aebe","20313217cac79875bd2a503db1e86d1e5559911667a02524759344468d9561d"],["483256607f75f06fb126addc60cadddd602154cc4782bcc08351a48745d0b97","2950a7e500ebbe9775f08be37cc2e62ccf9030de18948d1bab07a4a9173f75d"],["65f07b6050a2fc6eebe2c29ffa62f764060f7f9d3c82d2cb5e4e368aaa442c9","562c9654b646cb84a213b41de203c871b3eae0a05c9c105a66a53c319c06373"],["284870f6181c43f3b01d94baa9c5b6ada0deb861145523ad9169580eb7bed35","5e03e6c40c1cfa3cafb01fd0622349871832a9d35499d06408a83edc1b76d02"],["32229810a52137f0e6c3d37595c46f6132822d4b05f42674b48d7a7ac3ad85","7babde959a0cf2c53ee59fc52c77c3adf899453f077f441965629f9aead30cd"],["1ea8b98a6b85e74e0a2fbc18b206e290f3ed94ce99ca665e8e2351dfade990a","478e93c4724115fb1648c8d5347422adbc1a0bbf962b2312e14aec80e1be742"],["270cbaa08c79140c85b864475a0bf569cc03ac785e57f543dc444f37ce746cf","3a9b8d894016680ae9d1bf3deb931d8987d4d8d8bfed45b81ccc595ec79046b"],["6943922708b8ae5b40dd7031ef2e487abc4ac39a3591368285e83d6c9c51f4d","5f157c37d09634e8cbfbef90ea50af59815d011e419a691c67ca3402b5efc33"],["48ac6a80979fab4912cf0cb557d917a0bd68825d8658ec100496eaae6ff62e1","2b6931350ab183402e39476340eb1177b7006f7a552915581e29a79bd7203a0"],["e3adf9517d92ef22d1e2a787740a292ba32d5ca69faa9e8675f63ed816dce5","36bccf69bb12dadd610145a3399213248d193660d8dc90a2e206f23bf2c7997"],["5e6c8ae5afb2fa470f767581f3d578cf6a49547e4b78665edfd45776948bef8","6cbfc11953dd7e195d2ce74e52a60df524767b44c4608bdd755be4bc85eb74c"],["15a576a1242d39300f0db3ad770983825988da0457718ecd596c63a0a0eb4a6","69a42e5f6f5a63349b57683a4609bba90f556a1680fa1ec3b02ee7d3211f903"],["274cd14e4fbf2ed07402e8ad8075b320c5f76b7ea45ea36af523e95ed63ab50","6ca640f9557c5f2d8b27f6ce95b108880ff4e4816b26b70b6506114389ce656"],["4d8284e132e2fe81c5f71be1e3c79ab51b229e2c56c323e207cda179999d123","116cfc00e9fbee1cf16af6282123cdf20eed13021c2037ef4c86f94eb6e6cba"],["4056194fb5643e97991942ef5b63cadd89080bf57a01489c4398aca03f0980a","2e2cddb434fa6f6da7859c3d518f0ced8795eea043a6c9613fb3e020103339f"],["5d119d5c5ce532afc0875e0ee9b026d878c8773d34237f90a0d0670da6f01b3","4a79fc025ce076b6a4742fbcc8cad313d0a8220c58024a41a5a674c0947e64b"],["11800ce4061d99b9d53fd4138802335258f7798c5a935c9979f5a949ce1d483","36745a4741a5c7290eaa8f2a3f9ec955ccb7ca323272e5d35d35c2a724ffac8"],["4302525bceb97fa642fd5560a4a39fba3d2c06f68e6aff3332ff1854439ebb3","e31edfd081ce82f8177b2d7d96e69851d09e908c2517114ffb37ee12c0ac64"],["2f5fcbb96f0a66fd3bdfbcc78bda361cb812570f50e7c476533d56eee01c0e3","527428a34855b5695c479d8fb7e831a299f7897f36682a74169cc60d160df2d"],["52167df045ad0dc999b98de3d035aced9da4434211149b8cf4bf20e774580cf","19051d2a1ad3fab190c5dfaf45188b49b4e90cca22aae54f0a785562d3d3f41"],["541b5332491dbdb2b6f6bccceb7634970c046963891fae936dd950f4432b961","78fa54da996a51e3a9c06091d58c2405a806649da2bb1f323807c4eec50eda2"],["5f11e973da659b7738f87ca5bd4f3bd02207dd3c8d978f0d3e83fe81030febd","137aba7027069f62d25caed416e13537687bb1428e71e5f0a0c52d52f2e65bc"],["15ec941ee6c2110b819b5541be52981c09d83484c9dc735c43f39f5778718b4","4561826142dc5b56acfcf605a78a4090472bb61235bcd605a765e05d0a7e549"],["68ba398736d659522f484406110b43c68158bf4992094acf797a38979c587a4","7c1d9e1702e28afddf22fed7a7a79df4315c174d0c6c4f4c75bc77d9b56777f"],["67889cea31c81a429fbae643a4fce0ecd690a5c32b99397e39ed6d7a08702df","7ea277c80b671146c9e455b98f42f45b941ac95ca2d15c8fa9ea82ee9b45e01"],["596f2c68390ac26505d3c2eca5c77d46f8f3acbed192a2649d8c525a58d2334","49f3bd8c62c610d5c19c52d970bde24b270c4ff7ae900453b909e72483974a0"],["567779fb8b0afe592cea284629e3621ccfae3c4d7d3dc559c9fed750591a395","6010bdc33f1cdb374facefff537e7910b72a1120502f312a7ce41df0d552ddd"],["cebed0233e810aa6a29a8b0829d28f1c92f303d14dd73d6b12da98117dfc7","4bdd51e1192a00df23aa8d0673e4915877ca41ddb8c9eaf21d39dd167fde7b7"],["4c7085f066adeb6781596771972b188177e63f2e2b3788d03e033cdd5af1f06","2929ee89f525862b0cedb3ab9b5166e1680cb77fb4668f10a6a3d76b5434566"],["760e341bd836899c226176f47685f69438270c150c6fe7744cd723cd1e72359","1bf09f2f1aac1a10ce8bdf20d5d178db747f01a4aa0aa8a5e4bfeef562cd94e"],["6016b94c00b54920027ef64902c61478244b1936337d2ad41d9a8d43dd6a4b2","3bf3dd9bce7f6d6f120de87fcbce6219340b59c2c1d75ee0d45105d33aab1cd"],["4929e44ff692eb944d1045bee96e750219cda3bda0500029f0df49a1db30b5b","2e138dcbd092242699004b4ce98764ffe4e892841f56830af298581cd1e523f"],["5972d0e526311bacb70a04e88969b6c63c7399b578f0dc28bbd00d65ef01da7","76b22bca9ac12d26530e7b0757e646beb3bbc5680d0f3f82fb8ee57ed4b5e39"],["2ca0a42a26e26934ca2d48db960b4719113d87c5e57fb437d557c5eb4e03ac7","62778c02561d4ec5d83a132afd7763a8349207c6b5d01fba70b56ba660cba2e"],["5137ee53f076e21a2c23da09f63c0d275408c31e4634a6b6373be5cf13e6c00","14fb446c077beb78e04de3282a63bfde12f9af85caaca4ddfab506cee31c0c1"],["7d944853d1627b63f560aeda33acf640d35a4ee4d23a744957a2dae9d5b7c6c","bcb411a210710acbcb9ea12680d89e3e4e652228b6786d3886e95f4d9e6970"],["37d412c2ffb173a728477446b60b2b702d07a5243cb5fc8963e623a5ee75843","672c79968908f92cd0cb0b4c65ba86e8f359b015623a89441e1bf859bba84cb"],["5b37f472aa80398bff12cc74c8ee784c4fc89757292580d3a498bff17e9f114","7d79da1aab9cfef58a5f3d1c9ec466956a45f8d2af0c1da6dd4c93f720fae6e"],["25c09b3f1188c562571536202eb0f5fc4b9a7590417b8ea58b4343685d88a63","3d5b817c73b37e9a1d24ca923351359b42ced2f3cafbcac8c2d6322dc767bb"],["32e60904e73f9756f71e0a918d302aeca17cad4acacc81bab15702ab5ff78f0","bcf4c0204f8275072f98a65b09ac58b87cdc9c70c4edfe99fe18870a3a5459"],["49c35575996c1517d2daed90d2fe4a58e674d6b4aaa7288d0642c8bf59e562f","57eeee00adea4ca80eeabab57852cbf03f1a57e21872cd44221e0550b9193b8"],["10e1776b4c2a867bf1b028c6edec224cc6616c747e272f49e69b67b02a893dd","8d45d62ec8e627b56950f2f7622a0438647f9e9f28e723e4a37cebc039a1b0"],["79a93a75ecbe943acc964fd39ecfc971dc6555b2bc335e7b53f52f4eb16cd36","146132a68ce2ca8b48363612226771ac547eb3cf52b6eb7981718faac08aa3c"],["6b22d32e0590e169504e7f19864fd646d0994e7ed3e578a5b88f6e095913439","68c3b22d859fb85e5c8fa0a8aea932285945b230957e603394333e9ad5acd82"],["71ce5ec8286eb8c93b8481c6d19cf0a288ef4da4397e9c80f65023e516bc097","54470babc742780cd8a05499026e738ccbf81d4170d1731734de68a8e5b402c"],["27beb13a43bc6a1f6ce046da438b0beac5899ff4d57962dcfb6476b563f74b","14074e9e93ee45394dfbe833998b9d1691961f8ba3166224b36404448c61bb3"],["6b1de6c8f161aa6509a1dcacf2c0aa1bcf6ee9d9b40e032a9d72f77a6fa298c","5e9312eb5b59d6cbadd7d3dcbc39f1b5bd9a8346fdcfdf1107bada6f9cc048"],["32670fc3fa43bf39974ba72ea51f0d045d92d084a81fe5282dfc8309aa900b9","518fee521bf1af62356aac3b7e53fdbf57121e030c6e9572b3de69912ca4eb4"],["4b9ca363eabed9c66091a347375f7065cd28f49f914447de7cc1461f1375f1e","3a1a3a2e5e7e72476befe2571ece708052d740d02cbe6fed58740968ae609c4"],["4cc6da42863a3deca62fa218b7a3b50e034eb4bafd393eccba3f4cbe192ef10","20bfa683c884f203713953b26d2821287ecd305fa2cb70570474533fc07f918"],["87705353c44a5ccec8de65cf5433be6b3d9bd21eea49b60e6c907cf1a67a6a","112804b13eee56e3b01aff75fa08fa8374c44fc461aed8a30ad54acd09c24eb"],["6cf6eeeb9d339c0a05f72fd5af73fc7588e6d957100ee8999109437bc126cae","54fa257cea22032eac272fcd034dadf2e00d602ef9e519cf7072023c130aad1"],["19b32925048c5519d929650c833661b452ef7be7963fab0b6b328ab7dd7a28a","1bd0c14a10bf9b88ea61011c0b2e64d07da151c6203800d5a5d12063838a510"],["12a5fc5559428bc3b4eff97b21b63668b866e0722807f1db1f19696bacd9b0d","4c2eb07f0c24047a3d73b560144f3fd32c99d6dbd9fc7cd2fd2a72a6e4b24c7"],["13662b7a7d390aa76eb86a7c3bff6d9913eb28db6bd1a7c42de5cdad2e35ce2","40626aded7f56f82cc431ae30527b096f57fbfbc04d3e12a5abae3edf301cf1"],["255825bd49b8a2cce114360bd9c8fe8c641af64c8e7710107213cfcb006f43d","3619cce4482335232f9e76a1460be9d296f2d468d26e4f95a78c71524fe59cc"],["7f83009eeed4f12f54d341bbf06066480cfcdf51dda103ac54d4bcecf6b3b31","4269519d28faafd7fd68bebfd8404d71ba05d62c4bb6d65d24aa6802fb84ab6"],["2f325650eb316646b4eec903fe44828fcb11054f1bd42ca3a77f7e734110b35","44f976082271016f9048e22c507d97d628722bb431f8d5cc1890524e6c386bf"],["750b166bb6edc0ee80fae39c7c106879036738df2d79fb2294e1c21e9a24d6b","54f8aa297a1afafe2a17a3254f45861167414327e918d17003c6aad01d0b24c"],["3aedb10db9cf3285cdeee375879396fac1fb50dd259e1716f8c01e66f67ca72","7feb9400f621f58c21601f23b7ec7c94a9b6b193c1cd74a8a60846aedadd359"],["4ab7151702de76faa493e7a0b1ac20ee4d10c33b83fec9477547cb1236973eb","63f1f122e3ef3acc46b0915ac69c3f5772879799cad889a817f55f5853d1235"],["1675ead0d20e5bc3a7a7331999a87ac4c916ae29669e54197bb02aa6364520f","4d1122da90d49e491922d9b533a6a668e2f65a2737ebb391ebb29fb7c1f8a9d"],["2f7148111ef53c613157aeec12e16a20f13481da4390b6ce18a85d1d8547087","2eeda779ab395597651d2a0b833ccf53b10280750139916ae2baf4ec57c633d"],["4439c7810e7b2ba772b701ec3acdca0b80c9df23047710b87f7dc3f13b337d3","5029cfe704c602a8a4662af0a5860ec03fb88f046d0e3400f2ce7638014c621"],["2248eec40b5732a6a488b681f093643af7937071bc73118acae295a32b51b05","1577e4aec30a97b648de4d0b19cf8891151b4eb11f8de9c6d7312f091552e19"],["4738424e558d4e0d87a3124ca02ea24f0adc6b7a9768b0d3945ed2a6104857c","33576f92aca3f0c8ae689c3c274c2de6b918940d86a6852e02fc99e35d1614"],["7829edd8b866ebf7baaf604ed13d19a9797578f44bbc51b1cd67ca53803e96b","5559040a6083f2af1f9133ccaf5bc2ce06e56ddfc7dd410e9635c0116b62722"],["7f927b881f2cdc05e1a69e40bb714af47b630d1425f08ab5d574ee698f33d51","26a465288e96572de303203bd38f4a03031e8158da0591cb037c0a5111d1056"],["36a65598552f8753580d1655417d645a140966e10a1e1663015f9fdfae44881","33d5bbfaebf59eae72b89b1aea12ab2ba3c9617f8c3baed1ec16bdf668381b5"],["403becfa545c826782026ff409cc16c9d4fe428f1b5b6e630c92439d2fa5fd","47bd6f2bf5d74f710ecb479c79b01fb774fbdad590e683a415cdedf33f71dc5"],["3a747826d241b877d3d56b16e0b810cf088eda4fd6048da174c9991a942a5eb","2c7ba19b0a3486a2cdb84d4a388d34beb077a0e467ba44590166f93f6a09d2e"],["3d60cd375842714b37bda89dd1f13a7e0f3ff133b522209617d031bce05a537","f77f216451ab01ad5226844d2162a7f32744688bcb4325445539e2ce5cec4"],["235bf66f67c9100e7f0e22bb299cdfaa603644b240e0770aec7e7fd163e2a65","37110b3fa83ece3990afca2bea8d5ebb3c7aace60a0147f8e6ab733e2f2b4d5"],["3b796d4eb69a55471fa86108f787b3604874e92b6887a7667a6c2bfbbd9a42b","4912d6dc0419732ef82cb3278415851d4e2d7ca89e0f4d7128cc9de51b810fe"],["48d53516dd51e49faa7ab46c8c10db1befd10f23c6a9d9bc3640a2f0da44518","73a2fb3d064adadf21aa1362c04affc660598f38a9e069b3afb74d0a99ae9ee"],["48c32cff161ed145da0d5b73084897647abb777adf65738559ceab6939cf3e0","3d99308978e828f857c382df32b472bda81e8ec8e30c8844077ba6d6d2ba903"],["2947ff091a8ec9684affbc9a62e09e598841c4a6dc638088492aa47dea57097","19a2cc97975e547f97a4d02e42f89e6ced6f5a953cfccdec347867d26926541"],["1960d85f30475615f82484eba0bdafb7ea7cac3809f0518a757d66f02b01676","36c8f77baabf0cc8805d993bbe62041fcf4e3239cf9d53278a4fbd91e75eeb7"],["2765f28074d21d5a055340b6d40092d2bbef807e02009fabfa08ec0b9bdf38b","7fb189e0553d5df52b6843661814824b3f3cbebbd54988f042fb256c6bf30b"],["348836cb2aaa00212f4b1a4e2d7fc5417f246bf2fe5c9a16ebabda449e2e08a","3f7276fd7d69e0d55ce5ee1d2d830534a27227fe0b6d8a36c93f9a78b872969"],["7afb9d34b6a42ea8c6d870e4b8191c274201dc1f93a1a2219a2392b7e345a31","42bbc20dc7115e0758b364a110227b16b64ec58fc535ce5ff1a9ad8b8a09fdd"],["2cae0c2afee1767fd4c66f52e1f176d217e92e89cc19eb36d5a6c1715f641a","5335efe2d9bc3667d25ea88bf76438a4d6ab9ba5c512f9da7d0529b79b62d83"],["1cc5fde334707723c3a06f00c106db88664284a2df47bb6b144d9f960aea3e2","dbbf610d100316938bcd8bcd078513512ecb50d4579690dbefaa419c05980d"],["54e90cb8f3a2998d2675c5780679e06c0556b1e618f8fdf07f9a4b2466fbf1e","16248676b6f06ec5e34994bc3115f85c8147b54f34d8500928f2fdc051e2089"],["525c70a2ba0dbdd68d75640f47f13d0d415ea595f7030f533f4625c2a46523b","58292c8675e5e1a438f49e0c05648d9a7aa997f2f1fd77d5de1944afe5d7eea"],["54726d78d099007393348787a03107ab492e59690a46c87fb02ec554f2353bd","53b54b77184ba75a3391e0ebfa6d6974db028f3f8e34bbd5460759a5848dd76"],["4ac81a66903537769d3aac6c483ccc08535cb767b6b5e1ec8017a7393ab70ae","2cb22b77a8a05d26f11a4dec80eff292633aa05553a889c5ab16b6ac6e2ab17"],["21d0175349e21114988a2930b9a607d43245783cb4a0c984ce27f4c4206708","59f1f49342cc5496213d3329bf4ca7fb0044337449c579bf53147a1dac9e67c"],["167f821b381f4c8adcc39789475fb55ba639e5124fe75f26dd61be396dd5e66","22002c87d4cafb47ac9d27286d5cf5ff7a6715d69814118269b0729be9e4b3a"],["31010666c6db83a9f9e4db4c48173afd405783ac53852a6e38a8ff925528843","1f466dc9b5d9094107c741dbf380f9fd98d8549cd50f67169901516f8cce74c"],["1ad3875769a5053388a86edc85dd80fdffbbda6a456aea497ff81a0f1f6707b","2de7cdec5e2bad56a71bd2f33a4ae4c874e1ad4210a6ac32b443cfa34e85b1b"],["c489650fb7f459ce09cd05a456fc5a46b849b38a671298ed645bcdaab168b0","45610d092b8af1c43ceed474cd17f7bbee65120aa6fa4d37f949e7e41f25327"],["394256a5ef4d7af5459587a0bd2edb8acaf5ecfef2563c9a04daf34a4abe4c6","1ebee390dae1403c0c53994e1d064fa64e20fcb45392e209b2b99486a559ffd"],["410a1511fead6151e9bedb089b9832d0fe01fab76d3f8459929f767525aeb27","361f0a5ffe09fcc3ad4eff3f5e89508ac247af80267100b69de3c59df561cfa"],["38cd437c9f659e110a869605c182ee9fdc26de36baf559d9229e258267bb734","624b1128ea7739bf1cbd0e423af92a4884323c868d2ba0ee9d362946edee2d1"],["78b126e50b7042d2a019f95cb87a3213c664ca1bafe345999b1e9e2dac1e608","19e398196b22f4488cbe854c614ad8c353839abc5ab3a4f3f5c03c16ba8a198"],["6d3a5ce91132f385a91823c5c8046c4b638f5fe63357424410d901457cdb867","7b80bae16d2d487e122495174f7a70992bc5dafbed72bf84127ead7c57302bb"],["32d053a904dc4d88fbe7d0b96e0cbeca22a00aa5c79c753d52b0b60abf31602","3af6a02e5cae6d6490354ae51185149e3fdb6d0d9caab90e95ff58aa0c40377"],["49b1fbff5bdb0aa6938b066dde0ed772c0d81f9eff52e7fe038b0ccbd78adb5","1c6e57834eb14d507eed8b36c81ddf92fa91c242467061927a742fafa82b43d"],["2f28b8994ca6f234d9293d26196b43b9d1d5306844348c4a638102c05de85f5","759cfb172eab065d477248b3569f4ff5791055f01e95fe71b94b8e615d73c96"],["3c2ee954ff534f856f59188fa0f29ed8a022aee0cac52d634f6dc58cd514d70","22bd162e74925f0a876bd8a206b8767dfdd7c898576a73a490f138d9a7f99c6"],["5763a7cab001e1aaeabf9ab5b9b2fffe6cc2b299ab04ec4933da74d960e1ab","715ee4f8ee93ab5a1dba00f0a6abc4eec47d49b61254cc27fc36a031e32f0f8"],["19976ad8d7b7f47c785408243a227401996b36e47c7a78a7bc7d4256233ba9a","896b713c5d7777b0703821a73c1d9a4c3755501042120534ff13990975e1f5"],["61674b992c29827186cab5ff454758dbbed8e89bc23d0bd33193afccc3a04bc","38e1020744c13903809ea30a0662fdb5226ae760cdcf10800faabec452e00f8"],["2ea2d48bcb83c0c9cda4efe11f07165cfcbc9ccd26526e5fb12556316d4b1df","1d2d68b74ad384c5c4a9c85453104216357bfcdf635680b40215f0f800974cb"],["7881212050264c40c336ed3a15dd2cd868ec9a558f5b728869eab66e8b8ed54","21aaefcc8ad8a161b8971d6880321781dbd939570c540da4c330922b8c81e9b"],["b6be88ce0461d20f59c5199573cda0170b61decf6e8e69a6d32f1695adc4ed","5536e4808370716f2bb3423a9a49a38ddbfe91faf3b7a35eb53d3519238b6cf"],["e5972af1655eb6dde2e8c77cc58044299922441b5ee41ceaf5cafedc765bcc","550282f37a4783dd60801c237045992d6fbe82a5902e7d837ea25f6f98c7b3a"],["7efc1aad1f580d8f50274f1c114c40056be19a8c96fa8c4cb5bf85e1e7f3e4","2689f1c3898b114d668be6413643ee9f879913d40c262541fd0316264c60a4f"],["7939db98037f59b0113e9d60051f75ac9c3cfd1a3eb535c73e2d945068c6c5c","410914ca8bbf3c65cdf3e9772ca790c19131c50068d34b7346c10260a578a8e"],["225b77ad00a2b83d26690190b74867326eca4f55bfbc3a13be036225ca3b1b5","411faafef89042ce6beb64309fdaff70fa53e9d32d79a21e7f82f80e79ff05e"],["1501e64c99c8b6658b0479f2c05c9142d246eaabfccf2fcec8dc4399539d8e1","3bab1e3339e42c9ee66c65b0b20236fdd9362d3ce786ad3a9779ab578af50a8"],["59b907b941f24fb8ea2458153e55f07534b388e835af7b69f3c9f54392a335","1d5438c4f2f68a417f3d56f916d899a6ffe910f5f2989ca31687f1b10f60db8"],["2887d08a26f484546f360e33abbf7a998b7170a5b30070938b84f072c676bf3","62a78e8d00e5d3a59e2fc424ffa08961567ba1ef24c8531cd7bceee6074a535"],["6e3cc8076b3d45377929033af35aab0c6d19ae4fd47c0daf844079ca04c46eb","7b90f338e4d848aa8f19d0b5c3bca916a2a9024acbf14bddb278bca2aa39e5f"],["34844dacdd3ec54a3af328bb9d67715ab33425e194ac9977ca02ef22e8f7a88","3c1affc6372f32a1634748124f9e1a03c4f0c993971da0dc28888b0801279d"],["436b192e03a49796cf9bc5e93c88268b71c9c24f9c3a85322bba634ebea309d","67a8091ef69d62abcb28ce5df4dc7d53f8dc2b9690344f75ecd03a6d9386044"],["592d25b68baff87a6d7fd41ff0dadbddc1bd1316683de3b2d677501c0eb14e4","27ad1e1099683f54589010faeefb19e38569ace43653be8787a42b0591e7bc5"],["89a5111ae911512ba62e87b97f643c0219702f235c70f62c6678a129302009","557fa3d98e9ce7b83b47545013a4498f3de43787fb66b1a54521222242f7c1b"],["1c9b5e53377e72da5066cb08566bbf9ec31ec1877f455d932cd9b1aa375d34e","72f79555a8bc207863f32d482fca54692825449fd8963fcea3de3a8183a739a"],["574a6e05eb14591729515be239ea8c1fa9e12d4049d42876f76c8ff37bca03","5f99b3af43ca68c1c73e8190d5f73c8de162ba643d7d5f0cd73cfa8135db6d3"],["513fc5c2e16505b2b25a2f284e167d5401194bcac0dc3ecf8b7c9acb560daa1","687ee7a1a8954d08d3856e1a16ded808e419e789736d3f55f79f7693bad69f5"],["53d48bd1205274b1c2b0a0ceb3d21c5fcd7c8892a784931603240b288a598b9","35387abd7ea59c9b956de44d36533cad1f6668c438d666651695ff3862159be"],["213eb1ea99e08825110dd61094eb6e8145119dc1c507636f068730b1e086d44","744f6853f4f02f4f042468d0739e0c9f64df720b87ed77d1979547084ef7a89"],["735ef017d091ca23264ad0aa7bb9b2be3309b4539605e79ed4a652ccb2fbe3c","7f0ccc7a5747c4e921fff97d431169f690763427e2cfd1ad74d7a0308d7faa9"],["3f36babc5a30070b610ed97db44997e6d9115c9c0579ad8f75d295a17130001","79047908a2474e32d5c712a07bf5c4ad522590bb5d6cefda410d30528e12ca8"],["51c04907ae88a5926b242fb2862cb1f2c651a94e6caad5bff8601c079fded74","10a585a269f460aed43f54c7de13cdf623fc8de5957526997278be939ef32ad"],["c1e1bd626a735aa2c065831317217ecce68e377eb1f67e54ce2e97bc2ef2dc","53c5af23a9b482f420be6dfd37b6886154cfd130794098e1f51c1885ac2556a"],["5aff3b30775ae4758e604a4a6262803a545f5ef4e7855fa245ac6a6431a9ece","39a4799e5519047f29333bee9c86c99bfa8056d4aa381c396c4a44331fe795f"],["3d753e9723701a8e9d99b91bb93dee2eda7ffa5072fb2cd5c5fd99aebcdb299","15798bf5c17d6d5880fed1553af32dd8d8baf2888c715a886575448a24c7975"],["6593e5078466b07a4222d2e544da826d2c583c9cc5f2eaea148b129b00d4aa0","11b352b08a0a61d3cd67d1dc08069dec3bde907b3da0f56de5011b956bf8744"],["7a6eb353c5be9ff03fe4a06c01fb71aad2b38144179a291ebcbb2c2417cca65","3de3ecb12f2fa699b46a9d399abf77ca17bebc3e491bfb2542dd0fba991e2bb"],["2c7ead583d6c32162091034a9eddfa775b4e84b8bdbea939edb2a80dcf64f6","461790ce40d9c276d962b2a1e9a74d66e9d7335962e234e8a2fc6963d31722d"],["34285af023d9b4c2c2b88e8704bf2c05a9b553b00b2e70ff05f8c2970cb134f","33fe678e7671760a83836107428dbade68c3593fbe568f3f8f1b2c568099c44"],["6222f720a24466263db6a11842f117fc4bb78da6705f140e48869db3e087441","6eff5b9bf3aeedc962bc5a24b66e7bdad2153450ed53a058bf2c8dbf2907693"],["17c6ec5ea206eb97cbf53851e37ce391080e0d2bf1e5395610f79ab0503f7ce","3adb71ca3523d88ceb1e365f12dfb24895453c14daf0046b2626cddadfdf5f7"],["70859f9771a713e54974ce11cdaf44b0dcc3e9befa0c0834908d877eeaafd27","d18f794bf0cc0623b711e7450030424e52326c45ba9b03341883ae4828a5f8"],["2a820cfd0fd4ab0871e7b303cd545a3086caf8fa818c087a4017197da74efbf","5f992683ff37f6c041b84bfc01503d333ac9763505cc8f69473da01812969d1"],["5b0526de2c07fe7cd73e3884f642d57a0ac5e13c68590ed03a14e530616e8c1","eec69d0cbd92c9fca31ec967dba848bec368e792d6678797946a5e34fe3487"],["6cf6b3efee707210cb3a72f1e885c3d0953aefb43e5e148c740aa1641725c61","911cb630b898e2c1a9115f9e45bafe3b819edfb1eab6e15612d14289939984"],["74e913de55f1e46143cb2ecfc580f8d3d3908f200281322b84e21c989cda293","761d2736c9ac7670ba905bc2629c6c0dbe988820a4454ff415ba68710f7df92"],["44084305e0c911a40b7cbefe5f13cffe9a99375d1a584c4a2200958050af7a9","249c83877371564708ea525b64b1e7e12785460d83364446531c9adcacba5f0"],["2bf71ad4d1bee1a67fb300477029f54bdb0e09f78bf2ac2e8afc7465a7adbcc","6244dd6cad282539049be57487bfd9900bb0d5da805d02b535096368fcb4cd5"],["3a62d8f763b62def36e4089458046a49c5ecb91b861549530773e0548ff2bb","6a10a03ba61e6ac657270465c09aa9526cf1ebe96bdecdf0e7000476a47b9eb"],["284eed3a17c51e0677d4fe897f056abe9def8af07a4630e6ca5723e2aa6677","516a06ac1d5626ed03d2eee9de6f60f0311eca703a99b0fb31b9c66b01c27c7"],["2a2c63b16cccd685f731d06fe93ce2cffb358d34d03dda9a7368185c1eb0c32","7180baca0ba81284809f92eca1654cd76b925a9242e5d5e0f18d0a55d13c6ec"],["5f9466017ec09769611389ea5370ad68dda936d3f5816c9e928ff9574abf9a7","6619b5b145bb5f4f29deb7a4cd68ef4da3995312fa6537f0d01684da4267ece"],["74f229babe01b4962b3307589c1a13019134b1db6822698388bebb55d21c30f","156ae857ab3279f754facba0db36398dffec8c31e5e160473198f2f891b7531"],["334b9fe3a5fd99bc966ddd1309698fd32afd1f235062f2c275b6616a185de45","221a60053583cc0607f6f2e6966b62fc9dac00538bb7eb1148e007a92116d2"],["7ad710ba002a67c731efbaba2149d16fec5d2f7aa3d126fd9886172e9f4ea30","3a10f8e902a7a13aec94d66415347e1314f9bac83a7db176096b809b25ffb86"],["4306dd0a184a3283c3097ff8f7434cec80912e9dc04b7df21ba73fda9f8e6d8","6d42bd3d1a8dbddafd09e872e2aa3891ae79ec939dc1b382196bc21c4ab749"],["1c3f2124e1135c32a426d1d14e471edd9e0f2c7bd703ee123cbbd608e8c4be7","3cc607a3c3f1ab68dd5fa56c65996002721b8ad8ad4b0dd9e5b1467d316583"],["294af33272ffcee0b56a436de1b73759cbddebef4c07888b42c2f92b0b68e1","d837164311d5dca8d37b99ef9eb22708643c83d1cbdfe852f63ea07b06fbad"],["753bdb5439a19bbffdfa02b1dc24e8368f22d0a8276b109c11e6feb26f56f39","6ed396231af93647633eab467f1a034f38e76823eb85baf97cae56e2dcd9f75"],["5674f0cb892b733fc0b50e121d8679afed0a925c32594cc65ffe83bebe7748e","7fbf0325dd38dd94905adab2c52758552292a6a103d9edfcb11938828e828c8"],["4a8f053573a0a74251059d0229d89b6660407ba0b491779fd10f87a5117c81f","21b70112485398bf67ec9d733df24a1df30dea718a93b786f41ed04e3ae3c5e"],["726c01ec4a08df8fc8de173311f50d4f3b97c5a9cf68c1536146f827db95ae8","15013cafadefa7f1c4e4dfdd70bd4d3979dd18bd7f0332572ce2a3fd8773d12"],["38ac0fbfa98937257460db7e6645d7e5112b6fce7234813fc8a704e8ade8da2","73c0109f86048aad08c443f781ae60ad13b99f7b9cfdf3128fe6d6eeb799a7b"],["6f6d3a38621582ace092eb50ecfe9eff265df141ebdcab8653299116fcea291","4a1bf3f39bc919c8f1b720a0b1ce952cad17f2ba98308ee6b76dd9b6f3d7b75"],["6a307fc28e1df8d9ad01766419e097797d65cb674436fa1c8f012d3de2c2a1f","26911a635ba824db004875d79dd84834a97ac12643e42829015bf88c1fd6f05"],["2a74860e3336d6db916555894cc8028f41508812925db1925457afe40257155","5f8da573f4c39816ce2dba8a20224223a7cfec53117ec78973930c0e9b60244"],["4d2b49e1ed0799f719b8269f092cb489a466a645bc0ccabafdc678864c176d7","5410083df7d256f18cbf5697ae5e52c31e075d8a3b27e21d6f5177ca882f6c1"],["110ecb9fbf6c333d168cee473cc5ad98809b6cb9eb5d1f6cd28ab5fab504fd3","7e3c54d7533d9f8c3310f219dab0cc3ea4d39b418a748eeffd6bae2b8637a43"],["5be4d711b80da70e6d3ac493250bbfd16f20b25f31919b3a91cf14ffbac1096","7f55a0919f082e8885f1515e83c5b39b6022404503507498e1b4422d79c43e2"],["2605125b95ca4ba93a21cbbba5762898a7cf9e988f07ab9e64cb3868e3b139d","62f0ccf55b9fc0eaf9736fc8ee484e2acdbe259813af9803cf815829a5e9d3b"],["1092bbbf206f2a3068167c3dd99a72de31e206f6c504c071c8214d105ff814d","309f489f68a62089f53b96df5d4fbc3ecc5a1a42eb7ece0e49bad17ad490ff4"],["2abdee9409d9c92559ca3f4e6bddd649c31aa09b90bfcb4a612af491241e18d","3ffa8eac180a29de3f8a69efca84bac046f921f5725e96a6ff0530be1436aaf"],["376313f27d00bb1aae7ec991745efe6ee28c6b50de0c6cd9845cc4bb4f83543","6a8e0a9389ba528b156fa94ac090a895d7b795818d4941c29415d9e2984c547"],["a80380c71bd466a696b3f0fbf02817c9459d9798f4f3899cf32edf647fe066","6a09805e814e7cdfc76eba4b79f1df5ae559e0f0aba9f728d3cba4ea5c57471"],["223694b921d247d989a79b9b2b2f07496036c40cb043eab074a9d6a2cd2ffed","c247217f1b1df35e30d9e15fdaadf42d6fb0edd3a5a7e265d4cdc426c120aa"],["102333620df278c6714bbc880fc087db58c1b9b4d77ed4d61b32a74bfc7c3e2","6a77d37727ccf71c2caeb151faf4404d4b94e9047f9f0a7c3966367f3b53c65"],["891626f466536929ee7eadcd18b41925706dedab7528ed5f0f7abf039eb9d2","5f73d11c141c933a35b2d0d06e5cbae614a20d17dc3b439f8bcdc3413c5ea37"],["215c23fd3f073f870e5e80303967391bf173f8adcdbeec72d131c557babc203","10634332e9d9439a321597dc5b0fac9ff478834c3d6e281735f21a4a5e13266"],["21ea0bdc1332bc36e6aeb43be9071651c27e4ea2eadec636c8d818d4af72a36","3a523d9643dccc6bb9c7c58413312caa3e60ba9c7c7f0177e0f3f469a3241e3"],["60deaed1bffb6190beed40caaf2bfab5e43d3707aff7ad3f278d571aa247eae","e41f71ff254c1418e6a66992af307789fe04d6606fb2670900bb1a089fd879"],["1e1fac4a1646253fb1332fadc21fbdd3e3a24a840d129400f520ae4116a4cf5","69c406f9f46576afad68808de0ab7e8922b6226af748e721d9097e21f1800f3"],["5db0ddcdf79ffe74d6454c12d2bc60b06776db03c75dc413f5be42ea9a91b5e","134c3d6c699841f17306835bb193785228ffe7ab212a01a861c56b086a18cec"],["626814e320fb5bea505b248fd1c1389ad586c1cfe04923fe2f83173e915f4f8","7ae407a926e887206a8b85cf485f1f327c9bb8ccbb6897024e2d122877d8ee0"],["23186237dc7d3b570cea645282ad4c359731bbfa54e7f036426bf6493812cd","7d1fbab7e61a22d3b00993290d9f4cd5d820061573e787f66c2cff9a18e1eaf"],["54302dcb0e6cc1c6e44cca8f61a63bb2ca65048d53fb325d36ff12c49a58202","1b77b3e37d13504b348046268d8ae25ce98ad783c25561a879dcc77e99c2426"],["13961b56b9fc0e412e468c385c22bd0680a25624ec211ffbb6bc877b2a6926c","62f7f7792c77cd981fad13cb6863fe099c4d971c1374109185eae99943f16e9"],["47abd7308c70659af3f00fafe6837298af3cb530b6c2ba710ffd07a6bc1ae98","75d0c8a7377aa9f0663d0c124a5659750847afabc29e39893fd27534a4a03cb"],["2c6276b764fb398fa555857dbe0ce0ec18fab7a233bf23851295739801f0585","5d8f4897ce44007ec5bfcb9aeb78b8f6e1d40a514f72d213c9300d2770d2b8c"]],TC=new di("800000000000011000000000000000000000000000000000000000000000001",16),AC=new di("08000000 00000010 ffffffff ffffffff b781126d cae7b232 1e66a241 adc64d2f",16),RC=new Dy.ec(new Dy.curves.PresetCurve({type:"short",prime:null,p:TC,a:"00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000001",b:"06f21413 efbe40de 150e596d 72f7a8c5 609ad26c 15c915c1 f4cdfcb9 9cee9e89",n:AC,hash:Wd.sha256,gRed:!1,g:EC[1]}));EC.map((function(e){return RC.curve.point(new di(e[0],16),new di(e[1],16))}))[0],new di("0"),new di("1"),new di("3"),new di("4"),new di("1000"),new di("1001"),new di("1002"),new di("1003"),new di("0"),new di("1"),new di("400000",16),new di("80000000",16),new di("8000000000000000",16),new di("800000000000011000000000000000000000000000000000000000000000001",16),new di("800000000000000000000000000000000000000000000000000000000000000",16);var SC,kC=new di("08000000 00000010 ffffffff ffffffff b781126d cae7b232 1e66a241 adc64d2f",16),OC=new di("FFFFFFFF FFFFFFFF FFFFFFFF FFFFFFFE BAAEDCE6 AF48A03B BFD25E8C D0364141",16);function IC(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=oy(e).slice(t,n);return by(r)}function xC(e,t,n,r){var i=Wd.sha256().update(e).digest("hex"),a=Wd.sha256().update(t).digest("hex"),s=IC(i,-31),o=IC(a,-31),c=IC(n,-31),u=IC(n,-62,-31);return"m/2645'/".concat(s,"'/").concat(o,"'/").concat(c,"'/").concat(u,"'/").concat(r)}function CC(e,t){return new di(Wd.sha256().update(iy(xy(e)+Sy(fy(t),2))).digest("hex"),16)}function MC(e){for(var t=0,n=CC(e,t);!n.lt(OC.sub(OC.mod(kC)));)n=CC(n.toString(16),t),t=t++;return n.mod(kC).toString("hex")}function PC(e,t){return QO.hdkey.fromMasterSeed(Buffer.from(e.slice(2),"hex")).derivePath(t).getWallet().getPrivateKeyString()}!function(e){e.StarkCurveInvalidMessageLength="invalid message length"}(SC||(SC={}));var NC=function(){function e(t){Fx(this,e),this.privateKey=t,this.keyPair=RC.keyFromPrivate(t,"hex")}return jx(e,[{key:"getAddress",value:function(){var e=this.keyPair.getPublic().getX().toString("hex");return Py(e)}},{key:"signMessage",value:function(){var e=oC(lC.mark((function e(t){return lC.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.serialize(this.keyPair.sign(this.fixMsgHashLen(t))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"serialize",value:function(e){return My(Oy(e.r.toString("hex"),64)+Oy(e.s.toString("hex"),64))}},{key:"fixMsgHashLen",value:function(e){if(e=xy(e),(e=new di(e,"hex").toString("hex")).length<=62)return e;if(63!==e.length)throw new Error(SC.StarkCurveInvalidMessageLength);return"".concat(e,"0")}}]),e}();function BC(e){return new NC(e)}function DC(e,t,n){return DC=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Yx(i,n.prototype),i},DC.apply(null,arguments)}function LC(e){var t="function"==typeof Map?new Map:void 0;return LC=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return DC(e,arguments,$x(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Yx(r,e)},LC(e)}var FC="https://api.sandbox.x.immutable.com".replace(/\/+$/,""),UC=jx((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:FC,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Lx;Fx(this,e),this.basePath=n,this.axios=r,t&&(this.configuration=t,this.basePath=t.basePath||this.basePath)})),jC=function(e){Qx(n,LC(Error));var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$x(e);if(t){var i=$x(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return tC(this,n)}}(n);function n(e,r){var i;return Fx(this,n),qx(eC(i=t.call(this,r)),"name","RequiredError"),i.field=e,i}return jx(n)}();function qC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qC(Object(n),!0).forEach((function(t){qx(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var HC="https://example.com",GC=function(e,t,n){if(null==n)throw new jC(t,"Required parameter ".concat(t," was null or undefined when calling ").concat(e,"."))};function WC(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";"object"===Zx(t)?Array.isArray(t)?t.forEach((function(t){return WC(e,t,n)})):Object.keys(t).forEach((function(r){return WC(e,t[r],"".concat(n).concat(""!==n?".":"").concat(r))})):e.has(n)?e.append(n,t):e.set(n,t)}var VC=function(e){for(var t=new URLSearchParams(e.search),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];WC(t,r),e.search=t.toString()},KC=function(e,t,n){var r="string"!=typeof e;return(r&&n&&n.isJsonMime?n.isJsonMime(t.headers["Content-Type"]):r)?JSON.stringify(void 0!==e?e:{}):e||""},XC=function(e){return e.pathname+e.search+e.hash},$C=function(e,t,n,r){return function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n,s=zC(zC({},e.options),{},{url:((null==r?void 0:r.basePath)||a)+e.url});return i.request(s)}};function JC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function YC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?JC(Object(n),!0).forEach((function(t){qx(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var QC=function(e){var t=function(e){return{getAsset:(n=oC(lC.mark((function t(n,r,i){var a,s,o,c,u,d,f,l,h=arguments;return lC.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=h.length>3&&void 0!==h[3]?h[3]:{},GC("getAsset","tokenAddress",n),GC("getAsset","tokenId",r),s="/v1/assets/{token_address}/{token_id}".replace("{".concat("token_address","}"),encodeURIComponent(String(n))).replace("{".concat("token_id","}"),encodeURIComponent(String(r))),o=new URL(s,HC),e&&(c=e.baseOptions),u=YC(YC({method:"GET"},c),a),d={},f={},void 0!==i&&(f.include_fees=i),VC(o,f),l=c&&c.headers?c.headers:{},u.headers=YC(YC(YC({},d),l),a.headers),t.abrupt("return",{url:XC(o),options:u});case 14:case"end":return t.stop()}}),t)}))),function(e,t,r){return n.apply(this,arguments)}),listAssets:(t=oC(lC.mark((function t(n,r,i,a,s,o,c,u,d,f,l,h,p,m,b,y){var g,v,w,_,E,T,A,R=arguments;return lC.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return g=R.length>16&&void 0!==R[16]?R[16]:{},v=new URL("/v1/assets",HC),e&&(w=e.baseOptions),_=YC(YC({method:"GET"},w),g),E={},T={},void 0!==n&&(T.page_size=n),void 0!==r&&(T.cursor=r),void 0!==i&&(T.order_by=i),void 0!==a&&(T.direction=a),void 0!==s&&(T.user=s),void 0!==o&&(T.status=o),void 0!==c&&(T.name=c),void 0!==u&&(T.metadata=u),void 0!==d&&(T.sell_orders=d),void 0!==f&&(T.buy_orders=f),void 0!==l&&(T.include_fees=l),void 0!==h&&(T.collection=h),void 0!==p&&(T.updated_min_timestamp=p),void 0!==m&&(T.updated_max_timestamp=m),void 0!==b&&(T.auxiliary_fee_percentages=b),void 0!==y&&(T.auxiliary_fee_recipients=y),VC(v,T),A=w&&w.headers?w.headers:{},_.headers=YC(YC(YC({},E),A),g.headers),t.abrupt("return",{url:XC(v),options:_});case 27:case"end":return t.stop()}}),t)}))),function(e,n,r,i,a,s,o,c,u,d,f,l,h,p,m,b){return t.apply(this,arguments)})};var t,n}(e);return{getAsset:function(n,r,i,a){return oC(lC.mark((function s(){var o;return lC.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,t.getAsset(n,r,i,a);case 2:return o=s.sent,s.abrupt("return",$C(o,Lx,FC,e));case 4:case"end":return s.stop()}}),s)})))()},listAssets:function(n,r,i,a,s,o,c,u,d,f,l,h,p,m,b,y,g){return oC(lC.mark((function v(){var w;return lC.wrap((function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,t.listAssets(n,r,i,a,s,o,c,u,d,f,l,h,p,m,b,y,g);case 2:return w=v.sent,v.abrupt("return",$C(w,Lx,FC,e));case 4:case"end":return v.stop()}}),v)})))()}}},ZC=function(e){Qx(n,UC);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$x(e);if(t){var i=$x(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return tC(this,n)}}(n);function n(){return Fx(this,n),t.apply(this,arguments)}return jx(n,[{key:"getAsset",value:function(e,t){var n=this;return QC(this.configuration).getAsset(e.tokenAddress,e.tokenId,e.includeFees,t).then((function(e){return e(n.axios,n.basePath)}))}},{key:"listAssets",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return QC(this.configuration).listAssets(t.pageSize,t.cursor,t.orderBy,t.direction,t.user,t.status,t.name,t.metadata,t.sellOrders,t.buyOrders,t.includeFees,t.collection,t.updatedMinTimestamp,t.updatedMaxTimestamp,t.auxiliaryFeePercentages,t.auxiliaryFeeRecipients,n).then((function(t){return t(e.axios,e.basePath)}))}}]),n}();function eM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eM(Object(n),!0).forEach((function(t){qx(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eM(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var nM=function(e){var t=function(e){return{getBalance:(n=oC(lC.mark((function t(n,r){var i,a,s,o,c,u,d,f=arguments;return lC.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=f.length>2&&void 0!==f[2]?f[2]:{},GC("getBalance","owner",n),GC("getBalance","address",r),a="/v2/balances/{owner}/{address}".replace("{".concat("owner","}"),encodeURIComponent(String(n))).replace("{".concat("address","}"),encodeURIComponent(String(r))),s=new URL(a,HC),e&&(o=e.baseOptions),c=tM(tM({method:"GET"},o),i),u={},VC(s,{}),d=o&&o.headers?o.headers:{},c.headers=tM(tM(tM({},u),d),i.headers),t.abrupt("return",{url:XC(s),options:c});case 13:case"end":return t.stop()}}),t)}))),function(e,t){return n.apply(this,arguments)}),listBalances:(t=oC(lC.mark((function t(n,r,i,a,s){var o,c,u,d,f,l,h,p,m=arguments;return lC.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=m.length>5&&void 0!==m[5]?m[5]:{},GC("listBalances","owner",n),c="/v2/balances/{owner}".replace("{".concat("owner","}"),encodeURIComponent(String(n))),u=new URL(c,HC),e&&(d=e.baseOptions),f=tM(tM({method:"GET"},d),o),l={},h={},void 0!==r&&(h.page_size=r),void 0!==i&&(h.cursor=i),void 0!==a&&(h.order_by=a),void 0!==s&&(h.direction=s),VC(u,h),p=d&&d.headers?d.headers:{},f.headers=tM(tM(tM({},l),p),o.headers),t.abrupt("return",{url:XC(u),options:f});case 16:case"end":return t.stop()}}),t)}))),function(e,n,r,i,a){return t.apply(this,arguments)})};var t,n}(e);return{getBalance:function(n,r,i){return oC(lC.mark((function a(){var s;return lC.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.getBalance(n,r,i);case 2:return s=a.sent,a.abrupt("return",$C(s,Lx,FC,e));case 4:case"end":return a.stop()}}),a)})))()},listBalances:function(n,r,i,a,s,o){return oC(lC.mark((function c(){var u;return lC.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,t.listBalances(n,r,i,a,s,o);case 2:return u=c.sent,c.abrupt("return",$C(u,Lx,FC,e));case 4:case"end":return c.stop()}}),c)})))()}}},rM=function(e){Qx(n,UC);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$x(e);if(t){var i=$x(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return tC(this,n)}}(n);function n(){return Fx(this,n),t.apply(this,arguments)}return jx(n,[{key:"getBalance",value:function(e,t){var n=this;return nM(this.configuration).getBalance(e.owner,e.address,t).then((function(e){return e(n.axios,n.basePath)}))}},{key:"listBalances",value:function(e,t){var n=this;return nM(this.configuration).listBalances(e.owner,e.pageSize,e.cursor,e.orderBy,e.direction,t).then((function(e){return e(n.axios,n.basePath)}))}}]),n}();function iM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function aM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iM(Object(n),!0).forEach((function(t){qx(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iM(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var sM=function(e){var t=function(e){return{createCollection:(a=oC(lC.mark((function t(n,r,i){var a,s,o,c,u,d,f,l=arguments;return lC.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=l.length>3&&void 0!==l[3]?l[3]:{},GC("createCollection","iMXSignature",n),GC("createCollection","iMXTimestamp",r),GC("createCollection","createCollectionRequest",i),s=new URL("/v1/collections",HC),e&&(o=e.baseOptions),c=aM(aM({method:"POST"},o),a),u={},d={},null!=n&&(u["IMX-Signature"]=String(n)),null!=r&&(u["IMX-Timestamp"]=String(r)),u["Content-Type"]="application/json",VC(s,d),f=o&&o.headers?o.headers:{},c.headers=aM(aM(aM({},u),f),a.headers),c.data=KC(i,c,e),t.abrupt("return",{url:XC(s),options:c});case 18:case"end":return t.stop()}}),t)}))),function(e,t,n){return a.apply(this,arguments)}),getCollection:(i=oC(lC.mark((function t(n){var r,i,a,s,o,c,u,d=arguments;return lC.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:{},GC("getCollection","address",n),i="/v1/collections/{address}".replace("{".concat("address","}"),encodeURIComponent(String(n))),a=new URL(i,HC),e&&(s=e.baseOptions),o=aM(aM({method:"GET"},s),r),c={},VC(a,{}),u=s&&s.headers?s.headers:{},o.headers=aM(aM(aM({},c),u),r.headers),t.abrupt("return",{url:XC(a),options:o});case 12:case"end":return t.stop()}}),t)}))),function(e){return i.apply(this,arguments)}),listCollectionFilters:(r=oC(lC.mark((function t(n,r,i){var a,s,o,c,u,d,f,l,h=arguments;return lC.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=h.length>3&&void 0!==h[3]?h[3]:{},GC("listCollectionFilters","address",n),s="/v1/collections/{address}/filters".replace("{".concat("address","}"),encodeURIComponent(String(n))),o=new URL(s,HC),e&&(c=e.baseOptions),u=aM(aM({method:"GET"},c),a),d={},f={},void 0!==r&&(f.page_size=r),void 0!==i&&(f.next_page_token=i),VC(o,f),l=c&&c.headers?c.headers:{},u.headers=aM(aM(aM({},d),l),a.headers),t.abrupt("return",{url:XC(o),options:u});case 14:case"end":return t.stop()}}),t)}))),function(e,t,n){return r.apply(this,arguments)}),listCollections:(n=oC(lC.mark((function t(n,r,i,a,s,o,c){var u,d,f,l,h,p,m,b=arguments;return lC.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u=b.length>7&&void 0!==b[7]?b[7]:{},d=new URL("/v1/collections",HC),e&&(f=e.baseOptions),l=aM(aM({method:"GET"},f),u),h={},p={},void 0!==n&&(p.page_size=n),void 0!==r&&(p.cursor=r),void 0!==i&&(p.order_by=i),void 0!==a&&(p.direction=a),void 0!==s&&(p.blacklist=s),void 0!==o&&(p.whitelist=o),void 0!==c&&(p.keyword=c),VC(d,p),m=f&&f.headers?f.headers:{},l.headers=aM(aM(aM({},h),m),u.headers),t.abrupt("return",{url:XC(d),options:l});case 18:case"end":return t.stop()}}),t)}))),function(e,t,r,i,a,s,o){return n.apply(this,arguments)}),updateCollection:(t=oC(lC.mark((function t(n,r,i,a){var s,o,c,u,d,f,l,h,p=arguments;return lC.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=p.length>4&&void 0!==p[4]?p[4]:{},GC("updateCollection","address",n),GC("updateCollection","iMXSignature",r),GC("updateCollection","iMXTimestamp",i),GC("updateCollection","updateCollectionRequest",a),o="/v1/collections/{address}".replace("{".concat("address","}"),encodeURIComponent(String(n))),c=new URL(o,HC),e&&(u=e.baseOptions),d=aM(aM({method:"PATCH"},u),s),f={},l={},null!=r&&(f["IMX-Signature"]=String(r)),null!=i&&(f["IMX-Timestamp"]=String(i)),f["Content-Type"]="application/json",VC(c,l),h=u&&u.headers?u.headers:{},d.headers=aM(aM(aM({},f),h),s.headers),d.data=KC(a,d,e),t.abrupt("return",{url:XC(c),options:d});case 19:case"end":return t.stop()}}),t)}))),function(e,n,r,i){return t.apply(this,arguments)})};var t,n,r,i,a}(e);return{createCollection:function(n,r,i,a){return oC(lC.mark((function s(){var o;return lC.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,t.createCollection(n,r,i,a);case 2:return o=s.sent,s.abrupt("return",$C(o,Lx,FC,e));case 4:case"end":return s.stop()}}),s)})))()},getCollection:function(n,r){return oC(lC.mark((function i(){var a;return lC.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,t.getCollection(n,r);case 2:return a=i.sent,i.abrupt("return",$C(a,Lx,FC,e));case 4:case"end":return i.stop()}}),i)})))()},listCollectionFilters:function(n,r,i,a){return oC(lC.mark((function s(){var o;return lC.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,t.listCollectionFilters(n,r,i,a);case 2:return o=s.sent,s.abrupt("return",$C(o,Lx,FC,e));case 4:case"end":return s.stop()}}),s)})))()},listCollections:function(n,r,i,a,s,o,c,u){return oC(lC.mark((function d(){var f;return lC.wrap((function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,t.listCollections(n,r,i,a,s,o,c,u);case 2:return f=d.sent,d.abrupt("return",$C(f,Lx,FC,e));case 4:case"end":return d.stop()}}),d)})))()},updateCollection:function(n,r,i,a,s){return oC(lC.mark((function o(){var c;return lC.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,t.updateCollection(n,r,i,a,s);case 2:return c=o.sent,o.abrupt("return",$C(c,Lx,FC,e));case 4:case"end":return o.stop()}}),o)})))()}}},oM=function(e){Qx(n,UC);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$x(e);if(t){var i=$x(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return tC(this,n)}}(n);function n(){return Fx(this,n),t.apply(this,arguments)}return jx(n,[{key:"createCollection",value:function(e,t){var n=this;return sM(this.configuration).createCollection(e.iMXSignature,e.iMXTimestamp,e.createCollectionRequest,t).then((function(e){return e(n.axios,n.basePath)}))}},{key:"getCollection",value:function(e,t){var n=this;return sM(this.configuration).getCollection(e.address,t).then((function(e){return e(n.axios,n.basePath)}))}},{key:"listCollectionFilters",value:function(e,t){var n=this;return sM(this.configuration).listCollectionFilters(e.address,e.pageSize,e.nextPageToken,t).then((function(e){return e(n.axios,n.basePath)}))}},{key:"listCollections",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return sM(this.configuration).listCollections(t.pageSize,t.cursor,t.orderBy,t.direction,t.blacklist,t.whitelist,t.keyword,n).then((function(t){return t(e.axios,e.basePath)}))}},{key:"updateCollection",value:function(e,t){var n=this;return sM(this.configuration).updateCollection(e.address,e.iMXSignature,e.iMXTimestamp,e.updateCollectionRequest,t).then((function(e){return e(n.axios,n.basePath)}))}}]),n}();function cM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function uM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cM(Object(n),!0).forEach((function(t){qx(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cM(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var dM=function(e){var t=function(e){return{getDeposit:(r=oC(lC.mark((function t(n){var r,i,a,s,o,c,u,d=arguments;return lC.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:{},GC("getDeposit","id",n),i="/v1/deposits/{id}".replace("{".concat("id","}"),encodeURIComponent(String(n))),a=new URL(i,HC),e&&(s=e.baseOptions),o=uM(uM({method:"GET"},s),r),c={},VC(a,{}),u=s&&s.headers?s.headers:{},o.headers=uM(uM(uM({},c),u),r.headers),t.abrupt("return",{url:XC(a),options:o});case 12:case"end":return t.stop()}}),t)}))),function(e){return r.apply(this,arguments)}),getSignableDeposit:(n=oC(lC.mark((function t(n){var r,i,a,s,o,c,u,d=arguments;return lC.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:{},GC("getSignableDeposit","getSignableDepositRequest",n),i=new URL("/v1/signable-deposit-details",HC),e&&(a=e.baseOptions),s=uM(uM({method:"POST"},a),r),c={},(o={})["Content-Type"]="application/json",VC(i,c),u=a&&a.headers?a.headers:{},s.headers=uM(uM(uM({},o),u),r.headers),s.data=KC(n,s,e),t.abrupt("return",{url:XC(i),options:s});case 14:case"end":return t.stop()}}),t)}))),function(e){return n.apply(this,arguments)}),listDeposits:(t=oC(lC.mark((function t(n,r,i,a,s,o,c,u,d,f,l,h,p,m,b,y){var g,v,w,_,E,T,A,R=arguments;return lC.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return g=R.length>16&&void 0!==R[16]?R[16]:{},v=new URL("/v1/deposits",HC),e&&(w=e.baseOptions),_=uM(uM({method:"GET"},w),g),E={},T={},void 0!==n&&(T.page_size=n),void 0!==r&&(T.cursor=r),void 0!==i&&(T.order_by=i),void 0!==a&&(T.direction=a),void 0!==s&&(T.user=s),void 0!==o&&(T.status=o),void 0!==c&&(T.min_timestamp=c),void 0!==u&&(T.max_timestamp=u),void 0!==d&&(T.token_type=d),void 0!==f&&(T.token_id=f),void 0!==l&&(T.asset_id=l),void 0!==h&&(T.token_address=h),void 0!==p&&(T.token_name=p),void 0!==m&&(T.min_quantity=m),void 0!==b&&(T.max_quantity=b),void 0!==y&&(T.metadata=y),VC(v,T),A=w&&w.headers?w.headers:{},_.headers=uM(uM(uM({},E),A),g.headers),t.abrupt("return",{url:XC(v),options:_});case 27:case"end":return t.stop()}}),t)}))),function(e,n,r,i,a,s,o,c,u,d,f,l,h,p,m,b){return t.apply(this,arguments)})};var t,n,r}(e);return{getDeposit:function(n,r){return oC(lC.mark((function i(){var a;return lC.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,t.getDeposit(n,r);case 2:return a=i.sent,i.abrupt("return",$C(a,Lx,FC,e));case 4:case"end":return i.stop()}}),i)})))()},getSignableDeposit:function(n,r){return oC(lC.mark((function i(){var a;return lC.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,t.getSignableDeposit(n,r);case 2:return a=i.sent,i.abrupt("return",$C(a,Lx,FC,e));case 4:case"end":return i.stop()}}),i)})))()},listDeposits:function(n,r,i,a,s,o,c,u,d,f,l,h,p,m,b,y,g){return oC(lC.mark((function v(){var w;return lC.wrap((function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,t.listDeposits(n,r,i,a,s,o,c,u,d,f,l,h,p,m,b,y,g);case 2:return w=v.sent,v.abrupt("return",$C(w,Lx,FC,e));case 4:case"end":return v.stop()}}),v)})))()}}},fM=function(e){Qx(n,UC);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$x(e);if(t){var i=$x(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return tC(this,n)}}(n);function n(){return Fx(this,n),t.apply(this,arguments)}return jx(n,[{key:"getDeposit",value:function(e,t){var n=this;return dM(this.configuration).getDeposit(e.id,t).then((function(e){return e(n.axios,n.basePath)}))}},{key:"getSignableDeposit",value:function(e,t){var n=this;return dM(this.configuration).getSignableDeposit(e.getSignableDepositRequest,t).then((function(e){return e(n.axios,n.basePath)}))}},{key:"listDeposits",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return dM(this.configuration).listDeposits(t.pageSize,t.cursor,t.orderBy,t.direction,t.user,t.status,t.minTimestamp,t.maxTimestamp,t.tokenType,t.tokenId,t.assetId,t.tokenAddress,t.tokenName,t.minQuantity,t.maxQuantity,t.metadata,n).then((function(t){return t(e.axios,e.basePath)}))}}]),n}();function lM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lM(Object(n),!0).forEach((function(t){qx(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lM(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pM=function(e){var t=function(e){return{encodeAsset:(t=oC(lC.mark((function t(n,r){var i,a,s,o,c,u,d,f,l=arguments;return lC.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=l.length>2&&void 0!==l[2]?l[2]:{},GC("encodeAsset","assetType",n),GC("encodeAsset","encodeAssetRequest",r),a="/v1/encode/{assetType}".replace("{".concat("assetType","}"),encodeURIComponent(String(n))),s=new URL(a,HC),e&&(o=e.baseOptions),c=hM(hM({method:"POST"},o),i),d={},(u={})["Content-Type"]="application/json",VC(s,d),f=o&&o.headers?o.headers:{},c.headers=hM(hM(hM({},u),f),i.headers),c.data=KC(r,c,e),t.abrupt("return",{url:XC(s),options:c});case 15:case"end":return t.stop()}}),t)}))),function(e,n){return t.apply(this,arguments)})};var t}(e);return{encodeAsset:function(n,r,i){return oC(lC.mark((function a(){var s;return lC.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.encodeAsset(n,r,i);case 2:return s=a.sent,a.abrupt("return",$C(s,Lx,FC,e));case 4:case"end":return a.stop()}}),a)})))()}}},mM=function(e){Qx(n,UC);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$x(e);if(t){var i=$x(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return tC(this,n)}}(n);function n(){return Fx(this,n),t.apply(this,arguments)}return jx(n,[{key:"encodeAsset",value:function(e,t){var n=this;return pM(this.configuration).encodeAsset(e.assetType,e.encodeAssetRequest,t).then((function(e){return e(n.axios,n.basePath)}))}}]),n}();function bM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bM(Object(n),!0).forEach((function(t){qx(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bM(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var gM=function(e){var t=function(e){return{createExchange:(a=oC(lC.mark((function t(n){var r,i,a,s,o,c,u,d=arguments;return lC.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:{},GC("createExchange","createExchangeAPIRequest",n),i=new URL("/v3/exchanges",HC),e&&(a=e.baseOptions),s=yM(yM({method:"POST"},a),r),c={},(o={})["Content-Type"]="application/json",VC(i,c),u=a&&a.headers?a.headers:{},s.headers=yM(yM(yM({},o),u),r.headers),s.data=KC(n,s,e),t.abrupt("return",{url:XC(i),options:s});case 14:case"end":return t.stop()}}),t)}))),function(e){return a.apply(this,arguments)}),createExchangeTransfer:(i=oC(lC.mark((function t(n,r,i,a,s){var o,c,u,d,f,l,h,p,m=arguments;return lC.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=m.length>5&&void 0!==m[5]?m[5]:{},GC("createExchangeTransfer","id",n),GC("createExchangeTransfer","createTransferRequest",r),c="/v2/exchanges/{id}/transfers".replace("{".concat("id","}"),encodeURIComponent(String(n))),u=new URL(c,HC),e&&(d=e.baseOptions),f=yM(yM({method:"POST"},d),o),l={},h={},null!=i&&(l["x-imx-eth-address"]=String(i)),null!=a&&(l["x-imx-eth-signature"]=String(a)),null!=s&&(l.Authorization=String(s)),l["Content-Type"]="application/json",VC(u,h),p=d&&d.headers?d.headers:{},f.headers=yM(yM(yM({},l),p),o.headers),f.data=KC(r,f,e),t.abrupt("return",{url:XC(u),options:f});case 18:case"end":return t.stop()}}),t)}))),function(e,t,n,r,a){return i.apply(this,arguments)}),getExchange:(r=oC(lC.mark((function t(n){var r,i,a,s,o,c,u,d=arguments;return lC.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:{},GC("getExchange","id",n),i="/v3/exchanges/{id}".replace("{".concat("id","}"),encodeURIComponent(String(n))),a=new URL(i,HC),e&&(s=e.baseOptions),o=yM(yM({method:"GET"},s),r),c={},VC(a,{}),u=s&&s.headers?s.headers:{},o.headers=yM(yM(yM({},c),u),r.headers),t.abrupt("return",{url:XC(a),options:o});case 12:case"end":return t.stop()}}),t)}))),function(e){return r.apply(this,arguments)}),getExchangeSignableTransfer:(n=oC(lC.mark((function t(n,r){var i,a,s,o,c,u,d,f,l=arguments;return lC.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=l.length>2&&void 0!==l[2]?l[2]:{},GC("getExchangeSignableTransfer","id",n),GC("getExchangeSignableTransfer","getSignableTransferRequest",r),a="/v2/exchanges/{id}/signable-transfer-details".replace("{".concat("id","}"),encodeURIComponent(String(n))),s=new URL(a,HC),e&&(o=e.baseOptions),c=yM(yM({method:"POST"},o),i),d={},(u={})["Content-Type"]="application/json",VC(s,d),f=o&&o.headers?o.headers:{},c.headers=yM(yM(yM({},u),f),i.headers),c.data=KC(r,c,e),t.abrupt("return",{url:XC(s),options:c});case 15:case"end":return t.stop()}}),t)}))),function(e,t){return n.apply(this,arguments)}),getExchanges:(t=oC(lC.mark((function t(n,r,i,a,s,o,c,u,d){var f,l,h,p,m,b,y,g=arguments;return lC.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return f=g.length>9&&void 0!==g[9]?g[9]:{},l=new URL("/v3/exchanges",HC),e&&(h=e.baseOptions),p=yM(yM({method:"GET"},h),f),m={},b={},void 0!==n&&(b.page_size=n),void 0!==r&&(b.cursor=r),void 0!==i&&(b.order_by=i),void 0!==a&&(b.direction=a),void 0!==s&&(b.id=s),void 0!==o&&(b.wallet_address=o),void 0!==c&&(b.status=c),void 0!==u&&(b.provider=u),void 0!==d&&(b.transfer_id=d),VC(l,b),y=h&&h.headers?h.headers:{},p.headers=yM(yM(yM({},m),y),f.headers),t.abrupt("return",{url:XC(l),options:p});case 20:case"end":return t.stop()}}),t)}))),function(e,n,r,i,a,s,o,c,u){return t.apply(this,arguments)})};var t,n,r,i,a}(e);return{createExchange:function(n,r){return oC(lC.mark((function i(){var a;return lC.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,t.createExchange(n,r);case 2:return a=i.sent,i.abrupt("return",$C(a,Lx,FC,e));case 4:case"end":return i.stop()}}),i)})))()},createExchangeTransfer:function(n,r,i,a,s,o){return oC(lC.mark((function c(){var u;return lC.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,t.createExchangeTransfer(n,r,i,a,s,o);case 2:return u=c.sent,c.abrupt("return",$C(u,Lx,FC,e));case 4:case"end":return c.stop()}}),c)})))()},getExchange:function(n,r){return oC(lC.mark((function i(){var a;return lC.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,t.getExchange(n,r);case 2:return a=i.sent,i.abrupt("return",$C(a,Lx,FC,e));case 4:case"end":return i.stop()}}),i)})))()},getExchangeSignableTransfer:function(n,r,i){return oC(lC.mark((function a(){var s;return lC.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.getExchangeSignableTransfer(n,r,i);case 2:return s=a.sent,a.abrupt("return",$C(s,Lx,FC,e));case 4:case"end":return a.stop()}}),a)})))()},getExchanges:function(n,r,i,a,s,o,c,u,d,f){return oC(lC.mark((function l(){var h;return lC.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,t.getExchanges(n,r,i,a,s,o,c,u,d,f);case 2:return h=l.sent,l.abrupt("return",$C(h,Lx,FC,e));case 4:case"end":return l.stop()}}),l)})))()}}},vM=function(e){Qx(n,UC);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$x(e);if(t){var i=$x(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return tC(this,n)}}(n);function n(){return Fx(this,n),t.apply(this,arguments)}return jx(n,[{key:"createExchange",value:function(e,t){var n=this;return gM(this.configuration).createExchange(e.createExchangeAPIRequest,t).then((function(e){return e(n.axios,n.basePath)}))}},{key:"createExchangeTransfer",value:function(e,t){var n=this;return gM(this.configuration).createExchangeTransfer(e.id,e.createTransferRequest,e.xImxEthAddress,e.xImxEthSignature,e.authorization,t).then((function(e){return e(n.axios,n.basePath)}))}},{key:"getExchange",value:function(e,t){var n=this;return gM(this.configuration).getExchange(e.id,t).then((function(e){return e(n.axios,n.basePath)}))}},{key:"getExchangeSignableTransfer",value:function(e,t){var n=this;return gM(this.configuration).getExchangeSignableTransfer(e.id,e.getSignableTransferRequest,t).then((function(e){return e(n.axios,n.basePath)}))}},{key:"getExchanges",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return gM(this.configuration).getExchanges(t.pageSize,t.cursor,t.orderBy,t.direction,t.id,t.walletAddress,t.status,t.provider,t.transferId,n).then((function(t){return t(e.axios,e.basePath)}))}}]),n}();function wM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wM(Object(n),!0).forEach((function(t){qx(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wM(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var EM=function(e){var t=function(e){return{addMetadataSchemaToCollection:(r=oC(lC.mark((function t(n,r,i,a){var s,o,c,u,d,f,l,h,p=arguments;return lC.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=p.length>4&&void 0!==p[4]?p[4]:{},GC("addMetadataSchemaToCollection","address",n),GC("addMetadataSchemaToCollection","iMXSignature",r),GC("addMetadataSchemaToCollection","iMXTimestamp",i),GC("addMetadataSchemaToCollection","addMetadataSchemaToCollectionRequest",a),o="/v1/collections/{address}/metadata-schema".replace("{".concat("address","}"),encodeURIComponent(String(n))),c=new URL(o,HC),e&&(u=e.baseOptions),d=_M(_M({method:"POST"},u),s),f={},l={},null!=r&&(f["IMX-Signature"]=String(r)),null!=i&&(f["IMX-Timestamp"]=String(i)),f["Content-Type"]="application/json",VC(c,l),h=u&&u.headers?u.headers:{},d.headers=_M(_M(_M({},f),h),s.headers),d.data=KC(a,d,e),t.abrupt("return",{url:XC(c),options:d});case 19:case"end":return t.stop()}}),t)}))),function(e,t,n,i){return r.apply(this,arguments)}),getMetadataSchema:(n=oC(lC.mark((function t(n){var r,i,a,s,o,c,u,d=arguments;return lC.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:{},GC("getMetadataSchema","address",n),i="/v1/collections/{address}/metadata-schema".replace("{".concat("address","}"),encodeURIComponent(String(n))),a=new URL(i,HC),e&&(s=e.baseOptions),o=_M(_M({method:"GET"},s),r),c={},VC(a,{}),u=s&&s.headers?s.headers:{},o.headers=_M(_M(_M({},c),u),r.headers),t.abrupt("return",{url:XC(a),options:o});case 12:case"end":return t.stop()}}),t)}))),function(e){return n.apply(this,arguments)}),updateMetadataSchemaByName:(t=oC(lC.mark((function t(n,r,i,a,s){var o,c,u,d,f,l,h,p,m=arguments;return lC.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=m.length>5&&void 0!==m[5]?m[5]:{},GC("updateMetadataSchemaByName","address",n),GC("updateMetadataSchemaByName","name",r),GC("updateMetadataSchemaByName","iMXSignature",i),GC("updateMetadataSchemaByName","iMXTimestamp",a),GC("updateMetadataSchemaByName","metadataSchemaRequest",s),c="/v1/collections/{address}/metadata-schema/{name}".replace("{".concat("address","}"),encodeURIComponent(String(n))).replace("{".concat("name","}"),encodeURIComponent(String(r))),u=new URL(c,HC),e&&(d=e.baseOptions),f=_M(_M({method:"PATCH"},d),o),l={},h={},null!=i&&(l["IMX-Signature"]=String(i)),null!=a&&(l["IMX-Timestamp"]=String(a)),l["Content-Type"]="application/json",VC(u,h),p=d&&d.headers?d.headers:{},f.headers=_M(_M(_M({},l),p),o.headers),f.data=KC(s,f,e),t.abrupt("return",{url:XC(u),options:f});case 20:case"end":return t.stop()}}),t)}))),function(e,n,r,i,a){return t.apply(this,arguments)})};var t,n,r}(e);return{addMetadataSchemaToCollection:function(n,r,i,a,s){return oC(lC.mark((function o(){var c;return lC.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,t.addMetadataSchemaToCollection(n,r,i,a,s);case 2:return c=o.sent,o.abrupt("return",$C(c,Lx,FC,e));case 4:case"end":return o.stop()}}),o)})))()},getMetadataSchema:function(n,r){return oC(lC.mark((function i(){var a;return lC.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,t.getMetadataSchema(n,r);case 2:return a=i.sent,i.abrupt("return",$C(a,Lx,FC,e));case 4:case"end":return i.stop()}}),i)})))()},updateMetadataSchemaByName:function(n,r,i,a,s,o){return oC(lC.mark((function c(){var u;return lC.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,t.updateMetadataSchemaByName(n,r,i,a,s,o);case 2:return u=c.sent,c.abrupt("return",$C(u,Lx,FC,e));case 4:case"end":return c.stop()}}),c)})))()}}},TM=function(e){Qx(n,UC);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$x(e);if(t){var i=$x(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return tC(this,n)}}(n);function n(){return Fx(this,n),t.apply(this,arguments)}return jx(n,[{key:"addMetadataSchemaToCollection",value:function(e,t){var n=this;return EM(this.configuration).addMetadataSchemaToCollection(e.address,e.iMXSignature,e.iMXTimestamp,e.addMetadataSchemaToCollectionRequest,t).then((function(e){return e(n.axios,n.basePath)}))}},{key:"getMetadataSchema",value:function(e,t){var n=this;return EM(this.configuration).getMetadataSchema(e.address,t).then((function(e){return e(n.axios,n.basePath)}))}},{key:"updateMetadataSchemaByName",value:function(e,t){var n=this;return EM(this.configuration).updateMetadataSchemaByName(e.address,e.name,e.iMXSignature,e.iMXTimestamp,e.metadataSchemaRequest,t).then((function(e){return e(n.axios,n.basePath)}))}}]),n}();function AM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function RM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?AM(Object(n),!0).forEach((function(t){qx(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AM(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var SM=function(e){var t=function(e){return{getAListOfMetadataRefreshes:(i=oC(lC.mark((function t(n,r,i,a,s,o){var c,u,d,f,l,h,p,m=arguments;return lC.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=m.length>6&&void 0!==m[6]?m[6]:{},GC("getAListOfMetadataRefreshes","xImxEthSignature",n),GC("getAListOfMetadataRefreshes","xImxEthTimestamp",r),GC("getAListOfMetadataRefreshes","xImxEthAddress",i),u=new URL("/v1/metadata-refreshes",HC),e&&(d=e.baseOptions),f=RM(RM({method:"GET"},d),c),l={},h={},void 0!==a&&(h.page_size=a),void 0!==s&&(h.cursor=s),void 0!==o&&(h.collection_address=o),null!=n&&(l["x-imx-eth-signature"]=String(n)),null!=r&&(l["x-imx-eth-timestamp"]=String(r)),null!=i&&(l["x-imx-eth-address"]=String(i)),VC(u,h),p=d&&d.headers?d.headers:{},f.headers=RM(RM(RM({},l),p),c.headers),t.abrupt("return",{url:XC(u),options:f});case 20:case"end":return t.stop()}}),t)}))),function(e,t,n,r,a,s){return i.apply(this,arguments)}),getMetadataRefreshErrors:(r=oC(lC.mark((function t(n,r,i,a,s,o){var c,u,d,f,l,h,p,m,b=arguments;return lC.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=b.length>6&&void 0!==b[6]?b[6]:{},GC("getMetadataRefreshErrors","refreshId",n),GC("getMetadataRefreshErrors","xImxEthSignature",r),GC("getMetadataRefreshErrors","xImxEthTimestamp",i),GC("getMetadataRefreshErrors","xImxEthAddress",a),u="/v1/metadata-refreshes/{refresh_id}/errors".replace("{".concat("refresh_id","}"),encodeURIComponent(String(n))),d=new URL(u,HC),e&&(f=e.baseOptions),l=RM(RM({method:"GET"},f),c),h={},p={},void 0!==s&&(p.page_size=s),void 0!==o&&(p.cursor=o),null!=r&&(h["x-imx-eth-signature"]=String(r)),null!=i&&(h["x-imx-eth-timestamp"]=String(i)),null!=a&&(h["x-imx-eth-address"]=String(a)),VC(d,p),m=f&&f.headers?f.headers:{},l.headers=RM(RM(RM({},h),m),c.headers),t.abrupt("return",{url:XC(d),options:l});case 20:case"end":return t.stop()}}),t)}))),function(e,t,n,i,a,s){return r.apply(this,arguments)}),getMetadataRefreshResults:(n=oC(lC.mark((function t(n,r,i,a){var s,o,c,u,d,f,l,h,p=arguments;return lC.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=p.length>4&&void 0!==p[4]?p[4]:{},GC("getMetadataRefreshResults","refreshId",n),GC("getMetadataRefreshResults","xImxEthSignature",r),GC("getMetadataRefreshResults","xImxEthTimestamp",i),GC("getMetadataRefreshResults","xImxEthAddress",a),o="/v1/metadata-refreshes/{refresh_id}".replace("{".concat("refresh_id","}"),encodeURIComponent(String(n))),c=new URL(o,HC),e&&(u=e.baseOptions),d=RM(RM({method:"GET"},u),s),f={},l={},null!=r&&(f["x-imx-eth-signature"]=String(r)),null!=i&&(f["x-imx-eth-timestamp"]=String(i)),null!=a&&(f["x-imx-eth-address"]=String(a)),VC(c,l),h=u&&u.headers?u.headers:{},d.headers=RM(RM(RM({},f),h),s.headers),t.abrupt("return",{url:XC(c),options:d});case 18:case"end":return t.stop()}}),t)}))),function(e,t,r,i){return n.apply(this,arguments)}),requestAMetadataRefresh:(t=oC(lC.mark((function t(n,r,i,a){var s,o,c,u,d,f,l,h=arguments;return lC.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=h.length>4&&void 0!==h[4]?h[4]:{},GC("requestAMetadataRefresh","xImxEthSignature",n),GC("requestAMetadataRefresh","xImxEthTimestamp",r),GC("requestAMetadataRefresh","xImxEthAddress",i),GC("requestAMetadataRefresh","createMetadataRefreshRequest",a),o=new URL("/v1/metadata-refreshes",HC),e&&(c=e.baseOptions),u=RM(RM({method:"POST"},c),s),d={},f={},null!=n&&(d["x-imx-eth-signature"]=String(n)),null!=r&&(d["x-imx-eth-timestamp"]=String(r)),null!=i&&(d["x-imx-eth-address"]=String(i)),d["Content-Type"]="application/json",VC(o,f),l=c&&c.headers?c.headers:{},u.headers=RM(RM(RM({},d),l),s.headers),u.data=KC(a,u,e),t.abrupt("return",{url:XC(o),options:u});case 20:case"end":return t.stop()}}),t)}))),function(e,n,r,i){return t.apply(this,arguments)})};var t,n,r,i}(e);return{getAListOfMetadataRefreshes:function(n,r,i,a,s,o,c){return oC(lC.mark((function u(){var d;return lC.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,t.getAListOfMetadataRefreshes(n,r,i,a,s,o,c);case 2:return d=u.sent,u.abrupt("return",$C(d,Lx,FC,e));case 4:case"end":return u.stop()}}),u)})))()},getMetadataRefreshErrors:function(n,r,i,a,s,o,c){return oC(lC.mark((function u(){var d;return lC.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,t.getMetadataRefreshErrors(n,r,i,a,s,o,c);case 2:return d=u.sent,u.abrupt("return",$C(d,Lx,FC,e));case 4:case"end":return u.stop()}}),u)})))()},getMetadataRefreshResults:function(n,r,i,a,s){return oC(lC.mark((function o(){var c;return lC.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,t.getMetadataRefreshResults(n,r,i,a,s);case 2:return c=o.sent,o.abrupt("return",$C(c,Lx,FC,e));case 4:case"end":return o.stop()}}),o)})))()},requestAMetadataRefresh:function(n,r,i,a,s){return oC(lC.mark((function o(){var c;return lC.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,t.requestAMetadataRefresh(n,r,i,a,s);case 2:return c=o.sent,o.abrupt("return",$C(c,Lx,FC,e));case 4:case"end":return o.stop()}}),o)})))()}}},kM=function(e){Qx(n,UC);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$x(e);if(t){var i=$x(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return tC(this,n)}}(n);function n(){return Fx(this,n),t.apply(this,arguments)}return jx(n,[{key:"getAListOfMetadataRefreshes",value:function(e,t){var n=this;return SM(this.configuration).getAListOfMetadataRefreshes(e.xImxEthSignature,e.xImxEthTimestamp,e.xImxEthAddress,e.pageSize,e.cursor,e.collectionAddress,t).then((function(e){return e(n.axios,n.basePath)}))}},{key:"getMetadataRefreshErrors",value:function(e,t){var n=this;return SM(this.configuration).getMetadataRefreshErrors(e.refreshId,e.xImxEthSignature,e.xImxEthTimestamp,e.xImxEthAddress,e.pageSize,e.cursor,t).then((function(e){return e(n.axios,n.basePath)}))}},{key:"getMetadataRefreshResults",value:function(e,t){var n=this;return SM(this.configuration).getMetadataRefreshResults(e.refreshId,e.xImxEthSignature,e.xImxEthTimestamp,e.xImxEthAddress,t).then((function(e){return e(n.axios,n.basePath)}))}},{key:"requestAMetadataRefresh",value:function(e,t){var n=this;return SM(this.configuration).requestAMetadataRefresh(e.xImxEthSignature,e.xImxEthTimestamp,e.xImxEthAddress,e.createMetadataRefreshRequest,t).then((function(e){return e(n.axios,n.basePath)}))}}]),n}();function OM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function IM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?OM(Object(n),!0).forEach((function(t){qx(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OM(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var xM=function(e){var t=function(e){return{getMint:(i=oC(lC.mark((function t(n){var r,i,a,s,o,c,u,d=arguments;return lC.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:{},GC("getMint","id",n),i="/v1/mints/{id}".replace("{".concat("id","}"),encodeURIComponent(String(n))),a=new URL(i,HC),e&&(s=e.baseOptions),o=IM(IM({method:"GET"},s),r),c={},VC(a,{}),u=s&&s.headers?s.headers:{},o.headers=IM(IM(IM({},c),u),r.headers),t.abrupt("return",{url:XC(a),options:o});case 12:case"end":return t.stop()}}),t)}))),function(e){return i.apply(this,arguments)}),getMintableTokenDetailsByClientTokenId:(r=oC(lC.mark((function t(n,r){var i,a,s,o,c,u,d,f=arguments;return lC.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=f.length>2&&void 0!==f[2]?f[2]:{},GC("getMintableTokenDetailsByClientTokenId","tokenAddress",n),GC("getMintableTokenDetailsByClientTokenId","tokenId",r),a="/v1/mintable-token/{token_address}/{token_id}".replace("{".concat("token_address","}"),encodeURIComponent(String(n))).replace("{".concat("token_id","}"),encodeURIComponent(String(r))),s=new URL(a,HC),e&&(o=e.baseOptions),c=IM(IM({method:"GET"},o),i),u={},VC(s,{}),d=o&&o.headers?o.headers:{},c.headers=IM(IM(IM({},u),d),i.headers),t.abrupt("return",{url:XC(s),options:c});case 13:case"end":return t.stop()}}),t)}))),function(e,t){return r.apply(this,arguments)}),listMints:(n=oC(lC.mark((function t(n,r,i,a,s,o,c,u,d,f,l,h,p,m,b){var y,g,v,w,_,E,T,A=arguments;return lC.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return y=A.length>15&&void 0!==A[15]?A[15]:{},g=new URL("/v1/mints",HC),e&&(v=e.baseOptions),w=IM(IM({method:"GET"},v),y),_={},E={},void 0!==n&&(E.page_size=n),void 0!==r&&(E.cursor=r),void 0!==i&&(E.order_by=i),void 0!==a&&(E.direction=a),void 0!==s&&(E.user=s),void 0!==o&&(E.status=o),void 0!==c&&(E.min_timestamp=c),void 0!==u&&(E.max_timestamp=u),void 0!==d&&(E.token_type=d),void 0!==f&&(E.token_id=f),void 0!==l&&(E.token_name=l),void 0!==h&&(E.token_address=h),void 0!==p&&(E.min_quantity=p),void 0!==m&&(E.max_quantity=m),void 0!==b&&(E.metadata=b),VC(g,E),T=v&&v.headers?v.headers:{},w.headers=IM(IM(IM({},_),T),y.headers),t.abrupt("return",{url:XC(g),options:w});case 26:case"end":return t.stop()}}),t)}))),function(e,t,r,i,a,s,o,c,u,d,f,l,h,p,m){return n.apply(this,arguments)}),mintTokens:(t=oC(lC.mark((function t(n){var r,i,a,s,o,c,u,d=arguments;return lC.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:{},GC("mintTokens","mintTokensRequestV2",n),i=new URL("/v2/mints",HC),e&&(a=e.baseOptions),s=IM(IM({method:"POST"},a),r),c={},(o={})["Content-Type"]="application/json",VC(i,c),u=a&&a.headers?a.headers:{},s.headers=IM(IM(IM({},o),u),r.headers),s.data=KC(n,s,e),t.abrupt("return",{url:XC(i),options:s});case 14:case"end":return t.stop()}}),t)}))),function(e){return t.apply(this,arguments)})};var t,n,r,i}(e);return{getMint:function(n,r){return oC(lC.mark((function i(){var a;return lC.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,t.getMint(n,r);case 2:return a=i.sent,i.abrupt("return",$C(a,Lx,FC,e));case 4:case"end":return i.stop()}}),i)})))()},getMintableTokenDetailsByClientTokenId:function(n,r,i){return oC(lC.mark((function a(){var s;return lC.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.getMintableTokenDetailsByClientTokenId(n,r,i);case 2:return s=a.sent,a.abrupt("return",$C(s,Lx,FC,e));case 4:case"end":return a.stop()}}),a)})))()},listMints:function(n,r,i,a,s,o,c,u,d,f,l,h,p,m,b,y){return oC(lC.mark((function g(){var v;return lC.wrap((function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,t.listMints(n,r,i,a,s,o,c,u,d,f,l,h,p,m,b,y);case 2:return v=g.sent,g.abrupt("return",$C(v,Lx,FC,e));case 4:case"end":return g.stop()}}),g)})))()},mintTokens:function(n,r){return oC(lC.mark((function i(){var a;return lC.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,t.mintTokens(n,r);case 2:return a=i.sent,i.abrupt("return",$C(a,Lx,FC,e));case 4:case"end":return i.stop()}}),i)})))()}}},CM=function(e){Qx(n,UC);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$x(e);if(t){var i=$x(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return tC(this,n)}}(n);function n(){return Fx(this,n),t.apply(this,arguments)}return jx(n,[{key:"getMint",value:function(e,t){var n=this;return xM(this.configuration).getMint(e.id,t).then((function(e){return e(n.axios,n.basePath)}))}},{key:"getMintableTokenDetailsByClientTokenId",value:function(e,t){var n=this;return xM(this.configuration).getMintableTokenDetailsByClientTokenId(e.tokenAddress,e.tokenId,t).then((function(e){return e(n.axios,n.basePath)}))}},{key:"listMints",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return xM(this.configuration).listMints(t.pageSize,t.cursor,t.orderBy,t.direction,t.user,t.status,t.minTimestamp,t.maxTimestamp,t.tokenType,t.tokenId,t.tokenName,t.tokenAddress,t.minQuantity,t.maxQuantity,t.metadata,n).then((function(t){return t(e.axios,e.basePath)}))}},{key:"mintTokens",value:function(e,t){var n=this;return xM(this.configuration).mintTokens(e.mintTokensRequestV2,t).then((function(e){return e(n.axios,n.basePath)}))}}]),n}();function MM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function PM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?MM(Object(n),!0).forEach((function(t){qx(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MM(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var NM=function(e){var t=function(e){return{createNftPrimary:(a=oC(lC.mark((function t(n){var r,i,a,s,o,c,u,d=arguments;return lC.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:{},GC("createNftPrimary","createAPIRequest",n),i=new URL("/v2/nft/primary",HC),e&&(a=e.baseOptions),s=PM(PM({method:"POST"},a),r),c={},(o={})["Content-Type"]="application/json",VC(i,c),u=a&&a.headers?a.headers:{},s.headers=PM(PM(PM({},o),u),r.headers),s.data=KC(n,s,e),t.abrupt("return",{url:XC(i),options:s});case 14:case"end":return t.stop()}}),t)}))),function(e){return a.apply(this,arguments)}),getCurrenciesNFTCheckoutPrimary:(i=oC(lC.mark((function t(n,r){var i,a,s,o,c,u,d,f=arguments;return lC.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=f.length>2&&void 0!==f[2]?f[2]:{},a=new URL("/v2/nft/primary/currencies",HC),e&&(s=e.baseOptions),o=PM(PM({method:"GET"},s),i),c={},u={},void 0!==n&&(u.provider=n),void 0!==r&&(u.include_limits=r),VC(a,u),d=s&&s.headers?s.headers:{},o.headers=PM(PM(PM({},c),d),i.headers),t.abrupt("return",{url:XC(a),options:o});case 13:case"end":return t.stop()}}),t)}))),function(e,t){return i.apply(this,arguments)}),getNftPrimaryTransaction:(r=oC(lC.mark((function t(n){var r,i,a,s,o,c,u,d=arguments;return lC.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:{},GC("getNftPrimaryTransaction","transactionId",n),i="/v2/nft/primary/{transaction_id}".replace("{".concat("transaction_id","}"),encodeURIComponent(String(n))),a=new URL(i,HC),e&&(s=e.baseOptions),o=PM(PM({method:"GET"},s),r),c={},VC(a,{}),u=s&&s.headers?s.headers:{},o.headers=PM(PM(PM({},c),u),r.headers),t.abrupt("return",{url:XC(a),options:o});case 12:case"end":return t.stop()}}),t)}))),function(e){return r.apply(this,arguments)}),getNftPrimaryTransactions:(n=oC(lC.mark((function t(n,r,i,a,s,o,c,u,d,f,l){var h,p,m,b,y,g,v,w=arguments;return lC.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return h=w.length>11&&void 0!==w[11]?w[11]:{},p=new URL("/v2/nft/primary",HC),e&&(m=e.baseOptions),b=PM(PM({method:"GET"},m),h),y={},g={},void 0!==n&&(g.page_size=n),void 0!==r&&(g.cursor=r),void 0!==i&&(g.order_by=i),void 0!==a&&(g.direction=a),void 0!==s&&(g.transaction_id=s),void 0!==o&&(g.contract_address=o),void 0!==c&&(g.seller_wallet_address=c),void 0!==u&&(g.user_wallet_address=u),void 0!==d&&(g.status=d),void 0!==f&&(g.provider=f),void 0!==l&&(g.mint_id=l),VC(p,g),v=m&&m.headers?m.headers:{},b.headers=PM(PM(PM({},y),v),h.headers),t.abrupt("return",{url:XC(p),options:b});case 22:case"end":return t.stop()}}),t)}))),function(e,t,r,i,a,s,o,c,u,d,f){return n.apply(this,arguments)}),registerNftPrimarySalesContract:(t=oC(lC.mark((function t(n){var r,i,a,s,o,c,u,d=arguments;return lC.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:{},GC("registerNftPrimarySalesContract","createAPIRequest",n),i=new URL("/v2/nft/primary/register",HC),e&&(a=e.baseOptions),s=PM(PM({method:"POST"},a),r),c={},(o={})["Content-Type"]="application/json",VC(i,c),u=a&&a.headers?a.headers:{},s.headers=PM(PM(PM({},o),u),r.headers),s.data=KC(n,s,e),t.abrupt("return",{url:XC(i),options:s});case 14:case"end":return t.stop()}}),t)}))),function(e){return t.apply(this,arguments)})};var t,n,r,i,a}(e);return{createNftPrimary:function(n,r){return oC(lC.mark((function i(){var a;return lC.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,t.createNftPrimary(n,r);case 2:return a=i.sent,i.abrupt("return",$C(a,Lx,FC,e));case 4:case"end":return i.stop()}}),i)})))()},getCurrenciesNFTCheckoutPrimary:function(n,r,i){return oC(lC.mark((function a(){var s;return lC.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.getCurrenciesNFTCheckoutPrimary(n,r,i);case 2:return s=a.sent,a.abrupt("return",$C(s,Lx,FC,e));case 4:case"end":return a.stop()}}),a)})))()},getNftPrimaryTransaction:function(n,r){return oC(lC.mark((function i(){var a;return lC.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,t.getNftPrimaryTransaction(n,r);case 2:return a=i.sent,i.abrupt("return",$C(a,Lx,FC,e));case 4:case"end":return i.stop()}}),i)})))()},getNftPrimaryTransactions:function(n,r,i,a,s,o,c,u,d,f,l,h){return oC(lC.mark((function p(){var m;return lC.wrap((function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,t.getNftPrimaryTransactions(n,r,i,a,s,o,c,u,d,f,l,h);case 2:return m=p.sent,p.abrupt("return",$C(m,Lx,FC,e));case 4:case"end":return p.stop()}}),p)})))()},registerNftPrimarySalesContract:function(n,r){return oC(lC.mark((function i(){var a;return lC.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,t.registerNftPrimarySalesContract(n,r);case 2:return a=i.sent,i.abrupt("return",$C(a,Lx,FC,e));case 4:case"end":return i.stop()}}),i)})))()}}},BM=function(e){Qx(n,UC);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$x(e);if(t){var i=$x(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return tC(this,n)}}(n);function n(){return Fx(this,n),t.apply(this,arguments)}return jx(n,[{key:"createNftPrimary",value:function(e,t){var n=this;return NM(this.configuration).createNftPrimary(e.createAPIRequest,t).then((function(e){return e(n.axios,n.basePath)}))}},{key:"getCurrenciesNFTCheckoutPrimary",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return NM(this.configuration).getCurrenciesNFTCheckoutPrimary(t.provider,t.includeLimits,n).then((function(t){return t(e.axios,e.basePath)}))}},{key:"getNftPrimaryTransaction",value:function(e,t){var n=this;return NM(this.configuration).getNftPrimaryTransaction(e.transactionId,t).then((function(e){return e(n.axios,n.basePath)}))}},{key:"getNftPrimaryTransactions",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return NM(this.configuration).getNftPrimaryTransactions(t.pageSize,t.cursor,t.orderBy,t.direction,t.transactionId,t.contractAddress,t.sellerWalletAddress,t.userWalletAddress,t.status,t.provider,t.mintId,n).then((function(t){return t(e.axios,e.basePath)}))}},{key:"registerNftPrimarySalesContract",value:function(e,t){var n=this;return NM(this.configuration).registerNftPrimarySalesContract(e.createAPIRequest,t).then((function(e){return e(n.axios,n.basePath)}))}}]),n}();function DM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function LM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?DM(Object(n),!0).forEach((function(t){qx(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DM(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var FM=function(e){var t=function(e){return{cancelOrderV3:(s=oC(lC.mark((function t(n,r,i,a,s){var o,c,u,d,f,l,h,p,m=arguments;return lC.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=m.length>5&&void 0!==m[5]?m[5]:{},GC("cancelOrderV3","id",n),GC("cancelOrderV3","cancelOrderRequest",r),c="/v3/orders/{id}".replace("{".concat("id","}"),encodeURIComponent(String(n))),u=new URL(c,HC),e&&(d=e.baseOptions),f=LM(LM({method:"DELETE"},d),o),l={},h={},null!=i&&(l["x-imx-eth-address"]=String(i)),null!=a&&(l["x-imx-eth-signature"]=String(a)),null!=s&&(l.Authorization=String(s)),l["Content-Type"]="application/json",VC(u,h),p=d&&d.headers?d.headers:{},f.headers=LM(LM(LM({},l),p),o.headers),f.data=KC(r,f,e),t.abrupt("return",{url:XC(u),options:f});case 18:case"end":return t.stop()}}),t)}))),function(e,t,n,r,i){return s.apply(this,arguments)}),createOrderV3:(a=oC(lC.mark((function t(n,r,i,a){var s,o,c,u,d,f,l,h=arguments;return lC.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=h.length>4&&void 0!==h[4]?h[4]:{},GC("createOrderV3","createOrderRequest",n),o=new URL("/v3/orders",HC),e&&(c=e.baseOptions),u=LM(LM({method:"POST"},c),s),d={},f={},null!=r&&(d["x-imx-eth-address"]=String(r)),null!=i&&(d["x-imx-eth-signature"]=String(i)),null!=a&&(d.Authorization=String(a)),d["Content-Type"]="application/json",VC(o,f),l=c&&c.headers?c.headers:{},u.headers=LM(LM(LM({},d),l),s.headers),u.data=KC(n,u,e),t.abrupt("return",{url:XC(o),options:u});case 17:case"end":return t.stop()}}),t)}))),function(e,t,n,r){return a.apply(this,arguments)}),getOrderV3:(i=oC(lC.mark((function t(n,r,i,a){var s,o,c,u,d,f,l,h,p=arguments;return lC.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=p.length>4&&void 0!==p[4]?p[4]:{},GC("getOrderV3","id",n),o="/v3/orders/{id}".replace("{".concat("id","}"),encodeURIComponent(String(n))),c=new URL(o,HC),e&&(u=e.baseOptions),d=LM(LM({method:"GET"},u),s),f={},l={},void 0!==r&&(l.include_fees=r),void 0!==i&&(l.auxiliary_fee_percentages=i),void 0!==a&&(l.auxiliary_fee_recipients=a),VC(c,l),h=u&&u.headers?u.headers:{},d.headers=LM(LM(LM({},f),h),s.headers),t.abrupt("return",{url:XC(c),options:d});case 15:case"end":return t.stop()}}),t)}))),function(e,t,n,r){return i.apply(this,arguments)}),getSignableCancelOrderV3:(r=oC(lC.mark((function t(n){var r,i,a,s,o,c,u,d=arguments;return lC.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:{},GC("getSignableCancelOrderV3","getSignableCancelOrderRequest",n),i=new URL("/v3/signable-cancel-order-details",HC),e&&(a=e.baseOptions),s=LM(LM({method:"POST"},a),r),c={},(o={})["Content-Type"]="application/json",VC(i,c),u=a&&a.headers?a.headers:{},s.headers=LM(LM(LM({},o),u),r.headers),s.data=KC(n,s,e),t.abrupt("return",{url:XC(i),options:s});case 14:case"end":return t.stop()}}),t)}))),function(e){return r.apply(this,arguments)}),getSignableOrder:(n=oC(lC.mark((function t(n){var r,i,a,s,o,c,u,d=arguments;return lC.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:{},GC("getSignableOrder","getSignableOrderRequestV3",n),i=new URL("/v3/signable-order-details",HC),e&&(a=e.baseOptions),s=LM(LM({method:"POST"},a),r),c={},(o={})["Content-Type"]="application/json",VC(i,c),u=a&&a.headers?a.headers:{},s.headers=LM(LM(LM({},o),u),r.headers),s.data=KC(n,s,e),t.abrupt("return",{url:XC(i),options:s});case 14:case"end":return t.stop()}}),t)}))),function(e){return n.apply(this,arguments)}),listOrdersV3:(t=oC(lC.mark((function t(n,r,i,a,s,o,c,u,d,f,l,h,p,m,b,y,g,v,w,_,E,T,A,R,S,k,O,I,x){var C,M,P,N,B,D,L,F=arguments;return lC.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return C=F.length>29&&void 0!==F[29]?F[29]:{},M=new URL("/v3/orders",HC),e&&(P=e.baseOptions),N=LM(LM({method:"GET"},P),C),B={},D={},void 0!==n&&(D.page_size=n),void 0!==r&&(D.cursor=r),void 0!==i&&(D.order_by=i),void 0!==a&&(D.direction=a),void 0!==s&&(D.user=s),void 0!==o&&(D.status=o),void 0!==c&&(D.min_timestamp=c),void 0!==u&&(D.max_timestamp=u),void 0!==d&&(D.updated_min_timestamp=d),void 0!==f&&(D.updated_max_timestamp=f),void 0!==l&&(D.buy_token_type=l),void 0!==h&&(D.buy_token_id=h),void 0!==p&&(D.buy_asset_id=p),void 0!==m&&(D.buy_token_address=m),void 0!==b&&(D.buy_token_name=b),void 0!==y&&(D.buy_min_quantity=y),void 0!==g&&(D.buy_max_quantity=g),void 0!==v&&(D.buy_metadata=v),void 0!==w&&(D.sell_token_type=w),void 0!==_&&(D.sell_token_id=_),void 0!==E&&(D.sell_asset_id=E),void 0!==T&&(D.sell_token_address=T),void 0!==A&&(D.sell_token_name=A),void 0!==R&&(D.sell_min_quantity=R),void 0!==S&&(D.sell_max_quantity=S),void 0!==k&&(D.sell_metadata=k),void 0!==O&&(D.auxiliary_fee_percentages=O),void 0!==I&&(D.auxiliary_fee_recipients=I),void 0!==x&&(D.include_fees=x),VC(M,D),L=P&&P.headers?P.headers:{},N.headers=LM(LM(LM({},B),L),C.headers),t.abrupt("return",{url:XC(M),options:N});case 40:case"end":return t.stop()}}),t)}))),function(e,n,r,i,a,s,o,c,u,d,f,l,h,p,m,b,y,g,v,w,_,E,T,A,R,S,k,O,I){return t.apply(this,arguments)})};var t,n,r,i,a,s}(e);return{cancelOrderV3:function(n,r,i,a,s,o){return oC(lC.mark((function c(){var u;return lC.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,t.cancelOrderV3(n,r,i,a,s,o);case 2:return u=c.sent,c.abrupt("return",$C(u,Lx,FC,e));case 4:case"end":return c.stop()}}),c)})))()},createOrderV3:function(n,r,i,a,s){return oC(lC.mark((function o(){var c;return lC.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,t.createOrderV3(n,r,i,a,s);case 2:return c=o.sent,o.abrupt("return",$C(c,Lx,FC,e));case 4:case"end":return o.stop()}}),o)})))()},getOrderV3:function(n,r,i,a,s){return oC(lC.mark((function o(){var c;return lC.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,t.getOrderV3(n,r,i,a,s);case 2:return c=o.sent,o.abrupt("return",$C(c,Lx,FC,e));case 4:case"end":return o.stop()}}),o)})))()},getSignableCancelOrderV3:function(n,r){return oC(lC.mark((function i(){var a;return lC.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,t.getSignableCancelOrderV3(n,r);case 2:return a=i.sent,i.abrupt("return",$C(a,Lx,FC,e));case 4:case"end":return i.stop()}}),i)})))()},getSignableOrder:function(n,r){return oC(lC.mark((function i(){var a;return lC.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,t.getSignableOrder(n,r);case 2:return a=i.sent,i.abrupt("return",$C(a,Lx,FC,e));case 4:case"end":return i.stop()}}),i)})))()},listOrdersV3:function(n,r,i,a,s,o,c,u,d,f,l,h,p,m,b,y,g,v,w,_,E,T,A,R,S,k,O,I,x,C){return oC(lC.mark((function M(){var P;return lC.wrap((function(M){for(;;)switch(M.prev=M.next){case 0:return M.next=2,t.listOrdersV3(n,r,i,a,s,o,c,u,d,f,l,h,p,m,b,y,g,v,w,_,E,T,A,R,S,k,O,I,x,C);case 2:return P=M.sent,M.abrupt("return",$C(P,Lx,FC,e));case 4:case"end":return M.stop()}}),M)})))()}}},UM=function(e){Qx(n,UC);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$x(e);if(t){var i=$x(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return tC(this,n)}}(n);function n(){return Fx(this,n),t.apply(this,arguments)}return jx(n,[{key:"cancelOrderV3",value:function(e,t){var n=this;return FM(this.configuration).cancelOrderV3(e.id,e.cancelOrderRequest,e.xImxEthAddress,e.xImxEthSignature,e.authorization,t).then((function(e){return e(n.axios,n.basePath)}))}},{key:"createOrderV3",value:function(e,t){var n=this;return FM(this.configuration).createOrderV3(e.createOrderRequest,e.xImxEthAddress,e.xImxEthSignature,e.authorization,t).then((function(e){return e(n.axios,n.basePath)}))}},{key:"getOrderV3",value:function(e,t){var n=this;return FM(this.configuration).getOrderV3(e.id,e.includeFees,e.auxiliaryFeePercentages,e.auxiliaryFeeRecipients,t).then((function(e){return e(n.axios,n.basePath)}))}},{key:"getSignableCancelOrderV3",value:function(e,t){var n=this;return FM(this.configuration).getSignableCancelOrderV3(e.getSignableCancelOrderRequest,t).then((function(e){return e(n.axios,n.basePath)}))}},{key:"getSignableOrder",value:function(e,t){var n=this;return FM(this.configuration).getSignableOrder(e.getSignableOrderRequestV3,t).then((function(e){return e(n.axios,n.basePath)}))}},{key:"listOrdersV3",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return FM(this.configuration).listOrdersV3(t.pageSize,t.cursor,t.orderBy,t.direction,t.user,t.status,t.minTimestamp,t.maxTimestamp,t.updatedMinTimestamp,t.updatedMaxTimestamp,t.buyTokenType,t.buyTokenId,t.buyAssetId,t.buyTokenAddress,t.buyTokenName,t.buyMinQuantity,t.buyMaxQuantity,t.buyMetadata,t.sellTokenType,t.sellTokenId,t.sellAssetId,t.sellTokenAddress,t.sellTokenName,t.sellMinQuantity,t.sellMaxQuantity,t.sellMetadata,t.auxiliaryFeePercentages,t.auxiliaryFeeRecipients,t.includeFees,n).then((function(t){return t(e.axios,e.basePath)}))}}]),n}();function jM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jM(Object(n),!0).forEach((function(t){qx(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jM(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var zM=function(e){var t=function(e){return{createProject:(i=oC(lC.mark((function t(n,r,i){var a,s,o,c,u,d,f,l=arguments;return lC.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=l.length>3&&void 0!==l[3]?l[3]:{},GC("createProject","iMXSignature",n),GC("createProject","iMXTimestamp",r),GC("createProject","createProjectRequest",i),s=new URL("/v1/projects",HC),e&&(o=e.baseOptions),c=qM(qM({method:"POST"},o),a),u={},d={},null!=n&&(u["IMX-Signature"]=String(n)),null!=r&&(u["IMX-Timestamp"]=String(r)),u["Content-Type"]="application/json",VC(s,d),f=o&&o.headers?o.headers:{},c.headers=qM(qM(qM({},u),f),a.headers),c.data=KC(i,c,e),t.abrupt("return",{url:XC(s),options:c});case 18:case"end":return t.stop()}}),t)}))),function(e,t,n){return i.apply(this,arguments)}),getProject:(r=oC(lC.mark((function t(n,r,i){var a,s,o,c,u,d,f,l,h=arguments;return lC.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=h.length>3&&void 0!==h[3]?h[3]:{},GC("getProject","id",n),GC("getProject","iMXSignature",r),GC("getProject","iMXTimestamp",i),s="/v1/projects/{id}".replace("{".concat("id","}"),encodeURIComponent(String(n))),o=new URL(s,HC),e&&(c=e.baseOptions),u=qM(qM({method:"GET"},c),a),d={},f={},null!=r&&(d["IMX-Signature"]=String(r)),null!=i&&(d["IMX-Timestamp"]=String(i)),VC(o,f),l=c&&c.headers?c.headers:{},u.headers=qM(qM(qM({},d),l),a.headers),t.abrupt("return",{url:XC(o),options:u});case 16:case"end":return t.stop()}}),t)}))),function(e,t,n){return r.apply(this,arguments)}),getProjects:(n=oC(lC.mark((function t(n,r,i,a,s,o){var c,u,d,f,l,h,p,m=arguments;return lC.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=m.length>6&&void 0!==m[6]?m[6]:{},GC("getProjects","iMXSignature",n),GC("getProjects","iMXTimestamp",r),u=new URL("/v1/projects",HC),e&&(d=e.baseOptions),f=qM(qM({method:"GET"},d),c),l={},h={},void 0!==i&&(h.page_size=i),void 0!==a&&(h.cursor=a),void 0!==s&&(h.order_by=s),void 0!==o&&(h.direction=o),null!=n&&(l["IMX-Signature"]=String(n)),null!=r&&(l["IMX-Timestamp"]=String(r)),VC(u,h),p=d&&d.headers?d.headers:{},f.headers=qM(qM(qM({},l),p),c.headers),t.abrupt("return",{url:XC(u),options:f});case 19:case"end":return t.stop()}}),t)}))),function(e,t,r,i,a,s){return n.apply(this,arguments)}),getSdkVersion:(t=oC(lC.mark((function t(n,r,i){var a,s,o,c,u,d,f,l=arguments;return lC.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=l.length>3&&void 0!==l[3]?l[3]:{},GC("getSdkVersion","details",n),s=new URL("/v1/projects/sdk",HC),e&&(o=e.baseOptions),c=qM(qM({method:"GET"},o),a),u={},d={},void 0!==n&&(d.details=n),void 0!==r&&(d.version=r),void 0!==i&&(d.id=i),VC(s,d),f=o&&o.headers?o.headers:{},c.headers=qM(qM(qM({},u),f),a.headers),t.abrupt("return",{url:XC(s),options:c});case 15:case"end":return t.stop()}}),t)}))),function(e,n,r){return t.apply(this,arguments)})};var t,n,r,i}(e);return{createProject:function(n,r,i,a){return oC(lC.mark((function s(){var o;return lC.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,t.createProject(n,r,i,a);case 2:return o=s.sent,s.abrupt("return",$C(o,Lx,FC,e));case 4:case"end":return s.stop()}}),s)})))()},getProject:function(n,r,i,a){return oC(lC.mark((function s(){var o;return lC.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,t.getProject(n,r,i,a);case 2:return o=s.sent,s.abrupt("return",$C(o,Lx,FC,e));case 4:case"end":return s.stop()}}),s)})))()},getProjects:function(n,r,i,a,s,o,c){return oC(lC.mark((function u(){var d;return lC.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,t.getProjects(n,r,i,a,s,o,c);case 2:return d=u.sent,u.abrupt("return",$C(d,Lx,FC,e));case 4:case"end":return u.stop()}}),u)})))()},getSdkVersion:function(n,r,i,a){return oC(lC.mark((function s(){var o;return lC.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,t.getSdkVersion(n,r,i,a);case 2:return o=s.sent,s.abrupt("return",$C(o,Lx,FC,e));case 4:case"end":return s.stop()}}),s)})))()}}},HM=function(e){Qx(n,UC);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$x(e);if(t){var i=$x(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return tC(this,n)}}(n);function n(){return Fx(this,n),t.apply(this,arguments)}return jx(n,[{key:"createProject",value:function(e,t){var n=this;return zM(this.configuration).createProject(e.iMXSignature,e.iMXTimestamp,e.createProjectRequest,t).then((function(e){return e(n.axios,n.basePath)}))}},{key:"getProject",value:function(e,t){var n=this;return zM(this.configuration).getProject(e.id,e.iMXSignature,e.iMXTimestamp,t).then((function(e){return e(n.axios,n.basePath)}))}},{key:"getProjects",value:function(e,t){var n=this;return zM(this.configuration).getProjects(e.iMXSignature,e.iMXTimestamp,e.pageSize,e.cursor,e.orderBy,e.direction,t).then((function(e){return e(n.axios,n.basePath)}))}},{key:"getSdkVersion",value:function(e,t){var n=this;return zM(this.configuration).getSdkVersion(e.details,e.version,e.id,t).then((function(e){return e(n.axios,n.basePath)}))}}]),n}();function GM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function WM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?GM(Object(n),!0).forEach((function(t){qx(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GM(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var VM=function(e){var t=function(e){return{getToken:(n=oC(lC.mark((function t(n){var r,i,a,s,o,c,u,d=arguments;return lC.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:{},GC("getToken","address",n),i="/v1/tokens/{address}".replace("{".concat("address","}"),encodeURIComponent(String(n))),a=new URL(i,HC),e&&(s=e.baseOptions),o=WM(WM({method:"GET"},s),r),c={},VC(a,{}),u=s&&s.headers?s.headers:{},o.headers=WM(WM(WM({},c),u),r.headers),t.abrupt("return",{url:XC(a),options:o});case 12:case"end":return t.stop()}}),t)}))),function(e){return n.apply(this,arguments)}),listTokens:(t=oC(lC.mark((function t(n,r,i,a,s,o){var c,u,d,f,l,h,p,m=arguments;return lC.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=m.length>6&&void 0!==m[6]?m[6]:{},u=new URL("/v1/tokens",HC),e&&(d=e.baseOptions),f=WM(WM({method:"GET"},d),c),l={},h={},void 0!==n&&(h.page_size=n),void 0!==r&&(h.cursor=r),void 0!==i&&(h.order_by=i),void 0!==a&&(h.direction=a),void 0!==s&&(h.address=s),void 0!==o&&(h.symbols=o),VC(u,h),p=d&&d.headers?d.headers:{},f.headers=WM(WM(WM({},l),p),c.headers),t.abrupt("return",{url:XC(u),options:f});case 17:case"end":return t.stop()}}),t)}))),function(e,n,r,i,a,s){return t.apply(this,arguments)})};var t,n}(e);return{getToken:function(n,r){return oC(lC.mark((function i(){var a;return lC.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,t.getToken(n,r);case 2:return a=i.sent,i.abrupt("return",$C(a,Lx,FC,e));case 4:case"end":return i.stop()}}),i)})))()},listTokens:function(n,r,i,a,s,o,c){return oC(lC.mark((function u(){var d;return lC.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,t.listTokens(n,r,i,a,s,o,c);case 2:return d=u.sent,u.abrupt("return",$C(d,Lx,FC,e));case 4:case"end":return u.stop()}}),u)})))()}}},KM=function(e){Qx(n,UC);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$x(e);if(t){var i=$x(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return tC(this,n)}}(n);function n(){return Fx(this,n),t.apply(this,arguments)}return jx(n,[{key:"getToken",value:function(e,t){var n=this;return VM(this.configuration).getToken(e.address,t).then((function(e){return e(n.axios,n.basePath)}))}},{key:"listTokens",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return VM(this.configuration).listTokens(t.pageSize,t.cursor,t.orderBy,t.direction,t.address,t.symbols,n).then((function(t){return t(e.axios,e.basePath)}))}}]),n}();function XM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?XM(Object(n),!0).forEach((function(t){qx(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XM(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var JM=function(e){var t=function(e){return{createTradeV3:(i=oC(lC.mark((function t(n,r,i,a){var s,o,c,u,d,f,l,h=arguments;return lC.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=h.length>4&&void 0!==h[4]?h[4]:{},GC("createTradeV3","createTradeRequest",n),o=new URL("/v3/trades",HC),e&&(c=e.baseOptions),u=$M($M({method:"POST"},c),s),d={},f={},null!=r&&(d["x-imx-eth-address"]=String(r)),null!=i&&(d["x-imx-eth-signature"]=String(i)),null!=a&&(d.Authorization=String(a)),d["Content-Type"]="application/json",VC(o,f),l=c&&c.headers?c.headers:{},u.headers=$M($M($M({},d),l),s.headers),u.data=KC(n,u,e),t.abrupt("return",{url:XC(o),options:u});case 17:case"end":return t.stop()}}),t)}))),function(e,t,n,r){return i.apply(this,arguments)}),getSignableTrade:(r=oC(lC.mark((function t(n){var r,i,a,s,o,c,u,d=arguments;return lC.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:{},GC("getSignableTrade","getSignableTradeRequest",n),i=new URL("/v3/signable-trade-details",HC),e&&(a=e.baseOptions),s=$M($M({method:"POST"},a),r),c={},(o={})["Content-Type"]="application/json",VC(i,c),u=a&&a.headers?a.headers:{},s.headers=$M($M($M({},o),u),r.headers),s.data=KC(n,s,e),t.abrupt("return",{url:XC(i),options:s});case 14:case"end":return t.stop()}}),t)}))),function(e){return r.apply(this,arguments)}),getTradeV3:(n=oC(lC.mark((function t(n){var r,i,a,s,o,c,u,d=arguments;return lC.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:{},GC("getTradeV3","id",n),i="/v3/trades/{id}".replace("{".concat("id","}"),encodeURIComponent(String(n))),a=new URL(i,HC),e&&(s=e.baseOptions),o=$M($M({method:"GET"},s),r),c={},VC(a,{}),u=s&&s.headers?s.headers:{},o.headers=$M($M($M({},c),u),r.headers),t.abrupt("return",{url:XC(a),options:o});case 12:case"end":return t.stop()}}),t)}))),function(e){return n.apply(this,arguments)}),listTradesV3:(t=oC(lC.mark((function t(n,r,i,a,s,o,c,u,d,f,l){var h,p,m,b,y,g,v,w=arguments;return lC.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return h=w.length>11&&void 0!==w[11]?w[11]:{},p=new URL("/v3/trades",HC),e&&(m=e.baseOptions),b=$M($M({method:"GET"},m),h),y={},g={},void 0!==n&&(g.party_a_token_type=n),void 0!==r&&(g.party_a_token_address=r),void 0!==i&&(g.party_b_token_type=i),void 0!==a&&(g.party_b_token_address=a),void 0!==s&&(g.party_b_token_id=s),void 0!==o&&(g.page_size=o),void 0!==c&&(g.cursor=c),void 0!==u&&(g.order_by=u),void 0!==d&&(g.direction=d),void 0!==f&&(g.min_timestamp=f),void 0!==l&&(g.max_timestamp=l),VC(p,g),v=m&&m.headers?m.headers:{},b.headers=$M($M($M({},y),v),h.headers),t.abrupt("return",{url:XC(p),options:b});case 22:case"end":return t.stop()}}),t)}))),function(e,n,r,i,a,s,o,c,u,d,f){return t.apply(this,arguments)})};var t,n,r,i}(e);return{createTradeV3:function(n,r,i,a,s){return oC(lC.mark((function o(){var c;return lC.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,t.createTradeV3(n,r,i,a,s);case 2:return c=o.sent,o.abrupt("return",$C(c,Lx,FC,e));case 4:case"end":return o.stop()}}),o)})))()},getSignableTrade:function(n,r){return oC(lC.mark((function i(){var a;return lC.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,t.getSignableTrade(n,r);case 2:return a=i.sent,i.abrupt("return",$C(a,Lx,FC,e));case 4:case"end":return i.stop()}}),i)})))()},getTradeV3:function(n,r){return oC(lC.mark((function i(){var a;return lC.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,t.getTradeV3(n,r);case 2:return a=i.sent,i.abrupt("return",$C(a,Lx,FC,e));case 4:case"end":return i.stop()}}),i)})))()},listTradesV3:function(n,r,i,a,s,o,c,u,d,f,l,h){return oC(lC.mark((function p(){var m;return lC.wrap((function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,t.listTradesV3(n,r,i,a,s,o,c,u,d,f,l,h);case 2:return m=p.sent,p.abrupt("return",$C(m,Lx,FC,e));case 4:case"end":return p.stop()}}),p)})))()}}},YM=function(e){Qx(n,UC);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$x(e);if(t){var i=$x(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return tC(this,n)}}(n);function n(){return Fx(this,n),t.apply(this,arguments)}return jx(n,[{key:"createTradeV3",value:function(e,t){var n=this;return JM(this.configuration).createTradeV3(e.createTradeRequest,e.xImxEthAddress,e.xImxEthSignature,e.authorization,t).then((function(e){return e(n.axios,n.basePath)}))}},{key:"getSignableTrade",value:function(e,t){var n=this;return JM(this.configuration).getSignableTrade(e.getSignableTradeRequest,t).then((function(e){return e(n.axios,n.basePath)}))}},{key:"getTradeV3",value:function(e,t){var n=this;return JM(this.configuration).getTradeV3(e.id,t).then((function(e){return e(n.axios,n.basePath)}))}},{key:"listTradesV3",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return JM(this.configuration).listTradesV3(t.partyATokenType,t.partyATokenAddress,t.partyBTokenType,t.partyBTokenAddress,t.partyBTokenId,t.pageSize,t.cursor,t.orderBy,t.direction,t.minTimestamp,t.maxTimestamp,n).then((function(t){return t(e.axios,e.basePath)}))}}]),n}();function QM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ZM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?QM(Object(n),!0).forEach((function(t){qx(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QM(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var eP=function(e){var t=function(e){return{createTransfer:(s=oC(lC.mark((function t(n,r,i,a){var s,o,c,u,d,f,l,h=arguments;return lC.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=h.length>4&&void 0!==h[4]?h[4]:{},GC("createTransfer","createTransferRequestV2",n),o=new URL("/v2/transfers",HC),e&&(c=e.baseOptions),u=ZM(ZM({method:"POST"},c),s),d={},f={},null!=r&&(d["x-imx-eth-address"]=String(r)),null!=i&&(d["x-imx-eth-signature"]=String(i)),null!=a&&(d.Authorization=String(a)),d["Content-Type"]="application/json",VC(o,f),l=c&&c.headers?c.headers:{},u.headers=ZM(ZM(ZM({},d),l),s.headers),u.data=KC(n,u,e),t.abrupt("return",{url:XC(o),options:u});case 17:case"end":return t.stop()}}),t)}))),function(e,t,n,r){return s.apply(this,arguments)}),createTransferV1:(a=oC(lC.mark((function t(n,r,i,a){var s,o,c,u,d,f,l,h=arguments;return lC.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=h.length>4&&void 0!==h[4]?h[4]:{},GC("createTransferV1","createTransferRequest",n),o=new URL("/v1/transfers",HC),e&&(c=e.baseOptions),u=ZM(ZM({method:"POST"},c),s),d={},f={},null!=r&&(d["x-imx-eth-address"]=String(r)),null!=i&&(d["x-imx-eth-signature"]=String(i)),null!=a&&(d.Authorization=String(a)),d["Content-Type"]="application/json",VC(o,f),l=c&&c.headers?c.headers:{},u.headers=ZM(ZM(ZM({},d),l),s.headers),u.data=KC(n,u,e),t.abrupt("return",{url:XC(o),options:u});case 17:case"end":return t.stop()}}),t)}))),function(e,t,n,r){return a.apply(this,arguments)}),getSignableTransfer:(i=oC(lC.mark((function t(n){var r,i,a,s,o,c,u,d=arguments;return lC.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:{},GC("getSignableTransfer","getSignableTransferRequestV2",n),i=new URL("/v2/signable-transfer-details",HC),e&&(a=e.baseOptions),s=ZM(ZM({method:"POST"},a),r),c={},(o={})["Content-Type"]="application/json",VC(i,c),u=a&&a.headers?a.headers:{},s.headers=ZM(ZM(ZM({},o),u),r.headers),s.data=KC(n,s,e),t.abrupt("return",{url:XC(i),options:s});case 14:case"end":return t.stop()}}),t)}))),function(e){return i.apply(this,arguments)}),getSignableTransferV1:(r=oC(lC.mark((function t(n){var r,i,a,s,o,c,u,d=arguments;return lC.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:{},GC("getSignableTransferV1","getSignableTransferRequest",n),i=new URL("/v1/signable-transfer-details",HC),e&&(a=e.baseOptions),s=ZM(ZM({method:"POST"},a),r),c={},(o={})["Content-Type"]="application/json",VC(i,c),u=a&&a.headers?a.headers:{},s.headers=ZM(ZM(ZM({},o),u),r.headers),s.data=KC(n,s,e),t.abrupt("return",{url:XC(i),options:s});case 14:case"end":return t.stop()}}),t)}))),function(e){return r.apply(this,arguments)}),getTransfer:(n=oC(lC.mark((function t(n){var r,i,a,s,o,c,u,d=arguments;return lC.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:{},GC("getTransfer","id",n),i="/v1/transfers/{id}".replace("{".concat("id","}"),encodeURIComponent(String(n))),a=new URL(i,HC),e&&(s=e.baseOptions),o=ZM(ZM({method:"GET"},s),r),c={},VC(a,{}),u=s&&s.headers?s.headers:{},o.headers=ZM(ZM(ZM({},c),u),r.headers),t.abrupt("return",{url:XC(a),options:o});case 12:case"end":return t.stop()}}),t)}))),function(e){return n.apply(this,arguments)}),listTransfers:(t=oC(lC.mark((function t(n,r,i,a,s,o,c,u,d,f,l,h,p,m,b,y,g){var v,w,_,E,T,A,R,S=arguments;return lC.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return v=S.length>17&&void 0!==S[17]?S[17]:{},w=new URL("/v1/transfers",HC),e&&(_=e.baseOptions),E=ZM(ZM({method:"GET"},_),v),T={},A={},void 0!==n&&(A.page_size=n),void 0!==r&&(A.cursor=r),void 0!==i&&(A.order_by=i),void 0!==a&&(A.direction=a),void 0!==s&&(A.user=s),void 0!==o&&(A.receiver=o),void 0!==c&&(A.status=c),void 0!==u&&(A.min_timestamp=u),void 0!==d&&(A.max_timestamp=d),void 0!==f&&(A.token_type=f),void 0!==l&&(A.token_id=l),void 0!==h&&(A.asset_id=h),void 0!==p&&(A.token_address=p),void 0!==m&&(A.token_name=m),void 0!==b&&(A.min_quantity=b),void 0!==y&&(A.max_quantity=y),void 0!==g&&(A.metadata=g),VC(w,A),R=_&&_.headers?_.headers:{},E.headers=ZM(ZM(ZM({},T),R),v.headers),t.abrupt("return",{url:XC(w),options:E});case 28:case"end":return t.stop()}}),t)}))),function(e,n,r,i,a,s,o,c,u,d,f,l,h,p,m,b,y){return t.apply(this,arguments)})};var t,n,r,i,a,s}(e);return{createTransfer:function(n,r,i,a,s){return oC(lC.mark((function o(){var c;return lC.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,t.createTransfer(n,r,i,a,s);case 2:return c=o.sent,o.abrupt("return",$C(c,Lx,FC,e));case 4:case"end":return o.stop()}}),o)})))()},createTransferV1:function(n,r,i,a,s){return oC(lC.mark((function o(){var c;return lC.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,t.createTransferV1(n,r,i,a,s);case 2:return c=o.sent,o.abrupt("return",$C(c,Lx,FC,e));case 4:case"end":return o.stop()}}),o)})))()},getSignableTransfer:function(n,r){return oC(lC.mark((function i(){var a;return lC.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,t.getSignableTransfer(n,r);case 2:return a=i.sent,i.abrupt("return",$C(a,Lx,FC,e));case 4:case"end":return i.stop()}}),i)})))()},getSignableTransferV1:function(n,r){return oC(lC.mark((function i(){var a;return lC.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,t.getSignableTransferV1(n,r);case 2:return a=i.sent,i.abrupt("return",$C(a,Lx,FC,e));case 4:case"end":return i.stop()}}),i)})))()},getTransfer:function(n,r){return oC(lC.mark((function i(){var a;return lC.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,t.getTransfer(n,r);case 2:return a=i.sent,i.abrupt("return",$C(a,Lx,FC,e));case 4:case"end":return i.stop()}}),i)})))()},listTransfers:function(n,r,i,a,s,o,c,u,d,f,l,h,p,m,b,y,g,v){return oC(lC.mark((function w(){var _;return lC.wrap((function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,t.listTransfers(n,r,i,a,s,o,c,u,d,f,l,h,p,m,b,y,g,v);case 2:return _=w.sent,w.abrupt("return",$C(_,Lx,FC,e));case 4:case"end":return w.stop()}}),w)})))()}}},tP=function(e){Qx(n,UC);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$x(e);if(t){var i=$x(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return tC(this,n)}}(n);function n(){return Fx(this,n),t.apply(this,arguments)}return jx(n,[{key:"createTransfer",value:function(e,t){var n=this;return eP(this.configuration).createTransfer(e.createTransferRequestV2,e.xImxEthAddress,e.xImxEthSignature,e.authorization,t).then((function(e){return e(n.axios,n.basePath)}))}},{key:"createTransferV1",value:function(e,t){var n=this;return eP(this.configuration).createTransferV1(e.createTransferRequest,e.xImxEthAddress,e.xImxEthSignature,e.authorization,t).then((function(e){return e(n.axios,n.basePath)}))}},{key:"getSignableTransfer",value:function(e,t){var n=this;return eP(this.configuration).getSignableTransfer(e.getSignableTransferRequestV2,t).then((function(e){return e(n.axios,n.basePath)}))}},{key:"getSignableTransferV1",value:function(e,t){var n=this;return eP(this.configuration).getSignableTransferV1(e.getSignableTransferRequest,t).then((function(e){return e(n.axios,n.basePath)}))}},{key:"getTransfer",value:function(e,t){var n=this;return eP(this.configuration).getTransfer(e.id,t).then((function(e){return e(n.axios,n.basePath)}))}},{key:"listTransfers",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return eP(this.configuration).listTransfers(t.pageSize,t.cursor,t.orderBy,t.direction,t.user,t.receiver,t.status,t.minTimestamp,t.maxTimestamp,t.tokenType,t.tokenId,t.assetId,t.tokenAddress,t.tokenName,t.minQuantity,t.maxQuantity,t.metadata,n).then((function(t){return t(e.axios,e.basePath)}))}}]),n}();function nP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nP(Object(n),!0).forEach((function(t){qx(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var iP=function(e){var t=function(e){return{getSignableRegistration:(a=oC(lC.mark((function t(n){var r,i,a,s,o,c,u,d=arguments;return lC.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:{},GC("getSignableRegistration","getSignableRegistrationRequest",n),i=new URL("/v1/signable-registration",HC),e&&(a=e.baseOptions),s=rP(rP({method:"POST"},a),r),c={},(o={})["Content-Type"]="application/json",VC(i,c),u=a&&a.headers?a.headers:{},s.headers=rP(rP(rP({},o),u),r.headers),s.data=KC(n,s,e),t.abrupt("return",{url:XC(i),options:s});case 14:case"end":return t.stop()}}),t)}))),function(e){return a.apply(this,arguments)}),getSignableRegistrationOffchain:(i=oC(lC.mark((function t(n){var r,i,a,s,o,c,u,d=arguments;return lC.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:{},GC("getSignableRegistrationOffchain","getSignableRegistrationRequest",n),i=new URL("/v1/signable-registration-offchain",HC),e&&(a=e.baseOptions),s=rP(rP({method:"POST"},a),r),c={},(o={})["Content-Type"]="application/json",VC(i,c),u=a&&a.headers?a.headers:{},s.headers=rP(rP(rP({},o),u),r.headers),s.data=KC(n,s,e),t.abrupt("return",{url:XC(i),options:s});case 14:case"end":return t.stop()}}),t)}))),function(e){return i.apply(this,arguments)}),getUsers:(r=oC(lC.mark((function t(n){var r,i,a,s,o,c,u,d=arguments;return lC.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:{},GC("getUsers","user",n),i="/v1/users/{user}".replace("{".concat("user","}"),encodeURIComponent(String(n))),a=new URL(i,HC),e&&(s=e.baseOptions),o=rP(rP({method:"GET"},s),r),c={},VC(a,{}),u=s&&s.headers?s.headers:{},o.headers=rP(rP(rP({},c),u),r.headers),t.abrupt("return",{url:XC(a),options:o});case 12:case"end":return t.stop()}}),t)}))),function(e){return r.apply(this,arguments)}),registerPassportUser:(n=oC(lC.mark((function t(n,r){var i,a,s,o,c,u,d,f=arguments;return lC.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=f.length>2&&void 0!==f[2]?f[2]:{},GC("registerPassportUser","authorization",n),GC("registerPassportUser","registerPassportUserRequest",r),a=new URL("/v1/passport/users",HC),e&&(s=e.baseOptions),o=rP(rP({method:"POST"},s),i),c={},u={},null!=n&&(c.Authorization=String(n)),c["Content-Type"]="application/json",VC(a,u),d=s&&s.headers?s.headers:{},o.headers=rP(rP(rP({},c),d),i.headers),o.data=KC(r,o,e),t.abrupt("return",{url:XC(a),options:o});case 16:case"end":return t.stop()}}),t)}))),function(e,t){return n.apply(this,arguments)}),registerUser:(t=oC(lC.mark((function t(n){var r,i,a,s,o,c,u,d=arguments;return lC.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:{},GC("registerUser","registerUserRequest",n),i=new URL("/v1/users",HC),e&&(a=e.baseOptions),s=rP(rP({method:"POST"},a),r),c={},(o={})["Content-Type"]="application/json",VC(i,c),u=a&&a.headers?a.headers:{},s.headers=rP(rP(rP({},o),u),r.headers),s.data=KC(n,s,e),t.abrupt("return",{url:XC(i),options:s});case 14:case"end":return t.stop()}}),t)}))),function(e){return t.apply(this,arguments)})};var t,n,r,i,a}(e);return{getSignableRegistration:function(n,r){return oC(lC.mark((function i(){var a;return lC.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,t.getSignableRegistration(n,r);case 2:return a=i.sent,i.abrupt("return",$C(a,Lx,FC,e));case 4:case"end":return i.stop()}}),i)})))()},getSignableRegistrationOffchain:function(n,r){return oC(lC.mark((function i(){var a;return lC.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,t.getSignableRegistrationOffchain(n,r);case 2:return a=i.sent,i.abrupt("return",$C(a,Lx,FC,e));case 4:case"end":return i.stop()}}),i)})))()},getUsers:function(n,r){return oC(lC.mark((function i(){var a;return lC.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,t.getUsers(n,r);case 2:return a=i.sent,i.abrupt("return",$C(a,Lx,FC,e));case 4:case"end":return i.stop()}}),i)})))()},registerPassportUser:function(n,r,i){return oC(lC.mark((function a(){var s;return lC.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.registerPassportUser(n,r,i);case 2:return s=a.sent,a.abrupt("return",$C(s,Lx,FC,e));case 4:case"end":return a.stop()}}),a)})))()},registerUser:function(n,r){return oC(lC.mark((function i(){var a;return lC.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,t.registerUser(n,r);case 2:return a=i.sent,i.abrupt("return",$C(a,Lx,FC,e));case 4:case"end":return i.stop()}}),i)})))()}}},aP=function(e){Qx(n,UC);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$x(e);if(t){var i=$x(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return tC(this,n)}}(n);function n(){return Fx(this,n),t.apply(this,arguments)}return jx(n,[{key:"getSignableRegistration",value:function(e,t){var n=this;return iP(this.configuration).getSignableRegistration(e.getSignableRegistrationRequest,t).then((function(e){return e(n.axios,n.basePath)}))}},{key:"getSignableRegistrationOffchain",value:function(e,t){var n=this;return iP(this.configuration).getSignableRegistrationOffchain(e.getSignableRegistrationRequest,t).then((function(e){return e(n.axios,n.basePath)}))}},{key:"getUsers",value:function(e,t){var n=this;return iP(this.configuration).getUsers(e.user,t).then((function(e){return e(n.axios,n.basePath)}))}},{key:"registerPassportUser",value:function(e,t){var n=this;return iP(this.configuration).registerPassportUser(e.authorization,e.registerPassportUserRequest,t).then((function(e){return e(n.axios,n.basePath)}))}},{key:"registerUser",value:function(e,t){var n=this;return iP(this.configuration).registerUser(e.registerUserRequest,t).then((function(e){return e(n.axios,n.basePath)}))}}]),n}();function sP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sP(Object(n),!0).forEach((function(t){qx(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var cP=function(e){var t=function(e){return{createWithdrawal:(i=oC(lC.mark((function t(n,r,i){var a,s,o,c,u,d,f,l=arguments;return lC.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=l.length>3&&void 0!==l[3]?l[3]:{},GC("createWithdrawal","xImxEthAddress",n),GC("createWithdrawal","xImxEthSignature",r),GC("createWithdrawal","createWithdrawalRequest",i),s=new URL("/v1/withdrawals",HC),e&&(o=e.baseOptions),c=oP(oP({method:"POST"},o),a),u={},d={},null!=n&&(u["x-imx-eth-address"]=String(n)),null!=r&&(u["x-imx-eth-signature"]=String(r)),u["Content-Type"]="application/json",VC(s,d),f=o&&o.headers?o.headers:{},c.headers=oP(oP(oP({},u),f),a.headers),c.data=KC(i,c,e),t.abrupt("return",{url:XC(s),options:c});case 18:case"end":return t.stop()}}),t)}))),function(e,t,n){return i.apply(this,arguments)}),getSignableWithdrawal:(r=oC(lC.mark((function t(n){var r,i,a,s,o,c,u,d=arguments;return lC.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:{},GC("getSignableWithdrawal","getSignableWithdrawalRequest",n),i=new URL("/v1/signable-withdrawal-details",HC),e&&(a=e.baseOptions),s=oP(oP({method:"POST"},a),r),c={},(o={})["Content-Type"]="application/json",VC(i,c),u=a&&a.headers?a.headers:{},s.headers=oP(oP(oP({},o),u),r.headers),s.data=KC(n,s,e),t.abrupt("return",{url:XC(i),options:s});case 14:case"end":return t.stop()}}),t)}))),function(e){return r.apply(this,arguments)}),getWithdrawal:(n=oC(lC.mark((function t(n){var r,i,a,s,o,c,u,d=arguments;return lC.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:{},GC("getWithdrawal","id",n),i="/v1/withdrawals/{id}".replace("{".concat("id","}"),encodeURIComponent(String(n))),a=new URL(i,HC),e&&(s=e.baseOptions),o=oP(oP({method:"GET"},s),r),c={},VC(a,{}),u=s&&s.headers?s.headers:{},o.headers=oP(oP(oP({},c),u),r.headers),t.abrupt("return",{url:XC(a),options:o});case 12:case"end":return t.stop()}}),t)}))),function(e){return n.apply(this,arguments)}),listWithdrawals:(t=oC(lC.mark((function t(n,r,i,a,s,o,c,u,d,f,l,h,p,m,b,y,g,v){var w,_,E,T,A,R,S,k=arguments;return lC.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return w=k.length>18&&void 0!==k[18]?k[18]:{},_=new URL("/v1/withdrawals",HC),e&&(E=e.baseOptions),T=oP(oP({method:"GET"},E),w),A={},R={},void 0!==n&&(R.withdrawn_to_wallet=n),void 0!==r&&(R.rollup_status=r),void 0!==i&&(R.page_size=i),void 0!==a&&(R.cursor=a),void 0!==s&&(R.order_by=s),void 0!==o&&(R.direction=o),void 0!==c&&(R.user=c),void 0!==u&&(R.status=u),void 0!==d&&(R.min_timestamp=d),void 0!==f&&(R.max_timestamp=f),void 0!==l&&(R.token_type=l),void 0!==h&&(R.token_id=h),void 0!==p&&(R.asset_id=p),void 0!==m&&(R.token_address=m),void 0!==b&&(R.token_name=b),void 0!==y&&(R.min_quantity=y),void 0!==g&&(R.max_quantity=g),void 0!==v&&(R.metadata=v),VC(_,R),S=E&&E.headers?E.headers:{},T.headers=oP(oP(oP({},A),S),w.headers),t.abrupt("return",{url:XC(_),options:T});case 29:case"end":return t.stop()}}),t)}))),function(e,n,r,i,a,s,o,c,u,d,f,l,h,p,m,b,y,g){return t.apply(this,arguments)})};var t,n,r,i}(e);return{createWithdrawal:function(n,r,i,a){return oC(lC.mark((function s(){var o;return lC.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,t.createWithdrawal(n,r,i,a);case 2:return o=s.sent,s.abrupt("return",$C(o,Lx,FC,e));case 4:case"end":return s.stop()}}),s)})))()},getSignableWithdrawal:function(n,r){return oC(lC.mark((function i(){var a;return lC.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,t.getSignableWithdrawal(n,r);case 2:return a=i.sent,i.abrupt("return",$C(a,Lx,FC,e));case 4:case"end":return i.stop()}}),i)})))()},getWithdrawal:function(n,r){return oC(lC.mark((function i(){var a;return lC.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,t.getWithdrawal(n,r);case 2:return a=i.sent,i.abrupt("return",$C(a,Lx,FC,e));case 4:case"end":return i.stop()}}),i)})))()},listWithdrawals:function(n,r,i,a,s,o,c,u,d,f,l,h,p,m,b,y,g,v,w){return oC(lC.mark((function _(){var E;return lC.wrap((function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,t.listWithdrawals(n,r,i,a,s,o,c,u,d,f,l,h,p,m,b,y,g,v,w);case 2:return E=_.sent,_.abrupt("return",$C(E,Lx,FC,e));case 4:case"end":return _.stop()}}),_)})))()}}},uP=function(e){Qx(n,UC);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$x(e);if(t){var i=$x(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return tC(this,n)}}(n);function n(){return Fx(this,n),t.apply(this,arguments)}return jx(n,[{key:"createWithdrawal",value:function(e,t){var n=this;return cP(this.configuration).createWithdrawal(e.xImxEthAddress,e.xImxEthSignature,e.createWithdrawalRequest,t).then((function(e){return e(n.axios,n.basePath)}))}},{key:"getSignableWithdrawal",value:function(e,t){var n=this;return cP(this.configuration).getSignableWithdrawal(e.getSignableWithdrawalRequest,t).then((function(e){return e(n.axios,n.basePath)}))}},{key:"getWithdrawal",value:function(e,t){var n=this;return cP(this.configuration).getWithdrawal(e.id,t).then((function(e){return e(n.axios,n.basePath)}))}},{key:"listWithdrawals",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return cP(this.configuration).listWithdrawals(t.withdrawnToWallet,t.rollupStatus,t.pageSize,t.cursor,t.orderBy,t.direction,t.user,t.status,t.minTimestamp,t.maxTimestamp,t.tokenType,t.tokenId,t.assetId,t.tokenAddress,t.tokenName,t.minQuantity,t.maxQuantity,t.metadata,n).then((function(t){return t(e.axios,e.basePath)}))}}]),n}(),dP=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Fx(this,e),this.apiKey=t.apiKey,this.username=t.username,this.password=t.password,this.accessToken=t.accessToken,this.basePath=t.basePath,this.baseOptions=t.baseOptions,this.formDataCtor=t.formDataCtor}return jx(e,[{key:"isJsonMime",value:function(e){var t=new RegExp("^(application/json|[^;/ \t]+/[^;/ \t]+[+]json)[ \t]*(;.*)?$","i");return null!==e&&(t.test(e)||"application/json-patch+json"===e.toLowerCase())}}]),e}();function fP(e){return lP.apply(this,arguments)}function lP(){return(lP=oC(lC.mark((function e(t){var n,r,i,a,s,o,c,u,d,f,l,h;return lC.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.ethSigner,r=t.starkSigner,i=t.usersApi,e.next=3,n.getAddress();case 3:return a=e.sent,e.next=6,r.getAddress();case 6:return s=e.sent,e.next=9,i.getSignableRegistrationOffchain({getSignableRegistrationRequest:{ether_key:a,stark_key:s}});case 9:return o=e.sent,c=o.data,u=c.signable_message,d=c.payload_hash,e.next=13,bC(u,n);case 13:return f=e.sent,e.next=16,r.signMessage(d);case 16:return l=e.sent,e.next=19,i.registerUser({registerUserRequest:{eth_signature:f,ether_key:a,stark_signature:l,stark_key:s}});case 19:return h=e.sent,e.abrupt("return",h.data);case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hP(e,t){return pP.apply(this,arguments)}function pP(){return(pP=oC(lC.mark((function e(t,n){return lC.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.isRegistered(t);case 3:return e.abrupt("return",e.sent);case 6:if(e.prev=6,e.t0=e.catch(0),"USER_UNREGISTERED"!==e.t0.reason){e.next=10;break}return e.abrupt("return",!1);case 10:throw e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function mP(e,t,n){return bP.apply(this,arguments)}function bP(){return(bP=oC(lC.mark((function e(t,n,r){var i;return lC.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.getSignableRegistration({getSignableRegistrationRequest:{ether_key:t,stark_key:n}});case 2:return i=e.sent,e.abrupt("return",{operator_signature:i.data.operator_signature,payload_hash:i.data.payload_hash,readable_transaction:i.data.readable_transaction,verification_signature:i.data.verification_signature});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var yP,gP={exports:{}};
/**
   * [js-sha3]{@link https://github.com/emn178/js-sha3}
   *
   * @version 0.8.0
   * @author Chen, Yi-Cyuan [emn178@gmail.com]
   * @copyright Chen, Yi-Cyuan 2015-2018
   * @license MIT
   */yP=gP,function(){var e="input is invalid type",t="object"==typeof window,n=t?window:{};n.JS_SHA3_NO_WINDOW&&(t=!1);var r=!t&&"object"==typeof self;!n.JS_SHA3_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node?n=cC:r&&(n=self);var i=!n.JS_SHA3_NO_COMMON_JS&&yP.exports,a=!n.JS_SHA3_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,s="0123456789abcdef".split(""),o=[4,1024,262144,67108864],c=[0,8,16,24],u=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],d=[224,256,384,512],f=[128,256],l=["hex","buffer","arrayBuffer","array","digest"],h={128:168,256:136};!n.JS_SHA3_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!a||!n.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"==typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});for(var p=function(e,t,n){return function(r){return new I(e,t,e).update(r)[n]()}},m=function(e,t,n){return function(r,i){return new I(e,t,i).update(r)[n]()}},b=function(e,t,n){return function(t,r,i,a){return _["cshake"+e].update(t,r,i,a)[n]()}},y=function(e,t,n){return function(t,r,i,a){return _["kmac"+e].update(t,r,i,a)[n]()}},g=function(e,t,n,r){for(var i=0;i<l.length;++i){var a=l[i];e[a]=t(n,r,a)}return e},v=function(e,t){var n=p(e,t,"hex");return n.create=function(){return new I(e,t,e)},n.update=function(e){return n.create().update(e)},g(n,p,e,t)},w=[{name:"keccak",padding:[1,256,65536,16777216],bits:d,createMethod:v},{name:"sha3",padding:[6,1536,393216,100663296],bits:d,createMethod:v},{name:"shake",padding:[31,7936,2031616,520093696],bits:f,createMethod:function(e,t){var n=m(e,t,"hex");return n.create=function(n){return new I(e,t,n)},n.update=function(e,t){return n.create(t).update(e)},g(n,m,e,t)}},{name:"cshake",padding:o,bits:f,createMethod:function(e,t){var n=h[e],r=b(e,0,"hex");return r.create=function(r,i,a){return i||a?new I(e,t,r).bytepad([i,a],n):_["shake"+e].create(r)},r.update=function(e,t,n,i){return r.create(t,n,i).update(e)},g(r,b,e,t)}},{name:"kmac",padding:o,bits:f,createMethod:function(e,t){var n=h[e],r=y(e,0,"hex");return r.create=function(r,i,a){return new x(e,t,i).bytepad(["KMAC",a],n).bytepad([r],n)},r.update=function(e,t,n,i){return r.create(e,n,i).update(t)},g(r,y,e,t)}}],_={},E=[],T=0;T<w.length;++T)for(var A=w[T],R=A.bits,S=0;S<R.length;++S){var k=A.name+"_"+R[S];if(E.push(k),_[k]=A.createMethod(R[S],A.padding),"sha3"!==A.name){var O=A.name+R[S];E.push(O),_[O]=_[k]}}function I(e,t,n){this.blocks=[],this.s=[],this.padding=t,this.outputBits=n,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(e<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=n>>5,this.extraBytes=(31&n)>>3;for(var r=0;r<50;++r)this.s[r]=0}function x(e,t,n){I.call(this,e,t,n)}I.prototype.update=function(t){if(this.finalized)throw new Error("finalize already called");var n,r=typeof t;if("string"!==r){if("object"!==r)throw new Error(e);if(null===t)throw new Error(e);if(a&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||a&&ArrayBuffer.isView(t)))throw new Error(e);n=!0}for(var i,s,o=this.blocks,u=this.byteCount,d=t.length,f=this.blockCount,l=0,h=this.s;l<d;){if(this.reset)for(this.reset=!1,o[0]=this.block,i=1;i<f+1;++i)o[i]=0;if(n)for(i=this.start;l<d&&i<u;++l)o[i>>2]|=t[l]<<c[3&i++];else for(i=this.start;l<d&&i<u;++l)(s=t.charCodeAt(l))<128?o[i>>2]|=s<<c[3&i++]:s<2048?(o[i>>2]|=(192|s>>6)<<c[3&i++],o[i>>2]|=(128|63&s)<<c[3&i++]):s<55296||s>=57344?(o[i>>2]|=(224|s>>12)<<c[3&i++],o[i>>2]|=(128|s>>6&63)<<c[3&i++],o[i>>2]|=(128|63&s)<<c[3&i++]):(s=65536+((1023&s)<<10|1023&t.charCodeAt(++l)),o[i>>2]|=(240|s>>18)<<c[3&i++],o[i>>2]|=(128|s>>12&63)<<c[3&i++],o[i>>2]|=(128|s>>6&63)<<c[3&i++],o[i>>2]|=(128|63&s)<<c[3&i++]);if(this.lastByteIndex=i,i>=u){for(this.start=i-u,this.block=o[f],i=0;i<f;++i)h[i]^=o[i];C(h),this.reset=!0}else this.start=i}return this},I.prototype.encode=function(e,t){var n=255&e,r=1,i=[n];for(n=255&(e>>=8);n>0;)i.unshift(n),n=255&(e>>=8),++r;return t?i.push(r):i.unshift(r),this.update(i),i.length},I.prototype.encodeString=function(t){var n,r=typeof t;if("string"!==r){if("object"!==r)throw new Error(e);if(null===t)throw new Error(e);if(a&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||a&&ArrayBuffer.isView(t)))throw new Error(e);n=!0}var i=0,s=t.length;if(n)i=s;else for(var o=0;o<t.length;++o){var c=t.charCodeAt(o);c<128?i+=1:c<2048?i+=2:c<55296||c>=57344?i+=3:(c=65536+((1023&c)<<10|1023&t.charCodeAt(++o)),i+=4)}return i+=this.encode(8*i),this.update(t),i},I.prototype.bytepad=function(e,t){for(var n=this.encode(t),r=0;r<e.length;++r)n+=this.encodeString(e[r]);var i=t-n%t,a=[];return a.length=i,this.update(a),this},I.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex,n=this.blockCount,r=this.s;if(e[t>>2]|=this.padding[3&t],this.lastByteIndex===this.byteCount)for(e[0]=e[n],t=1;t<n+1;++t)e[t]=0;for(e[n-1]|=2147483648,t=0;t<n;++t)r[t]^=e[t];C(r)}},I.prototype.toString=I.prototype.hex=function(){this.finalize();for(var e,t=this.blockCount,n=this.s,r=this.outputBlocks,i=this.extraBytes,a=0,o=0,c="";o<r;){for(a=0;a<t&&o<r;++a,++o)e=n[a],c+=s[e>>4&15]+s[15&e]+s[e>>12&15]+s[e>>8&15]+s[e>>20&15]+s[e>>16&15]+s[e>>28&15]+s[e>>24&15];o%t==0&&(C(n),a=0)}return i&&(e=n[a],c+=s[e>>4&15]+s[15&e],i>1&&(c+=s[e>>12&15]+s[e>>8&15]),i>2&&(c+=s[e>>20&15]+s[e>>16&15])),c},I.prototype.arrayBuffer=function(){this.finalize();var e,t=this.blockCount,n=this.s,r=this.outputBlocks,i=this.extraBytes,a=0,s=0,o=this.outputBits>>3;e=i?new ArrayBuffer(r+1<<2):new ArrayBuffer(o);for(var c=new Uint32Array(e);s<r;){for(a=0;a<t&&s<r;++a,++s)c[s]=n[a];s%t==0&&C(n)}return i&&(c[a]=n[a],e=e.slice(0,o)),e},I.prototype.buffer=I.prototype.arrayBuffer,I.prototype.digest=I.prototype.array=function(){this.finalize();for(var e,t,n=this.blockCount,r=this.s,i=this.outputBlocks,a=this.extraBytes,s=0,o=0,c=[];o<i;){for(s=0;s<n&&o<i;++s,++o)e=o<<2,t=r[s],c[e]=255&t,c[e+1]=t>>8&255,c[e+2]=t>>16&255,c[e+3]=t>>24&255;o%n==0&&C(r)}return a&&(e=o<<2,t=r[s],c[e]=255&t,a>1&&(c[e+1]=t>>8&255),a>2&&(c[e+2]=t>>16&255)),c},x.prototype=new I,x.prototype.finalize=function(){return this.encode(this.outputBits,!0),I.prototype.finalize.call(this)};var C=function(e){var t,n,r,i,a,s,o,c,d,f,l,h,p,m,b,y,g,v,w,_,E,T,A,R,S,k,O,I,x,C,M,P,N,B,D,L,F,U,j,q,z,H,G,W,V,K,X,$,J,Y,Q,Z,ee,te,ne,re,ie,ae,se,oe,ce,ue,de;for(r=0;r<48;r+=2)i=e[0]^e[10]^e[20]^e[30]^e[40],a=e[1]^e[11]^e[21]^e[31]^e[41],s=e[2]^e[12]^e[22]^e[32]^e[42],o=e[3]^e[13]^e[23]^e[33]^e[43],c=e[4]^e[14]^e[24]^e[34]^e[44],d=e[5]^e[15]^e[25]^e[35]^e[45],f=e[6]^e[16]^e[26]^e[36]^e[46],l=e[7]^e[17]^e[27]^e[37]^e[47],t=(h=e[8]^e[18]^e[28]^e[38]^e[48])^(s<<1|o>>>31),n=(p=e[9]^e[19]^e[29]^e[39]^e[49])^(o<<1|s>>>31),e[0]^=t,e[1]^=n,e[10]^=t,e[11]^=n,e[20]^=t,e[21]^=n,e[30]^=t,e[31]^=n,e[40]^=t,e[41]^=n,t=i^(c<<1|d>>>31),n=a^(d<<1|c>>>31),e[2]^=t,e[3]^=n,e[12]^=t,e[13]^=n,e[22]^=t,e[23]^=n,e[32]^=t,e[33]^=n,e[42]^=t,e[43]^=n,t=s^(f<<1|l>>>31),n=o^(l<<1|f>>>31),e[4]^=t,e[5]^=n,e[14]^=t,e[15]^=n,e[24]^=t,e[25]^=n,e[34]^=t,e[35]^=n,e[44]^=t,e[45]^=n,t=c^(h<<1|p>>>31),n=d^(p<<1|h>>>31),e[6]^=t,e[7]^=n,e[16]^=t,e[17]^=n,e[26]^=t,e[27]^=n,e[36]^=t,e[37]^=n,e[46]^=t,e[47]^=n,t=f^(i<<1|a>>>31),n=l^(a<<1|i>>>31),e[8]^=t,e[9]^=n,e[18]^=t,e[19]^=n,e[28]^=t,e[29]^=n,e[38]^=t,e[39]^=n,e[48]^=t,e[49]^=n,m=e[0],b=e[1],K=e[11]<<4|e[10]>>>28,X=e[10]<<4|e[11]>>>28,I=e[20]<<3|e[21]>>>29,x=e[21]<<3|e[20]>>>29,oe=e[31]<<9|e[30]>>>23,ce=e[30]<<9|e[31]>>>23,H=e[40]<<18|e[41]>>>14,G=e[41]<<18|e[40]>>>14,B=e[2]<<1|e[3]>>>31,D=e[3]<<1|e[2]>>>31,y=e[13]<<12|e[12]>>>20,g=e[12]<<12|e[13]>>>20,$=e[22]<<10|e[23]>>>22,J=e[23]<<10|e[22]>>>22,C=e[33]<<13|e[32]>>>19,M=e[32]<<13|e[33]>>>19,ue=e[42]<<2|e[43]>>>30,de=e[43]<<2|e[42]>>>30,te=e[5]<<30|e[4]>>>2,ne=e[4]<<30|e[5]>>>2,L=e[14]<<6|e[15]>>>26,F=e[15]<<6|e[14]>>>26,v=e[25]<<11|e[24]>>>21,w=e[24]<<11|e[25]>>>21,Y=e[34]<<15|e[35]>>>17,Q=e[35]<<15|e[34]>>>17,P=e[45]<<29|e[44]>>>3,N=e[44]<<29|e[45]>>>3,R=e[6]<<28|e[7]>>>4,S=e[7]<<28|e[6]>>>4,re=e[17]<<23|e[16]>>>9,ie=e[16]<<23|e[17]>>>9,U=e[26]<<25|e[27]>>>7,j=e[27]<<25|e[26]>>>7,_=e[36]<<21|e[37]>>>11,E=e[37]<<21|e[36]>>>11,Z=e[47]<<24|e[46]>>>8,ee=e[46]<<24|e[47]>>>8,W=e[8]<<27|e[9]>>>5,V=e[9]<<27|e[8]>>>5,k=e[18]<<20|e[19]>>>12,O=e[19]<<20|e[18]>>>12,ae=e[29]<<7|e[28]>>>25,se=e[28]<<7|e[29]>>>25,q=e[38]<<8|e[39]>>>24,z=e[39]<<8|e[38]>>>24,T=e[48]<<14|e[49]>>>18,A=e[49]<<14|e[48]>>>18,e[0]=m^~y&v,e[1]=b^~g&w,e[10]=R^~k&I,e[11]=S^~O&x,e[20]=B^~L&U,e[21]=D^~F&j,e[30]=W^~K&$,e[31]=V^~X&J,e[40]=te^~re&ae,e[41]=ne^~ie&se,e[2]=y^~v&_,e[3]=g^~w&E,e[12]=k^~I&C,e[13]=O^~x&M,e[22]=L^~U&q,e[23]=F^~j&z,e[32]=K^~$&Y,e[33]=X^~J&Q,e[42]=re^~ae&oe,e[43]=ie^~se&ce,e[4]=v^~_&T,e[5]=w^~E&A,e[14]=I^~C&P,e[15]=x^~M&N,e[24]=U^~q&H,e[25]=j^~z&G,e[34]=$^~Y&Z,e[35]=J^~Q&ee,e[44]=ae^~oe&ue,e[45]=se^~ce&de,e[6]=_^~T&m,e[7]=E^~A&b,e[16]=C^~P&R,e[17]=M^~N&S,e[26]=q^~H&B,e[27]=z^~G&D,e[36]=Y^~Z&W,e[37]=Q^~ee&V,e[46]=oe^~ue&te,e[47]=ce^~de&ne,e[8]=T^~m&y,e[9]=A^~b&g,e[18]=P^~R&k,e[19]=N^~S&O,e[28]=H^~B&L,e[29]=G^~D&F,e[38]=Z^~W&K,e[39]=ee^~V&X,e[48]=ue^~te&re,e[49]=de^~ne&ie,e[0]^=u[r],e[1]^=u[r+1]};if(i)yP.exports=_;else for(T=0;T<E.length;++T)n[E[T]]=_[E[T]]}();var vP=gP.exports;function wP(e){return"0x"+vP.keccak_256(Oi(e))}let _P=!1,EP=!1;const TP={debug:1,default:2,info:2,warning:3,error:4,off:5};let AP=TP.default,RP=null;const SP=function(){try{const e=[];if(["NFD","NFC","NFKD","NFKC"].forEach((t=>{try{if("test"!=="test".normalize(t))throw new Error("bad normalize")}catch(n){e.push(t)}})),e.length)throw new Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(e){return e.message}return null}();var kP,OP;!function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"}(kP||(kP={})),function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED",e.ACTION_REJECTED="ACTION_REJECTED"}(OP||(OP={}));const IP="0123456789abcdef";let xP=class e{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){const n=e.toLowerCase();null==TP[n]&&this.throwArgumentError("invalid log level name","logLevel",e),AP>TP[n]||console.log.apply(console,t)}debug(...t){this._log(e.levels.DEBUG,t)}info(...t){this._log(e.levels.INFO,t)}warn(...t){this._log(e.levels.WARNING,t)}makeError(t,n,r){if(EP)return this.makeError("censored error",n,{});n||(n=e.errors.UNKNOWN_ERROR),r||(r={});const i=[];Object.keys(r).forEach((e=>{const t=r[e];try{if(t instanceof Uint8Array){let n="";for(let e=0;e<t.length;e++)n+=IP[t[e]>>4],n+=IP[15&t[e]];i.push(e+"=Uint8Array(0x"+n+")")}else i.push(e+"="+JSON.stringify(t))}catch(t){i.push(e+"="+JSON.stringify(r[e].toString()))}})),i.push(`code=${n}`),i.push(`version=${this.version}`);const a=t;let s="";switch(n){case OP.NUMERIC_FAULT:{s="NUMERIC_FAULT";const e=t;switch(e){case"overflow":case"underflow":case"division-by-zero":s+="-"+e;break;case"negative-power":case"negative-width":s+="-unsupported";break;case"unbound-bitwise-result":s+="-unbound-result"}break}case OP.CALL_EXCEPTION:case OP.INSUFFICIENT_FUNDS:case OP.MISSING_NEW:case OP.NONCE_EXPIRED:case OP.REPLACEMENT_UNDERPRICED:case OP.TRANSACTION_REPLACED:case OP.UNPREDICTABLE_GAS_LIMIT:s=n}s&&(t+=" [ See: https://links.ethers.org/v5-errors-"+s+" ]"),i.length&&(t+=" ("+i.join(", ")+")");const o=new Error(t);return o.reason=a,o.code=n,Object.keys(r).forEach((function(e){o[e]=r[e]})),o}throwError(e,t,n){throw this.makeError(e,t,n)}throwArgumentError(t,n,r){return this.throwError(t,e.errors.INVALID_ARGUMENT,{argument:n,value:r})}assert(e,t,n,r){e||this.throwError(t,n,r)}assertArgument(e,t,n,r){e||this.throwArgumentError(t,n,r)}checkNormalize(t){SP&&this.throwError("platform missing String.prototype.normalize",e.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:SP})}checkSafeUint53(t,n){"number"==typeof t&&(null==n&&(n="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(n,e.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(n,e.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,n,r){r=r?": "+r:"",t<n&&this.throwError("missing argument"+r,e.errors.MISSING_ARGUMENT,{count:t,expectedCount:n}),t>n&&this.throwError("too many arguments"+r,e.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:n})}checkNew(t,n){t!==Object&&null!=t||this.throwError("missing new",e.errors.MISSING_NEW,{name:n.name})}checkAbstract(t,n){t===n?this.throwError("cannot instantiate abstract class "+JSON.stringify(n.name)+" directly; use a sub-class",e.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):t!==Object&&null!=t||this.throwError("missing new",e.errors.MISSING_NEW,{name:n.name})}static globalLogger(){return RP||(RP=new e("logger/5.7.0")),RP}static setCensorship(t,n){if(!t&&n&&this.globalLogger().throwError("cannot permanently disable censorship",e.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),_P){if(!t)return;this.globalLogger().throwError("error censorship permanent",e.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}EP=!!t,_P=!!n}static setLogLevel(t){const n=TP[t.toLowerCase()];null!=n?AP=n:e.globalLogger().warn("invalid log level - "+t)}static from(t){return new e(t)}};xP.errors=OP,xP.levels=kP;var CP=di.BN;const MP=new xP("bignumber/5.7.0"),PP={};let NP=!1;class BP{constructor(e,t){e!==PP&&MP.throwError("cannot call constructor directly; use BigNumber.from",xP.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=t,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return LP(FP(this).fromTwos(e))}toTwos(e){return LP(FP(this).toTwos(e))}abs(){return"-"===this._hex[0]?BP.from(this._hex.substring(1)):this}add(e){return LP(FP(this).add(FP(e)))}sub(e){return LP(FP(this).sub(FP(e)))}div(e){return BP.from(e).isZero()&&UP("division-by-zero","div"),LP(FP(this).div(FP(e)))}mul(e){return LP(FP(this).mul(FP(e)))}mod(e){const t=FP(e);return t.isNeg()&&UP("division-by-zero","mod"),LP(FP(this).umod(t))}pow(e){const t=FP(e);return t.isNeg()&&UP("negative-power","pow"),LP(FP(this).pow(t))}and(e){const t=FP(e);return(this.isNegative()||t.isNeg())&&UP("unbound-bitwise-result","and"),LP(FP(this).and(t))}or(e){const t=FP(e);return(this.isNegative()||t.isNeg())&&UP("unbound-bitwise-result","or"),LP(FP(this).or(t))}xor(e){const t=FP(e);return(this.isNegative()||t.isNeg())&&UP("unbound-bitwise-result","xor"),LP(FP(this).xor(t))}mask(e){return(this.isNegative()||e<0)&&UP("negative-width","mask"),LP(FP(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&UP("negative-width","shl"),LP(FP(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&UP("negative-width","shr"),LP(FP(this).shrn(e))}eq(e){return FP(this).eq(FP(e))}lt(e){return FP(this).lt(FP(e))}lte(e){return FP(this).lte(FP(e))}gt(e){return FP(this).gt(FP(e))}gte(e){return FP(this).gte(FP(e))}isNegative(){return"-"===this._hex[0]}isZero(){return FP(this).isZero()}toNumber(){try{return FP(this).toNumber()}catch(e){UP("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch(e){}return MP.throwError("this platform does not support BigInt",xP.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(10===arguments[0]?NP||(NP=!0,MP.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?MP.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",xP.errors.UNEXPECTED_ARGUMENT,{}):MP.throwError("BigNumber.toString does not accept parameters",xP.errors.UNEXPECTED_ARGUMENT,{})),FP(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof BP)return e;if("string"==typeof e)return e.match(/^-?0x[0-9a-f]+$/i)?new BP(PP,DP(e)):e.match(/^-?[0-9]+$/)?new BP(PP,DP(new CP(e))):MP.throwArgumentError("invalid BigNumber string","value",e);if("number"==typeof e)return e%1&&UP("underflow","BigNumber.from",e),(e>=9007199254740991||e<=-9007199254740991)&&UP("overflow","BigNumber.from",e),BP.from(String(e));const t=e;if("bigint"==typeof t)return BP.from(t.toString());if(ki(t))return BP.from(Ni(t));if(t)if(t.toHexString){const e=t.toHexString();if("string"==typeof e)return BP.from(e)}else{let e=t._hex;if(null==e&&"BigNumber"===t.type&&(e=t.hex),"string"==typeof e&&(Mi(e)||"-"===e[0]&&Mi(e.substring(1))))return BP.from(e)}return MP.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!(!e||!e._isBigNumber)}}function DP(e){if("string"!=typeof e)return DP(e.toString(16));if("-"===e[0])return"-"===(e=e.substring(1))[0]&&MP.throwArgumentError("invalid hex","value",e),"0x00"===(e=DP(e))?e:"-"+e;if("0x"!==e.substring(0,2)&&(e="0x"+e),"0x"===e)return"0x00";for(e.length%2&&(e="0x0"+e.substring(2));e.length>4&&"0x00"===e.substring(0,4);)e="0x"+e.substring(4);return e}function LP(e){return BP.from(DP(e))}function FP(e){const t=BP.from(e).toHexString();return"-"===t[0]?new CP("-"+t.substring(3),16):new CP(t.substring(2),16)}function UP(e,t,n){const r={fault:e,operation:t};return null!=n&&(r.value=n),MP.throwError(e,xP.errors.NUMERIC_FAULT,r)}const jP=new xP("bignumber/5.7.0"),qP={},zP=BP.from(0),HP=BP.from(-1);function GP(e,t,n,r){const i={fault:t,operation:n};return void 0!==r&&(i.value=r),jP.throwError(e,xP.errors.NUMERIC_FAULT,i)}let WP="0";for(;WP.length<256;)WP+=WP;function VP(e){if("number"!=typeof e)try{e=BP.from(e).toNumber()}catch(e){}return"number"==typeof e&&e>=0&&e<=256&&!(e%1)?"1"+WP.substring(0,e):jP.throwArgumentError("invalid decimal size","decimals",e)}function KP(e,t){null==t&&(t=0);const n=VP(t),r=(e=BP.from(e)).lt(zP);r&&(e=e.mul(HP));let i=e.mod(n).toString();for(;i.length<n.length-1;)i="0"+i;i=i.match(/^([0-9]*[1-9]|0)(0*)/)[1];const a=e.div(n).toString();return e=1===n.length?a:a+"."+i,r&&(e="-"+e),e}function XP(e,t){null==t&&(t=0);const n=VP(t);"string"==typeof e&&e.match(/^-?[0-9.]+$/)||jP.throwArgumentError("invalid decimal value","value",e);const r="-"===e.substring(0,1);r&&(e=e.substring(1)),"."===e&&jP.throwArgumentError("missing value","value",e);const i=e.split(".");i.length>2&&jP.throwArgumentError("too many decimal points","value",e);let a=i[0],s=i[1];for(a||(a="0"),s||(s="0");"0"===s[s.length-1];)s=s.substring(0,s.length-1);for(s.length>n.length-1&&GP("fractional component exceeds decimals","underflow","parseFixed"),""===s&&(s="0");s.length<n.length-1;)s+="0";const o=BP.from(a),c=BP.from(s);let u=o.mul(n).add(c);return r&&(u=u.mul(HP)),u}let $P=class e{constructor(e,t,n,r){e!==qP&&jP.throwError("cannot use FixedFormat constructor; use FixedFormat.from",xP.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=t,this.width=n,this.decimals=r,this.name=(t?"":"u")+"fixed"+String(n)+"x"+String(r),this._multiplier=VP(r),Object.freeze(this)}static from(t){if(t instanceof e)return t;"number"==typeof t&&(t=`fixed128x${t}`);let n=!0,r=128,i=18;if("string"==typeof t)if("fixed"===t);else if("ufixed"===t)n=!1;else{const e=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);e||jP.throwArgumentError("invalid fixed format","format",t),n="u"!==e[1],r=parseInt(e[2]),i=parseInt(e[3])}else if(t){const e=(e,n,r)=>null==t[e]?r:(typeof t[e]!==n&&jP.throwArgumentError("invalid fixed format ("+e+" not "+n+")","format."+e,t[e]),t[e]);n=e("signed","boolean",n),r=e("width","number",r),i=e("decimals","number",i)}return r%8&&jP.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",r),i>80&&jP.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",i),new e(qP,n,r,i)}},JP=class e{constructor(e,t,n,r){e!==qP&&jP.throwError("cannot use FixedNumber constructor; use FixedNumber.from",xP.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=r,this._hex=t,this._value=n,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(e){this.format.name!==e.format.name&&jP.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}addUnsafe(t){this._checkFormat(t);const n=XP(this._value,this.format.decimals),r=XP(t._value,t.format.decimals);return e.fromValue(n.add(r),this.format.decimals,this.format)}subUnsafe(t){this._checkFormat(t);const n=XP(this._value,this.format.decimals),r=XP(t._value,t.format.decimals);return e.fromValue(n.sub(r),this.format.decimals,this.format)}mulUnsafe(t){this._checkFormat(t);const n=XP(this._value,this.format.decimals),r=XP(t._value,t.format.decimals);return e.fromValue(n.mul(r).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(t){this._checkFormat(t);const n=XP(this._value,this.format.decimals),r=XP(t._value,t.format.decimals);return e.fromValue(n.mul(this.format._multiplier).div(r),this.format.decimals,this.format)}floor(){const t=this.toString().split(".");1===t.length&&t.push("0");let n=e.from(t[0],this.format);const r=!t[1].match(/^(0*)$/);return this.isNegative()&&r&&(n=n.subUnsafe(YP.toFormat(n.format))),n}ceiling(){const t=this.toString().split(".");1===t.length&&t.push("0");let n=e.from(t[0],this.format);const r=!t[1].match(/^(0*)$/);return!this.isNegative()&&r&&(n=n.addUnsafe(YP.toFormat(n.format))),n}round(t){null==t&&(t=0);const n=this.toString().split(".");if(1===n.length&&n.push("0"),(t<0||t>80||t%1)&&jP.throwArgumentError("invalid decimal count","decimals",t),n[1].length<=t)return this;const r=e.from("1"+WP.substring(0,t),this.format),i=QP.toFormat(this.format);return this.mulUnsafe(r).addUnsafe(i).floor().divUnsafe(r)}isZero(){return"0.0"===this._value||"0"===this._value}isNegative(){return"-"===this._value[0]}toString(){return this._value}toHexString(e){if(null==e)return this._hex;e%8&&jP.throwArgumentError("invalid byte width","width",e);return ji(BP.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString(),e/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(t){return e.fromString(this._value,t)}static fromValue(t,n,r){return null!=r||null==n||function(e){return null!=e&&(BP.isBigNumber(e)||"number"==typeof e&&e%1==0||"string"==typeof e&&!!e.match(/^-?[0-9]+$/)||Mi(e)||"bigint"==typeof e||ki(e))}(n)||(r=n,n=null),null==n&&(n=0),null==r&&(r="fixed"),e.fromString(KP(t,n),$P.from(r))}static fromString(t,n){null==n&&(n="fixed");const r=$P.from(n),i=XP(t,r.decimals);!r.signed&&i.lt(zP)&&GP("unsigned value cannot be negative","overflow","value",t);let a=null;r.signed?a=i.toTwos(r.width).toHexString():(a=i.toHexString(),a=ji(a,r.width/8));const s=KP(i,r.decimals);return new e(qP,a,s,r)}static fromBytes(t,n){null==n&&(n="fixed");const r=$P.from(n);if(Oi(t).length>r.width/8)throw new Error("overflow");let i=BP.from(t);r.signed&&(i=i.fromTwos(r.width));const a=i.toTwos((r.signed?0:1)+r.width).toHexString(),s=KP(i,r.decimals);return new e(qP,a,s,r)}static from(t,n){if("string"==typeof t)return e.fromString(t,n);if(ki(t))return e.fromBytes(t,n);try{return e.fromValue(t,0,n)}catch(t){if(t.code!==xP.errors.INVALID_ARGUMENT)throw t}return jP.throwArgumentError("invalid FixedNumber value","value",t)}static isFixedNumber(e){return!(!e||!e._isFixedNumber)}};const YP=JP.from(1),QP=JP.from("0.5"),ZP=new xP("strings/5.7.0");var eN,tN;function nN(e,t=eN.current){t!=eN.current&&(ZP.checkNormalize(),e=e.normalize(t));let n=[];for(let t=0;t<e.length;t++){const r=e.charCodeAt(t);if(r<128)n.push(r);else if(r<2048)n.push(r>>6|192),n.push(63&r|128);else if(55296==(64512&r)){t++;const i=e.charCodeAt(t);if(t>=e.length||56320!=(64512&i))throw new Error("invalid utf-8 string");const a=65536+((1023&r)<<10)+(1023&i);n.push(a>>18|240),n.push(a>>12&63|128),n.push(a>>6&63|128),n.push(63&a|128)}else n.push(r>>12|224),n.push(r>>6&63|128),n.push(63&r|128)}return Oi(n)}function rN(e,t){t||(t=function(e){return[parseInt(e,16)]});let n=0,r={};return e.split(",").forEach((e=>{let i=e.split(":");n+=parseInt(i[0],16),r[n]=t(i[1])})),r}function iN(e){let t=0;return e.split(",").map((e=>{let n=e.split("-");1===n.length?n[1]="0":""===n[1]&&(n[1]="1");let r=t+parseInt(n[0],16);return t=parseInt(n[1],16),{l:r,h:t}}))}function aN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aN(Object(n),!0).forEach((function(t){qx(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aN(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function oN(e,t,n){return cN.apply(this,arguments)}function cN(){return(cN=oC(lC.mark((function e(t,n,r){var i,a,s,o,c,u,d,f;return lC.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.users.map((function(e){return{ether_key:e.user,tokens:e.tokens.map((function(e){return sN({id:e.id,blueprint:e.blueprint},e.royalties&&e.royalties.length>0&&{royalties:e.royalties.map((function(e){return{recipient:e.recipient,percentage:e.percentage}}))})}))}})),a=n.royalties,s=sN(sN({contract_address:n.contract_address},a&&a.length>0&&{royalties:a.map((function(e){return{recipient:e.recipient,percentage:e.percentage}}))}),{},{users:i,auth_signature:""}),o=wP(nN(JSON.stringify(s))),e.next=6,bC(o,t);case 6:return c=e.sent,u=sN(sN({users:s.users.map((function(e){return{user:e.ether_key,tokens:e.tokens}}))},a&&a.length>0&&{royalties:a}),{},{contract_address:n.contract_address,auth_signature:c}),d={mintTokensRequestV2:[u]},e.next=11,r.mintTokens(d);case 11:return f=e.sent,e.abrupt("return",f.data);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uN(e){switch(e.type){case"ERC721":return{type:"ERC721",data:{token_id:e.tokenId,token_address:e.tokenAddress}};case"ERC20":return{type:"ERC20",data:{token_address:e.tokenAddress}};case"ETH":return{type:"ETH",data:{decimals:18}}}}function dN(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return fN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fN(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,o=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){o=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(o)throw a}}}}function fN(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function lN(e){return hN.apply(this,arguments)}function hN(){return(hN=oC(lC.mark((function e(t){var n,r,i,a,s,o,c,u,d,f,l,h,p,m,b;return lC.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.ethSigner,i=t.starkSigner,a=t.request,s=t.transfersApi,e.next=3,r.getAddress();case 3:return o=e.sent,c="ERC721"===a.type?"1":a.amount,e.next=7,s.getSignableTransferV1({getSignableTransferRequest:{sender:o,token:uN(a),amount:c,receiver:a.receiver}});case 7:return u=e.sent,d=u.data,f=d.signable_message,l=d.payload_hash,e.next=11,bC(f,r);case 11:return h=e.sent,e.next=14,i.signMessage(l);case 14:return p=e.sent,m={sender_stark_key:u.data.sender_stark_key,sender_vault_id:u.data.sender_vault_id,receiver_stark_key:u.data.receiver_stark_key,receiver_vault_id:u.data.receiver_vault_id,asset_id:u.data.asset_id,amount:u.data.amount,nonce:u.data.nonce,expiration_timestamp:u.data.expiration_timestamp,stark_signature:p},e.next=18,s.createTransferV1({createTransferRequest:m,xImxEthAddress:o,xImxEthSignature:h});case 18:return b=e.sent,e.abrupt("return",{sent_signature:null==b?void 0:b.data.sent_signature,status:null==b||null===(n=b.data.status)||void 0===n?void 0:n.toString(),time:null==b?void 0:b.data.time,transfer_id:null==b?void 0:b.data.transfer_id});case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pN(e){return mN.apply(this,arguments)}function mN(){return(mN=oC(lC.mark((function e(t){var n,r,i,a,s,o,c,u,d,f,l,h,p,m,b,y,g;return lC.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.ethSigner,r=t.starkSigner,i=t.request,a=t.transfersApi,e.next=3,n.getAddress();case 3:return s=e.sent,o=i.map((function(e){return{amount:"1",token:uN({type:"ERC721",tokenId:e.tokenId,tokenAddress:e.tokenAddress}),receiver:e.receiver}})),e.next=7,a.getSignableTransfer({getSignableTransferRequestV2:{sender_ether_key:s,signable_requests:o}});case 7:if(c=e.sent,void 0!==(u=c.data.signable_message)){e.next=11;break}throw new Error("Invalid response from Signable registration offchain");case 11:return e.next=13,bC(u,n);case 13:d=e.sent,f=[],l=dN(c.data.signable_responses),e.prev=16,l.s();case 18:if((h=l.n()).done){e.next=27;break}return p=h.value,e.next=22,r.signMessage(p.payload_hash);case 22:m=e.sent,b={sender_vault_id:p.sender_vault_id,receiver_stark_key:p.receiver_stark_key,receiver_vault_id:p.receiver_vault_id,asset_id:p.asset_id,amount:p.amount,nonce:p.nonce,expiration_timestamp:p.expiration_timestamp,stark_signature:m},f.push(b);case 25:e.next=18;break;case 27:e.next=32;break;case 29:e.prev=29,e.t0=e.catch(16),l.e(e.t0);case 32:return e.prev=32,l.f(),e.finish(32);case 35:return y={sender_stark_key:c.data.sender_stark_key,requests:f},e.next=38,a.createTransfer({createTransferRequestV2:y,xImxEthAddress:s,xImxEthSignature:d});case 38:return g=e.sent,e.abrupt("return",{transfer_ids:null==g?void 0:g.data.transfer_ids});case 40:case"end":return e.stop()}}),e,null,[[16,29,32,35]])})))).apply(this,arguments)}!function(e){e.current="",e.NFC="NFC",e.NFD="NFD",e.NFKC="NFKC",e.NFKD="NFKD"}(eN||(eN={})),function(e){e.UNEXPECTED_CONTINUE="unexpected continuation byte",e.BAD_PREFIX="bad codepoint prefix",e.OVERRUN="string overrun",e.MISSING_CONTINUE="missing continuation byte",e.OUT_OF_RANGE="out of UTF-8 range",e.UTF16_SURROGATE="UTF-16 surrogate",e.OVERLONG="overlong representation"}(tN||(tN={})),iN("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),"ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map((e=>parseInt(e,16))),rN("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),rN("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),rN("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",(function(e){if(e.length%4!=0)throw new Error("bad data");let t=[];for(let n=0;n<e.length;n+=4)t.push(parseInt(e.substring(n,n+4),16));return t})),iN("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");const bN=new xP("units/5.7.0"),yN=["wei","kwei","mwei","gwei","szabo","finney","ether"];function gN(e,t){if("string"!=typeof e&&bN.throwArgumentError("value must be a string","value",e),"string"==typeof t){const e=yN.indexOf(t);-1!==e&&(t=3*e)}return XP(e,null!=t?t:18)}function vN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vN(Object(n),!0).forEach((function(t){qx(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vN(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _N(e,t,n,r,i,a,s){return EN.apply(this,arguments)}function EN(){return(EN=oC(lC.mark((function e(t,n,r,i,a,s,o){var c,u,d;return lC.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getAddress();case 2:return c=e.sent,e.next=5,mP(c,i,o);case 5:return u=e.sent,e.next=8,s.populateTransaction.registerAndDepositEth(c,i,u.operator_signature,r,a);case 8:return d=e.sent,e.abrupt("return",t.sendTransaction(wN(wN({},d),{},{value:n})));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function TN(e,t,n,r,i,a){return AN.apply(this,arguments)}function AN(){return(AN=oC(lC.mark((function e(t,n,r,i,a,s){var o;return lC.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.populateTransaction["deposit(uint256,uint256,uint256)"](i,r,a);case 2:return o=e.sent,e.abrupt("return",t.sendTransaction(wN(wN({},o),{},{value:n})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function RN(e,t,n,r,i,a){return SN.apply(this,arguments)}function SN(){return(SN=oC(lC.mark((function e(t,n,r,i,a,s){var o,c,u,d,f,l,h,p,m,b,y;return lC.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getAddress();case 2:return o=e.sent,c={decimals:18},u=gN(n.amount,"wei"),d={user:o,token:{type:n.type,data:c},amount:u.toString()},e.next=8,r.getSignableDeposit({getSignableDepositRequest:d});case 8:return f=e.sent,e.next=11,a.encodeAsset({assetType:"asset",encodeAssetRequest:{token:{type:n.type}}});case 11:return l=e.sent,h=l.data.asset_type,p=f.data.stark_key,m=f.data.vault_id,b=Xx.connect(s.ethConfiguration.coreContractAddress,t),y=iC.connect(s.ethConfiguration.registrationContractAddress,t),e.next=19,hP(p,y);case 19:if(e.sent){e.next=24;break}return e.abrupt("return",_N(t,u,h,p,m,b,i));case 24:return e.abrupt("return",TN(t,u,h,p,m,b));case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kN(e,t,n,r,i,a){return ON.apply(this,arguments)}function ON(){return(ON=oC(lC.mark((function e(t,n,r,i,a,s){var o;return lC.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.populateTransaction.depositERC20(i,r,a,n);case 2:return o=e.sent,e.abrupt("return",t.sendTransaction(o));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function IN(e,t,n,r,i,a,s){return xN.apply(this,arguments)}function xN(){return(xN=oC(lC.mark((function e(t,n,r,i,a,s,o){var c,u,d;return lC.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getAddress();case 2:return c=e.sent,e.next=5,mP(c,i,o);case 5:return u=e.sent,e.next=8,s.populateTransaction.registerAndDepositERC20(c,i,u.operator_signature,r,a,n);case 8:return d=e.sent,e.abrupt("return",t.sendTransaction(d));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function CN(e,t,n,r,i,a,s){return MN.apply(this,arguments)}function MN(){return(MN=oC(lC.mark((function e(t,n,r,i,a,s,o){var c,u,d,f,l,h,p,m,b,y,g,v,w,_,E,T;return lC.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getAddress();case 2:return c=e.sent,e.next=5,a.getToken({address:n.tokenAddress});case 5:return u=e.sent,d=parseInt(u.data.decimals),f={decimals:d,token_address:n.tokenAddress},l=gN(n.amount,0),h=Hx.connect(n.tokenAddress,t),e.next=12,h.populateTransaction.approve(o.ethConfiguration.coreContractAddress,l);case 12:return p=e.sent,e.next=15,t.sendTransaction(p);case 15:return m={user:c,token:{type:n.type,data:f},amount:l.toString()},e.next=18,r.getSignableDeposit({getSignableDepositRequest:m});case 18:return b=e.sent,e.next=21,s.encodeAsset({assetType:"asset",encodeAssetRequest:{token:{type:n.type,data:{token_address:n.tokenAddress}}}});case 21:return y=e.sent,g=y.data.asset_type,v=b.data.stark_key,w=b.data.vault_id,_=BP.from(b.data.amount),E=Xx.connect(o.ethConfiguration.coreContractAddress,t),T=iC.connect(o.ethConfiguration.registrationContractAddress,t),e.next=30,hP(v,T);case 30:if(e.sent){e.next=35;break}return e.abrupt("return",IN(t,_,g,v,w,E,i));case 35:return e.abrupt("return",kN(t,_,g,v,w,E));case 36:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function PN(e,t,n,r,i,a){return NN.apply(this,arguments)}function NN(){return(NN=oC(lC.mark((function e(t,n,r,i,a,s){var o;return lC.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.populateTransaction.depositNft(i,r,a,n);case 2:return o=e.sent,e.abrupt("return",t.sendTransaction(o));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function BN(e,t,n,r,i,a){return DN.apply(this,arguments)}function DN(){return(DN=oC(lC.mark((function e(t,n,r,i,a,s){var o,c,u,d,f,l,h,p,m,b,y,g,v,w;return lC.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getAddress();case 2:return o=e.sent,c={token_address:n.tokenAddress,token_id:n.tokenId},u={user:o,token:{type:n.type,data:c},amount:"1".toString()},e.next=8,r.getSignableDeposit({getSignableDepositRequest:u});case 8:return d=e.sent,e.next=11,a.encodeAsset({assetType:"asset",encodeAssetRequest:{token:{type:n.type,data:{token_address:n.tokenAddress,token_id:n.tokenId}}}});case 11:return f=e.sent,l=f.data.asset_type,h=d.data.stark_key,p=d.data.vault_id,m=Xx.connect(s.ethConfiguration.coreContractAddress,t),b=iC.connect(s.ethConfiguration.registrationContractAddress,t),e.next=19,hP(h,b);case 19:return y=e.sent,g=Wx.connect(n.tokenAddress,t),v=s.ethConfiguration.coreContractAddress,e.next=24,g.isApprovedForAll(o,v);case 24:if(e.sent){e.next=28;break}return e.next=28,g.setApprovalForAll(v,!0);case 28:if(y){e.next=34;break}return e.next=31,mP(o,h,i);case 31:return w=e.sent,e.next=34,m.registerUser(o,h,w.operator_signature);case 34:return e.abrupt("return",PN(t,n.tokenId,l,h,p,m));case 35:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var LN=function(e){if(void 0!==e)return e;throw new Error("undefined field exception")};function FN(e){return UN.apply(this,arguments)}function UN(){return(UN=oC(lC.mark((function e(t){var n,r,i,a,s,o,c,u,d,f,l,h,p;return lC.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.ethSigner,r=t.starkSigner,i=t.withdrawalsApi,a="ERC721"===t.type?"1":t.amount,e.t0=i,e.next=5,n.getAddress();case 5:return e.t1=e.sent,e.t2=uN(t),e.t3=a,e.t4={user:e.t1,token:e.t2,amount:e.t3},e.t5={getSignableWithdrawalRequest:e.t4},e.next=12,e.t0.getSignableWithdrawal.call(e.t0,e.t5);case 12:return s=e.sent,o=s.data,c=o.signable_message,u=o.payload_hash,e.next=16,r.signMessage(u);case 16:return d=e.sent,e.next=19,wC(c,n);case 19:return f=e.sent,l=f.ethAddress,h=f.ethSignature,e.next=24,i.createWithdrawal({createWithdrawalRequest:{stark_key:LN(s.data.stark_key),amount:a,asset_id:LN(s.data.asset_id),vault_id:LN(s.data.vault_id),nonce:LN(s.data.nonce),stark_signature:d},xImxEthAddress:l,xImxEthSignature:h});case 24:return p=e.sent,e.abrupt("return",p.data);case 26:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jN(Object(n),!0).forEach((function(t){qx(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jN(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zN(e,t,n,r){return HN.apply(this,arguments)}function HN(){return(HN=oC(lC.mark((function e(t,n,r,i){var a;return lC.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.encodeAsset({assetType:t,encodeAssetRequest:{token:qN({type:n},i&&{data:i})}});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function GN(e,t,n,r,i){return WN.apply(this,arguments)}function WN(){return(WN=oC(lC.mark((function e(t,n,r,i,a){var s,o,c;return lC.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getAddress();case 2:return s=e.sent,e.next=5,mP(s,r,a);case 5:return o=e.sent,e.next=8,i.populateTransaction.registerAndWithdraw(s,r,o.operator_signature,n);case 8:return c=e.sent,e.abrupt("return",t.sendTransaction(c));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function VN(e,t,n,r){return KN.apply(this,arguments)}function KN(){return(KN=oC(lC.mark((function e(t,n,r,i){var a;return lC.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.populateTransaction.withdraw(r,n);case 2:return a=e.sent,e.abrupt("return",t.sendTransaction(a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function XN(e,t,n,r,i,a){return $N.apply(this,arguments)}function $N(){return($N=oC(lC.mark((function e(t,n,r,i,a,s){var o,c,u;return lC.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zN("asset","ERC20",i,{token_address:r.tokenAddress});case 2:return o=e.sent,c=Xx.connect(s.ethConfiguration.coreContractAddress,t),u=iC.connect(s.ethConfiguration.registrationContractAddress,t),e.next=7,hP(n,u);case 7:if(e.sent){e.next=12;break}return e.abrupt("return",GN(t,o.asset_type,n,u,a));case 12:return e.abrupt("return",VN(t,o.asset_type,n,c));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function JN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function YN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?JN(Object(n),!0).forEach((function(t){qx(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JN(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function QN(e,t,n,r,i){return ZN.apply(this,arguments)}function ZN(){return(ZN=oC(lC.mark((function e(t,n,r,i,a){var s;return lC.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.populateTransaction.withdrawAndMint(r,n,i);case 2:return s=e.sent,e.abrupt("return",t.sendTransaction(s));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function eB(e,t,n,r,i,a){return tB.apply(this,arguments)}function tB(){return(tB=oC(lC.mark((function e(t,n,r,i,a,s){var o,c,u;return lC.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getAddress();case 2:return o=e.sent,e.next=5,mP(o,r,s);case 5:return c=e.sent,e.next=8,a.populateTransaction.regsiterAndWithdrawAndMint(o,r,c.operator_signature,n,i);case 8:return u=e.sent,e.abrupt("return",t.sendTransaction(u));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nB(e){var t=e.data.id,n=e.data.blueprint||"";return Py(dy("{".concat(t,"}:{").concat(n,"}")))}function rB(e,t,n,r,i,a){return iB.apply(this,arguments)}function iB(){return(iB=oC(lC.mark((function e(t,n,r,i,a,s){var o,c,u,d;return lC.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zN("mintable-asset","ERC721",i,YN({id:r.data.id,token_address:r.data.tokenAddress},r.data.blueprint&&{blueprint:r.data.blueprint}));case 2:return o=e.sent,c=nB(r),u=Xx.connect(s.ethConfiguration.coreContractAddress,t),d=iC.connect(s.ethConfiguration.registrationContractAddress,t),e.next=8,hP(n,d);case 8:if(e.sent){e.next=13;break}return e.abrupt("return",eB(t,o.asset_type,n,c,d,a));case 13:return e.abrupt("return",QN(t,o.asset_type,n,c,u));case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function aB(e,t,n,r,i,a){return sB.apply(this,arguments)}function sB(){return(sB=oC(lC.mark((function e(t,n,r,i,a,s){var o,c,u;return lC.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getAddress();case 2:return o=e.sent,e.next=5,mP(o,r,s);case 5:return c=e.sent,e.next=8,a.populateTransaction.registerAndWithdrawNft(o,r,c.operator_signature,n,i);case 8:return u=e.sent,e.abrupt("return",t.sendTransaction(u));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oB(e,t,n,r,i){return cB.apply(this,arguments)}function cB(){return(cB=oC(lC.mark((function e(t,n,r,i,a){var s;return lC.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.populateTransaction.withdrawNft(r,n,i);case 2:return s=e.sent,e.abrupt("return",t.sendTransaction(s));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uB(e,t,n,r,i,a){return dB.apply(this,arguments)}function dB(){return(dB=oC(lC.mark((function e(t,n,r,i,a,s){var o,c,u;return lC.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zN("asset","ERC721",i,{token_id:r.tokenId,token_address:r.tokenAddress});case 2:return o=e.sent,c=Xx.connect(s.ethConfiguration.coreContractAddress,t),u=iC.connect(s.ethConfiguration.registrationContractAddress,t),e.next=7,hP(n,u);case 7:if(e.sent){e.next=12;break}return e.abrupt("return",aB(t,o.asset_type,n,r.tokenId,u,a));case 12:return e.abrupt("return",oB(t,o.asset_type,n,r.tokenId,c));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fB(e,t,n,r,i,a,s){return lB.apply(this,arguments)}function lB(){return(lB=oC(lC.mark((function e(t,n,r,i,a,s,o){var c,u;return lC.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=r.tokenAddress,u=r.tokenId,e.next=4,a.getMintableTokenDetailsByClientTokenId({tokenAddress:c,tokenId:u}).then((function(e){return rB(t,n,{type:"ERC721",data:{id:u,tokenAddress:c,blueprint:e.data.blueprint}},i,s,o)})).catch((function(e){var a;if(404===(null===(a=e.response)||void 0===a?void 0:a.status))return uB(t,n,r,i,s,o);throw e}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hB(e,t,n,r,i){return pB.apply(this,arguments)}function pB(){return(pB=oC(lC.mark((function e(t,n,r,i,a){var s,o,c;return lC.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getAddress();case 2:return s=e.sent,e.next=5,mP(s,r,a);case 5:return o=e.sent,e.next=8,i.populateTransaction.registerAndWithdraw(s,r,o.operator_signature,n);case 8:return c=e.sent,e.abrupt("return",t.sendTransaction(c));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mB(e,t,n,r){return bB.apply(this,arguments)}function bB(){return(bB=oC(lC.mark((function e(t,n,r,i){var a;return lC.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.populateTransaction.withdraw(r,n);case 2:return a=e.sent,e.abrupt("return",t.sendTransaction(a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yB(e,t,n,r,i){return gB.apply(this,arguments)}function gB(){return(gB=oC(lC.mark((function e(t,n,r,i,a){var s,o,c;return lC.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zN("asset","ETH",r);case 2:return s=e.sent,o=Xx.connect(a.ethConfiguration.coreContractAddress,t),c=iC.connect(a.ethConfiguration.registrationContractAddress,t),e.next=7,hP(n,c);case 7:if(e.sent){e.next=12;break}return e.abrupt("return",hB(t,s.asset_type,n,c,i));case 12:return e.abrupt("return",mB(t,s.asset_type,n,o));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vB(Object(n),!0).forEach((function(t){qx(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vB(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _B(e){return EB.apply(this,arguments)}function EB(){return(EB=oC(lC.mark((function e(t){var n,r,i,a,s,o,c,u,d,f,l,h,p,m,b,y,g;return lC.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.ethSigner,r=t.starkSigner,i=t.request,a=t.ordersApi,e.next=3,n.getAddress();case 3:return s=e.sent,o="ERC721"===i.sell.type?"1":i.sell.amount,c="ERC721"===i.buy.type?"1":i.buy.amount,u={user:s,amount_buy:c,token_buy:uN(i.buy),amount_sell:o,token_sell:uN(i.sell),fees:i.fees,expiration_timestamp:i.expiration_timestamp,split_fees:!0},e.next=9,a.getSignableOrder({getSignableOrderRequestV3:u});case 9:return d=e.sent,f=d.data,l=f.signable_message,h=f.payload_hash,e.next=13,bC(l,n);case 13:return p=e.sent,e.next=16,r.signMessage(h);case 16:return m=e.sent,b=d.data,y={createOrderRequest:{amount_buy:b.amount_buy,amount_sell:b.amount_sell,asset_id_buy:b.asset_id_buy,asset_id_sell:b.asset_id_sell,expiration_timestamp:b.expiration_timestamp,include_fees:!0,fees:i.fees,nonce:b.nonce,stark_key:b.stark_key,stark_signature:m,vault_id_buy:b.vault_id_buy,vault_id_sell:b.vault_id_sell},xImxEthAddress:s,xImxEthSignature:p},e.next=21,a.createOrderV3(y);case 21:return g=e.sent,e.abrupt("return",wB({},g.data));case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function TB(e){return AB.apply(this,arguments)}function AB(){return(AB=oC(lC.mark((function e(t){var n,r,i,a,s,o,c,u,d,f,l,h;return lC.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.ethSigner,r=t.starkSigner,i=t.request,a=t.ordersApi,e.next=3,a.getSignableCancelOrderV3({getSignableCancelOrderRequest:{order_id:i.order_id}});case 3:return s=e.sent,o=s.data,c=o.signable_message,u=o.payload_hash,e.next=7,bC(c,n);case 7:return d=e.sent,e.next=10,r.signMessage(u);case 10:return f=e.sent,e.next=13,n.getAddress();case 13:return l=e.sent,e.next=16,a.cancelOrderV3({id:i.order_id.toString(),cancelOrderRequest:{order_id:i.order_id,stark_signature:f},xImxEthAddress:l,xImxEthSignature:d});case 16:return h=e.sent,e.abrupt("return",{order_id:h.data.order_id,status:h.data.status});case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function RB(e){return SB.apply(this,arguments)}function SB(){return(SB=oC(lC.mark((function e(t){var n,r,i,a,s,o,c,u,d,f,l,h;return lC.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.ethSigner,r=t.starkSigner,i=t.request,a=t.tradesApi,e.next=3,n.getAddress();case 3:return s=e.sent,e.next=6,a.getSignableTrade({getSignableTradeRequest:{user:s,order_id:i.order_id,fees:i.fees}});case 6:return o=e.sent,c=o.data,u=c.signable_message,d=c.payload_hash,e.next=10,bC(u,n);case 10:return f=e.sent,e.next=13,r.signMessage(d);case 13:return l=e.sent,e.next=16,a.createTradeV3({createTradeRequest:{amount_buy:o.data.amount_buy,amount_sell:o.data.amount_sell,asset_id_buy:o.data.asset_id_buy,asset_id_sell:o.data.asset_id_sell,expiration_timestamp:o.data.expiration_timestamp,fee_info:o.data.fee_info,fees:i.fees,include_fees:!0,nonce:o.data.nonce,order_id:i.order_id,stark_key:o.data.stark_key,vault_id_buy:o.data.vault_id_buy,vault_id_sell:o.data.vault_id_sell,stark_signature:l},xImxEthAddress:s,xImxEthSignature:f});case 16:return h=e.sent,e.abrupt("return",h.data);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kB(e){return OB.apply(this,arguments)}function OB(){return(OB=oC(lC.mark((function e(t){var n,r,i,a,s,o,c,u,d,f,l,h,p,m,b;return lC.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.ethSigner,i=t.starkSigner,a=t.request,s=t.exchangesApi,e.next=3,r.getAddress();case 3:return o=e.sent,c=a.amount,e.next=7,s.getExchangeSignableTransfer({id:a.transactionID,getSignableTransferRequest:{sender:o,token:uN(a),amount:c,receiver:a.receiver}});case 7:return u=e.sent,d=u.data,f=d.signable_message,l=d.payload_hash,e.next=11,bC(f,r);case 11:return h=e.sent,e.next=14,i.signMessage(l);case 14:return p=e.sent,m={sender_stark_key:u.data.sender_stark_key,sender_vault_id:u.data.sender_vault_id,receiver_stark_key:u.data.receiver_stark_key,receiver_vault_id:u.data.receiver_vault_id,asset_id:u.data.asset_id,amount:u.data.amount,nonce:u.data.nonce,expiration_timestamp:u.data.expiration_timestamp,stark_signature:p},e.next=18,s.createExchangeTransfer({id:a.transactionID,createTransferRequest:m,xImxEthAddress:o,xImxEthSignature:h});case 18:return b=e.sent,e.abrupt("return",{sent_signature:null==b?void 0:b.data.sent_signature,status:null==b||null===(n=b.data.status)||void 0===n?void 0:n.toString(),time:null==b?void 0:b.data.time,transfer_id:null==b?void 0:b.data.transfer_id});case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function IB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?IB(Object(n),!0).forEach((function(t){qx(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IB(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var CB=function(){function e(t){Fx(this,e),this.config=t;var n=t.apiConfiguration;this.config=t,this.depositsApi=new fM(n),this.encodingApi=new mM(n),this.mintsApi=new CM(n),this.ordersApi=new UM(n),this.tokensApi=new KM(n),this.tradesApi=new YM(n),this.transfersApi=new tP(n),this.usersApi=new aP(n),this.withdrawalsApi=new uP(n),this.projectsApi=new HM(n),this.collectionsApi=new oM(n),this.metadataApi=new TM(n),this.metadataRefreshesApi=new kM(n),this.exchangesApi=new vM(n)}var t,n,r,i,a,s,o,c,u,d,f,l,h,p,m,b,y,g,v,w,_,E,T,A,R,S,k,O;return jx(e,[{key:"isChainValid",value:function(e){return e===this.config.ethConfiguration.chainID}},{key:"validateChain",value:(O=oC(lC.mark((function e(t){var n;return lC.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getChainId();case 2:if(n=e.sent,this.isChainValid(n)){e.next=5;break}throw new Error("The wallet used for this operation is not from the correct network.");case 5:case"end":return e.stop()}}),e,this)}))),function(e){return O.apply(this,arguments)})},{key:"registerOffchain",value:(k=oC(lC.mark((function e(t){return lC.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.validateChain(t.ethSigner);case 2:return e.abrupt("return",fP(xB(xB({},t),{},{usersApi:this.usersApi})));case 3:case"end":return e.stop()}}),e,this)}))),function(e){return k.apply(this,arguments)})},{key:"isRegisteredOnchain",value:(S=oC(lC.mark((function e(t){var n,r;return lC.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.validateChain(t.ethSigner);case 2:return n=iC.connect(this.config.ethConfiguration.registrationContractAddress,t.ethSigner),e.next=5,t.starkSigner.getAddress();case 5:return r=e.sent,e.abrupt("return",hP(r,n));case 7:case"end":return e.stop()}}),e,this)}))),function(e){return S.apply(this,arguments)})},{key:"mint",value:(R=oC(lC.mark((function e(t,n){return lC.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.validateChain(t);case 2:return e.abrupt("return",oN(t,n,this.mintsApi));case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return R.apply(this,arguments)})},{key:"transfer",value:(A=oC(lC.mark((function e(t,n){return lC.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.validateChain(t.ethSigner);case 2:return e.abrupt("return",lN(xB(xB({},t),{},{request:n,transfersApi:this.transfersApi})));case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return A.apply(this,arguments)})},{key:"exchangeTransfer",value:(T=oC(lC.mark((function e(t,n){return lC.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.validateChain(t.ethSigner);case 2:return e.abrupt("return",kB(xB(xB({},t),{},{request:n,exchangesApi:this.exchangesApi})));case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return T.apply(this,arguments)})},{key:"batchNftTransfer",value:(E=oC(lC.mark((function e(t,n){return lC.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.validateChain(t.ethSigner);case 2:return e.abrupt("return",pN(xB(xB({},t),{},{request:n,transfersApi:this.transfersApi})));case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return E.apply(this,arguments)})},{key:"deposit",value:(_=oC(lC.mark((function e(t,n){return lC.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=n.type,e.next="ETH"===e.t0?3:"ERC20"===e.t0?4:"ERC721"===e.t0?5:6;break;case 3:return e.abrupt("return",this.depositEth(t,n));case 4:return e.abrupt("return",this.depositERC20(t,n));case 5:return e.abrupt("return",this.depositERC721(t,n));case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return _.apply(this,arguments)})},{key:"depositEth",value:(w=oC(lC.mark((function e(t,n){return lC.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.validateChain(t);case 2:return e.abrupt("return",RN(t,n,this.depositsApi,this.usersApi,this.encodingApi,this.config));case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return w.apply(this,arguments)})},{key:"depositERC20",value:(v=oC(lC.mark((function e(t,n){return lC.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.validateChain(t);case 2:return e.abrupt("return",CN(t,n,this.depositsApi,this.usersApi,this.tokensApi,this.encodingApi,this.config));case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return v.apply(this,arguments)})},{key:"depositERC721",value:(g=oC(lC.mark((function e(t,n){return lC.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.validateChain(t);case 2:return e.abrupt("return",BN(t,n,this.depositsApi,this.usersApi,this.encodingApi,this.config));case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return g.apply(this,arguments)})},{key:"prepareWithdrawal",value:(y=oC(lC.mark((function e(t,n){return lC.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.validateChain(t.ethSigner);case 2:return e.abrupt("return",FN(xB(xB(xB({},t),n),{},{withdrawalsApi:this.withdrawalsApi})));case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return y.apply(this,arguments)})},{key:"completeWithdrawal",value:function(e,t,n){switch(n.type){case"ETH":return this.completeEthWithdrawal(e,t);case"ERC20":return this.completeERC20Withdrawal(e,t,n);case"ERC721":return this.completeERC721Withdrawal(e,t,n)}}},{key:"completeEthWithdrawal",value:(b=oC(lC.mark((function e(t,n){return lC.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.validateChain(t);case 2:return e.abrupt("return",yB(t,n,this.encodingApi,this.usersApi,this.config));case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return b.apply(this,arguments)})},{key:"completeERC20Withdrawal",value:(m=oC(lC.mark((function e(t,n,r){return lC.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.validateChain(t);case 2:return e.abrupt("return",XN(t,n,r,this.encodingApi,this.usersApi,this.config));case 3:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return m.apply(this,arguments)})},{key:"completeERC721Withdrawal",value:function(){var e=oC(lC.mark((function e(t,n,r){return lC.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.validateChain(t);case 2:return e.abrupt("return",fB(t,n,r,this.encodingApi,this.mintsApi,this.usersApi,this.config));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"createOrder",value:(p=oC(lC.mark((function e(t,n){return lC.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.validateChain(t.ethSigner);case 2:return e.abrupt("return",_B(xB(xB({},t),{},{request:n,ordersApi:this.ordersApi})));case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return p.apply(this,arguments)})},{key:"cancelOrder",value:(h=oC(lC.mark((function e(t,n){return lC.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.validateChain(t.ethSigner);case 2:return e.abrupt("return",TB(xB(xB({},t),{},{request:n,ordersApi:this.ordersApi})));case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return h.apply(this,arguments)})},{key:"createTrade",value:(l=oC(lC.mark((function e(t,n){return lC.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.validateChain(t.ethSigner);case 2:return e.abrupt("return",RB(xB(xB({},t),{},{request:n,tradesApi:this.tradesApi})));case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return l.apply(this,arguments)})},{key:"createProject",value:(f=oC(lC.mark((function e(t,n){var r;return lC.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gC(t);case 2:return r=e.sent,e.abrupt("return",this.projectsApi.createProject({iMXSignature:r.signature,iMXTimestamp:r.timestamp,createProjectRequest:n}));case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return f.apply(this,arguments)})},{key:"getProject",value:(d=oC(lC.mark((function e(t,n){var r;return lC.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gC(t);case 2:return r=e.sent,e.abrupt("return",this.projectsApi.getProject({id:n,iMXSignature:r.signature,iMXTimestamp:r.timestamp}));case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return d.apply(this,arguments)})},{key:"getProjects",value:(u=oC(lC.mark((function e(t,n,r,i,a){var s;return lC.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gC(t);case 2:return s=e.sent,e.abrupt("return",this.projectsApi.getProjects({iMXSignature:s.signature,iMXTimestamp:s.timestamp,pageSize:n,cursor:r,orderBy:i,direction:a}));case 4:case"end":return e.stop()}}),e,this)}))),function(e,t,n,r,i){return u.apply(this,arguments)})},{key:"createCollection",value:(c=oC(lC.mark((function e(t,n){var r;return lC.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gC(t);case 2:return r=e.sent,e.abrupt("return",this.collectionsApi.createCollection({iMXSignature:r.signature,iMXTimestamp:r.timestamp,createCollectionRequest:n}));case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return c.apply(this,arguments)})},{key:"updateCollection",value:(o=oC(lC.mark((function e(t,n,r){var i;return lC.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gC(t);case 2:return i=e.sent,e.abrupt("return",this.collectionsApi.updateCollection({iMXSignature:i.signature,iMXTimestamp:i.timestamp,address:n,updateCollectionRequest:r}));case 4:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return o.apply(this,arguments)})},{key:"addMetadataSchemaToCollection",value:(s=oC(lC.mark((function e(t,n,r){var i;return lC.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gC(t);case 2:return i=e.sent,e.abrupt("return",this.metadataApi.addMetadataSchemaToCollection({iMXSignature:i.signature,iMXTimestamp:i.timestamp,addMetadataSchemaToCollectionRequest:r,address:n}));case 4:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return s.apply(this,arguments)})},{key:"updateMetadataSchemaByName",value:(a=oC(lC.mark((function e(t,n,r,i){var a;return lC.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gC(t);case 2:return a=e.sent,e.abrupt("return",this.metadataApi.updateMetadataSchemaByName({iMXSignature:a.signature,iMXTimestamp:a.timestamp,address:n,name:r,metadataSchemaRequest:i}));case 4:case"end":return e.stop()}}),e,this)}))),function(e,t,n,r){return a.apply(this,arguments)})},{key:"listMetadataRefreshes",value:(i=oC(lC.mark((function e(t,n,r,i){var a,s;return lC.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gC(t);case 2:return a=e.sent,e.next=5,t.getAddress();case 5:return s=e.sent,e.abrupt("return",this.metadataRefreshesApi.getAListOfMetadataRefreshes({xImxEthSignature:a.signature,xImxEthTimestamp:a.timestamp,xImxEthAddress:s,collectionAddress:n,pageSize:r,cursor:i}));case 7:case"end":return e.stop()}}),e,this)}))),function(e,t,n,r){return i.apply(this,arguments)})},{key:"getMetadataRefreshErrors",value:(r=oC(lC.mark((function e(t,n,r,i){var a,s;return lC.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gC(t);case 2:return a=e.sent,e.next=5,t.getAddress();case 5:return s=e.sent,e.abrupt("return",this.metadataRefreshesApi.getMetadataRefreshErrors({xImxEthSignature:a.signature,xImxEthTimestamp:a.timestamp,xImxEthAddress:s,refreshId:n,pageSize:r,cursor:i}));case 7:case"end":return e.stop()}}),e,this)}))),function(e,t,n,i){return r.apply(this,arguments)})},{key:"getMetadataRefreshResults",value:(n=oC(lC.mark((function e(t,n){var r,i;return lC.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gC(t);case 2:return r=e.sent,e.next=5,t.getAddress();case 5:return i=e.sent,e.abrupt("return",this.metadataRefreshesApi.getMetadataRefreshResults({xImxEthSignature:r.signature,xImxEthTimestamp:r.timestamp,xImxEthAddress:i,refreshId:n}));case 7:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"createMetadataRefresh",value:(t=oC(lC.mark((function e(t,n){var r,i;return lC.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gC(t);case 2:return r=e.sent,e.next=5,t.getAddress();case 5:return i=e.sent,e.abrupt("return",this.metadataRefreshesApi.requestAMetadataRefresh({xImxEthSignature:r.signature,xImxEthTimestamp:r.timestamp,xImxEthAddress:i,createMetadataRefreshRequest:n}));case 7:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})}]),e}();var MB=function(e){Qx(n,LC(Error));var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$x(e);if(t){var i=$x(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return tC(this,n)}}(n);function n(e){var r,i=e.code,a=e.details,s=e.message;return Fx(this,n),(r=t.call(this,s)).code=i,r.details=a,r}return jx(n)}();function PB(e){if(Lx.isAxiosError(e)&&e.response){var t,n,r,i=e.response.data;return i.code&&i.message?new MB({code:i.code,details:i.details,message:i.message}):new MB({code:null!==(t=null!==(n=e.code)&&void 0!==n?n:null===(r=e.response)||void 0===r?void 0:r.status.toString())&&void 0!==t?t:"unknown_error_code",message:String(e)})}return new MB({code:"unknown_error_code",message:String(e)})}var NB=function(){function e(t){Fx(this,e),this.depositsApi=new fM(t.apiConfiguration),this.mintsApi=new CM(t.apiConfiguration),this.ordersApi=new UM(t.apiConfiguration),this.tokensApi=new KM(t.apiConfiguration),this.tradesApi=new YM(t.apiConfiguration),this.transfersApi=new tP(t.apiConfiguration),this.exchangeApi=new vM(t.apiConfiguration),this.usersApi=new aP(t.apiConfiguration),this.withdrawalsApi=new uP(t.apiConfiguration),this.balanceApi=new rM(t.apiConfiguration),this.assetApi=new ZC(t.apiConfiguration),this.collectionApi=new oM(t.apiConfiguration),this.metadataApi=new TM(t.apiConfiguration),this.metadataRefreshesApi=new kM(t.apiConfiguration),this.nftCheckoutPrimaryApi=new BM(t.apiConfiguration),this.projectsApi=new HM(t.apiConfiguration),this.workflows=new CB(t)}var t,n,r;return jx(e,[{key:"deposit",value:function(e,t){return this.workflows.deposit(e,t).catch((function(e){throw PB(e)}))}},{key:"getDeposit",value:function(e){return this.depositsApi.getDeposit(e).then((function(e){return e.data})).catch((function(e){throw PB(e)}))}},{key:"listDeposits",value:function(e){return this.depositsApi.listDeposits(e).then((function(e){return e.data})).catch((function(e){throw PB(e)}))}},{key:"registerOffchain",value:function(e){return this.workflows.registerOffchain(e).catch((function(e){throw PB(e)}))}},{key:"isRegisteredOnchain",value:function(e){return this.workflows.isRegisteredOnchain(e).catch((function(e){throw PB(e)}))}},{key:"getUser",value:function(e){return this.usersApi.getUsers({user:e}).then((function(e){return e.data})).catch((function(e){throw PB(e)}))}},{key:"getAsset",value:function(e){return this.assetApi.getAsset(e).then((function(e){return e.data})).catch((function(e){throw PB(e)}))}},{key:"listAssets",value:function(e){return this.assetApi.listAssets(e).then((function(e){return e.data})).catch((function(e){throw PB(e)}))}},{key:"createCollection",value:function(e,t){return this.workflows.createCollection(e,t).then((function(e){return e.data})).catch((function(e){throw PB(e)}))}},{key:"getCollection",value:function(e){return this.collectionApi.getCollection(e).then((function(e){return e.data})).catch((function(e){throw PB(e)}))}},{key:"listCollectionFilters",value:function(e){return this.collectionApi.listCollectionFilters(e).then((function(e){return e.data})).catch((function(e){throw PB(e)}))}},{key:"listCollections",value:function(e){return this.collectionApi.listCollections(e).then((function(e){return e.data})).catch((function(e){throw PB(e)}))}},{key:"updateCollection",value:function(e,t,n){return this.workflows.updateCollection(e,t,n).then((function(e){return e.data})).catch((function(e){throw PB(e)}))}},{key:"addMetadataSchemaToCollection",value:function(e,t,n){return this.workflows.addMetadataSchemaToCollection(e,t,n).then((function(e){return e.data})).catch((function(e){throw PB(e)}))}},{key:"getMetadataSchema",value:function(e){return this.metadataApi.getMetadataSchema(e).then((function(e){return e.data})).catch((function(e){throw PB(e)}))}},{key:"updateMetadataSchemaByName",value:function(e,t,n,r){return this.workflows.updateMetadataSchemaByName(e,t,n,r).then((function(e){return e.data})).catch((function(e){throw PB(e)}))}},{key:"listMetadataRefreshes",value:function(e,t,n,r){return this.workflows.listMetadataRefreshes(e,t,n,r).then((function(e){return e.data})).catch((function(e){throw PB(e)}))}},{key:"getMetadataRefreshErrors",value:function(e,t,n,r){return this.workflows.getMetadataRefreshErrors(e,t,n,r).then((function(e){return e.data})).catch((function(e){throw PB(e)}))}},{key:"getMetadataRefreshResults",value:function(e,t){return this.workflows.getMetadataRefreshResults(e,t).then((function(e){return e.data})).catch((function(e){throw PB(e)}))}},{key:"createMetadataRefresh",value:function(e,t){return this.workflows.createMetadataRefresh(e,t).then((function(e){return e.data})).catch((function(e){throw PB(e)}))}},{key:"createProject",value:(r=oC(lC.mark((function e(t,n){return lC.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.workflows.createProject(t,n).then((function(e){return e.data})).catch((function(e){throw PB(e)})));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"getProject",value:(n=oC(lC.mark((function e(t,n){return lC.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.workflows.getProject(t,n).then((function(e){return e.data})).catch((function(e){throw PB(e)})));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"getProjects",value:(t=oC(lC.mark((function e(t,n,r,i,a){return lC.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.workflows.getProjects(t,n,r,i,a).then((function(e){return e.data})).catch((function(e){throw PB(e)})));case 1:case"end":return e.stop()}}),e,this)}))),function(e,n,r,i,a){return t.apply(this,arguments)})},{key:"getBalance",value:function(e){return this.balanceApi.getBalance(e).then((function(e){return e.data})).catch((function(e){throw PB(e)}))}},{key:"listBalances",value:function(e){return this.balanceApi.listBalances(e).then((function(e){return e.data})).catch((function(e){throw PB(e)}))}},{key:"getMint",value:function(e){return this.mintsApi.getMint(e).then((function(e){return e.data})).catch((function(e){throw PB(e)}))}},{key:"listMints",value:function(e){return this.mintsApi.listMints(e).then((function(e){return e.data})).catch((function(e){throw PB(e)}))}},{key:"mint",value:function(e,t){return this.workflows.mint(e,t).catch((function(e){throw PB(e)}))}},{key:"listWithdrawals",value:function(e){return this.withdrawalsApi.listWithdrawals(e).then((function(e){return e.data})).catch((function(e){throw PB(e)}))}},{key:"getWithdrawal",value:function(e){return this.withdrawalsApi.getWithdrawal(e).then((function(e){return e.data})).catch((function(e){throw PB(e)}))}},{key:"prepareWithdrawal",value:function(e,t){return this.workflows.prepareWithdrawal(e,t).catch((function(e){throw PB(e)}))}},{key:"completeWithdrawal",value:function(e,t,n){return this.workflows.completeWithdrawal(e,t,n).catch((function(e){throw PB(e)}))}},{key:"getOrder",value:function(e){return this.ordersApi.getOrderV3(e).then((function(e){return e.data})).catch((function(e){throw PB(e)}))}},{key:"listOrders",value:function(e){return this.ordersApi.listOrdersV3(e).then((function(e){return e.data})).catch((function(e){throw PB(e)}))}},{key:"createOrder",value:function(e,t){return this.workflows.createOrder(e,t).catch((function(e){throw PB(e)}))}},{key:"cancelOrder",value:function(e,t){return this.workflows.cancelOrder(e,t).catch((function(e){throw PB(e)}))}},{key:"getTrade",value:function(e){return this.tradesApi.getTradeV3(e).then((function(e){return e.data})).catch((function(e){throw PB(e)}))}},{key:"listTrades",value:function(e){return this.tradesApi.listTradesV3(e).then((function(e){return e.data})).catch((function(e){throw PB(e)}))}},{key:"createTrade",value:function(e,t){return this.workflows.createTrade(e,t).catch((function(e){throw PB(e)}))}},{key:"getToken",value:function(e){return this.tokensApi.getToken(e).then((function(e){return e.data})).catch((function(e){throw PB(e)}))}},{key:"listTokens",value:function(e){return this.tokensApi.listTokens(e).then((function(e){return e.data})).catch((function(e){throw PB(e)}))}},{key:"getTransfer",value:function(e){return this.transfersApi.getTransfer(e).then((function(e){return e.data})).catch((function(e){throw PB(e)}))}},{key:"listTransfers",value:function(e){return this.transfersApi.listTransfers(e).then((function(e){return e.data})).catch((function(e){throw PB(e)}))}},{key:"transfer",value:function(e,t){return this.workflows.transfer(e,t).catch((function(e){throw PB(e)}))}},{key:"batchNftTransfer",value:function(e,t){return this.workflows.batchNftTransfer(e,t).catch((function(e){throw PB(e)}))}},{key:"createExchange",value:function(e){return this.exchangeApi.createExchange(e).catch((function(e){throw PB(e)}))}},{key:"getExchange",value:function(e){return this.exchangeApi.getExchange(e).catch((function(e){throw PB(e)}))}},{key:"getExchanges",value:function(e){return this.exchangeApi.getExchanges(e).catch((function(e){throw PB(e)}))}},{key:"exchangeTransfer",value:function(e,t){return this.workflows.exchangeTransfer(e,t).catch((function(e){throw PB(e)}))}},{key:"createNftPrimary",value:function(e){return this.nftCheckoutPrimaryApi.createNftPrimary(e).catch((function(e){throw PB(e)}))}},{key:"getCurrenciesNFTCheckoutPrimary",value:function(e){return this.nftCheckoutPrimaryApi.getCurrenciesNFTCheckoutPrimary(e).catch((function(e){throw PB(e)}))}},{key:"getNftPrimaryTransaction",value:function(e){return this.nftCheckoutPrimaryApi.getNftPrimaryTransaction(e).catch((function(e){throw PB(e)}))}},{key:"getNftPrimaryTransactions",value:function(e){return this.nftCheckoutPrimaryApi.getNftPrimaryTransactions(e).catch((function(e){throw PB(e)}))}}]),e}();function BB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function DB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?BB(Object(n),!0).forEach((function(t){qx(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BB(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var LB={"x-sdk-version":"imx-core-sdk-ts-".concat("2.4.0")},FB=function(e){var t=e.coreContractAddress,n=e.registrationContractAddress,r=e.chainID,i=e.basePath,a=e.headers,s=e.sdkVersion;if(!i.trim())throw Error("basePath can not be empty");return s&&(LB["x-sdk-version"]=s),a=DB(DB({},a||{}),LB),{apiConfiguration:new dP({basePath:i,baseOptions:{headers:a}}),ethConfiguration:{coreContractAddress:t,registrationContractAddress:n,chainID:r}}},UB={get PRODUCTION(){return FB({basePath:"https://api.x.immutable.com",chainID:1,coreContractAddress:"0x5FDCCA53617f4d2b9134B29090C87D01058e27e9",registrationContractAddress:"0x72a06bf2a1CE5e39cBA06c0CAb824960B587d64c"})},get SANDBOX(){return FB({basePath:"https://api.sandbox.x.immutable.com",chainID:11155111,coreContractAddress:"0x2d5C349fD8464DA06a3f90b4B0E9195F3d1b7F98",registrationContractAddress:"0xDbA6129C02E69405622fAdc3d5A7f8d23eac3b97"})},createConfig:FB},jB=new di("08000000 00000010 ffffffff ffffffff b781126d cae7b232 1e66a241 adc64d2f",16);new Dy.ec(new Dy.curves.PresetCurve({type:"short",prime:null,p:"08000000 00000011 00000000 00000000 00000000 00000000 00000000 00000001",a:"00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000001",b:"06f21413 efbe40de 150e596d 72f7a8c5 609ad26c 15c915c1 f4cdfcb9 9cee9e89",n:jB.toString("hex"),hash:Wd.sha256,gRed:!1,g:["1ef15c18599971b7beced415a40f0c7deacfd9b0d1819e03d723d8bc943cfca","5668060aa49730b7be4801df46ec62de53ecd11abe43a32873000c36e8dc1f"]}));var qB=function(){var e=new di("1 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000",16);return e.sub(e.mod(jB))};function zB(e,t){return new di(Wd.sha256().update(iy(xy(e)+Sy(fy(t),2))).digest("hex"),16)}function HB(e){for(var t=qB(),n=zB(e.toString("hex",64),0),r=0;n.gte(t);r++)n=zB(n.toString("hex"),r);return n.umod(jB).toString("hex")}function GB(e){for(var t=qB(),n=zB(e.toString("hex",64),0),r=1;n.gte(t);r++)n=zB(n.toString("hex"),r);return n.umod(jB).toString("hex")}function WB(e){var t=qB();return zB(e.toString("hex",64),0).gte(t)}function VB(e){return KB.apply(this,arguments)}function KB(){return(KB=oC(lC.mark((function e(t){var n,r;return lC.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=new NB(UB.PRODUCTION),e.next=4,n.getUser(t);case 4:if(!((r=e.sent).accounts.length>0)){e.next=7;break}return e.abrupt("return",{starkPublicKey:r.accounts[0],accountNotFound:!1});case 7:e.next=14;break;case 9:if(e.prev=9,e.t0=e.catch(0),!(e.t0 instanceof MB&&"account_not_found"==e.t0.code)){e.next=13;break}return e.abrupt("return",{starkPublicKey:"",accountNotFound:!0});case 13:throw e.t0;case 14:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function XB(e,t){var n=QO.hdkey.fromMasterSeed(Buffer.from(e.slice(2),"hex")).derivePath(t).getWallet().getPrivateKey();return new di(n)}function $B(e,t,n){return JB.apply(this,arguments)}function JB(){return(JB=oC(lC.mark((function e(t,n,r){var i,a,s,o,c,u,d,f;return lC.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=XB(t,n),a=GB(i),WB(i)){e.next=4;break}return e.abrupt("return",a);case 4:return e.next=6,VB(r);case 6:if(void 0!==(s=e.sent)){e.next=9;break}throw new Error("Error fetching stark public key from IMX");case 9:if(!s.accountNotFound){e.next=11;break}return e.abrupt("return",a);case 11:return o=new di(xy(s.starkPublicKey),16),e.next=14,BC(a).getAddress();case 14:if(c=e.sent,!o.eq(new di(xy(c),16))){e.next=17;break}return e.abrupt("return",a);case 17:return u=HB(i),e.next=20,BC(u).getAddress();case 20:if(c=e.sent,!o.eq(new di(xy(c),16))){e.next=23;break}return e.abrupt("return",u);case 23:return d=PC(t,n),f=MC(d),e.next=27,BC(f).getAddress();case 27:if(c=e.sent,!o.eq(new di(xy(c),16))){e.next=30;break}return e.abrupt("return",f);case 30:throw new Error("Can not deterministically generate stark private key - please contact support");case 31:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function YB(e){return QB.apply(this,arguments)}function QB(){return(QB=oC(lC.mark((function e(t){var n,r,i,a,s;return lC.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getAddress();case 2:return n=e.sent.toLowerCase(),e.next=5,t.signMessage("Only sign this request if youve initiated an action with Immutable X.");case 5:return r=e.sent,i=qi(r).s,a=xC("starkex","immutablex",n,"1"),e.next=10,$B(i,a,n);case 10:return s=e.sent,e.abrupt("return",s.padStart(64,"0"));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}xP.errors.INSUFFICIENT_FUNDS,xP.errors.NONCE_EXPIRED,xP.errors.REPLACEMENT_UNDERPRICED;const ZB=({basePath:e,chainID:t,coreContractAddress:n,registrationContractAddress:r})=>UB.createConfig({basePath:e,chainID:t,coreContractAddress:n,registrationContractAddress:r,sdkVersion:"ts-immutable-sdk-0.44.0"}),eD=()=>ZB({basePath:"https://api.sandbox.x.immutable.com",chainID:11155111,coreContractAddress:"0x2d5C349fD8464DA06a3f90b4B0E9195F3d1b7F98",registrationContractAddress:"0xDbA6129C02E69405622fAdc3d5A7f8d23eac3b97"});class tD{immutableXConfig;baseConfig;constructor({baseConfig:e,overrides:t}){if(this.baseConfig=e,t)this.immutableXConfig=t.immutableXConfig;else switch(e.environment){case rt.SANDBOX:this.immutableXConfig=eD();break;case rt.PRODUCTION:this.immutableXConfig=ZB({basePath:"https://api.x.immutable.com",chainID:1,coreContractAddress:"0x5FDCCA53617f4d2b9134B29090C87D01058e27e9",registrationContractAddress:"0x72a06bf2a1CE5e39cBA06c0CAb824960B587d64c"});break;default:this.immutableXConfig=eD()}}}class nD{immutableX;depositsApi;mintsApi;ordersApi;tokensApi;tradesApi;transfersApi;exchangeApi;nftCheckoutPrimaryApi;usersApi;withdrawalsApi;balanceApi;assetApi;collectionApi;metadataApi;metadataRefreshesApi;projectsApi;constructor(e){const t=new tD(e);this.immutableX=new NB(t.immutableXConfig),this.depositsApi=this.immutableX.depositsApi,this.mintsApi=this.immutableX.mintsApi,this.ordersApi=this.immutableX.ordersApi,this.tokensApi=this.immutableX.tokensApi,this.tradesApi=this.immutableX.tradesApi,this.transfersApi=this.immutableX.transfersApi,this.exchangeApi=this.immutableX.exchangeApi,this.usersApi=this.immutableX.usersApi,this.withdrawalsApi=this.immutableX.withdrawalsApi,this.balanceApi=this.immutableX.balanceApi,this.assetApi=this.immutableX.assetApi,this.collectionApi=this.immutableX.collectionApi,this.metadataApi=this.immutableX.metadataApi,this.metadataRefreshesApi=this.immutableX.metadataRefreshesApi,this.nftCheckoutPrimaryApi=this.immutableX.nftCheckoutPrimaryApi,this.projectsApi=this.immutableX.projectsApi}getDeposit(e){return this.immutableX.getDeposit(e)}listDeposits(e){return this.immutableX.listDeposits(e)}getUser(e){return this.immutableX.getUser(e)}getAsset(e){return this.immutableX.getAsset(e)}listAssets(e){return this.immutableX.listAssets(e)}createCollection(e,t){return this.immutableX.createCollection(e,t)}getCollection(e){return this.immutableX.getCollection(e)}listCollectionFilters(e){return this.immutableX.listCollectionFilters(e)}listCollections(e){return this.collectionApi.listCollections(e).then((e=>e.data))}updateCollection(e,t,n){return this.immutableX.updateCollection(e,t,n)}addMetadataSchemaToCollection(e,t,n){return this.immutableX.addMetadataSchemaToCollection(e,t,n)}getMetadataSchema(e){return this.immutableX.getMetadataSchema(e)}updateMetadataSchemaByName(e,t,n,r){return this.immutableX.updateMetadataSchemaByName(e,t,n,r)}listMetadataRefreshes(e,t,n,r){return this.immutableX.listMetadataRefreshes(e,t,n,r)}getMetadataRefreshErrors(e,t,n,r){return this.immutableX.getMetadataRefreshErrors(e,t,n,r)}getMetadataRefreshResults(e,t){return this.immutableX.getMetadataRefreshResults(e,t)}createMetadataRefresh(e,t){return this.immutableX.createMetadataRefresh(e,t)}async createProject(e,t){return this.immutableX.createProject(e,t)}async getProject(e,t){return this.immutableX.getProject(e,t)}async getProjects(e,t,n,r,i){return this.immutableX.getProjects(e,t,n,r,i)}getBalance(e){return this.immutableX.getBalance(e)}listBalances(e){return this.immutableX.listBalances(e)}getMint(e){return this.immutableX.getMint(e)}listMints(e){return this.immutableX.listMints(e)}mint(e,t){return this.immutableX.mint(e,t)}listWithdrawals(e){return this.immutableX.listWithdrawals(e)}getWithdrawal(e){return this.immutableX.getWithdrawal(e)}getOrder(e){return this.immutableX.getOrder(e)}listOrders(e){return this.immutableX.listOrders(e)}getTrade(e){return this.immutableX.getTrade(e)}listTrades(e){return this.immutableX.listTrades(e)}getToken(e){return this.immutableX.getToken(e)}listTokens(e){return this.immutableX.listTokens(e)}getTransfer(e){return this.immutableX.getTransfer(e)}listTransfers(e){return this.immutableX.listTransfers(e)}createExchange(e){return this.immutableX.createExchange(e).then((e=>e.data))}getExchange(e){return this.immutableX.getExchange(e).then((e=>e.data))}getExchanges(e){return this.immutableX.getExchanges(e).then((e=>e.data))}exchangeTransfer(e,t){return this.immutableX.exchangeTransfer(e,t)}createNftPrimary(e){return this.immutableX.createNftPrimary(e).then((e=>e.data))}getCurrenciesNFTCheckoutPrimary(e){return this.immutableX.getCurrenciesNFTCheckoutPrimary(e).then((e=>e.data))}getNftPrimaryTransaction(e){return this.immutableX.getNftPrimaryTransaction(e).then((e=>e.data))}getNftPrimaryTransactions(e){return this.immutableX.getNftPrimaryTransactions(e).then((e=>e.data))}}var rD=Object.freeze({__proto__:null,IMXError:MB,ImmutableXClient:nD,imxClientCreateStarkSigner:BC,imxClientGenerateLegacyStarkPrivateKey:YB});var iD={exports:{}};!function(e,t){e.exports=function(){var e=e||function(e,t){var n;if("undefined"!=typeof window&&window.crypto&&(n=window.crypto),"undefined"!=typeof self&&self.crypto&&(n=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(n=globalThis.crypto),!n&&"undefined"!=typeof window&&window.msCrypto&&(n=window.msCrypto),!n&&void 0!==ir&&ir.crypto&&(n=ir.crypto),!n)try{n=Gy}catch(e){}var r=function(){if(n){if("function"==typeof n.getRandomValues)try{return n.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof n.randomBytes)try{return n.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")},i=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),a={},s=a.lib={},o=s.Base={extend:function(e){var t=i(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},c=s.WordArray=o.extend({init:function(e,n){e=this.words=e||[],this.sigBytes=n!=t?n:4*e.length},toString:function(e){return(e||d).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,i=e.sigBytes;if(this.clamp(),r%4)for(var a=0;a<i;a++){var s=n[a>>>2]>>>24-a%4*8&255;t[r+a>>>2]|=s<<24-(r+a)%4*8}else for(var o=0;o<i;o+=4)t[r+o>>>2]=n[o>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=o.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],n=0;n<e;n+=4)t.push(r());return new c.init(t,e)}}),u=a.enc={},d=u.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var a=t[i>>>2]>>>24-i%4*8&255;r.push((a>>>4).toString(16)),r.push((15&a).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new c.init(n,t/2)}},f=u.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var a=t[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(a))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new c.init(n,t)}},l=u.Utf8={stringify:function(e){try{return decodeURIComponent(escape(f.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return f.parse(unescape(encodeURIComponent(e)))}},h=s.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new c.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=l.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n,r=this._data,i=r.words,a=r.sigBytes,s=this.blockSize,o=a/(4*s),u=(o=t?e.ceil(o):e.max((0|o)-this._minBufferSize,0))*s,d=e.min(4*u,a);if(u){for(var f=0;f<u;f+=s)this._doProcessBlock(i,f);n=i.splice(0,u),r.sigBytes-=d}return new c.init(n,d)},clone:function(){var e=o.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});s.Hasher=h.extend({cfg:o.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){h.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new p.HMAC.init(e,n).finalize(t)}}});var p=a.algo={};return a}(Math);return e}()}(iD);var aD=iD.exports,sD=ar(aD),oD={exports:{}};!function(e,t){e.exports=function(e){return function(t){var n=e,r=n.lib,i=r.WordArray,a=r.Hasher,s=n.algo,o=[],c=[];!function(){function e(e){for(var n=t.sqrt(e),r=2;r<=n;r++)if(!(e%r))return!1;return!0}function n(e){return 4294967296*(e-(0|e))|0}for(var r=2,i=0;i<64;)e(r)&&(i<8&&(o[i]=n(t.pow(r,.5))),c[i]=n(t.pow(r,1/3)),i++),r++}();var u=[],d=s.SHA256=a.extend({_doReset:function(){this._hash=new i.init(o.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],a=n[2],s=n[3],o=n[4],d=n[5],f=n[6],l=n[7],h=0;h<64;h++){if(h<16)u[h]=0|e[t+h];else{var p=u[h-15],m=(p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3,b=u[h-2],y=(b<<15|b>>>17)^(b<<13|b>>>19)^b>>>10;u[h]=m+u[h-7]+y+u[h-16]}var g=r&i^r&a^i&a,v=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),w=l+((o<<26|o>>>6)^(o<<21|o>>>11)^(o<<7|o>>>25))+(o&d^~o&f)+c[h]+u[h];l=f,f=d,d=o,o=s+w|0,s=a,a=i,i=r,r=w+(v+g)|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+a|0,n[3]=n[3]+s|0,n[4]=n[4]+o|0,n[5]=n[5]+d|0,n[6]=n[6]+f|0,n[7]=n[7]+l|0},_doFinalize:function(){var e=this._data,n=e.words,r=8*this._nDataBytes,i=8*e.sigBytes;return n[i>>>5]|=128<<24-i%32,n[14+(i+64>>>9<<4)]=t.floor(r/4294967296),n[15+(i+64>>>9<<4)]=r,e.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=a.clone.call(this);return e._hash=this._hash.clone(),e}});n.SHA256=a._createHelper(d),n.HmacSHA256=a._createHmacHelper(d)}(Math),e.SHA256}(aD)}(oD);var cD=oD.exports,uD=ar(cD),dD={exports:{}};!function(e,t){e.exports=function(e){return function(){var t=e,n=t.lib.WordArray;function r(e,t,r){for(var i=[],a=0,s=0;s<t;s++)if(s%4){var o=r[e.charCodeAt(s-1)]<<s%4*2|r[e.charCodeAt(s)]>>>6-s%4*2;i[a>>>2]|=o<<24-a%4*8,a++}return n.create(i,a)}t.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp();for(var i=[],a=0;a<n;a+=3)for(var s=(t[a>>>2]>>>24-a%4*8&255)<<16|(t[a+1>>>2]>>>24-(a+1)%4*8&255)<<8|t[a+2>>>2]>>>24-(a+2)%4*8&255,o=0;o<4&&a+.75*o<n;o++)i.push(r.charAt(s>>>6*(3-o)&63));var c=r.charAt(64);if(c)for(;i.length%4;)i.push(c);return i.join("")},parse:function(e){var t=e.length,n=this._map,i=this._reverseMap;if(!i){i=this._reverseMap=[];for(var a=0;a<n.length;a++)i[n.charCodeAt(a)]=a}var s=n.charAt(64);if(s){var o=e.indexOf(s);-1!==o&&(t=o)}return r(e,t,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),e.enc.Base64}(aD)}(dD);var fD=dD.exports,lD=ar(fD),hD={exports:{}};!function(e,t){e.exports=function(e){return e.enc.Utf8}(aD)}(hD);var pD=ar(hD.exports);function mD(e){this.message=e}mD.prototype=new Error,mD.prototype.name="InvalidCharacterError";var bD="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new mD("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,r,i=0,a=0,s="";r=t.charAt(a++);~r&&(n=i%4?64*n+r:r,i++%4)?s+=String.fromCharCode(255&n>>(-2*i&6)):0)r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(r);return s};function yD(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(bD(e).replace(/(.)/g,(function(e,t){var n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n})))}(t)}catch(e){return bD(t)}}function gD(e){this.message=e}function vD(e,t){if("string"!=typeof e)throw new gD("Invalid token specified");var n=!0===(t=t||{}).header?0:1;try{return JSON.parse(yD(e.split(".")[n]))}catch(e){throw new gD("Invalid token specified: "+e.message)}}gD.prototype=new Error,gD.prototype.name="InvalidTokenError";var wD,_D,ED,TD={debug:()=>{},info:()=>{},warn:()=>{},error:()=>{}},AD=(e=>(e[e.NONE=0]="NONE",e[e.ERROR=1]="ERROR",e[e.WARN=2]="WARN",e[e.INFO=3]="INFO",e[e.DEBUG=4]="DEBUG",e))(AD||{});(ED=AD||(AD={})).reset=function(){wD=3,_D=TD},ED.setLevel=function(e){if(!(0<=e&&e<=4))throw new Error("Invalid log level");wD=e},ED.setLogger=function(e){_D=e};var RD=class{constructor(e){this._name=e}debug(...e){wD>=4&&_D.debug(RD._format(this._name,this._method),...e)}info(...e){wD>=3&&_D.info(RD._format(this._name,this._method),...e)}warn(...e){wD>=2&&_D.warn(RD._format(this._name,this._method),...e)}error(...e){wD>=1&&_D.error(RD._format(this._name,this._method),...e)}throw(e){throw this.error(e),e}create(e){const t=Object.create(this);return t._method=e,t.debug("begin"),t}static createStatic(e,t){const n=new RD(`${e}.${t}`);return n.debug("begin"),n}static _format(e,t){const n=`[${e}]`;return t?`${n} ${t}:`:n}static debug(e,...t){wD>=4&&_D.debug(RD._format(e),...t)}static info(e,...t){wD>=3&&_D.info(RD._format(e),...t)}static warn(e,...t){wD>=2&&_D.warn(RD._format(e),...t)}static error(e,...t){wD>=1&&_D.error(RD._format(e),...t)}};AD.reset();var SD,kD=class{static _randomWord(){return sD.lib.WordArray.random(1).words[0]}static generateUUIDv4(){const e="10000000-1000-4000-8000-100000000000".replace(/[018]/g,(e=>(+e^kD._randomWord()&15>>+e/4).toString(16)));return e.replace(/-/g,"")}static generateCodeVerifier(){return kD.generateUUIDv4()+kD.generateUUIDv4()+kD.generateUUIDv4()}static generateCodeChallenge(e){try{const t=uD(e);return lD.stringify(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}catch(e){throw RD.error("CryptoUtils.generateCodeChallenge",e),e}}static generateBasicAuth(e,t){const n=pD.parse([e,t].join(":"));return lD.stringify(n)}},OD=class{constructor(e){this._name=e,this._logger=new RD(`Event('${this._name}')`),this._callbacks=[]}addHandler(e){return this._callbacks.push(e),()=>this.removeHandler(e)}removeHandler(e){const t=this._callbacks.lastIndexOf(e);t>=0&&this._callbacks.splice(t,1)}raise(...e){this._logger.debug("raise:",...e);for(const t of this._callbacks)t(...e)}},ID=class{static decode(e){try{return vD(e)}catch(e){throw RD.error("JwtUtils.decode",e),e}}},xD=class{static center({...e}){var t;return null==e.width&&(e.width=null!=(t=[800,720,600,480].find((e=>e<=window.outerWidth/1.618)))?t:360),null!=e.left||(e.left=Math.max(0,Math.round(window.screenX+(window.outerWidth-e.width)/2))),null!=e.height&&(null!=e.top||(e.top=Math.max(0,Math.round(window.screenY+(window.outerHeight-e.height)/2)))),e}static serialize(e){return Object.entries(e).filter((([,e])=>null!=e)).map((([e,t])=>`${e}=${"boolean"!=typeof t?t:t?"yes":"no"}`)).join(",")}},CD=class extends OD{constructor(){super(...arguments),this._logger=new RD(`Timer('${this._name}')`),this._timerHandle=null,this._expiration=0,this._callback=()=>{const e=this._expiration-CD.getEpochTime();this._logger.debug("timer completes in",e),this._expiration<=CD.getEpochTime()&&(this.cancel(),super.raise())}}static getEpochTime(){return Math.floor(Date.now()/1e3)}init(e){const t=this._logger.create("init");e=Math.max(Math.floor(e),1);const n=CD.getEpochTime()+e;if(this.expiration===n&&this._timerHandle)return void t.debug("skipping since already initialized for expiration at",this.expiration);this.cancel(),t.debug("using duration",e),this._expiration=n;const r=Math.min(e,5);this._timerHandle=setInterval(this._callback,1e3*r)}get expiration(){return this._expiration}cancel(){this._logger.create("cancel"),this._timerHandle&&(clearInterval(this._timerHandle),this._timerHandle=null)}},MD=class{static readParams(e,t="query"){if(!e)throw new TypeError("Invalid URL");const n=new URL(e,"http://127.0.0.1")["fragment"===t?"hash":"search"];return new URLSearchParams(n.slice(1))}},PD=class extends Error{constructor(e,t){var n,r,i;if(super(e.error_description||e.error||""),this.form=t,this.name="ErrorResponse",!e.error)throw RD.error("ErrorResponse","No error passed"),new Error("No error passed");this.error=e.error,this.error_description=null!=(n=e.error_description)?n:null,this.error_uri=null!=(r=e.error_uri)?r:null,this.state=e.userState,this.session_state=null!=(i=e.session_state)?i:null}},ND=class extends Error{constructor(e){super(e),this.name="ErrorTimeout"}},BD=class{constructor(e){this._logger=new RD("AccessTokenEvents"),this._expiringTimer=new CD("Access token expiring"),this._expiredTimer=new CD("Access token expired"),this._expiringNotificationTimeInSeconds=e.expiringNotificationTimeInSeconds}load(e){const t=this._logger.create("load");if(e.access_token&&void 0!==e.expires_in){const n=e.expires_in;if(t.debug("access token present, remaining duration:",n),n>0){let e=n-this._expiringNotificationTimeInSeconds;e<=0&&(e=1),t.debug("registering expiring timer, raising in",e,"seconds"),this._expiringTimer.init(e)}else t.debug("canceling existing expiring timer because we're past expiration."),this._expiringTimer.cancel();const r=n+1;t.debug("registering expired timer, raising in",r,"seconds"),this._expiredTimer.init(r)}else this._expiringTimer.cancel(),this._expiredTimer.cancel()}unload(){this._logger.debug("unload: canceling existing access token timers"),this._expiringTimer.cancel(),this._expiredTimer.cancel()}addAccessTokenExpiring(e){return this._expiringTimer.addHandler(e)}removeAccessTokenExpiring(e){this._expiringTimer.removeHandler(e)}addAccessTokenExpired(e){return this._expiredTimer.addHandler(e)}removeAccessTokenExpired(e){this._expiredTimer.removeHandler(e)}},DD=class{constructor(){this._logger=new RD("InMemoryWebStorage"),this._data={}}clear(){this._logger.create("clear"),this._data={}}getItem(e){return this._logger.create(`getItem('${e}')`),this._data[e]}setItem(e,t){this._logger.create(`setItem('${e}')`),this._data[e]=t}removeItem(e){this._logger.create(`removeItem('${e}')`),delete this._data[e]}get length(){return Object.getOwnPropertyNames(this._data).length}key(e){return Object.getOwnPropertyNames(this._data)[e]}},LD=class{constructor(e=[],t=null,n={}){this._jwtHandler=t,this._extraHeaders=n,this._logger=new RD("JsonService"),this._contentTypes=[],this._contentTypes.push(...e,"application/json"),t&&this._contentTypes.push("application/jwt")}async fetchWithTimeout(e,t={}){const{timeoutInSeconds:n,...r}=t;if(!n)return await fetch(e,r);const i=new AbortController,a=setTimeout((()=>i.abort()),1e3*n);try{return await fetch(e,{...t,signal:i.signal})}catch(e){if(e instanceof DOMException&&"AbortError"===e.name)throw new ND("Network timed out");throw e}finally{clearTimeout(a)}}async getJson(e,{token:t,credentials:n}={}){const r=this._logger.create("getJson"),i={Accept:this._contentTypes.join(", ")};let a;t&&(r.debug("token passed, setting Authorization header"),i.Authorization="Bearer "+t),this.appendExtraHeaders(i);try{r.debug("url:",e),a=await this.fetchWithTimeout(e,{method:"GET",headers:i,credentials:n})}catch(e){throw r.error("Network Error"),e}r.debug("HTTP response received, status",a.status);const s=a.headers.get("Content-Type");if(s&&!this._contentTypes.find((e=>s.startsWith(e)))&&r.throw(new Error(`Invalid response Content-Type: ${null!=s?s:"undefined"}, from URL: ${e}`)),a.ok&&this._jwtHandler&&(null==s?void 0:s.startsWith("application/jwt")))return await this._jwtHandler(await a.text());let o;try{o=await a.json()}catch(e){if(r.error("Error parsing JSON response",e),a.ok)throw e;throw new Error(`${a.statusText} (${a.status})`)}if(!a.ok){if(r.error("Error from server:",o),o.error)throw new PD(o);throw new Error(`${a.statusText} (${a.status}): ${JSON.stringify(o)}`)}return o}async postForm(e,{body:t,basicAuth:n,timeoutInSeconds:r,initCredentials:i}){const a=this._logger.create("postForm"),s={Accept:this._contentTypes.join(", "),"Content-Type":"application/x-www-form-urlencoded"};let o;void 0!==n&&(s.Authorization="Basic "+n),this.appendExtraHeaders(s);try{a.debug("url:",e),o=await this.fetchWithTimeout(e,{method:"POST",headers:s,body:t,timeoutInSeconds:r,credentials:i})}catch(e){throw a.error("Network error"),e}a.debug("HTTP response received, status",o.status);const c=o.headers.get("Content-Type");if(c&&!this._contentTypes.find((e=>c.startsWith(e))))throw new Error(`Invalid response Content-Type: ${null!=c?c:"undefined"}, from URL: ${e}`);const u=await o.text();let d={};if(u)try{d=JSON.parse(u)}catch(e){if(a.error("Error parsing JSON response",e),o.ok)throw e;throw new Error(`${o.statusText} (${o.status})`)}if(!o.ok){if(a.error("Error from server:",d),d.error)throw new PD(d,t);throw new Error(`${o.statusText} (${o.status}): ${JSON.stringify(d)}`)}return d}appendExtraHeaders(e){const t=this._logger.create("appendExtraHeaders"),n=Object.keys(this._extraHeaders),r=["authorization","accept","content-type"];0!==n.length&&n.forEach((n=>{if(r.includes(n.toLocaleLowerCase()))return void t.warn("Protected header could not be overridden",n,r);const i="function"==typeof this._extraHeaders[n]?this._extraHeaders[n]():this._extraHeaders[n];i&&""!==i&&(e[n]=i)}))}},FD=class{constructor({prefix:e="oidc.",store:t=localStorage}={}){this._logger=new RD("WebStorageStateStore"),this._store=t,this._prefix=e}async set(e,t){this._logger.create(`set('${e}')`),e=this._prefix+e,await this._store.setItem(e,t)}async get(e){this._logger.create(`get('${e}')`),e=this._prefix+e;return await this._store.getItem(e)}async remove(e){this._logger.create(`remove('${e}')`),e=this._prefix+e;const t=await this._store.getItem(e);return await this._store.removeItem(e),t}async getAllKeys(){this._logger.create("getAllKeys");const e=await this._store.length,t=[];for(let n=0;n<e;n++){const e=await this._store.key(n);e&&0===e.indexOf(this._prefix)&&t.push(e.substr(this._prefix.length))}return t}},UD=class{constructor({authority:e,metadataUrl:t,metadata:n,signingKeys:r,metadataSeed:i,client_id:a,client_secret:s,response_type:o="code",scope:c="openid",redirect_uri:u,post_logout_redirect_uri:d,client_authentication:f="client_secret_post",prompt:l,display:h,max_age:p,ui_locales:m,acr_values:b,resource:y,response_mode:g="query",filterProtocolClaims:v=!0,loadUserInfo:w=!1,staleStateAgeInSeconds:_=900,clockSkewInSeconds:E=300,userInfoJwtIssuer:T="OP",mergeClaims:A=!1,disablePKCE:R=!1,stateStore:S,refreshTokenCredentials:k,revokeTokenAdditionalContentTypes:O,fetchRequestCredentials:I,refreshTokenAllowedScope:x,extraQueryParams:C={},extraTokenParams:M={},extraHeaders:P={}}){if(this.authority=e,t?this.metadataUrl=t:(this.metadataUrl=e,e&&(this.metadataUrl.endsWith("/")||(this.metadataUrl+="/"),this.metadataUrl+=".well-known/openid-configuration")),this.metadata=n,this.metadataSeed=i,this.signingKeys=r,this.client_id=a,this.client_secret=s,this.response_type=o,this.scope=c,this.redirect_uri=u,this.post_logout_redirect_uri=d,this.client_authentication=f,this.prompt=l,this.display=h,this.max_age=p,this.ui_locales=m,this.acr_values=b,this.resource=y,this.response_mode=g,this.filterProtocolClaims=null==v||v,this.loadUserInfo=!!w,this.staleStateAgeInSeconds=_,this.clockSkewInSeconds=E,this.userInfoJwtIssuer=T,this.mergeClaims=!!A,this.disablePKCE=!!R,this.revokeTokenAdditionalContentTypes=O,I&&k&&console.warn("Both fetchRequestCredentials and refreshTokenCredentials is set. Only fetchRequestCredentials will be used."),this.fetchRequestCredentials=I||(k||"same-origin"),S)this.stateStore=S;else{const e="undefined"!=typeof window?window.localStorage:new DD;this.stateStore=new FD({store:e})}this.refreshTokenAllowedScope=x,this.extraQueryParams=C,this.extraTokenParams=M,this.extraHeaders=P}},jD=class{constructor(e,t){this._settings=e,this._metadataService=t,this._logger=new RD("TokenClient"),this._jsonService=new LD(this._settings.revokeTokenAdditionalContentTypes,null,this._settings.extraHeaders)}async exchangeCode({grant_type:e="authorization_code",redirect_uri:t=this._settings.redirect_uri,client_id:n=this._settings.client_id,client_secret:r=this._settings.client_secret,...i}){const a=this._logger.create("exchangeCode");n||a.throw(new Error("A client_id is required")),t||a.throw(new Error("A redirect_uri is required")),i.code||a.throw(new Error("A code is required"));const s=new URLSearchParams({grant_type:e,redirect_uri:t});for(const[e,t]of Object.entries(i))null!=t&&s.set(e,t);let o;switch(this._settings.client_authentication){case"client_secret_basic":if(!r)throw a.throw(new Error("A client_secret is required")),null;o=kD.generateBasicAuth(n,r);break;case"client_secret_post":s.append("client_id",n),r&&s.append("client_secret",r)}const c=await this._metadataService.getTokenEndpoint(!1);a.debug("got token endpoint");const u=await this._jsonService.postForm(c,{body:s,basicAuth:o,initCredentials:this._settings.fetchRequestCredentials});return a.debug("got response"),u}async exchangeCredentials({grant_type:e="password",client_id:t=this._settings.client_id,client_secret:n=this._settings.client_secret,scope:r=this._settings.scope,...i}){const a=this._logger.create("exchangeCredentials");t||a.throw(new Error("A client_id is required"));const s=new URLSearchParams({grant_type:e,scope:r});for(const[e,t]of Object.entries(i))null!=t&&s.set(e,t);let o;switch(this._settings.client_authentication){case"client_secret_basic":if(!n)throw a.throw(new Error("A client_secret is required")),null;o=kD.generateBasicAuth(t,n);break;case"client_secret_post":s.append("client_id",t),n&&s.append("client_secret",n)}const c=await this._metadataService.getTokenEndpoint(!1);a.debug("got token endpoint");const u=await this._jsonService.postForm(c,{body:s,basicAuth:o,initCredentials:this._settings.fetchRequestCredentials});return a.debug("got response"),u}async exchangeRefreshToken({grant_type:e="refresh_token",client_id:t=this._settings.client_id,client_secret:n=this._settings.client_secret,timeoutInSeconds:r,...i}){const a=this._logger.create("exchangeRefreshToken");t||a.throw(new Error("A client_id is required")),i.refresh_token||a.throw(new Error("A refresh_token is required"));const s=new URLSearchParams({grant_type:e});for(const[e,t]of Object.entries(i))null!=t&&s.set(e,t);let o;switch(this._settings.client_authentication){case"client_secret_basic":if(!n)throw a.throw(new Error("A client_secret is required")),null;o=kD.generateBasicAuth(t,n);break;case"client_secret_post":s.append("client_id",t),n&&s.append("client_secret",n)}const c=await this._metadataService.getTokenEndpoint(!1);a.debug("got token endpoint");const u=await this._jsonService.postForm(c,{body:s,basicAuth:o,timeoutInSeconds:r,initCredentials:this._settings.fetchRequestCredentials});return a.debug("got response"),u}async revoke(e){var t;const n=this._logger.create("revoke");e.token||n.throw(new Error("A token is required"));const r=await this._metadataService.getRevocationEndpoint(!1);n.debug(`got revocation endpoint, revoking ${null!=(t=e.token_type_hint)?t:"default token type"}`);const i=new URLSearchParams;for(const[t,n]of Object.entries(e))null!=n&&i.set(t,n);i.set("client_id",this._settings.client_id),this._settings.client_secret&&i.set("client_secret",this._settings.client_secret),await this._jsonService.postForm(r,{body:i}),n.debug("got response")}},qD=class{constructor(e){this.id=e.id||kD.generateUUIDv4(),this.data=e.data,e.created&&e.created>0?this.created=e.created:this.created=CD.getEpochTime(),this.request_type=e.request_type}toStorageString(){return new RD("State").create("toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type})}static fromStorageString(e){return RD.createStatic("State","fromStorageString"),new qD(JSON.parse(e))}static async clearStaleState(e,t){const n=RD.createStatic("State","clearStaleState"),r=CD.getEpochTime()-t,i=await e.getAllKeys();n.debug("got keys",i);for(let t=0;t<i.length;t++){const a=i[t],s=await e.get(a);let o=!1;if(s)try{const e=qD.fromStorageString(s);n.debug("got item from key:",a,e.created),e.created<=r&&(o=!0)}catch(e){n.error("Error parsing state for key:",a,e),o=!0}else n.debug("no item in storage for key:",a),o=!0;o&&(n.debug("removed item for key:",a),e.remove(a))}}},zD=class extends qD{constructor(e){super(e),!0===e.code_verifier?this.code_verifier=kD.generateCodeVerifier():e.code_verifier&&(this.code_verifier=e.code_verifier),this.code_verifier&&(this.code_challenge=kD.generateCodeChallenge(this.code_verifier)),this.authority=e.authority,this.client_id=e.client_id,this.redirect_uri=e.redirect_uri,this.scope=e.scope,this.client_secret=e.client_secret,this.extraTokenParams=e.extraTokenParams,this.response_mode=e.response_mode,this.skipUserInfo=e.skipUserInfo}toStorageString(){return new RD("SigninState").create("toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type,code_verifier:this.code_verifier,authority:this.authority,client_id:this.client_id,redirect_uri:this.redirect_uri,scope:this.scope,client_secret:this.client_secret,extraTokenParams:this.extraTokenParams,response_mode:this.response_mode,skipUserInfo:this.skipUserInfo})}static fromStorageString(e){RD.createStatic("SigninState","fromStorageString");const t=JSON.parse(e);return new zD(t)}},HD=class{constructor(e){this.access_token="",this.token_type="",this.profile={},this.state=e.get("state"),this.session_state=e.get("session_state"),this.error=e.get("error"),this.error_description=e.get("error_description"),this.error_uri=e.get("error_uri"),this.code=e.get("code")}get expires_in(){if(void 0!==this.expires_at)return this.expires_at-CD.getEpochTime()}set expires_in(e){"string"==typeof e&&(e=Number(e)),void 0!==e&&e>=0&&(this.expires_at=Math.floor(e)+CD.getEpochTime())}get isOpenId(){var e;return(null==(e=this.scope)?void 0:e.split(" ").includes("openid"))||!!this.id_token}},GD=["nbf","jti","auth_time","nonce","acr","amr","azp","at_hash"],WD=["sub","iss","aud","exp","iat"],VD=class{constructor(e){var t;this.id_token=e.id_token,this.session_state=null!=(t=e.session_state)?t:null,this.access_token=e.access_token,this.refresh_token=e.refresh_token,this.token_type=e.token_type,this.scope=e.scope,this.profile=e.profile,this.expires_at=e.expires_at,this.state=e.userState}get expires_in(){if(void 0!==this.expires_at)return this.expires_at-CD.getEpochTime()}set expires_in(e){void 0!==e&&(this.expires_at=Math.floor(e)+CD.getEpochTime())}get expired(){const e=this.expires_in;if(void 0!==e)return e<=0}get scopes(){var e,t;return null!=(t=null==(e=this.scope)?void 0:e.split(" "))?t:[]}toStorageString(){return new RD("User").create("toStorageString"),JSON.stringify({id_token:this.id_token,session_state:this.session_state,access_token:this.access_token,refresh_token:this.refresh_token,token_type:this.token_type,scope:this.scope,profile:this.profile,expires_at:this.expires_at})}static fromStorageString(e){return RD.createStatic("User","fromStorageString"),new VD(JSON.parse(e))}},KD="oidc-client",XD=class{constructor(){this._abort=new OD("Window navigation aborted"),this._disposeHandlers=new Set,this._window=null}async navigate(e){const t=this._logger.create("navigate");if(!this._window)throw new Error("Attempted to navigate on a disposed window");t.debug("setting URL in window"),this._window.location.replace(e.url);const{url:n,keepOpen:r}=await new Promise(((n,r)=>{const i=i=>{var a;const s=i.data,o=null!=(a=e.scriptOrigin)?a:window.location.origin;if(i.origin===o&&(null==s?void 0:s.source)===KD){try{const n=MD.readParams(s.url,e.response_mode).get("state");if(n||t.warn("no state found in response url"),i.source!==this._window&&n!==e.state)return}catch(e){this._dispose(),r(new Error("Invalid response from window"))}n(s)}};window.addEventListener("message",i,!1),this._disposeHandlers.add((()=>window.removeEventListener("message",i,!1))),this._disposeHandlers.add(this._abort.addHandler((e=>{this._dispose(),r(e)})))}));return t.debug("got response from window"),this._dispose(),r||this.close(),{url:n}}_dispose(){this._logger.create("_dispose");for(const e of this._disposeHandlers)e();this._disposeHandlers.clear()}static _notifyParent(e,t,n=!1,r=window.location.origin){e.postMessage({source:KD,url:t,keepOpen:n},r)}},$D={location:!1,toolbar:!1,height:640},JD="_blank",YD=60,QD=2,ZD=10,eL=class extends UD{constructor(e){const{popup_redirect_uri:t=e.redirect_uri,popup_post_logout_redirect_uri:n=e.post_logout_redirect_uri,popupWindowFeatures:r=$D,popupWindowTarget:i=JD,redirectMethod:a="assign",redirectTarget:s="self",iframeNotifyParentOrigin:o=e.iframeNotifyParentOrigin,iframeScriptOrigin:c=e.iframeScriptOrigin,silent_redirect_uri:u=e.redirect_uri,silentRequestTimeoutInSeconds:d=ZD,automaticSilentRenew:f=!0,validateSubOnSilentRenew:l=!0,includeIdTokenInSilentRenew:h=!1,monitorSession:p=!1,monitorAnonymousSession:m=!1,checkSessionIntervalInSeconds:b=QD,query_status_response_type:y="code",stopCheckSessionOnError:g=!0,revokeTokenTypes:v=["access_token","refresh_token"],revokeTokensOnSignout:w=!1,includeIdTokenInSilentSignout:_=!1,accessTokenExpiringNotificationTimeInSeconds:E=YD,userStore:T}=e;if(super(e),this.popup_redirect_uri=t,this.popup_post_logout_redirect_uri=n,this.popupWindowFeatures=r,this.popupWindowTarget=i,this.redirectMethod=a,this.redirectTarget=s,this.iframeNotifyParentOrigin=o,this.iframeScriptOrigin=c,this.silent_redirect_uri=u,this.silentRequestTimeoutInSeconds=d,this.automaticSilentRenew=f,this.validateSubOnSilentRenew=l,this.includeIdTokenInSilentRenew=h,this.monitorSession=p,this.monitorAnonymousSession=m,this.checkSessionIntervalInSeconds=b,this.stopCheckSessionOnError=g,this.query_status_response_type=y,this.revokeTokenTypes=v,this.revokeTokensOnSignout=w,this.includeIdTokenInSilentSignout=_,this.accessTokenExpiringNotificationTimeInSeconds=E,T)this.userStore=T;else{const e="undefined"!=typeof window?window.sessionStorage:new DD;this.userStore=new FD({store:e})}}},tL=class extends XD{constructor({silentRequestTimeoutInSeconds:e=ZD}){super(),this._logger=new RD("IFrameWindow"),this._timeoutInSeconds=e,this._frame=tL.createHiddenIframe(),this._window=this._frame.contentWindow}static createHiddenIframe(){const e=window.document.createElement("iframe");return e.style.visibility="hidden",e.style.position="fixed",e.style.left="-1000px",e.style.top="0",e.width="0",e.height="0",e.setAttribute("sandbox","allow-scripts allow-same-origin allow-forms"),window.document.body.appendChild(e),e}async navigate(e){this._logger.debug("navigate: Using timeout of:",this._timeoutInSeconds);const t=setTimeout((()=>this._abort.raise(new ND("IFrame timed out without a response"))),1e3*this._timeoutInSeconds);return this._disposeHandlers.add((()=>clearTimeout(t))),await super.navigate(e)}close(){var e;this._frame&&(this._frame.parentNode&&(this._frame.addEventListener("load",(e=>{var t;const n=e.target;null==(t=n.parentNode)||t.removeChild(n),this._abort.raise(new Error("IFrame removed from DOM"))}),!0),null==(e=this._frame.contentWindow)||e.location.replace("about:blank")),this._frame=null),this._window=null}static notifyParent(e,t){return super._notifyParent(window.parent,e,!1,t)}},nL=class extends XD{constructor({popupWindowTarget:e=JD,popupWindowFeatures:t={}}){super(),this._logger=new RD("PopupWindow");const n=xD.center({...$D,...t});this._window=window.open(void 0,e,xD.serialize(n))}async navigate(e){var t;null==(t=this._window)||t.focus();const n=setInterval((()=>{this._window&&!this._window.closed||this._abort.raise(new Error("Popup closed by user"))}),500);return this._disposeHandlers.add((()=>clearInterval(n))),await super.navigate(e)}close(){this._window&&(this._window.closed||(this._window.close(),this._abort.raise(new Error("Popup closed")))),this._window=null}static notifyOpener(e,t){if(!window.opener)throw new Error("No window.opener. Can't complete notification.");return super._notifyParent(window.opener,e,t)}},rL=class extends BD{constructor(e){super({expiringNotificationTimeInSeconds:e.accessTokenExpiringNotificationTimeInSeconds}),this._logger=new RD("UserManagerEvents"),this._userLoaded=new OD("User loaded"),this._userUnloaded=new OD("User unloaded"),this._silentRenewError=new OD("Silent renew error"),this._userSignedIn=new OD("User signed in"),this._userSignedOut=new OD("User signed out"),this._userSessionChanged=new OD("User session changed")}load(e,t=!0){super.load(e),t&&this._userLoaded.raise(e)}unload(){super.unload(),this._userUnloaded.raise()}addUserLoaded(e){return this._userLoaded.addHandler(e)}removeUserLoaded(e){return this._userLoaded.removeHandler(e)}addUserUnloaded(e){return this._userUnloaded.addHandler(e)}removeUserUnloaded(e){return this._userUnloaded.removeHandler(e)}addSilentRenewError(e){return this._silentRenewError.addHandler(e)}removeSilentRenewError(e){return this._silentRenewError.removeHandler(e)}_raiseSilentRenewError(e){this._silentRenewError.raise(e)}addUserSignedIn(e){return this._userSignedIn.addHandler(e)}removeUserSignedIn(e){this._userSignedIn.removeHandler(e)}_raiseUserSignedIn(){this._userSignedIn.raise()}addUserSignedOut(e){return this._userSignedOut.addHandler(e)}removeUserSignedOut(e){this._userSignedOut.removeHandler(e)}_raiseUserSignedOut(){this._userSignedOut.raise()}addUserSessionChanged(e){return this._userSessionChanged.addHandler(e)}removeUserSessionChanged(e){this._userSessionChanged.removeHandler(e)}_raiseUserSessionChanged(){this._userSessionChanged.raise()}},iL=(e=>(e.MissingApiKey="MISSING_API_KEY",e.ModalNotReady="MODAL_NOT_READY",e.MalformedResponse="MALFORMED_RESPONSE",e.InvalidArgument="INVALID_ARGUMENT",e.ExtensionNotInitialized="EXTENSION_NOT_INITIALIZED",e.IncompatibleExtensions="INCOMPATIBLE_EXTENSIONS",e))(iL||{}),aL=((SD=aL||{}).SyncWeb3Method="SYNC_WEB3_METHOD",SD.DuplicateIframe="DUPLICATE_IFRAME",SD.ReactNativeEndpointConfiguration="REACT_NATIVE_ENDPOINT_CONFIGURATION",SD.DeprecationNotice="DEPRECATION_NOTICE",SD),sL=(e=>(e[e.ParseError=-32700]="ParseError",e[e.InvalidRequest=-32600]="InvalidRequest",e[e.MethodNotFound=-32601]="MethodNotFound",e[e.InvalidParams=-32602]="InvalidParams",e[e.InternalError=-32603]="InternalError",e[e.MagicLinkFailedVerification=-1e4]="MagicLinkFailedVerification",e[e.MagicLinkExpired=-10001]="MagicLinkExpired",e[e.MagicLinkRateLimited=-10002]="MagicLinkRateLimited",e[e.MagicLinkInvalidRedirectURL=-10006]="MagicLinkInvalidRedirectURL",e[e.UserAlreadyLoggedIn=-10003]="UserAlreadyLoggedIn",e[e.UpdateEmailFailed=-10004]="UpdateEmailFailed",e[e.UserRequestEditEmail=-10005]="UserRequestEditEmail",e[e.InactiveRecipient=-10010]="InactiveRecipient",e[e.AccessDeniedToUser=-10011]="AccessDeniedToUser",e[e.RedirectLoginComplete=-10015]="RedirectLoginComplete",e))(sL||{}),oL=(e=>(e.MetaMask="metamask",e.CoinbaseWallet="coinbase_wallet",e))(oL||{}),cL=(e=>(e.WalletSelected="wallet_selected",e.WalletConnected="wallet_connected",e.WalletRejected="wallet_rejected",e))(cL||{}),uL=(e=>(e.LoginWithSms="magic_auth_login_with_sms",e.LoginWithEmailOTP="magic_auth_login_with_email_otp",e.LoginWithMagicLink="magic_auth_login_with_magic_link",e.LoginWithCredential="magic_auth_login_with_credential",e.SetAuthorizationToken="magic_auth_set_authorization_token",e.GetIdToken="magic_auth_get_id_token",e.GenerateIdToken="magic_auth_generate_id_token",e.GetMetadata="magic_auth_get_metadata",e.IsLoggedIn="magic_is_logged_in",e.Logout="magic_auth_logout",e.UpdateEmail="magic_auth_update_email",e.UserSettings="magic_auth_settings",e.UserSettingsTestMode="magic_auth_settings_testing_mode",e.LoginWithSmsTestMode="magic_auth_login_with_sms_testing_mode",e.LoginWithEmailOTPTestMode="magic_auth_login_with_email_otp_testing_mode",e.LoginWithMagicLinkTestMode="magic_login_with_magic_link_testing_mode",e.LoginWithCredentialTestMode="magic_auth_login_with_credential_testing_mode",e.GetIdTokenTestMode="magic_auth_get_id_token_testing_mode",e.GenerateIdTokenTestMode="magic_auth_generate_id_token_testing_mode",e.GetMetadataTestMode="magic_auth_get_metadata_testing_mode",e.IsLoggedInTestMode="magic_auth_is_logged_in_testing_mode",e.LogoutTestMode="magic_auth_logout_testing_mode",e.UpdateEmailTestMode="magic_auth_update_email_testing_mode",e.IntermediaryEvent="magic_intermediary_event",e.RequestAccounts="eth_requestAccounts",e.GetInfo="magic_get_info",e.ShowUI="magic_wallet",e.NFTPurchase="magic_nft_purchase",e.NFTCheckout="magic_nft_checkout",e.NFTTransfer="magic_nft_transfer",e.RequestUserInfoWithUI="mc_request_user_info",e.Disconnect="mc_disconnect",e.RecoverAccount="magic_auth_recover_account",e.RecoverAccountTestMode="magic_auth_recover_account_testing_mode",e.MagicBoxHeartBeat="magic_box_heart_beat",e.AutoConnect="mc_auto_connect",e.Login="mc_login",e.EncryptV1="magic_auth_encrypt_v1",e.DecryptV1="magic_auth_decrypt_v1",e.ShowNFTs="magic_show_nfts",e.ShowOnRamp="magic_show_fiat_onramp",e.ShowSendTokensUI="magic_show_send_tokens_ui",e.ShowAddress="magic_show_address",e.ShowBalances="magic_show_balances",e.SendGaslessTransaction="eth_sendGaslessTransaction",e))(uL||{}),dL=(e=>(e.MAGIC_HANDLE_RESPONSE="MAGIC_HANDLE_RESPONSE",e.MAGIC_OVERLAY_READY="MAGIC_OVERLAY_READY",e.MAGIC_SHOW_OVERLAY="MAGIC_SHOW_OVERLAY",e.MAGIC_HIDE_OVERLAY="MAGIC_HIDE_OVERLAY",e.MAGIC_HANDLE_EVENT="MAGIC_HANDLE_EVENT",e.MAGIC_MG_BOX_SEND_RECEIPT="MAGIC_MG_BOX_SEND_RECEIPT",e))(dL||{}),fL=(e=>(e.MAGIC_HANDLE_REQUEST="MAGIC_HANDLE_REQUEST",e))(fL||{}),lL=(e=>(e.UpdateEmail="update-email",e.MFA="mfa",e.Recovery="recovery",e))(lL||{}),hL=(e=>(e.Retry="retry",e))(hL||{}),pL=(e=>(e.EmailSent="email-sent",e.EmailNotDeliverable="email-not-deliverable",e))(pL||{}),mL=(e=>(e.VerifyEmailOtp="verify-email-otp",e.Cancel="cancel",e))(mL||{}),bL=(e=>(e.EmailOTPSent="email-otp-sent",e.InvalidEmailOtp="invalid-email-otp",e.ExpiredEmailOtp="expired-email-otp",e))(bL||{}),yL=(e=>(e.Retry="device-retry",e))(yL||{}),gL=(e=>(e.DeviceApproved="device-approved",e.DeviceNeedsApproval="device-needs-approval",e.DeviceVerificationLinkExpired="device-verification-link-expired",e.DeviceVerificationEmailSent="device-verification-email-sent",e))(gL||{}),vL=(e=>(e.Harmony="HARMONY",e))(vL||{}),wL=(e=>(e.PhoneNumber="phone_number",e))(wL||{}),_L=Object.create,EL=Object.defineProperty,TL=Object.defineProperties,AL=Object.getOwnPropertyDescriptor,RL=Object.getOwnPropertyDescriptors,SL=Object.getOwnPropertyNames,kL=Object.getOwnPropertySymbols,OL=Object.getPrototypeOf,IL=Object.prototype.hasOwnProperty,xL=Object.prototype.propertyIsEnumerable,CL=(e,t,n)=>t in e?EL(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ML=(e,t)=>{for(var n in t||(t={}))IL.call(t,n)&&CL(e,n,t[n]);if(kL)for(var n of kL(t))xL.call(t,n)&&CL(e,n,t[n]);return e},PL=(e,t)=>TL(e,RL(t)),NL=(e,t,n)=>new Promise(((r,i)=>{var a=e=>{try{o(n.next(e))}catch(e){i(e)}},s=e=>{try{o(n.throw(e))}catch(e){i(e)}},o=e=>e.done?r(e.value):Promise.resolve(e.value).then(a,s);o((n=n.apply(e,t)).next())})),BL=((e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports))(((e,t)=>{var n=Object.prototype.hasOwnProperty,r="~";function i(){}function a(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function s(e,t,n,i,s){if("function"!=typeof n)throw new TypeError("The listener must be a function");var o=new a(n,i||e,s),c=r?r+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],o]:e._events[c].push(o):(e._events[c]=o,e._eventsCount++),e}function o(e,t){0==--e._eventsCount?e._events=new i:delete e._events[t]}function c(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(r=!1)),c.prototype.eventNames=function(){var e,t,i=[];if(0===this._eventsCount)return i;for(t in e=this._events)n.call(e,t)&&i.push(r?t.slice(1):t);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},c.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,a=n.length,s=new Array(a);i<a;i++)s[i]=n[i].fn;return s},c.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},c.prototype.emit=function(e,t,n,i,a,s){var o=r?r+e:e;if(!this._events[o])return!1;var c,u,d=this._events[o],f=arguments.length;if(d.fn){switch(d.once&&this.removeListener(e,d.fn,void 0,!0),f){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,t),!0;case 3:return d.fn.call(d.context,t,n),!0;case 4:return d.fn.call(d.context,t,n,i),!0;case 5:return d.fn.call(d.context,t,n,i,a),!0;case 6:return d.fn.call(d.context,t,n,i,a,s),!0}for(u=1,c=new Array(f-1);u<f;u++)c[u-1]=arguments[u];d.fn.apply(d.context,c)}else{var l,h=d.length;for(u=0;u<h;u++)switch(d[u].once&&this.removeListener(e,d[u].fn,void 0,!0),f){case 1:d[u].fn.call(d[u].context);break;case 2:d[u].fn.call(d[u].context,t);break;case 3:d[u].fn.call(d[u].context,t,n);break;case 4:d[u].fn.call(d[u].context,t,n,i);break;default:if(!c)for(l=1,c=new Array(f-1);l<f;l++)c[l-1]=arguments[l];d[u].fn.apply(d[u].context,c)}}return!0},c.prototype.on=function(e,t,n){return s(this,e,t,n,!1)},c.prototype.once=function(e,t,n){return s(this,e,t,n,!0)},c.prototype.removeListener=function(e,t,n,i){var a=r?r+e:e;if(!this._events[a])return this;if(!t)return o(this,a),this;var s=this._events[a];if(s.fn)s.fn===t&&(!i||s.once)&&(!n||s.context===n)&&o(this,a);else{for(var c=0,u=[],d=s.length;c<d;c++)(s[c].fn!==t||i&&!s[c].once||n&&s[c].context!==n)&&u.push(s[c]);u.length?this._events[a]=1===u.length?u[0]:u:o(this,a)}return this},c.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&o(this,t)):(this._events=new i,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=r,c.EventEmitter=c,typeof t<"u"&&(t.exports=c)}));var DL={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991,MAX_SAFE_COMPONENT_LENGTH:16},LL="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{},FL=LL,UL=function(e){let t={exports:{}};return e(t,t.exports),t.exports}((function(e,t){let{MAX_SAFE_COMPONENT_LENGTH:n}=DL,r=(t=e.exports={}).re=[],i=t.src=[],a=t.t={},s=0,o=(e,t,n)=>{let o=s++;FL(o,t),a[e]=o,i[o]=t,r[o]=new RegExp(t,n?"g":void 0)};o("NUMERICIDENTIFIER","0|[1-9]\\d*"),o("NUMERICIDENTIFIERLOOSE","[0-9]+"),o("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),o("MAINVERSION",`(${i[a.NUMERICIDENTIFIER]})\\.(${i[a.NUMERICIDENTIFIER]})\\.(${i[a.NUMERICIDENTIFIER]})`),o("MAINVERSIONLOOSE",`(${i[a.NUMERICIDENTIFIERLOOSE]})\\.(${i[a.NUMERICIDENTIFIERLOOSE]})\\.(${i[a.NUMERICIDENTIFIERLOOSE]})`),o("PRERELEASEIDENTIFIER",`(?:${i[a.NUMERICIDENTIFIER]}|${i[a.NONNUMERICIDENTIFIER]})`),o("PRERELEASEIDENTIFIERLOOSE",`(?:${i[a.NUMERICIDENTIFIERLOOSE]}|${i[a.NONNUMERICIDENTIFIER]})`),o("PRERELEASE",`(?:-(${i[a.PRERELEASEIDENTIFIER]}(?:\\.${i[a.PRERELEASEIDENTIFIER]})*))`),o("PRERELEASELOOSE",`(?:-?(${i[a.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${i[a.PRERELEASEIDENTIFIERLOOSE]})*))`),o("BUILDIDENTIFIER","[0-9A-Za-z-]+"),o("BUILD",`(?:\\+(${i[a.BUILDIDENTIFIER]}(?:\\.${i[a.BUILDIDENTIFIER]})*))`),o("FULLPLAIN",`v?${i[a.MAINVERSION]}${i[a.PRERELEASE]}?${i[a.BUILD]}?`),o("FULL",`^${i[a.FULLPLAIN]}$`),o("LOOSEPLAIN",`[v=\\s]*${i[a.MAINVERSIONLOOSE]}${i[a.PRERELEASELOOSE]}?${i[a.BUILD]}?`),o("LOOSE",`^${i[a.LOOSEPLAIN]}$`),o("GTLT","((?:<|>)?=?)"),o("XRANGEIDENTIFIERLOOSE",`${i[a.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),o("XRANGEIDENTIFIER",`${i[a.NUMERICIDENTIFIER]}|x|X|\\*`),o("XRANGEPLAIN",`[v=\\s]*(${i[a.XRANGEIDENTIFIER]})(?:\\.(${i[a.XRANGEIDENTIFIER]})(?:\\.(${i[a.XRANGEIDENTIFIER]})(?:${i[a.PRERELEASE]})?${i[a.BUILD]}?)?)?`),o("XRANGEPLAINLOOSE",`[v=\\s]*(${i[a.XRANGEIDENTIFIERLOOSE]})(?:\\.(${i[a.XRANGEIDENTIFIERLOOSE]})(?:\\.(${i[a.XRANGEIDENTIFIERLOOSE]})(?:${i[a.PRERELEASELOOSE]})?${i[a.BUILD]}?)?)?`),o("XRANGE",`^${i[a.GTLT]}\\s*${i[a.XRANGEPLAIN]}$`),o("XRANGELOOSE",`^${i[a.GTLT]}\\s*${i[a.XRANGEPLAINLOOSE]}$`),o("COERCE",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?(?:$|[^\\d])`),o("COERCERTL",i[a.COERCE],!0),o("LONETILDE","(?:~>?)"),o("TILDETRIM",`(\\s*)${i[a.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",o("TILDE",`^${i[a.LONETILDE]}${i[a.XRANGEPLAIN]}$`),o("TILDELOOSE",`^${i[a.LONETILDE]}${i[a.XRANGEPLAINLOOSE]}$`),o("LONECARET","(?:\\^)"),o("CARETTRIM",`(\\s*)${i[a.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",o("CARET",`^${i[a.LONECARET]}${i[a.XRANGEPLAIN]}$`),o("CARETLOOSE",`^${i[a.LONECARET]}${i[a.XRANGEPLAINLOOSE]}$`),o("COMPARATORLOOSE",`^${i[a.GTLT]}\\s*(${i[a.LOOSEPLAIN]})$|^$`),o("COMPARATOR",`^${i[a.GTLT]}\\s*(${i[a.FULLPLAIN]})$|^$`),o("COMPARATORTRIM",`(\\s*)${i[a.GTLT]}\\s*(${i[a.LOOSEPLAIN]}|${i[a.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",o("HYPHENRANGE",`^\\s*(${i[a.XRANGEPLAIN]})\\s+-\\s+(${i[a.XRANGEPLAIN]})\\s*$`),o("HYPHENRANGELOOSE",`^\\s*(${i[a.XRANGEPLAINLOOSE]})\\s+-\\s+(${i[a.XRANGEPLAINLOOSE]})\\s*$`),o("STAR","(<|>)?=?\\s*\\*"),o("GTE0","^\\s*>=\\s*0.0.0\\s*$"),o("GTE0PRE","^\\s*>=\\s*0.0.0-0\\s*$")})),jL=/^[0-9]+$/,qL=(e,t)=>{let n=jL.test(e),r=jL.test(t);return n&&r&&(e=+e,t=+t),e===t?0:n&&!r?-1:r&&!n?1:e<t?-1:1},zL={compareIdentifiers:qL,rcompareIdentifiers:(e,t)=>qL(t,e)},{MAX_LENGTH:HL,MAX_SAFE_INTEGER:GL}=DL,{re:WL,t:VL}=UL,{compareIdentifiers:KL}=zL,XL=class{constructor(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof XL){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid Version: ${e}`);if(e.length>HL)throw new TypeError(`version is longer than ${HL} characters`);FL("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;let n=e.trim().match(t.loose?WL[VL.LOOSE]:WL[VL.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>GL||this.major<0)throw new TypeError("Invalid major version");if(this.minor>GL||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>GL||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){let t=+e;if(t>=0&&t<GL)return t}return e})):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(FL("SemVer.compare",this.version,this.options,e),!(e instanceof XL)){if("string"==typeof e&&e===this.version)return 0;e=new XL(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof XL||(e=new XL(e,this.options)),KL(this.major,e.major)||KL(this.minor,e.minor)||KL(this.patch,e.patch)}comparePre(e){if(e instanceof XL||(e=new XL(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{let n=this.prerelease[t],r=e.prerelease[t];if(FL("prerelease compare",t,n,r),void 0===n&&void 0===r)return 0;if(void 0===r)return 1;if(void 0===n)return-1;if(n!==r)return KL(n,r)}while(++t)}compareBuild(e){e instanceof XL||(e=new XL(e,this.options));let t=0;do{let n=this.build[t],r=e.build[t];if(FL("prerelease compare",t,n,r),void 0===n&&void 0===r)return 0;if(void 0===r)return 1;if(void 0===n)return-1;if(n!==r)return KL(n,r)}while(++t)}inc(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{let e=this.prerelease.length;for(;--e>=0;)"number"==typeof this.prerelease[e]&&(this.prerelease[e]++,e=-2);-1===e&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}},$L=(e,t,n)=>new XL(e,n).compare(new XL(t,n)),JL=(e,t,n)=>0===$L(e,t,n),YL=(e,t,n)=>0!==$L(e,t,n),QL=(e,t,n)=>$L(e,t,n)>0,ZL=(e,t,n)=>$L(e,t,n)>=0,eF=(e,t,n)=>$L(e,t,n)<0,tF=(e,t,n)=>$L(e,t,n)<=0,nF=(e,t,n,r)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e===n;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e!==n;case"":case"=":case"==":return JL(e,n,r);case"!=":return YL(e,n,r);case">":return QL(e,n,r);case">=":return ZL(e,n,r);case"<":return eF(e,n,r);case"<=":return tF(e,n,r);default:throw new TypeError(`Invalid operator: ${t}`)}},rF=Symbol("SemVer ANY"),iF=class{static get ANY(){return rF}constructor(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof iF){if(e.loose===!!t.loose)return e;e=e.value}FL("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===rF?this.value="":this.value=this.operator+this.semver.version,FL("comp",this)}parse(e){let t=this.options.loose?aF[sF.COMPARATORLOOSE]:aF[sF.COMPARATOR],n=e.match(t);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==n[1]?n[1]:"","="===this.operator&&(this.operator=""),n[2]?this.semver=new XL(n[2],this.options.loose):this.semver=rF}toString(){return this.value}test(e){if(FL("Comparator.test",e,this.options.loose),this.semver===rF||e===rF)return!0;if("string"==typeof e)try{e=new XL(e,this.options)}catch(e){return!1}return nF(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof iF))throw new TypeError("a Comparator is required");if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),""===this.operator)return""===this.value||new oF(e.value,t).test(this.value);if(""===e.operator)return""===e.value||new oF(this.value,t).test(e.semver);let n=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),r=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),i=this.semver.version===e.semver.version,a=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),s=nF(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),o=nF(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return n||r||i&&a||s||o}},{re:aF,t:sF}=UL,oF=class{constructor(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof oF)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new oF(e.raw,t);if(e instanceof iF)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map((e=>this.parseRange(e.trim()))).filter((e=>e.length)),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${e}`);this.format()}format(){return this.range=this.set.map((e=>e.join(" ").trim())).join("||").trim(),this.range}toString(){return this.range}parseRange(e){let{loose:t}=this.options;e=e.trim();let n=t?cF[uF.HYPHENRANGELOOSE]:cF[uF.HYPHENRANGE];e=e.replace(n,AF(this.options.includePrerelease)),FL("hyphen replace",e),e=e.replace(cF[uF.COMPARATORTRIM],dF),FL("comparator trim",e,cF[uF.COMPARATORTRIM]),e=(e=(e=e.replace(cF[uF.TILDETRIM],fF)).replace(cF[uF.CARETTRIM],lF)).split(/\s+/).join(" ");let r=t?cF[uF.COMPARATORLOOSE]:cF[uF.COMPARATOR];return e.split(" ").map((e=>pF(e,this.options))).join(" ").split(/\s+/).map((e=>TF(e,this.options))).filter(this.options.loose?e=>!!e.match(r):()=>!0).map((e=>new iF(e,this.options)))}intersects(e,t){if(!(e instanceof oF))throw new TypeError("a Range is required");return this.set.some((n=>hF(n,t)&&e.set.some((e=>hF(e,t)&&n.every((n=>e.every((e=>n.intersects(e,t)))))))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new XL(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(RF(this.set[t],e,this.options))return!0;return!1}},{re:cF,t:uF,comparatorTrimReplace:dF,tildeTrimReplace:fF,caretTrimReplace:lF}=UL,hF=(e,t)=>{let n=!0,r=e.slice(),i=r.pop();for(;n&&r.length;)n=r.every((e=>i.intersects(e,t))),i=r.pop();return n},pF=(e,t)=>(FL("comp",e,t),e=gF(e,t),FL("caret",e),e=bF(e,t),FL("tildes",e),e=wF(e,t),FL("xrange",e),e=EF(e,t),FL("stars",e),e),mF=e=>!e||"x"===e.toLowerCase()||"*"===e,bF=(e,t)=>e.trim().split(/\s+/).map((e=>yF(e,t))).join(" "),yF=(e,t)=>{let n=t.loose?cF[uF.TILDELOOSE]:cF[uF.TILDE];return e.replace(n,((t,n,r,i,a)=>{let s;return FL("tilde",e,t,n,r,i,a),mF(n)?s="":mF(r)?s=`>=${n}.0.0 <${+n+1}.0.0-0`:mF(i)?s=`>=${n}.${r}.0 <${n}.${+r+1}.0-0`:a?(FL("replaceTilde pr",a),s=`>=${n}.${r}.${i}-${a} <${n}.${+r+1}.0-0`):s=`>=${n}.${r}.${i} <${n}.${+r+1}.0-0`,FL("tilde return",s),s}))},gF=(e,t)=>e.trim().split(/\s+/).map((e=>vF(e,t))).join(" "),vF=(e,t)=>{FL("caret",e,t);let n=t.loose?cF[uF.CARETLOOSE]:cF[uF.CARET],r=t.includePrerelease?"-0":"";return e.replace(n,((t,n,i,a,s)=>{let o;return FL("caret",e,t,n,i,a,s),mF(n)?o="":mF(i)?o=`>=${n}.0.0${r} <${+n+1}.0.0-0`:mF(a)?o="0"===n?`>=${n}.${i}.0${r} <${n}.${+i+1}.0-0`:`>=${n}.${i}.0${r} <${+n+1}.0.0-0`:s?(FL("replaceCaret pr",s),o="0"===n?"0"===i?`>=${n}.${i}.${a}-${s} <${n}.${i}.${+a+1}-0`:`>=${n}.${i}.${a}-${s} <${n}.${+i+1}.0-0`:`>=${n}.${i}.${a}-${s} <${+n+1}.0.0-0`):(FL("no pr"),o="0"===n?"0"===i?`>=${n}.${i}.${a}${r} <${n}.${i}.${+a+1}-0`:`>=${n}.${i}.${a}${r} <${n}.${+i+1}.0-0`:`>=${n}.${i}.${a} <${+n+1}.0.0-0`),FL("caret return",o),o}))},wF=(e,t)=>(FL("replaceXRanges",e,t),e.split(/\s+/).map((e=>_F(e,t))).join(" ")),_F=(e,t)=>{e=e.trim();let n=t.loose?cF[uF.XRANGELOOSE]:cF[uF.XRANGE];return e.replace(n,((n,r,i,a,s,o)=>{FL("xRange",e,n,r,i,a,s,o);let c=mF(i),u=c||mF(a),d=u||mF(s),f=d;return"="===r&&f&&(r=""),o=t.includePrerelease?"-0":"",c?n=">"===r||"<"===r?"<0.0.0-0":"*":r&&f?(u&&(a=0),s=0,">"===r?(r=">=",u?(i=+i+1,a=0,s=0):(a=+a+1,s=0)):"<="===r&&(r="<",u?i=+i+1:a=+a+1),"<"===r&&(o="-0"),n=`${r+i}.${a}.${s}${o}`):u?n=`>=${i}.0.0${o} <${+i+1}.0.0-0`:d&&(n=`>=${i}.${a}.0${o} <${i}.${+a+1}.0-0`),FL("xRange return",n),n}))},EF=(e,t)=>(FL("replaceStars",e,t),e.trim().replace(cF[uF.STAR],"")),TF=(e,t)=>(FL("replaceGTE0",e,t),e.trim().replace(cF[t.includePrerelease?uF.GTE0PRE:uF.GTE0],"")),AF=e=>(t,n,r,i,a,s,o,c,u,d,f,l,h)=>`${n=mF(r)?"":mF(i)?`>=${r}.0.0${e?"-0":""}`:mF(a)?`>=${r}.${i}.0${e?"-0":""}`:s?`>=${n}`:`>=${n}${e?"-0":""}`} ${c=mF(u)?"":mF(d)?`<${+u+1}.0.0-0`:mF(f)?`<${u}.${+d+1}.0-0`:l?`<=${u}.${d}.${f}-${l}`:e?`<${u}.${d}.${+f+1}-0`:`<=${c}`}`.trim(),RF=(e,t,n)=>{for(let n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(let n=0;n<e.length;n++)if(FL(e[n].semver),e[n].semver!==iF.ANY&&e[n].semver.prerelease.length>0){let r=e[n].semver;if(r.major===t.major&&r.minor===t.minor&&r.patch===t.patch)return!0}return!1}return!0},SF=(e,t,n)=>{try{t=new oF(t,n)}catch(e){return!1}return t.test(e)},{MAX_LENGTH:kF}=DL,{re:OF,t:IF}=UL,xF=(e,t)=>{if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof XL)return e;if("string"!=typeof e||e.length>kF||!(t.loose?OF[IF.LOOSE]:OF[IF.FULL]).test(e))return null;try{return new XL(e,t)}catch(e){return null}},{re:CF,t:MF}=UL,PF=(e,t)=>{if(e instanceof XL)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let n=null;if((t=t||{}).rtl){let t;for(;(t=CF[MF.COERCERTL].exec(e))&&(!n||n.index+n[0].length!==e.length);)n&&t.index+t[0].length===n.index+n[0].length||(n=t),CF[MF.COERCERTL].lastIndex=t.index+t[1].length+t[2].length;CF[MF.COERCERTL].lastIndex=-1}else n=e.match(CF[MF.COERCE]);return null===n?null:xF(`${n[2]}.${n[3]||"0"}.${n[4]||"0"}`,t)};function NF(e){return String.fromCharCode(parseInt(e.slice(1),16))}function BF(e){return`%${`00${e.charCodeAt(0).toString(16)}`.slice(-2)}`}function DF(e){return function(e){return btoa(encodeURIComponent(e).replace(/%[0-9A-F]{2}/g,NF))}(JSON.stringify(e))}function LF(e){return JSON.parse(function(e){return decodeURIComponent(Array.from(atob(e),BF).join(""))}(e))}function FF(e){return void 0===e}function UF(e){return function(e){return null===e}(e)||FF(e)}function jF(e){if(!e)return!0;for(let t in e)if(Object.hasOwnProperty.call(e,t))return!1;return!0}var qF={};var zF={"magic-sdk":"magic-sdk","@magic-sdk/react-native":"magic-sdk-rn","@magic-sdk/react-native-bare":"magic-sdk-rn-bare","@magic-sdk/react-native-expo":"magic-sdk-rn-expo"},HF=class extends Error{constructor(e,t){super(`Magic SDK Error: [${e}] ${t}`),this.code=e,this.rawMessage=t,this.__proto__=Error,Object.setPrototypeOf(this,HF.prototype)}},GF=class extends Error{constructor(e){super(),this.__proto__=Error;let t=Number(null==e?void 0:e.code);this.rawMessage=(null==e?void 0:e.message)||"Internal error",this.code=function(e){return!UF(e)&&"number"==typeof e&&Object.values(sL).includes(e)}(t)?t:sL.InternalError,this.message=`Magic RPC Error: [${this.code}] ${this.rawMessage}`,this.data=(null==e?void 0:e.data)||void 0,Object.setPrototypeOf(this,GF.prototype)}},WF=class{constructor(e,t){this.code=e,this.rawMessage=t,this.message=`Magic SDK Warning: [${e}] ${t}`}log(){console.warn(this.message)}},VF=class extends Error{constructor(e,t,n,r){super(`Magic Extension Error (${e.name}): [${t}] ${n}`),this.code=t,this.rawMessage=n,this.data=r,this.__proto__=Error,Object.setPrototypeOf(this,VF.prototype)}},KF=class{constructor(e,t,n){this.code=t,this.rawMessage=n,this.message=`Magic Extension Warning (${e.name}): [${t}] ${n}`}log(){console.warn(this.message)}};function XF(){return new HF(iL.MissingApiKey,"Please provide an API key that you acquired from the Magic developer dashboard.")}function $F(){return new HF(iL.MalformedResponse,"Response from the Magic iframe is malformed.")}function JF(e){return new HF(iL.ExtensionNotInitialized,`Extensions must be initialized with a Magic SDK instance before \`Extension.${e}\` can be accessed. Do not invoke \`Extension.${e}\` inside an extension constructor.`)}function YF(e){let t=`Some extensions are incompatible with \`${qF.sdkName}@${qF.version}\`:`;return e.filter((e=>void 0!==e.compat&&null!==e.compat)).forEach((e=>{let n=e.compat[qF.sdkName];"string"==typeof n?t+=`\n  - Extension \`${e.name}\` supports version(s) \`${n}\``:n||(t+=`\n  - Extension \`${e.name}\` does not support ${qF.platform} environments.`)})),new HF(iL.IncompatibleExtensions,t)}function QF(e){let{method:t,removalVersions:n,useInstead:r}=e,i=n[qF.sdkName],a=r?` Use \`${r}\` instead.`:"",s=`\`${t}\` will be removed from \`${qF.sdkName}\` in version \`${i}\`.${a}`;return new WF(aL.DeprecationNotice,s)}var ZF=function*(){let e=0;for(;;)e<Number.MAX_SAFE_INTEGER?yield++e:e=0}();function eU(){return ZF.next().value}var tU=Symbol("Payload pre-processed by Magic SDK");function nU(e){return Object.defineProperty(e,tU,{value:!0,enumerable:!1}),e}function rU(e){var t,n,r;return function(e){return!!e[tU]}(e)||(e.jsonrpc=null!=(t=e.jsonrpc)?t:"2.0",e.id=eU(),e.method=null!=(n=e.method)?n:"noop",e.params=null!=(r=e.params)?r:[],nU(e)),e}function iU(e,t=[]){return nU({params:t,method:e,jsonrpc:"2.0",id:eU()})}var aU=class{constructor(e){e instanceof aU?(this._jsonrpc=e.payload.jsonrpc,this._id=e.payload.id,this._result=e.payload.result,this._error=e.payload.error):function(e){return!UF(e)&&!(FF(e.jsonrpc)||FF(e.id)||FF(e.result)&&FF(e.error))}(e)?(this._jsonrpc=e.jsonrpc,this._id=e.id,this._result=e.result,this._error=e.error):(this._jsonrpc=e.jsonrpc,this._id=e.id,this._result=void 0,this._error=void 0)}applyError(e){return this._error=e,this}applyResult(e){return this._result=e,this}get hasError(){return void 0!==this._error&&null!==this._error}get hasResult(){return void 0!==this._result}get payload(){return{jsonrpc:this._jsonrpc,id:this._id,result:this._result,error:this._error}}},sU=((e,t,n)=>(n=null!=e?_L(OL(e)):{},((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let i of SL(t))!IL.call(e,i)&&i!==n&&EL(e,i,{get:()=>t[i],enumerable:!(r=AL(t,i))||r.enumerable});return e})(!t&&e&&e.__esModule?n:EL(n,"default",{value:e,enumerable:!0}),e)))(BL()),oU=class extends sU.default{};function cU(){let e=new oU;return{emitter:e,createChainingEmitterMethod:(t,n)=>(...r)=>(e[t].apply(e,r),n),createBoundEmitterMethod:t=>(...n)=>e[t].apply(e,n)}}var uU=Symbol("isPromiEvent");function dU(e){return!!e[uU]}function fU(e){let t=lU(e),{createBoundEmitterMethod:n,createChainingEmitterMethod:r}=cU(),i=Symbol("Promise.then"),a=Symbol("Promise.catch"),s=Symbol("Promise.finally"),o=(e,t)=>(...n)=>{let r=t[e].apply(t,n);return c(r)},c=e=>Object.assign(e,{[uU]:!0,[i]:e[i]||e.then,[a]:e[a]||e.catch,[s]:e[s]||e.finally,then:o(i,e),catch:o(a,e),finally:o(s,e),on:r("on",e),once:r("once",e),addListener:r("addListener",e),off:r("off",e),removeListener:r("removeListener",e),removeAllListeners:r("removeAllListeners",e),emit:n("emit"),eventNames:n("eventNames"),listeners:n("listeners"),listenerCount:n("listenerCount")}),u=c(t.then((e=>(u.emit("done",e),u.emit("settled"),e)),(e=>{throw u.emit("error",e),u.emit("settled"),e})));return u}function lU(e){return new Promise(((t,n)=>{let r=e(t,n);Promise.resolve(r).catch(n)}))}var hU=class{constructor(e){this.sdk=e}get overlay(){return this.sdk.overlay}request(e){let t=this.overlay.post(fL.MAGIC_HANDLE_REQUEST,rU(e)),n=fU(((e,n)=>{t.then((t=>{if(r(),t.hasError)n(new GF(t.payload.error));else{if(!t.hasResult)throw $F();e(t.payload.result)}})).catch((e=>{r(),n(e)}))})),r=this.overlay.on(dL.MAGIC_HANDLE_EVENT,(t=>{var r;let{response:i}=t.data;if(i.id===e.id&&(null==(r=i.result)?void 0:r.event)){let{event:e,params:t=[]}=i.result;n.emit(e,...t)}}));return n}createIntermediaryEvent(e,t){return n=>{let r=iU(uL.IntermediaryEvent,[{payloadId:t,eventType:e,args:n}]);this.request(r)}}};var pU,mU={"magic-sdk":"v18.0.0","@magic-sdk/react-native":"v14.0.0","@magic-sdk/react-native-bare":"v19.0.0","@magic-sdk/react-native-expo":"v19.0.0"},bU=class extends hU{loginWithMagicLink(e){let t="@magic-sdk/react-native"===qF.sdkName||"@magic-sdk/react-native-bare"===qF.sdkName||"@magic-sdk/react-native-expo"===qF.sdkName;if(t&&function(e,t){let[n]=e.split(".").map(Number);return n>=t}(qF.version,19))throw new Error("loginWithMagicLink() is deprecated for this package, please utlize a passcode method like loginWithSMS or loginWithEmailOTP instead.");t&&QF({method:"auth.loginWithMagicLink()",removalVersions:mU,useInstead:"auth.loginWithEmailOTP()"}).log();let{email:n,showUI:r=!0,redirectURI:i,overrides:a}=e,s=iU(this.sdk.testMode?uL.LoginWithMagicLinkTestMode:uL.LoginWithMagicLink,[{email:n,showUI:r,redirectURI:i,overrides:a}]);return this.request(s)}loginWithSMS(e){let{phoneNumber:t}=e,n=iU(this.sdk.testMode?uL.LoginWithSmsTestMode:uL.LoginWithSms,[{phoneNumber:t,showUI:!0}]);return this.request(n)}loginWithEmailOTP(e){let{email:t,showUI:n,deviceCheckUI:r,overrides:i}=e,a=iU(this.sdk.testMode?uL.LoginWithEmailOTPTestMode:uL.LoginWithEmailOTP,[{email:t,showUI:n,deviceCheckUI:r,overrides:i}]),s=this.request(a);return!r&&s&&s.on(yL.Retry,(()=>{this.createIntermediaryEvent(yL.Retry,a.id)()})),!n&&s&&(s.on(mL.VerifyEmailOtp,(e=>{this.createIntermediaryEvent(mL.VerifyEmailOtp,a.id)(e)})),s.on(mL.Cancel,(()=>{this.createIntermediaryEvent(mL.Cancel,a.id)()}))),s}loginWithCredential(e){let t=null!=e?e:"";if(!e&&"web"===qF.platform){t=window.location.search;let e=window.location.origin+window.location.pathname;window.history.replaceState(null,"",e)}let n=iU(this.sdk.testMode?uL.LoginWithCredentialTestMode:uL.LoginWithCredential,[t]);return this.request(n)}setAuthorizationToken(e){let t=iU(uL.SetAuthorizationToken,[{jwt:e}]);return this.request(t)}updateEmailWithUI(e){let{email:t,showUI:n=!0}=e,r=iU(this.sdk.testMode?uL.UpdateEmailTestMode:uL.UpdateEmail,[{email:t,showUI:n}]);return this.request(r)}},yU={};function gU(e){return(...t)=>NL(this,null,(function*(){return pU||(pU=yield qF.configureStorage()),yield pU.ready(),pU[e](...t)}))}((e,t)=>{for(var n in t)EL(e,n,{get:t[n],enumerable:!0})})(yU,{clear:()=>EU,getItem:()=>vU,iterate:()=>SU,key:()=>AU,keys:()=>RU,length:()=>TU,removeItem:()=>_U,setItem:()=>wU});var vU=gU("getItem"),wU=gU("setItem"),_U=gU("removeItem"),EU=gU("clear"),TU=gU("length"),AU=gU("key"),RU=gU("keys"),SU=gU("iterate"),kU=class extends hU{constructor(){super(...arguments),this.localForageKey="mc_active_wallet"}getIdToken(e){let t=iU(this.sdk.testMode?uL.GetIdTokenTestMode:uL.GetIdToken,[e]);return this.request(t)}generateIdToken(e){let t=iU(this.sdk.testMode?uL.GenerateIdTokenTestMode:uL.GenerateIdToken,[e]);return this.request(t)}getInfo(){return NL(this,null,(function*(){let e=yield vU(this.localForageKey),t=iU(uL.GetInfo,[{walletType:e}]);return this.request(t)}))}isLoggedIn(){let e=iU(this.sdk.testMode?uL.IsLoggedInTestMode:uL.IsLoggedIn);return this.request(e)}logout(){_U(this.localForageKey);let e=iU(this.sdk.testMode?uL.LogoutTestMode:uL.Logout);return this.request(e)}requestInfoWithUI(e){let t=iU(uL.RequestUserInfoWithUI,e?[e]:[]);return this.request(t)}showSettings(e){let t=iU(this.sdk.testMode?uL.UserSettingsTestMode:uL.UserSettings,[e]);return this.request(t)}recoverAccount(e){let t=iU(this.sdk.testMode?uL.RecoverAccountTestMode:uL.RecoverAccount,[e]);return this.request(t)}getMetadata(){QF({method:"user.getMetadata()",removalVersions:mU,useInstead:"user.getInfo()"}).log();let e=iU(this.sdk.testMode?uL.GetMetadataTestMode:uL.GetMetadata);return this.request(e)}updateEmail(e){QF({method:"user.updateEmail()",removalVersions:mU,useInstead:"auth.updateEmailWithUI()"}).log();let{email:t,showUI:n=!0}=e,r=iU(this.sdk.testMode?uL.UpdateEmailTestMode:uL.UpdateEmail,[{email:t,showUI:n}]);return this.request(r)}};function OU(e,t){return t?new URL(e,t):new URL(e)}function IU(){let e=window.crypto.getRandomValues(new Uint8Array(16));e[6]=15&e[6]|64,e[8]=191&e[8]|128;let t="";return t+=e[0].toString(16),t+=e[1].toString(16),t+=e[2].toString(16),t+=e[3].toString(16),t+="-",t+=e[4].toString(16),t+=e[5].toString(16),t+="-",t+=e[6].toString(16),t+=e[7].toString(16),t+="-",t+=e[8].toString(16),t+=e[9].toString(16),t+="-",t+=e[10].toString(16),t+=e[11].toString(16),t+=e[12].toString(16),t+=e[13].toString(16),t+=e[14].toString(16),t+=e[15].toString(16),t}var xU="STORE_KEY_PRIVATE_KEY",CU="STORE_KEY_PUBLIC_JWK",MU="ECDSA",PU={name:MU,namedCurve:"P-256"};function NU(){return NL(this,null,(function*(){let e=yield function(){return NL(this,null,(function*(){if(function(){let e="undefined"!=typeof window&&!!window.crypto,t=e&&!!window.crypto.subtle;return e&&t}())return(yield vU(CU))||(yield function(){return NL(this,null,(function*(){let{subtle:e}=window.crypto,t=yield e.generateKey(PU,!1,["sign"]),n=yield e.exportKey("jwk",t.publicKey);yield wU(xU,t.privateKey),yield wU(CU,n)}))}()),vU(CU);console.info("webcrypto is not supported")}))}();if(!e)return void console.info("unable to create public key or webcrypto is unsupported");let{subtle:t}=window.crypto,n=yield vU(xU);if(!n||!t)return void console.info("unable to find private key or webcrypto unsupported");let r={iat:Math.floor((new Date).getTime()/1e3),jti:IU()},i={typ:"dpop+jwt",alg:"ES256",jwk:e},a=BU(JSON.stringify(i)),s=BU(JSON.stringify(r)),o=function(e){return(new TextEncoder).encode(e)}(`${a}.${s}`),c={name:MU,hash:{name:"SHA-256"}},u=function(e){let t="";return e.forEach((e=>{t+=String.fromCharCode(e)})),DU(t)}(new Uint8Array(yield t.sign(c,n,o)));return`${a}.${s}.${u}`}))}function BU(e){return DU(function(e){return encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,((e,t)=>String.fromCharCode(parseInt(t,16))))}(e))}function DU(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+/g,"")}var LU=class extends hU{constructor(){super(...arguments),this.localForageKey="mc_active_wallet"}connectWithUI(){let e=fU(((t,n)=>NL(this,null,(function*(){try{if(this.isMetaMaskBrowser()&&(yield this.isWalletEnabled(oL.MetaMask))){let e=yield this.autoConnectIfWalletBrowser(oL.MetaMask);return void t(e)}if(this.isCoinbaseWalletBrowser()&&(yield this.isWalletEnabled(oL.CoinbaseWallet))){let e=yield this.autoConnectIfWalletBrowser(oL.CoinbaseWallet);return void t(e)}let r=this.getUserEnv(),i=iU(uL.Login,[r]),a=this.request(i);a.on(cL.WalletSelected,(e=>this.handleWalletSelected(PL(ML({},e),{payloadId:i.id})))),a.on("id-token-created",(t=>{e.emit("id-token-created",t)}));let s=yield a;s.error&&n(s),t(s)}catch(e){n(e)}}))));return e}showUI(){return this.request(iU(uL.ShowUI))}showAddress(){return this.request(iU(uL.ShowAddress))}showSendTokensUI(){return this.request(iU(uL.ShowSendTokensUI))}showOnRamp(){return this.request(iU(uL.ShowOnRamp))}showNFTs(){return this.request(iU(uL.ShowNFTs))}showBalances(){return this.request(iU(uL.ShowBalances))}sendGaslessTransaction(e,t){return this.request(iU(uL.SendGaslessTransaction,[e,t]))}getInfo(){return NL(this,null,(function*(){QF({method:"wallet.getInfo()",removalVersions:mU,useInstead:"user.getInfo()"}).log();let e=yield vU(this.localForageKey),t=iU(uL.GetInfo,[{walletType:e}]);return this.request(t)}))}disconnect(){QF({method:"wallet.disconnect()",removalVersions:mU,useInstead:"user.logout()"}).log(),_U(this.localForageKey);let e=iU(uL.Disconnect);return this.request(e)}requestUserInfoWithUI(e){QF({method:"wallet.requestUserInfoWithUI()",removalVersions:mU,useInstead:"user.requestUserInfoWithUI()"}).log();let t=iU(uL.RequestUserInfoWithUI,e?[e]:[]);return this.request(t)}getProvider(){return NL(this,null,(function*(){switch(yield vU(this.localForageKey)){case oL.MetaMask:return this.getMetaMaskProvider();case oL.CoinbaseWallet:return this.getCoinbaseProvider();default:return this.sdk.rpcProvider}}))}isMetaMaskInstalled(){var e,t,n;return(null==(e=window.ethereum)?void 0:e.isMetaMask)||!(null==(n=null==(t=window.ethereum)?void 0:t.providers)||!n.find((e=>null==e?void 0:e.isMetaMask)))}isMetaMaskBrowser(){return this.isMobile()&&this.isMetaMaskInstalled()}getMetaMaskProvider(){var e,t;return(null==(t=null==(e=window.ethereum)?void 0:e.providers)?void 0:t.find((e=>null==e?void 0:e.isMetaMask)))||window.ethereum}connectToMetaMask(){if(this.isMobile()&&!this.isMetaMaskInstalled()){let e=`https://metamask.app.link/dapp/${window.location.href.replace(/(^\w+:|^)\/\//,"")}`;window.location.href=e}return this.getMetaMaskProvider().request({method:"eth_requestAccounts"})}isCoinbaseWalletInstalled(){var e,t,n;return(null==(e=window.ethereum)?void 0:e.isCoinbaseWallet)||!(null==(n=null==(t=window.ethereum)?void 0:t.providers)||!n.find((e=>null==e?void 0:e.isCoinbaseWallet)))}isCoinbaseWalletBrowser(){var e;return!(null==(e=window.ethereum)||!e.isCoinbaseBrowser)}getCoinbaseProvider(){var e,t;return(null==(t=null==(e=window.ethereum)?void 0:e.providers)?void 0:t.find((e=>null==e?void 0:e.isCoinbaseWallet)))||window.ethereum}connectToCoinbaseWallet(){if(this.isMobile()&&!this.isCoinbaseWalletBrowser()){let e=`https://go.cb-w.com/dapp?cb_url=${encodeURIComponent(window.location.href)}`;window.location.href=e}return this.getCoinbaseProvider().request({method:"eth_requestAccounts"})}isMobile(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|BB|PlayBook|IEMobile|Windows Phone|Silk|Opera Mini/i.test(navigator.userAgent)}getUserEnv(){return{env:{isMetaMaskInstalled:this.isMetaMaskInstalled(),isCoinbaseWalletInstalled:this.isCoinbaseWalletInstalled()}}}connectToThirdPartyWallet(e){switch(e){case oL.MetaMask:return this.connectToMetaMask();case oL.CoinbaseWallet:return this.connectToCoinbaseWallet();default:throw new Error(`Invalid provider: ${e}. Must be one of "metamask" or "coinbase_wallet".`)}}isWalletEnabled(e){let t=iU("mc_is_wallet_enabled",[{wallet:e}]);return this.request(t)}handleWalletSelected(e){return NL(this,null,(function*(){try{let t=yield this.connectToThirdPartyWallet(e.wallet);yield wU(this.localForageKey,e.wallet),this.createIntermediaryEvent(cL.WalletConnected,e.payloadId)(t)}catch(t){console.error(t),this.createIntermediaryEvent(cL.WalletRejected,e.payloadId)()}}))}autoConnectIfWalletBrowser(e){return NL(this,null,(function*(){let t;e===oL.MetaMask&&(t=yield this.getMetaMaskProvider().request({method:"eth_requestAccounts"})),e===oL.CoinbaseWallet&&(t=yield this.getCoinbaseProvider().request({method:"eth_requestAccounts"})),yield wU(this.localForageKey,e);let n=iU(uL.AutoConnect,[{wallet:e,address:t}]);return this.request(n)}))}},{createBoundEmitterMethod:FU,createChainingEmitterMethod:UU}=cU(),jU=class extends hU{constructor(){super(...arguments),this.isMagic=!0,this.on=UU("on",this),this.once=UU("once",this),this.addListener=UU("addListener",this),this.off=UU("off",this),this.removeListener=UU("removeListener",this),this.removeAllListeners=UU("removeAllListeners",this),this.emit=FU("emit"),this.eventNames=FU("eventNames"),this.listeners=FU("listeners"),this.listenerCount=FU("listenerCount")}sendAsync(e,t){if(!t)throw function(e){return new HF(iL.InvalidArgument,`Invalid ${(e=>{let t=e+1,n=t%10,r=t%100;return 1===n&&11!==r?`${t}st`:2===n&&12!==r?`${t}nd`:3===n&&13!==r?`${t}rd`:`${t}th`})(e.argument)} argument given to \`${e.procedure}\`.\n  Expected: \`${e.expected}\`\n  Received: \`${e.received}\``)}({procedure:"Magic.rpcProvider.sendAsync",argument:1,expected:"function",received:null===t?"null":typeof t});if(Array.isArray(e))this.overlay.post(fL.MAGIC_HANDLE_REQUEST,e.map((e=>{let t=rU(e);return this.prefixPayloadMethodForTestMode(t),t}))).then((e=>{t(null,e.map((e=>PL(ML({},e.payload),{error:e.hasError?new GF(e.payload.error):null}))))}));else{let n=rU(e);this.prefixPayloadMethodForTestMode(n),this.overlay.post(fL.MAGIC_HANDLE_REQUEST,n).then((e=>{t(e.hasError?new GF(e.payload.error):null,e.payload)}))}}send(e,t){if("string"==typeof e){let n=iU(e,Array.isArray(t)?t:[]);return this.request(n)}if(Array.isArray(e)||t)return void this.sendAsync(e,t);let n=new WF(aL.SyncWeb3Method,"Non-async web3 methods are deprecated in web3 > 1.0 and are not supported by the Magic web3 provider. Please use an async method instead.");return n.log(),new aU(e).applyError({code:-32603,message:n.rawMessage}).payload}enable(){let e=iU(uL.Login);return this.request(e)}request(e){return this.prefixPayloadMethodForTestMode(e),super.request(e)}prefixPayloadMethodForTestMode(e){this.sdk.testMode&&(e.method=`testMode/eth/${e.method}`)}},qU=["request","overlay","sdk"];function zU(e){let t=Object.getPrototypeOf(e),n=[t];for(;t!==hU.prototype;)t=Object.getPrototypeOf(t),n.push(t);return n}var HU=class extends hU{constructor(){super(void 0),this.__sdk_access_field_descriptors__=new Map,this.__is_initialized__=!1,this.utils={createPromiEvent:fU,isPromiEvent:dU,encodeJSON:DF,decodeJSON:LF,createJsonRpcRequestPayload:iU,standardizeJsonRpcRequestPayload:rU,storage:yU};let e=[this,...zU(this)];qU.forEach((t=>{let n=e.map((e=>Object.getOwnPropertyDescriptor(e,t))),r=n.findIndex((e=>!!e)),i=r>0,a=n[r];a&&(this.__sdk_access_field_descriptors__.set(t,{descriptor:a,isPrototypeField:i}),Object.defineProperty(this,t,{configurable:!0,get:()=>{throw JF(t)}}))}))}init(e){this.__is_initialized__||(qU.forEach((e=>{if(this.__sdk_access_field_descriptors__.has(e)){let{descriptor:t,isPrototypeField:n}=this.__sdk_access_field_descriptors__.get(e);n?delete this[e]:Object.defineProperty(this,e,t)}})),this.sdk=e,this.__is_initialized__=!0)}createDeprecationWarning(e){let{method:t,removalVersion:n,useInstead:r}=e;return new KF(this,"DEPRECATION_NOTICE",`\`${t}\` will be removed from this Extension in version \`${n}\`.${r?` Use \`${r}\` instead.`:""}`)}createWarning(e,t){return new KF(this,e,t)}createError(e,t,n){return new VF(this,e,t,n)}},GU=class extends HU{};GU.Internal=class extends HU{},GU.Anonymous="anonymous extension";var WU=class extends hU{purchase(e){let t=iU(uL.NFTPurchase,[e]);return this.request(t)}checkout(e){let t=iU(uL.NFTCheckout,[e]);return this.request(t)}transfer(e){let t=iU(uL.NFTTransfer,[e]);return this.request(t)}};function VU(e){return!e.compat||null==e.compat[qF.sdkName]||("string"==typeof e.compat[qF.sdkName]?SF(PF(qF.version),e.compat[qF.sdkName]):!!e.compat[qF.sdkName])}function KU(e){var t;let n=null!=(t=null==e?void 0:e.extensions)?t:[],r={},i=[];if(Array.isArray(n)?n.forEach((e=>{VU(e)?(e.init(this),(e.name||e.name!==GU.Anonymous)&&(this[e.name]=e),e instanceof GU.Internal&&(jF(e.config)||(r[e.name]=e.config))):i.push(e)})):Object.keys(n).forEach((e=>{if(VU(n[e])){n[e].init(this);let t=n[e];this[e]=t,t instanceof GU.Internal&&(jF(t.config)||(r[n[e].name]=t.config))}else i.push(n[e])})),i.length)throw YF(i);return r}var XU=class{constructor(e,t){var n;if(this.apiKey=e,!e)throw XF();"react-native"===qF.platform&&(null==t?void 0:t.endpoint)&&new WF(aL.ReactNativeEndpointConfiguration,`CUSTOM DOMAINS ARE NOT SUPPORTED WHEN USING MAGIC SDK WITH REACT NATIVE! The \`endpoint\` parameter SHOULD NOT be provided. The Magic \`<iframe>\` is automatically wrapped by a WebView pointed at \`${qF.defaultEndpoint}\`. Changing this default behavior will lead to unexpected results and potentially security-threatening bugs.`).log();let{defaultEndpoint:r,version:i}=qF;this.testMode=!(null==t||!t.testMode),this.endpoint=OU(null!=(n=null==t?void 0:t.endpoint)?n:r).origin,this.auth=new bU(this),this.user=new kU(this),this.wallet=new LU(this),this.nft=new WU(this),this.rpcProvider=new jU(this);let a=KU.call(this,t);this.parameters=DF(ML({API_KEY:this.apiKey,DOMAIN_ORIGIN:window.location?window.location.origin:"",ETH_NETWORK:null==t?void 0:t.network,host:OU(this.endpoint).host,sdk:zF[qF.sdkName],version:i,ext:jF(a)?void 0:a,locale:(null==t?void 0:t.locale)||"en_US"},qF.bundleId?{bundleId:qF.bundleId}:{})),null!=t&&t.deferPreload||this.preload()}get overlay(){if(!XU.__overlays__.has(this.parameters)){let e=new qF.ViewController(this.endpoint,this.parameters);e.init(),XU.__overlays__.set(this.parameters,e)}return XU.__overlays__.get(this.parameters)}preload(){return NL(this,null,(function*(){yield this.overlay.ready}))}},$U=XU;function JU(e,t){var n;let r=null==(n=t.data.response)?void 0:n.id,i=function(e,t){return t&&Array.isArray(e)?e.find((e=>e.id===t)):e}(e,r);if(r&&i){return{id:r,response:new aU(i).applyResult(t.data.response.result).applyError(t.data.response.error)}}return{}}$U.__overlays__=new Map;var YU=class{constructor(e,t){this.endpoint=e,this.parameters=t,this.messageHandlers=new Set,this.ready=this.waitForReady(),this.listen()}post(e,t){return NL(this,null,(function*(){return lU((n=>NL(this,null,(function*(){yield this.ready;let r=[],i=Array.isArray(t)?t.map((e=>e.id)):[],a=yield function(e,t){return NL(this,null,(function*(){let n,r=yield vU("rt");if("web"===qF.platform)try{n=yield NU()}catch(e){console.error("webcrypto error",e)}return n?r?{msgType:e,payload:t,jwt:n,rt:r}:{msgType:e,payload:t,jwt:n}:{msgType:e,payload:t}}))}(`${e}-${this.parameters}`,t);yield this._post(a);let s=this.on(dL.MAGIC_HANDLE_RESPONSE,(e=>a=>{let{id:s,response:o}=JU(t,a);(function(e){NL(this,null,(function*(){!e.data.rt||(yield wU("rt",e.data.rt))}))})(a),s&&o&&Array.isArray(t)&&i.includes(s)?(r.push(o),r.length===t.length&&(e(),n(r))):s&&o&&!Array.isArray(t)&&s===t.id&&(e(),n(o))})((()=>s())))}))))}))}on(e,t){let n=t.bind(window),r=t=>{t.data.msgType===`${e}-${this.parameters}`&&n(t)};return this.messageHandlers.add(r),()=>this.messageHandlers.delete(r)}waitForReady(){return new Promise((e=>{this.on(dL.MAGIC_OVERLAY_READY,(()=>e()))}))}listen(){this.on(dL.MAGIC_HIDE_OVERLAY,(()=>{this.hideOverlay()})),this.on(dL.MAGIC_SHOW_OVERLAY,(()=>{this.showOverlay()}))}},QU=Object.create,ZU=Object.defineProperty,ej=Object.getOwnPropertyDescriptor,tj=Object.getOwnPropertyNames,nj=Object.getPrototypeOf,rj=Object.prototype.hasOwnProperty,ij=(e=>"undefined"!=typeof require?require:"undefined"!=typeof Proxy?new Proxy(e,{get:(e,t)=>("undefined"!=typeof require?require:e)[t]}):e)((function(e){if("undefined"!=typeof require)return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')})),aj=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),sj=(e,t,n)=>(n=null!=e?QU(nj(e)):{},((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let i of tj(t))!rj.call(e,i)&&i!==n&&ZU(e,i,{get:()=>t[i],enumerable:!(r=ej(t,i))||r.enumerable});return e})(!t&&e&&e.__esModule?n:ZU(n,"default",{value:e,enumerable:!0}),e)),oj=(e,t,n)=>new Promise(((r,i)=>{var a=e=>{try{o(n.next(e))}catch(e){i(e)}},s=e=>{try{o(n.throw(e))}catch(e){i(e)}},o=e=>e.done?r(e.value):Promise.resolve(e.value).then(a,s);o((n=n.apply(e,t)).next())})),cj=aj(((e,t)=>{!function(n){if("object"==typeof e&&typeof t<"u")t.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{(typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this).localforage=n()}}((function(){return function e(t,n,r){function i(s,o){if(!n[s]){if(!t[s]){var c="function"==typeof ij&&ij;if(!o&&c)return c(s,!0);if(a)return a(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var d=n[s]={exports:{}};t[s][0].call(d.exports,(function(e){return i(t[s][1][e]||e)}),d,d.exports,e,t,n,r)}return n[s].exports}for(var a="function"==typeof ij&&ij,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(e,t,n){(function(e){var n,r=e.MutationObserver||e.WebKitMutationObserver;if(r){var i=0,a=new r(d),s=e.document.createTextNode("");a.observe(s,{characterData:!0}),n=function(){s.data=i=++i%2}}else if(!e.setImmediate&&typeof e.MessageChannel<"u"){var o=new e.MessageChannel;o.port1.onmessage=d,n=function(){o.port2.postMessage(0)}}else n="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){d(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(d,0)};var c,u=[];function d(){c=!0;for(var e,t,n=u.length;n;){for(t=u,u=[],e=-1;++e<n;)t[e]();n=u.length}c=!1}t.exports=function(e){1===u.push(e)&&!c&&n()}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(e,t,n){var r=e(1);function i(){}var a={},s=["REJECTED"],o=["FULFILLED"],c=["PENDING"];function u(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,e!==i&&h(this,e)}function d(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function f(e,t,n){r((function(){var r;try{r=t(n)}catch(t){return a.reject(e,t)}r===e?a.reject(e,new TypeError("Cannot resolve promise with itself")):a.resolve(e,r)}))}function l(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function h(e,t){var n=!1;function r(t){n||(n=!0,a.reject(e,t))}function i(t){n||(n=!0,a.resolve(e,t))}var s=p((function(){t(i,r)}));"error"===s.status&&r(s.value)}function p(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}t.exports=u,u.prototype.catch=function(e){return this.then(null,e)},u.prototype.then=function(e,t){if("function"!=typeof e&&this.state===o||"function"!=typeof t&&this.state===s)return this;var n=new this.constructor(i);this.state!==c?f(n,this.state===o?e:t,this.outcome):this.queue.push(new d(n,e,t));return n},d.prototype.callFulfilled=function(e){a.resolve(this.promise,e)},d.prototype.otherCallFulfilled=function(e){f(this.promise,this.onFulfilled,e)},d.prototype.callRejected=function(e){a.reject(this.promise,e)},d.prototype.otherCallRejected=function(e){f(this.promise,this.onRejected,e)},a.resolve=function(e,t){var n=p(l,t);if("error"===n.status)return a.reject(e,n.value);var r=n.value;if(r)h(e,r);else{e.state=o,e.outcome=t;for(var i=-1,s=e.queue.length;++i<s;)e.queue[i].callFulfilled(t)}return e},a.reject=function(e,t){e.state=s,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},u.resolve=function(e){return e instanceof this?e:a.resolve(new this(i),e)},u.reject=function(e){var t=new this(i);return a.reject(t,e)},u.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var s=new Array(n),o=0,c=-1,u=new this(i);++c<n;)d(e[c],c);return u;function d(e,i){t.resolve(e).then((function(e){s[i]=e,++o===n&&!r&&(r=!0,a.resolve(u,s))}),(function(e){r||(r=!0,a.reject(u,e))}))}},u.race=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var s=-1,o=new this(i);++s<n;)c(e[s]);return o;function c(e){t.resolve(e).then((function(e){r||(r=!0,a.resolve(o,e))}),(function(e){r||(r=!0,a.reject(o,e))}))}}},{1:1}],3:[function(e,t,n){(function(t){"function"!=typeof t.Promise&&(t.Promise=e(2))}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(e,t,n){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var i=function(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}();function a(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(i){if("TypeError"!==i.name)throw i;for(var n=new(typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder),r=0;r<e.length;r+=1)n.append(e[r]);return n.getBlob(t.type)}}typeof Promise>"u"&&e(3);var s=Promise;function o(e,t){t&&e.then((function(e){t(null,e)}),(function(e){t(e)}))}function c(e,t,n){"function"==typeof t&&e.then(t),"function"==typeof n&&e.catch(n)}function u(e){return"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function d(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var f="local-forage-detect-blob-support",l=void 0,h={},p=Object.prototype.toString,m="readonly",b="readwrite";function y(e){return"boolean"==typeof l?s.resolve(l):function(e){return new s((function(t){var n=e.transaction(f,b),r=a([""]);n.objectStore(f).put(r,"key"),n.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)},n.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);t(n||!e||parseInt(e[1],10)>=43)}})).catch((function(){return!1}))}(e).then((function(e){return l=e}))}function g(e){var t=h[e.name],n={};n.promise=new s((function(e,t){n.resolve=e,n.reject=t})),t.deferredOperations.push(n),t.dbReady?t.dbReady=t.dbReady.then((function(){return n.promise})):t.dbReady=n.promise}function v(e){var t=h[e.name].deferredOperations.pop();if(t)return t.resolve(),t.promise}function w(e,t){var n=h[e.name].deferredOperations.pop();if(n)return n.reject(t),n.promise}function _(e,t){return new s((function(n,r){if(h[e.name]=h[e.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},e.db){if(!t)return n(e.db);g(e),e.db.close()}var a=[e.name];t&&a.push(e.version);var s=i.open.apply(i,a);t&&(s.onupgradeneeded=function(t){var n=s.result;try{n.createObjectStore(e.storeName),t.oldVersion<=1&&n.createObjectStore(f)}catch(n){if("ConstraintError"!==n.name)throw n;console.warn('The database "'+e.name+'" has been upgraded from version '+t.oldVersion+" to version "+t.newVersion+', but the storage "'+e.storeName+'" already exists.')}}),s.onerror=function(e){e.preventDefault(),r(s.error)},s.onsuccess=function(){var t=s.result;t.onversionchange=function(e){e.target.close()},n(t),v(e)}}))}function E(e){return _(e,!1)}function T(e){return _(e,!0)}function A(e,t){if(!e.db)return!0;var n=!e.db.objectStoreNames.contains(e.storeName),r=e.version<e.db.version,i=e.version>e.db.version;if(r&&(e.version!==t&&console.warn('The database "'+e.name+"\" can't be downgraded from version "+e.db.version+" to version "+e.version+"."),e.version=e.db.version),i||n){if(n){var a=e.db.version+1;a>e.version&&(e.version=a)}return!0}return!1}function R(e){var t=function(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),i=0;i<t;i++)r[i]=e.charCodeAt(i);return n}(atob(e.data));return a([t],{type:e.type})}function S(e){return e&&e.__local_forage_encoded_blob}function k(e){var t=this,n=t._initReady().then((function(){var e=h[t._dbInfo.name];if(e&&e.dbReady)return e.dbReady}));return c(n,e,e),n}function O(e,t,n,r){void 0===r&&(r=1);try{var i=e.db.transaction(e.storeName,t);n(null,i)}catch(i){if(r>0&&(!e.db||"InvalidStateError"===i.name||"NotFoundError"===i.name))return s.resolve().then((function(){if(!e.db||"NotFoundError"===i.name&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),T(e)})).then((function(){return function(e){g(e);for(var t=h[e.name],n=t.forages,r=0;r<n.length;r++){var i=n[r];i._dbInfo.db&&(i._dbInfo.db.close(),i._dbInfo.db=null)}return e.db=null,E(e).then((function(t){return e.db=t,A(e)?T(e):t})).then((function(r){e.db=t.db=r;for(var i=0;i<n.length;i++)n[i]._dbInfo.db=r})).catch((function(t){throw w(e,t),t}))}(e).then((function(){O(e,t,n,r-1)}))})).catch(n);n(i)}}var I={_driver:"asyncStorage",_initStorage:function(e){var t=this,n={db:null};if(e)for(var r in e)n[r]=e[r];var i=h[n.name];i||(i={forages:[],db:null,dbReady:null,deferredOperations:[]},h[n.name]=i),i.forages.push(t),t._initReady||(t._initReady=t.ready,t.ready=k);var a=[];function o(){return s.resolve()}for(var c=0;c<i.forages.length;c++){var u=i.forages[c];u!==t&&a.push(u._initReady().catch(o))}var d=i.forages.slice(0);return s.all(a).then((function(){return n.db=i.db,E(n)})).then((function(e){return n.db=e,A(n,t._defaultConfig.version)?T(n):e})).then((function(e){n.db=i.db=e,t._dbInfo=n;for(var r=0;r<d.length;r++){var a=d[r];a!==t&&(a._dbInfo.db=n.db,a._dbInfo.version=n.version)}}))},_support:function(){try{if(!i||!i.open)return!1;var e=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),t="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!e||t)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}(),iterate:function(e,t){var n=this,r=new s((function(t,r){n.ready().then((function(){O(n._dbInfo,m,(function(i,a){if(i)return r(i);try{var s=a.objectStore(n._dbInfo.storeName).openCursor(),o=1;s.onsuccess=function(){var n=s.result;if(n){var r=n.value;S(r)&&(r=R(r));var i=e(r,n.key,o++);void 0!==i?t(i):n.continue()}else t()},s.onerror=function(){r(s.error)}}catch(e){r(e)}}))})).catch(r)}));return o(r,t),r},getItem:function(e,t){var n=this;e=u(e);var r=new s((function(t,r){n.ready().then((function(){O(n._dbInfo,m,(function(i,a){if(i)return r(i);try{var s=a.objectStore(n._dbInfo.storeName).get(e);s.onsuccess=function(){var e=s.result;void 0===e&&(e=null),S(e)&&(e=R(e)),t(e)},s.onerror=function(){r(s.error)}}catch(e){r(e)}}))})).catch(r)}));return o(r,t),r},setItem:function(e,t,n){var r=this;e=u(e);var i=new s((function(n,i){var a;r.ready().then((function(){return a=r._dbInfo,"[object Blob]"===p.call(t)?y(a.db).then((function(e){return e?t:function(e){return new s((function(t,n){var r=new FileReader;r.onerror=n,r.onloadend=function(n){var r=btoa(n.target.result||"");t({__local_forage_encoded_blob:!0,data:r,type:e.type})},r.readAsBinaryString(e)}))}(t)})):t})).then((function(t){O(r._dbInfo,b,(function(a,s){if(a)return i(a);try{var o=s.objectStore(r._dbInfo.storeName);null===t&&(t=void 0);var c=o.put(t,e);s.oncomplete=function(){void 0===t&&(t=null),n(t)},s.onabort=s.onerror=function(){var e=c.error?c.error:c.transaction.error;i(e)}}catch(e){i(e)}}))})).catch(i)}));return o(i,n),i},removeItem:function(e,t){var n=this;e=u(e);var r=new s((function(t,r){n.ready().then((function(){O(n._dbInfo,b,(function(i,a){if(i)return r(i);try{var s=a.objectStore(n._dbInfo.storeName).delete(e);a.oncomplete=function(){t()},a.onerror=function(){r(s.error)},a.onabort=function(){var e=s.error?s.error:s.transaction.error;r(e)}}catch(e){r(e)}}))})).catch(r)}));return o(r,t),r},clear:function(e){var t=this,n=new s((function(e,n){t.ready().then((function(){O(t._dbInfo,b,(function(r,i){if(r)return n(r);try{var a=i.objectStore(t._dbInfo.storeName).clear();i.oncomplete=function(){e()},i.onabort=i.onerror=function(){var e=a.error?a.error:a.transaction.error;n(e)}}catch(e){n(e)}}))})).catch(n)}));return o(n,e),n},length:function(e){var t=this,n=new s((function(e,n){t.ready().then((function(){O(t._dbInfo,m,(function(r,i){if(r)return n(r);try{var a=i.objectStore(t._dbInfo.storeName).count();a.onsuccess=function(){e(a.result)},a.onerror=function(){n(a.error)}}catch(e){n(e)}}))})).catch(n)}));return o(n,e),n},key:function(e,t){var n=this,r=new s((function(t,r){e<0?t(null):n.ready().then((function(){O(n._dbInfo,m,(function(i,a){if(i)return r(i);try{var s=a.objectStore(n._dbInfo.storeName),o=!1,c=s.openKeyCursor();c.onsuccess=function(){var n=c.result;n?0===e||o?t(n.key):(o=!0,n.advance(e)):t(null)},c.onerror=function(){r(c.error)}}catch(e){r(e)}}))})).catch(r)}));return o(r,t),r},keys:function(e){var t=this,n=new s((function(e,n){t.ready().then((function(){O(t._dbInfo,m,(function(r,i){if(r)return n(r);try{var a=i.objectStore(t._dbInfo.storeName).openKeyCursor(),s=[];a.onsuccess=function(){var t=a.result;t?(s.push(t.key),t.continue()):e(s)},a.onerror=function(){n(a.error)}}catch(e){n(e)}}))})).catch(n)}));return o(n,e),n},dropInstance:function(e,t){t=d.apply(this,arguments);var n,r=this.config();if((e="function"!=typeof e&&e||{}).name||(e.name=e.name||r.name,e.storeName=e.storeName||r.storeName),e.name){var a=e.name===r.name&&this._dbInfo.db?s.resolve(this._dbInfo.db):E(e).then((function(t){var n=h[e.name],r=n.forages;n.db=t;for(var i=0;i<r.length;i++)r[i]._dbInfo.db=t;return t}));n=e.storeName?a.then((function(t){if(t.objectStoreNames.contains(e.storeName)){var n=t.version+1;g(e);var r=h[e.name],a=r.forages;t.close();for(var o=0;o<a.length;o++){var c=a[o];c._dbInfo.db=null,c._dbInfo.version=n}var u=new s((function(t,r){var a=i.open(e.name,n);a.onerror=function(e){a.result.close(),r(e)},a.onupgradeneeded=function(){a.result.deleteObjectStore(e.storeName)},a.onsuccess=function(){var e=a.result;e.close(),t(e)}}));return u.then((function(e){r.db=e;for(var t=0;t<a.length;t++){var n=a[t];n._dbInfo.db=e,v(n._dbInfo)}})).catch((function(t){throw(w(e,t)||s.resolve()).catch((function(){})),t}))}})):a.then((function(t){g(e);var n=h[e.name],r=n.forages;t.close();for(var a=0;a<r.length;a++){r[a]._dbInfo.db=null}var o=new s((function(t,n){var r=i.deleteDatabase(e.name);r.onerror=function(){var e=r.result;e&&e.close(),n(r.error)},r.onblocked=function(){console.warn('dropInstance blocked for database "'+e.name+'" until all open connections are closed')},r.onsuccess=function(){var e=r.result;e&&e.close(),t(e)}}));return o.then((function(e){n.db=e;for(var t=0;t<r.length;t++){v(r[t]._dbInfo)}})).catch((function(t){throw(w(e,t)||s.resolve()).catch((function(){})),t}))}))}else n=s.reject("Invalid arguments");return o(n,t),n}};var x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",C=/^~~local_forage_type~([^~]+)~/,M="__lfsc__:",P="arbf",N="blob",B="si08",D="ui08",L="uic8",F="si16",U="si32",j="ur16",q="ui32",z="fl32",H="fl64",G=Object.prototype.toString;function W(e){var t,n,r,i,a,s=.75*e.length,o=e.length,c=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);var u=new ArrayBuffer(s),d=new Uint8Array(u);for(t=0;t<o;t+=4)n=x.indexOf(e[t]),r=x.indexOf(e[t+1]),i=x.indexOf(e[t+2]),a=x.indexOf(e[t+3]),d[c++]=n<<2|r>>4,d[c++]=(15&r)<<4|i>>2,d[c++]=(3&i)<<6|63&a;return u}function V(e){var t,n=new Uint8Array(e),r="";for(t=0;t<n.length;t+=3)r+=x[n[t]>>2],r+=x[(3&n[t])<<4|n[t+1]>>4],r+=x[(15&n[t+1])<<2|n[t+2]>>6],r+=x[63&n[t+2]];return n.length%3==2?r=r.substring(0,r.length-1)+"=":n.length%3==1&&(r=r.substring(0,r.length-2)+"=="),r}var K={serialize:function(e,t){var n="";if(e&&(n=G.call(e)),e&&("[object ArrayBuffer]"===n||e.buffer&&"[object ArrayBuffer]"===G.call(e.buffer))){var r,i=M;e instanceof ArrayBuffer?(r=e,i+=P):(r=e.buffer,"[object Int8Array]"===n?i+=B:"[object Uint8Array]"===n?i+=D:"[object Uint8ClampedArray]"===n?i+=L:"[object Int16Array]"===n?i+=F:"[object Uint16Array]"===n?i+=j:"[object Int32Array]"===n?i+=U:"[object Uint32Array]"===n?i+=q:"[object Float32Array]"===n?i+=z:"[object Float64Array]"===n?i+=H:t(new Error("Failed to get type for BinaryArray"))),t(i+V(r))}else if("[object Blob]"===n){var a=new FileReader;a.onload=function(){var n="~~local_forage_type~"+e.type+"~"+V(this.result);t(M+N+n)},a.readAsArrayBuffer(e)}else try{t(JSON.stringify(e))}catch(n){console.error("Couldn't convert value into a JSON string: ",e),t(null,n)}},deserialize:function(e){if(e.substring(0,9)!==M)return JSON.parse(e);var t,n=e.substring(13),r=e.substring(9,13);if(r===N&&C.test(n)){var i=n.match(C);t=i[1],n=n.substring(i[0].length)}var s=W(n);switch(r){case P:return s;case N:return a([s],{type:t});case B:return new Int8Array(s);case D:return new Uint8Array(s);case L:return new Uint8ClampedArray(s);case F:return new Int16Array(s);case j:return new Uint16Array(s);case U:return new Int32Array(s);case q:return new Uint32Array(s);case z:return new Float32Array(s);case H:return new Float64Array(s);default:throw new Error("Unkown type: "+r)}},stringToBuffer:W,bufferToString:V};function X(e,t,n,r){e.executeSql("CREATE TABLE IF NOT EXISTS "+t.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],n,r)}function $(e,t,n,r,i,a){e.executeSql(n,r,i,(function(e,s){s.code===s.SYNTAX_ERR?e.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[t.storeName],(function(e,o){o.rows.length?a(e,s):X(e,t,(function(){e.executeSql(n,r,i,a)}),a)}),a):a(e,s)}),a)}function J(e,t,n,r){var i=this;e=u(e);var a=new s((function(a,s){i.ready().then((function(){void 0===t&&(t=null);var o=t,c=i._dbInfo;c.serializer.serialize(t,(function(t,u){u?s(u):c.db.transaction((function(n){$(n,c,"INSERT OR REPLACE INTO "+c.storeName+" (key, value) VALUES (?, ?)",[e,t],(function(){a(o)}),(function(e,t){s(t)}))}),(function(t){if(t.code===t.QUOTA_ERR){if(r>0)return void a(J.apply(i,[e,o,n,r-1]));s(t)}}))}))})).catch(s)}));return o(a,n),a}var Y={_driver:"webSQLStorage",_initStorage:function(e){var t=this,n={db:null};if(e)for(var r in e)n[r]="string"!=typeof e[r]?e[r].toString():e[r];var i=new s((function(e,r){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(e){return r(e)}n.db.transaction((function(i){X(i,n,(function(){t._dbInfo=n,e()}),(function(e,t){r(t)}))}),r)}));return n.serializer=K,i},_support:"function"==typeof openDatabase,iterate:function(e,t){var n=this,r=new s((function(t,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){$(n,i,"SELECT * FROM "+i.storeName,[],(function(n,r){for(var a=r.rows,s=a.length,o=0;o<s;o++){var c=a.item(o),u=c.value;if(u&&(u=i.serializer.deserialize(u)),void 0!==(u=e(u,c.key,o+1)))return void t(u)}t()}),(function(e,t){r(t)}))}))})).catch(r)}));return o(r,t),r},getItem:function(e,t){var n=this;e=u(e);var r=new s((function(t,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){$(n,i,"SELECT * FROM "+i.storeName+" WHERE key = ? LIMIT 1",[e],(function(e,n){var r=n.rows.length?n.rows.item(0).value:null;r&&(r=i.serializer.deserialize(r)),t(r)}),(function(e,t){r(t)}))}))})).catch(r)}));return o(r,t),r},setItem:function(e,t,n){return J.apply(this,[e,t,n,1])},removeItem:function(e,t){var n=this;e=u(e);var r=new s((function(t,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){$(n,i,"DELETE FROM "+i.storeName+" WHERE key = ?",[e],(function(){t()}),(function(e,t){r(t)}))}))})).catch(r)}));return o(r,t),r},clear:function(e){var t=this,n=new s((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){$(t,r,"DELETE FROM "+r.storeName,[],(function(){e()}),(function(e,t){n(t)}))}))})).catch(n)}));return o(n,e),n},length:function(e){var t=this,n=new s((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){$(t,r,"SELECT COUNT(key) as c FROM "+r.storeName,[],(function(t,n){var r=n.rows.item(0).c;e(r)}),(function(e,t){n(t)}))}))})).catch(n)}));return o(n,e),n},key:function(e,t){var n=this,r=new s((function(t,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){$(n,i,"SELECT key FROM "+i.storeName+" WHERE id = ? LIMIT 1",[e+1],(function(e,n){var r=n.rows.length?n.rows.item(0).key:null;t(r)}),(function(e,t){r(t)}))}))})).catch(r)}));return o(r,t),r},keys:function(e){var t=this,n=new s((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){$(t,r,"SELECT key FROM "+r.storeName,[],(function(t,n){for(var r=[],i=0;i<n.rows.length;i++)r.push(n.rows.item(i).key);e(r)}),(function(e,t){n(t)}))}))})).catch(n)}));return o(n,e),n},dropInstance:function(e,t){t=d.apply(this,arguments);var n=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var r,i=this;return r=e.name?new s((function(t){var r;r=e.name===n.name?i._dbInfo.db:openDatabase(e.name,"","",0),e.storeName?t({db:r,storeNames:[e.storeName]}):t(function(e){return new s((function(t,n){e.transaction((function(r){r.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],(function(n,r){for(var i=[],a=0;a<r.rows.length;a++)i.push(r.rows.item(a).name);t({db:e,storeNames:i})}),(function(e,t){n(t)}))}),(function(e){n(e)}))}))}(r))})).then((function(e){return new s((function(t,n){e.db.transaction((function(r){function i(e){return new s((function(t,n){r.executeSql("DROP TABLE IF EXISTS "+e,[],(function(){t()}),(function(e,t){n(t)}))}))}for(var a=[],o=0,c=e.storeNames.length;o<c;o++)a.push(i(e.storeNames[o]));s.all(a).then((function(){t()})).catch((function(e){n(e)}))}),(function(e){n(e)}))}))})):s.reject("Invalid arguments"),o(r,t),r}};function Q(e,t){var n=e.name+"/";return e.storeName!==t.storeName&&(n+=e.storeName+"/"),n}function Z(){return!function(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch{return!0}}()||localStorage.length>0}var ee={_driver:"localStorageWrapper",_initStorage:function(e){var t={};if(e)for(var n in e)t[n]=e[n];return t.keyPrefix=Q(e,this._defaultConfig),Z()?(this._dbInfo=t,t.serializer=K,s.resolve()):s.reject()},_support:function(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}(),iterate:function(e,t){var n=this,r=n.ready().then((function(){for(var t=n._dbInfo,r=t.keyPrefix,i=r.length,a=localStorage.length,s=1,o=0;o<a;o++){var c=localStorage.key(o);if(0===c.indexOf(r)){var u=localStorage.getItem(c);if(u&&(u=t.serializer.deserialize(u)),void 0!==(u=e(u,c.substring(i),s++)))return u}}}));return o(r,t),r},getItem:function(e,t){var n=this;e=u(e);var r=n.ready().then((function(){var t=n._dbInfo,r=localStorage.getItem(t.keyPrefix+e);return r&&(r=t.serializer.deserialize(r)),r}));return o(r,t),r},setItem:function(e,t,n){var r=this;e=u(e);var i=r.ready().then((function(){void 0===t&&(t=null);var n=t;return new s((function(i,a){var s=r._dbInfo;s.serializer.serialize(t,(function(t,r){if(r)a(r);else try{localStorage.setItem(s.keyPrefix+e,t),i(n)}catch(e){("QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)&&a(e),a(e)}}))}))}));return o(i,n),i},removeItem:function(e,t){var n=this;e=u(e);var r=n.ready().then((function(){var t=n._dbInfo;localStorage.removeItem(t.keyPrefix+e)}));return o(r,t),r},clear:function(e){var t=this,n=t.ready().then((function(){for(var e=t._dbInfo.keyPrefix,n=localStorage.length-1;n>=0;n--){var r=localStorage.key(n);0===r.indexOf(e)&&localStorage.removeItem(r)}}));return o(n,e),n},length:function(e){var t=this.keys().then((function(e){return e.length}));return o(t,e),t},key:function(e,t){var n=this,r=n.ready().then((function(){var t,r=n._dbInfo;try{t=localStorage.key(e)}catch{t=null}return t&&(t=t.substring(r.keyPrefix.length)),t}));return o(r,t),r},keys:function(e){var t=this,n=t.ready().then((function(){for(var e=t._dbInfo,n=localStorage.length,r=[],i=0;i<n;i++){var a=localStorage.key(i);0===a.indexOf(e.keyPrefix)&&r.push(a.substring(e.keyPrefix.length))}return r}));return o(n,e),n},dropInstance:function(e,t){if(t=d.apply(this,arguments),!(e="function"!=typeof e&&e||{}).name){var n=this.config();e.name=e.name||n.name,e.storeName=e.storeName||n.storeName}var r,i=this;return r=e.name?new s((function(t){e.storeName?t(Q(e,i._defaultConfig)):t(e.name+"/")})).then((function(e){for(var t=localStorage.length-1;t>=0;t--){var n=localStorage.key(t);0===n.indexOf(e)&&localStorage.removeItem(n)}})):s.reject("Invalid arguments"),o(r,t),r}},te=function(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)},ne=function(e,t){for(var n=e.length,r=0;r<n;){if(te(e[r],t))return!0;r++}return!1},re=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},ie={},ae={},se={INDEXEDDB:I,WEBSQL:Y,LOCALSTORAGE:ee},oe=[se.INDEXEDDB._driver,se.WEBSQL._driver,se.LOCALSTORAGE._driver],ce=["dropInstance"],ue=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(ce),de={description:"",driver:oe.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function fe(e,t){e[t]=function(){var n=arguments;return e.ready().then((function(){return e[t].apply(e,n)}))}}function le(){for(var e=1;e<arguments.length;e++){var t=arguments[e];if(t)for(var n in t)t.hasOwnProperty(n)&&(re(t[n])?arguments[0][n]=t[n].slice():arguments[0][n]=t[n])}return arguments[0]}var he=function(){function e(t){for(var n in function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),se)if(se.hasOwnProperty(n)){var r=se[n],i=r._driver;this[n]=i,ie[i]||this.defineDriver(r)}this._defaultConfig=le({},de),this._config=le({},this._defaultConfig,t),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch((function(){}))}return e.prototype.config=function(e){if("object"===(typeof e>"u"?"undefined":r(e))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var t in e){if("storeName"===t&&(e[t]=e[t].replace(/\W/g,"_")),"version"===t&&"number"!=typeof e[t])return new Error("Database version must be a number.");this._config[t]=e[t]}return!("driver"in e)||!e.driver||this.setDriver(this._config.driver)}return"string"==typeof e?this._config[e]:this._config},e.prototype.defineDriver=function(e,t,n){var r=new s((function(t,n){try{var r=e._driver,i=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!e._driver)return void n(i);for(var a=ue.concat("_initStorage"),c=0,u=a.length;c<u;c++){var d=a[c];if((!ne(ce,d)||e[d])&&"function"!=typeof e[d])return void n(i)}!function(){for(var t=function(e){return function(){var t=new Error("Method "+e+" is not implemented by the current driver"),n=s.reject(t);return o(n,arguments[arguments.length-1]),n}},n=0,r=ce.length;n<r;n++){var i=ce[n];e[i]||(e[i]=t(i))}}();var f=function(n){ie[r]&&console.info("Redefining LocalForage driver: "+r),ie[r]=e,ae[r]=n,t()};"_support"in e?e._support&&"function"==typeof e._support?e._support().then(f,n):f(!!e._support):f(!0)}catch(e){n(e)}}));return c(r,t,n),r},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(e,t,n){var r=ie[e]?s.resolve(ie[e]):s.reject(new Error("Driver not found."));return c(r,t,n),r},e.prototype.getSerializer=function(e){var t=s.resolve(K);return c(t,e),t},e.prototype.ready=function(e){var t=this,n=t._driverSet.then((function(){return null===t._ready&&(t._ready=t._initDriver()),t._ready}));return c(n,e,e),n},e.prototype.setDriver=function(e,t,n){var r=this;re(e)||(e=[e]);var i=this._getSupportedDrivers(e);function a(){r._config.driver=r.driver()}function o(e){return r._extend(e),a(),r._ready=r._initStorage(r._config),r._ready}var u=null!==this._driverSet?this._driverSet.catch((function(){return s.resolve()})):s.resolve();return this._driverSet=u.then((function(){var e=i[0];return r._dbInfo=null,r._ready=null,r.getDriver(e).then((function(e){r._driver=e._driver,a(),r._wrapLibraryMethodsWithReady(),r._initDriver=function(e){return function(){var t=0;return function n(){for(;t<e.length;){var i=e[t];return t++,r._dbInfo=null,r._ready=null,r.getDriver(i).then(o).catch(n)}a();var c=new Error("No available storage method found.");return r._driverSet=s.reject(c),r._driverSet}()}}(i)}))})).catch((function(){a();var e=new Error("No available storage method found.");return r._driverSet=s.reject(e),r._driverSet})),c(this._driverSet,t,n),this._driverSet},e.prototype.supports=function(e){return!!ae[e]},e.prototype._extend=function(e){le(this,e)},e.prototype._getSupportedDrivers=function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];this.supports(i)&&t.push(i)}return t},e.prototype._wrapLibraryMethodsWithReady=function(){for(var e=0,t=ue.length;e<t;e++)fe(this,ue[e])},e.prototype.createInstance=function(t){return new e(t)},e}(),pe=new he;t.exports=pe},{3:3}]},{},[4])(4)}))})),uj=aj(((e,t)=>{!function(n,r){"object"==typeof e&&typeof t<"u"?r(e):"function"==typeof define&&define.amd?define("localforage-driver-memory",["exports"],r):r(n.LocalforageDriverMemory={})}(typeof self<"u"?self:e,(function(e){var t=/^~~local_forage_type~([^~]+)~/,n=Object.prototype.toString;function r(e){var t=.75*e.length,n=e.length;"="===e[e.length-1]&&(t--,"="===e[e.length-2]&&t--);for(var r=new ArrayBuffer(t),i=new Uint8Array(r),a=0,s=0;a<n;a+=4){var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(e[a]),c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(e[a+1]),u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(e[a+2]),d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(e[a+3]);i[s++]=o<<2|c>>4,i[s++]=(15&c)<<4|u>>2,i[s++]=(3&u)<<6|63&d}return r}function i(e){for(var t=new Uint8Array(e),n="",r=0;r<t.length;r+=3)n+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[t[r]>>2],n+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(3&t[r])<<4|t[r+1]>>4],n+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(15&t[r+1])<<2|t[r+2]>>6],n+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[63&t[r+2]];return t.length%3==2?n=n.substring(0,n.length-1)+"=":t.length%3==1&&(n=n.substring(0,n.length-2)+"=="),n}function a(e){var t,n;if(null===e||"object"!=typeof e||"isActiveClone"in e)return e;var r=e instanceof Date?new Date(e):e.constructor();try{for(var i=function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}(Object.keys(e)),s=i.next();!s.done;s=i.next()){var o=s.value;Object.prototype.hasOwnProperty.call(e,o)&&(e.isActiveClone=null,r[o]=a(e[o]),delete e.isActiveClone)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function s(e,t){return(e.name||t.name)+"/"+(e.storeName||t.storeName)+"/"}function o(e,t){t&&e.then((function(e){t(null,e)}),(function(e){t(e)}))}function c(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}function u(e,t){var n,r=this;if(t=c.apply(this,arguments),!(e="function"!=typeof e&&e||{}).name){var i=this.config();e.name=e.name||i.name,e.storeName=e.storeName||i.storeName}return n=e.name?new Promise((function(t){e.storeName?t(s(e,r._defaultConfig)):t(e.name+"/")})):Promise.reject("Invalid arguments"),{promise:n,callback:t}}function d(e){return"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}var f={bufferToString:i,deserialize:function(e){if("__lfsc__:"!==e.substring(0,9))return JSON.parse(e);var n,i=e.substring(13),a=e.substring(9,13);if("blob"===a&&t.test(i)){var s=i.match(t);n=s[1],i=i.substring(s[0].length)}var o=r(i);switch(a){case"arbf":return o;case"blob":return function(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(i){if("TypeError"!==i.name)throw i;for(var n=new(typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder),r=0;r<e.length;r+=1)n.append(e[r]);return n.getBlob(t.type)}}([o],{type:n});case"si08":return new Int8Array(o);case"ui08":return new Uint8Array(o);case"uic8":return new Uint8ClampedArray(o);case"si16":return new Int16Array(o);case"ur16":return new Uint16Array(o);case"si32":return new Int32Array(o);case"ui32":return new Uint32Array(o);case"fl32":return new Float32Array(o);case"fl64":return new Float64Array(o);default:throw new Error("Unkown type: "+a)}},serialize:function(e,t){var r="";if(e&&(r=n.call(e)),e&&("[object ArrayBuffer]"===r||e.buffer&&"[object ArrayBuffer]"===n.call(e.buffer))){var a=void 0,s="__lfsc__:";e instanceof ArrayBuffer?(a=e,s+="arbf"):(a=e.buffer,"[object Int8Array]"===r?s+="si08":"[object Uint8Array]"===r?s+="ui08":"[object Uint8ClampedArray]"===r?s+="uic8":"[object Int16Array]"===r?s+="si16":"[object Uint16Array]"===r?s+="ur16":"[object Int32Array]"===r?s+="si32":"[object Uint32Array]"===r?s+="ui32":"[object Float32Array]"===r?s+="fl32":"[object Float64Array]"===r?s+="fl64":t(new Error("Failed to get type for BinaryArray"))),t(s+i(a))}else if("[object Blob]"===r){var o=new FileReader;o.onload=function(){var n="~~local_forage_type~"+e.type+"~"+i(this.result);t("__lfsc__:blob"+n)},o.readAsArrayBuffer(e)}else try{t(JSON.stringify(e))}catch(n){console.error("Couldn't convert value into a JSON string: ",e),t(null,n)}},stringToBuffer:r},l={},h=function(){function e(e){this.kp=e,this.data={}}return e.resolve=function(t){return l[t]||(l[t]=new e(t)),l[t]},e.prototype.clear=function(){this.data={}},e.prototype.drop=function(){this.clear(),delete l[this.kp]},e.prototype.get=function(e){return this.data[e]},e.prototype.key=function(e){return this.keys()[e]},e.prototype.keys=function(){return Object.keys(this.data)},e.prototype.rm=function(e){delete this.data[e]},e.prototype.set=function(e,t){this.data[e]=t},e}();e._support=!0,e._driver="localforage-driver-memory",e._initStorage=function(e){var t=e?a(e):{},n=s(t,this._defaultConfig),r=h.resolve(n);return this._dbInfo=t,this._dbInfo.serializer=f,this._dbInfo.keyPrefix=n,this._dbInfo.mStore=r,Promise.resolve()},e.clear=function(e){var t=this,n=this.ready().then((function(){t._dbInfo.mStore.clear()}));return o(n,e),n},e.dropInstance=function(e,t){var n=u.apply(this,arguments),r=n.promise,i=n.callback,a=r.then((function(e){h.resolve(e).drop()}));return o(a,i),r},e.getItem=function(e,t){var n=this;e=d(e);var r=this.ready().then((function(){var t=n._dbInfo.mStore.get(e);return null==t?null:n._dbInfo.serializer.deserialize(t)}));return o(r,t),r},e.iterate=function(e,t){var n=this,r=this.ready().then((function(){for(var t=n._dbInfo.mStore,r=t.keys(),i=0;i<r.length;i++){var a=t.get(r[i]);if(a&&(a=n._dbInfo.serializer.deserialize(a)),void 0!==(a=e(a,r[i],i+1)))return a}}));return o(r,t),r},e.key=function(e,t){var n=this,r=this.ready().then((function(){var t;try{void 0===(t=n._dbInfo.mStore.key(e))&&(t=null)}catch{t=null}return t}));return o(r,t),r},e.keys=function(e){var t=this,n=this.ready().then((function(){return t._dbInfo.mStore.keys()}));return o(n,e),n},e.length=function(e){var t=this.keys().then((function(e){return e.length}));return o(t,e),t},e.removeItem=function(e,t){var n=this;e=d(e);var r=this.ready().then((function(){n._dbInfo.mStore.rm(e)}));return o(r,t),r},e.setItem=function(e,t,n){var r=this;e=d(e);var i=this.ready().then((function(){void 0===t&&(t=null);var n=t;return new Promise((function(i,a){r._dbInfo.serializer.serialize(t,(function(t,s){if(s)a(s);else try{r._dbInfo.mStore.set(e,t),i(n)}catch(e){a(e)}}))}))}));return o(i,n),i},Object.defineProperty(e,"__esModule",{value:!0})}))})),dj=sj(cj()),fj=sj(uj()),lj={display:"none",position:"fixed",top:"0",right:"0",width:"100%",height:"100%",borderRadius:"0",border:"none",zIndex:"2147483647"};var hj=function(e,t){return Object.assign(qF,t),e}($U,{platform:"web",sdkName:"magic-sdk",version:"21.2.0",defaultEndpoint:"https://auth.magic.link/",ViewController:class extends YU{constructor(){super(...arguments),this.activeElement=null}init(){this.test="hello",this.iframe=new Promise((e=>{let t=()=>{if(function(e){let t=[].slice.call(document.querySelectorAll(".magic-iframe"));return Boolean(t.find((t=>t.src.includes(e))))}(encodeURIComponent(this.parameters)))new WF(aL.DuplicateIframe,"Duplicate iframes found.").log();else{let t=document.createElement("iframe");t.classList.add("magic-iframe"),t.dataset.magicIframeLabel=OU(this.endpoint).host,t.title="Secure Modal",t.src=OU(`/send?params=${encodeURIComponent(this.parameters)}`,this.endpoint).href,function(e){for(let[t,n]of Object.entries(lj))e.style[t]=n}(t),document.body.appendChild(t),e(t)}};["loaded","interactive","complete"].includes(document.readyState)?t():window.addEventListener("load",t,!1)})),window.addEventListener("message",(e=>{var t;if(e.origin===this.endpoint&&e.data&&e.data.msgType&&this.messageHandlers.size){e.data.response=null!=(t=e.data.response)?t:{};for(let t of this.messageHandlers.values())t(e)}}))}showOverlay(){return oj(this,null,(function*(){let e=yield this.iframe;e.style.display="block",this.activeElement=document.activeElement,e.focus()}))}hideOverlay(){return oj(this,null,(function*(){var e;(yield this.iframe).style.display="none",null!=(e=this.activeElement)&&e.focus&&this.activeElement.focus(),this.activeElement=null}))}_post(e){return oj(this,null,(function*(){let t=yield this.iframe;if(!t||!t.contentWindow)throw new HF(iL.ModalNotReady,"Modal is not ready.");t.contentWindow.postMessage(e,this.endpoint)}))}},configureStorage:()=>oj(void 0,null,(function*(){let e=dj.default.createInstance({name:"MagicAuthLocalStorageDB",storeName:"MagicAuthLocalStorage"});return yield e.defineDriver(fj),yield e.setDriver([dj.default.INDEXEDDB,dj.default.LOCALSTORAGE,fj._driver]),e}))}),pj=(e=>(e.LoginWithOIDC="magic_auth_login_with_oidc",e))(pj||{}),mj=class extends GU.Internal{constructor(){super(...arguments),this.name="openid",this.config={}}loginWithOIDC(e){let t=this.utils.createJsonRpcRequestPayload("magic_auth_login_with_oidc",[e]);return this.request(t)}};function bj(e,t){return function(){return e.apply(t,arguments)}}const{toString:yj}=Object.prototype,{getPrototypeOf:gj}=Object,vj=(e=>t=>{const n=yj.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),wj=e=>(e=e.toLowerCase(),t=>vj(t)===e),_j=e=>t=>typeof t===e,{isArray:Ej}=Array,Tj=_j("undefined");const Aj=wj("ArrayBuffer");const Rj=_j("string"),Sj=_j("function"),kj=_j("number"),Oj=e=>null!==e&&"object"==typeof e,Ij=e=>{if("object"!==vj(e))return!1;const t=gj(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)},xj=wj("Date"),Cj=wj("File"),Mj=wj("Blob"),Pj=wj("FileList"),Nj=wj("URLSearchParams");function Bj(e,t,{allOwnKeys:n=!1}={}){if(null==e)return;let r,i;if("object"!=typeof e&&(e=[e]),Ej(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{const i=n?Object.getOwnPropertyNames(e):Object.keys(e),a=i.length;let s;for(r=0;r<a;r++)s=i[r],t.call(null,e[s],s,e)}}function Dj(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,i=n.length;for(;i-- >0;)if(r=n[i],t===r.toLowerCase())return r;return null}const Lj="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,Fj=e=>!Tj(e)&&e!==Lj;const Uj=(e=>t=>e&&t instanceof e)("undefined"!=typeof Uint8Array&&gj(Uint8Array)),jj=wj("HTMLFormElement"),qj=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),zj=wj("RegExp"),Hj=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Bj(n,((n,i)=>{let a;!1!==(a=t(n,i,e))&&(r[i]=a||n)})),Object.defineProperties(e,r)},Gj="abcdefghijklmnopqrstuvwxyz",Wj="0123456789",Vj={DIGIT:Wj,ALPHA:Gj,ALPHA_DIGIT:Gj+Gj.toUpperCase()+Wj};const Kj=wj("AsyncFunction");var Xj={isArray:Ej,isArrayBuffer:Aj,isBuffer:function(e){return null!==e&&!Tj(e)&&null!==e.constructor&&!Tj(e.constructor)&&Sj(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||Sj(e.append)&&("formdata"===(t=vj(e))||"object"===t&&Sj(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Aj(e.buffer),t},isString:Rj,isNumber:kj,isBoolean:e=>!0===e||!1===e,isObject:Oj,isPlainObject:Ij,isUndefined:Tj,isDate:xj,isFile:Cj,isBlob:Mj,isRegExp:zj,isFunction:Sj,isStream:e=>Oj(e)&&Sj(e.pipe),isURLSearchParams:Nj,isTypedArray:Uj,isFileList:Pj,forEach:Bj,merge:function e(){const{caseless:t}=Fj(this)&&this||{},n={},r=(r,i)=>{const a=t&&Dj(n,i)||i;Ij(n[a])&&Ij(r)?n[a]=e(n[a],r):Ij(r)?n[a]=e({},r):Ej(r)?n[a]=r.slice():n[a]=r};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&Bj(arguments[e],r);return n},extend:(e,t,n,{allOwnKeys:r}={})=>(Bj(t,((t,r)=>{n&&Sj(t)?e[r]=bj(t,n):e[r]=t}),{allOwnKeys:r}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let i,a,s;const o={};if(t=t||{},null==e)return t;do{for(i=Object.getOwnPropertyNames(e),a=i.length;a-- >0;)s=i[a],r&&!r(s,e,t)||o[s]||(t[s]=e[s],o[s]=!0);e=!1!==n&&gj(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:vj,kindOfTest:wj,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(Ej(e))return e;let t=e.length;if(!kj(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:jj,hasOwnProperty:qj,hasOwnProp:qj,reduceDescriptors:Hj,freezeMethods:e=>{Hj(e,((t,n)=>{if(Sj(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];Sj(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return Ej(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>(e=+e,Number.isFinite(e)?e:t),findKey:Dj,global:Lj,isContextDefined:Fj,ALPHABET:Vj,generateString:(e=16,t=Vj.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&Sj(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(Oj(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const i=Ej(e)?[]:{};return Bj(e,((e,t)=>{const a=n(e,r+1);!Tj(a)&&(i[t]=a)})),t[r]=void 0,i}}return e};return n(e,0)},isAsyncFn:Kj,isThenable:e=>e&&(Oj(e)||Sj(e))&&Sj(e.then)&&Sj(e.catch)};function $j(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}Xj.inherits($j,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Xj.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Jj=$j.prototype,Yj={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{Yj[e]={value:e}})),Object.defineProperties($j,Yj),Object.defineProperty(Jj,"isAxiosError",{value:!0}),$j.from=(e,t,n,r,i,a)=>{const s=Object.create(Jj);return Xj.toFlatObject(e,s,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),$j.call(s,e.message,t,n,r,i),s.cause=e,s.name=e.name,a&&Object.assign(s,a),s};function Qj(e){return Xj.isPlainObject(e)||Xj.isArray(e)}function Zj(e){return Xj.endsWith(e,"[]")?e.slice(0,-2):e}function eq(e,t,n){return e?e.concat(t).map((function(e,t){return e=Zj(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const tq=Xj.toFlatObject(Xj,{},null,(function(e){return/^is[A-Z]/.test(e)}));function nq(e,t,n){if(!Xj.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=Xj.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!Xj.isUndefined(t[e])}))).metaTokens,i=n.visitor||u,a=n.dots,s=n.indexes,o=(n.Blob||"undefined"!=typeof Blob&&Blob)&&Xj.isSpecCompliantForm(t);if(!Xj.isFunction(i))throw new TypeError("visitor must be a function");function c(e){if(null===e)return"";if(Xj.isDate(e))return e.toISOString();if(!o&&Xj.isBlob(e))throw new $j("Blob is not supported. Use a Buffer instead.");return Xj.isArrayBuffer(e)||Xj.isTypedArray(e)?o&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function u(e,n,i){let o=e;if(e&&!i&&"object"==typeof e)if(Xj.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(Xj.isArray(e)&&function(e){return Xj.isArray(e)&&!e.some(Qj)}(e)||(Xj.isFileList(e)||Xj.endsWith(n,"[]"))&&(o=Xj.toArray(e)))return n=Zj(n),o.forEach((function(e,r){!Xj.isUndefined(e)&&null!==e&&t.append(!0===s?eq([n],r,a):null===s?n:n+"[]",c(e))})),!1;return!!Qj(e)||(t.append(eq(i,n,a),c(e)),!1)}const d=[],f=Object.assign(tq,{defaultVisitor:u,convertValue:c,isVisitable:Qj});if(!Xj.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!Xj.isUndefined(n)){if(-1!==d.indexOf(n))throw Error("Circular reference detected in "+r.join("."));d.push(n),Xj.forEach(n,(function(n,a){!0===(!(Xj.isUndefined(n)||null===n)&&i.call(t,n,Xj.isString(a)?a.trim():a,r,f))&&e(n,r?r.concat(a):[a])})),d.pop()}}(e),t}function rq(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function iq(e,t){this._pairs=[],e&&nq(e,this,t)}const aq=iq.prototype;function sq(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function oq(e,t,n){if(!t)return e;const r=n&&n.encode||sq,i=n&&n.serialize;let a;if(a=i?i(t,n):Xj.isURLSearchParams(t)?t.toString():new iq(t,n).toString(r),a){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}aq.append=function(e,t){this._pairs.push([e,t])},aq.toString=function(e){const t=e?function(t){return e.call(this,t,rq)}:rq;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var cq=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Xj.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},uq={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},dq={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:iq,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]};const fq="undefined"!=typeof window&&"undefined"!=typeof document,lq=(e=>fq&&["ReactNative","NativeScript","NS"].indexOf(e)<0)("undefined"!=typeof navigator&&navigator.product),hq="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts;var pq={...Object.freeze({__proto__:null,hasBrowserEnv:fq,hasStandardBrowserEnv:lq,hasStandardBrowserWebWorkerEnv:hq}),...dq};function mq(e){function t(e,n,r,i){let a=e[i++];if("__proto__"===a)return!0;const s=Number.isFinite(+a),o=i>=e.length;if(a=!a&&Xj.isArray(r)?r.length:a,o)return Xj.hasOwnProp(r,a)?r[a]=[r[a],n]:r[a]=n,!s;r[a]&&Xj.isObject(r[a])||(r[a]=[]);return t(e,n,r[a],i)&&Xj.isArray(r[a])&&(r[a]=function(e){const t={},n=Object.keys(e);let r;const i=n.length;let a;for(r=0;r<i;r++)a=n[r],t[a]=e[a];return t}(r[a])),!s}if(Xj.isFormData(e)&&Xj.isFunction(e.entries)){const n={};return Xj.forEachEntry(e,((e,r)=>{t(function(e){return Xj.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null}const bq={transitional:uq,adapter:["xhr","http"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,i=Xj.isObject(e);i&&Xj.isHTMLForm(e)&&(e=new FormData(e));if(Xj.isFormData(e))return r&&r?JSON.stringify(mq(e)):e;if(Xj.isArrayBuffer(e)||Xj.isBuffer(e)||Xj.isStream(e)||Xj.isFile(e)||Xj.isBlob(e))return e;if(Xj.isArrayBufferView(e))return e.buffer;if(Xj.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return nq(e,new pq.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return pq.isNode&&Xj.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((a=Xj.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return nq(a?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||r?(t.setContentType("application/json",!1),function(e,t,n){if(Xj.isString(e))try{return(t||JSON.parse)(e),Xj.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||bq.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(e&&Xj.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(e){if(n){if("SyntaxError"===e.name)throw $j.from(e,$j.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:pq.classes.FormData,Blob:pq.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Xj.forEach(["delete","get","head","post","put","patch"],(e=>{bq.headers[e]={}}));var yq=bq;const gq=Xj.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);const vq=Symbol("internals");function wq(e){return e&&String(e).trim().toLowerCase()}function _q(e){return!1===e||null==e?e:Xj.isArray(e)?e.map(_q):String(e)}function Eq(e,t,n,r,i){return Xj.isFunction(r)?r.call(this,t,n):(i&&(t=n),Xj.isString(t)?Xj.isString(r)?-1!==t.indexOf(r):Xj.isRegExp(r)?r.test(t):void 0:void 0)}let Tq=class{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function i(e,t,n){const i=wq(t);if(!i)throw new Error("header name must be a non-empty string");const a=Xj.findKey(r,i);(!a||void 0===r[a]||!0===n||void 0===n&&!1!==r[a])&&(r[a||t]=_q(e))}const a=(e,t)=>Xj.forEach(e,((e,n)=>i(e,n,t)));return Xj.isPlainObject(e)||e instanceof this.constructor?a(e,t):Xj.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim())?a((e=>{const t={};let n,r,i;return e&&e.split("\n").forEach((function(e){i=e.indexOf(":"),n=e.substring(0,i).trim().toLowerCase(),r=e.substring(i+1).trim(),!n||t[n]&&gq[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t):null!=e&&i(t,e,n),this}get(e,t){if(e=wq(e)){const n=Xj.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(Xj.isFunction(t))return t.call(this,e,n);if(Xj.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=wq(e)){const n=Xj.findKey(this,e);return!(!n||void 0===this[n]||t&&!Eq(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function i(e){if(e=wq(e)){const i=Xj.findKey(n,e);!i||t&&!Eq(0,n[i],i,t)||(delete n[i],r=!0)}}return Xj.isArray(e)?e.forEach(i):i(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const i=t[n];e&&!Eq(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}normalize(e){const t=this,n={};return Xj.forEach(this,((r,i)=>{const a=Xj.findKey(n,i);if(a)return t[a]=_q(r),void delete t[i];const s=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(i):String(i).trim();s!==i&&delete t[i],t[s]=_q(r),n[s]=!0})),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return Xj.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&Xj.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([e,t])=>e+": "+t)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach((e=>n.set(e))),n}static accessor(e){const t=(this[vq]=this[vq]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=wq(e);t[r]||(!function(e,t){const n=Xj.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return Xj.isArray(e)?e.forEach(r):r(e),this}};Tq.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Xj.reduceDescriptors(Tq.prototype,(({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[n]=e}}})),Xj.freezeMethods(Tq);var Aq=Tq;function Rq(e,t){const n=this||yq,r=t||n,i=Aq.from(r.headers);let a=r.data;return Xj.forEach(e,(function(e){a=e.call(n,a,i.normalize(),t?t.status:void 0)})),i.normalize(),a}function Sq(e){return!(!e||!e.__CANCEL__)}function kq(e,t,n){$j.call(this,null==e?"canceled":e,$j.ERR_CANCELED,t,n),this.name="CanceledError"}Xj.inherits(kq,$j,{__CANCEL__:!0});var Oq=pq.hasStandardBrowserEnv?{write(e,t,n,r,i,a){const s=[e+"="+encodeURIComponent(t)];Xj.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),Xj.isString(r)&&s.push("path="+r),Xj.isString(i)&&s.push("domain="+i),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Iq(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}var xq=pq.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let n;function r(n){let r=n;return e&&(t.setAttribute("href",r),r=t.href),t.setAttribute("href",r),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return n=r(window.location.href),function(e){const t=Xj.isString(e)?r(e):e;return t.protocol===n.protocol&&t.host===n.host}}():function(){return!0};function Cq(e,t){let n=0;const r=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i,a=0,s=0;return t=void 0!==t?t:1e3,function(o){const c=Date.now(),u=r[s];i||(i=c),n[a]=o,r[a]=c;let d=s,f=0;for(;d!==a;)f+=n[d++],d%=e;if(a=(a+1)%e,a===s&&(s=(s+1)%e),c-i<t)return;const l=u&&c-u;return l?Math.round(1e3*f/l):void 0}}(50,250);return i=>{const a=i.loaded,s=i.lengthComputable?i.total:void 0,o=a-n,c=r(o);n=a;const u={loaded:a,total:s,progress:s?a/s:void 0,bytes:o,rate:c||void 0,estimated:c&&s&&a<=s?(s-a)/c:void 0,event:i};u[t?"download":"upload"]=!0,e(u)}}var Mq="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){let r=e.data;const i=Aq.from(e.headers).normalize();let a,s,{responseType:o,withXSRFToken:c}=e;function u(){e.cancelToken&&e.cancelToken.unsubscribe(a),e.signal&&e.signal.removeEventListener("abort",a)}if(Xj.isFormData(r))if(pq.hasStandardBrowserEnv||pq.hasStandardBrowserWebWorkerEnv)i.setContentType(!1);else if(!1!==(s=i.getContentType())){const[e,...t]=s?s.split(";").map((e=>e.trim())).filter(Boolean):[];i.setContentType([e||"multipart/form-data",...t].join("; "))}let d=new XMLHttpRequest;if(e.auth){const t=e.auth.username||"",n=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";i.set("Authorization","Basic "+btoa(t+":"+n))}const f=Iq(e.baseURL,e.url);function l(){if(!d)return;const r=Aq.from("getAllResponseHeaders"in d&&d.getAllResponseHeaders());!function(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new $j("Request failed with status code "+n.status,[$j.ERR_BAD_REQUEST,$j.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}((function(e){t(e),u()}),(function(e){n(e),u()}),{data:o&&"text"!==o&&"json"!==o?d.response:d.responseText,status:d.status,statusText:d.statusText,headers:r,config:e,request:d}),d=null}if(d.open(e.method.toUpperCase(),oq(f,e.params,e.paramsSerializer),!0),d.timeout=e.timeout,"onloadend"in d?d.onloadend=l:d.onreadystatechange=function(){d&&4===d.readyState&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))&&setTimeout(l)},d.onabort=function(){d&&(n(new $j("Request aborted",$j.ECONNABORTED,e,d)),d=null)},d.onerror=function(){n(new $j("Network Error",$j.ERR_NETWORK,e,d)),d=null},d.ontimeout=function(){let t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const r=e.transitional||uq;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new $j(t,r.clarifyTimeoutError?$j.ETIMEDOUT:$j.ECONNABORTED,e,d)),d=null},pq.hasStandardBrowserEnv&&(c&&Xj.isFunction(c)&&(c=c(e)),c||!1!==c&&xq(f))){const t=e.xsrfHeaderName&&e.xsrfCookieName&&Oq.read(e.xsrfCookieName);t&&i.set(e.xsrfHeaderName,t)}void 0===r&&i.setContentType(null),"setRequestHeader"in d&&Xj.forEach(i.toJSON(),(function(e,t){d.setRequestHeader(t,e)})),Xj.isUndefined(e.withCredentials)||(d.withCredentials=!!e.withCredentials),o&&"json"!==o&&(d.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&d.addEventListener("progress",Cq(e.onDownloadProgress,!0)),"function"==typeof e.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",Cq(e.onUploadProgress)),(e.cancelToken||e.signal)&&(a=t=>{d&&(n(!t||t.type?new kq(null,e,d):t),d.abort(),d=null)},e.cancelToken&&e.cancelToken.subscribe(a),e.signal&&(e.signal.aborted?a():e.signal.addEventListener("abort",a)));const h=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(f);h&&-1===pq.protocols.indexOf(h)?n(new $j("Unsupported protocol "+h+":",$j.ERR_BAD_REQUEST,e)):d.send(r||null)}))};const Pq={http:null,xhr:Mq};Xj.forEach(Pq,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}}));const Nq=e=>`- ${e}`,Bq=e=>Xj.isFunction(e)||null===e||!1===e;var Dq=e=>{e=Xj.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let a=0;a<t;a++){let t;if(n=e[a],r=n,!Bq(n)&&(r=Pq[(t=String(n)).toLowerCase()],void 0===r))throw new $j(`Unknown adapter '${t}'`);if(r)break;i[t||"#"+a]=r}if(!r){const e=Object.entries(i).map((([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build")));throw new $j("There is no suitable adapter to dispatch the request "+(t?e.length>1?"since :\n"+e.map(Nq).join("\n"):" "+Nq(e[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return r};function Lq(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new kq(null,e)}function Fq(e){Lq(e),e.headers=Aq.from(e.headers),e.data=Rq.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return Dq(e.adapter||yq.adapter)(e).then((function(t){return Lq(e),t.data=Rq.call(e,e.transformResponse,t),t.headers=Aq.from(t.headers),t}),(function(t){return Sq(t)||(Lq(e),t&&t.response&&(t.response.data=Rq.call(e,e.transformResponse,t.response),t.response.headers=Aq.from(t.response.headers))),Promise.reject(t)}))}const Uq=e=>e instanceof Aq?e.toJSON():e;function jq(e,t){t=t||{};const n={};function r(e,t,n){return Xj.isPlainObject(e)&&Xj.isPlainObject(t)?Xj.merge.call({caseless:n},e,t):Xj.isPlainObject(t)?Xj.merge({},t):Xj.isArray(t)?t.slice():t}function i(e,t,n){return Xj.isUndefined(t)?Xj.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function a(e,t){if(!Xj.isUndefined(t))return r(void 0,t)}function s(e,t){return Xj.isUndefined(t)?Xj.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function o(n,i,a){return a in t?r(n,i):a in e?r(void 0,n):void 0}const c={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:o,headers:(e,t)=>i(Uq(e),Uq(t),!0)};return Xj.forEach(Object.keys(Object.assign({},e,t)),(function(r){const a=c[r]||i,s=a(e[r],t[r],r);Xj.isUndefined(s)&&a!==o||(n[r]=s)})),n}const qq="1.6.5",zq={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{zq[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const Hq={};zq.transitional=function(e,t,n){function r(e,t){return"[Axios v1.6.5] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,i,a)=>{if(!1===e)throw new $j(r(i," has been removed"+(t?" in "+t:"")),$j.ERR_DEPRECATED);return t&&!Hq[i]&&(Hq[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,a)}};var Gq={assertOptions:function(e,t,n){if("object"!=typeof e)throw new $j("options must be an object",$j.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const a=r[i],s=t[a];if(s){const t=e[a],n=void 0===t||s(t,a,e);if(!0!==n)throw new $j("option "+a+" must be "+n,$j.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new $j("Unknown option "+a,$j.ERR_BAD_OPTION)}},validators:zq};const Wq=Gq.validators;let Vq=class{constructor(e){this.defaults=e,this.interceptors={request:new cq,response:new cq}}request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=jq(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:i}=t;void 0!==n&&Gq.assertOptions(n,{silentJSONParsing:Wq.transitional(Wq.boolean),forcedJSONParsing:Wq.transitional(Wq.boolean),clarifyTimeoutError:Wq.transitional(Wq.boolean)},!1),null!=r&&(Xj.isFunction(r)?t.paramsSerializer={serialize:r}:Gq.assertOptions(r,{encode:Wq.function,serialize:Wq.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=i&&Xj.merge(i.common,i[t.method]);i&&Xj.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete i[e]})),t.headers=Aq.concat(a,i);const s=[];let o=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,s.unshift(e.fulfilled,e.rejected))}));const c=[];let u;this.interceptors.response.forEach((function(e){c.push(e.fulfilled,e.rejected)}));let d,f=0;if(!o){const e=[Fq.bind(this),void 0];for(e.unshift.apply(e,s),e.push.apply(e,c),d=e.length,u=Promise.resolve(t);f<d;)u=u.then(e[f++],e[f++]);return u}d=s.length;let l=t;for(f=0;f<d;){const e=s[f++],t=s[f++];try{l=e(l)}catch(e){t.call(this,e);break}}try{u=Fq.call(this,l)}catch(e){return Promise.reject(e)}for(f=0,d=c.length;f<d;)u=u.then(c[f++],c[f++]);return u}getUri(e){return oq(Iq((e=jq(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}};Xj.forEach(["delete","get","head","options"],(function(e){Vq.prototype[e]=function(t,n){return this.request(jq(n||{},{method:e,url:t,data:(n||{}).data}))}})),Xj.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(jq(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Vq.prototype[e]=t(),Vq.prototype[e+"Form"]=t(!0)}));var Kq=Vq;var Xq=class e{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,i){n.reason||(n.reason=new kq(e,r,i),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let t;const n=new e((function(e){t=e}));return{token:n,cancel:t}}};const $q={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries($q).forEach((([e,t])=>{$q[t]=e}));var Jq=$q;const Yq=function e(t){const n=new Kq(t),r=bj(Kq.prototype.request,n);return Xj.extend(r,Kq.prototype,n,{allOwnKeys:!0}),Xj.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(jq(t,n))},r}(yq);Yq.Axios=Kq,Yq.CanceledError=kq,Yq.CancelToken=Xq,Yq.isCancel=Sq,Yq.VERSION=qq,Yq.toFormData=nq,Yq.AxiosError=$j,Yq.Cancel=Yq.CanceledError,Yq.all=function(e){return Promise.all(e)},Yq.spread=function(e){return function(t){return e.apply(null,t)}},Yq.isAxiosError=function(e){return Xj.isObject(e)&&!0===e.isAxiosError},Yq.mergeConfig=jq,Yq.AxiosHeaders=Aq,Yq.formToJSON=e=>mq(Xj.isHTMLForm(e)?new FormData(e):e),Yq.getAdapter=Dq,Yq.HttpStatusCode=Jq,Yq.default=Yq;var Qq=Yq;const Zq="https://guardian.sandbox.imtbl.com".replace(/\/+$/,"");class ez{basePath;axios;configuration;constructor(e,t=Zq,n=Qq){this.basePath=t,this.axios=n,e&&(this.configuration=e,this.basePath=e.basePath||this.basePath)}}class tz extends Error{field;name="RequiredError";constructor(e,t){super(t),this.field=e}}const nz="https://example.com",rz=function(e,t,n){if(null==n)throw new tz(t,`Required parameter ${t} was null or undefined when calling ${e}.`)},iz=async function(e,t){if(t&&t.accessToken){const n="function"==typeof t.accessToken?await t.accessToken():await t.accessToken;e.Authorization="Bearer "+n}};function az(e,t,n=""){"object"==typeof t?Array.isArray(t)?t.forEach((t=>az(e,t,n))):Object.keys(t).forEach((r=>az(e,t[r],`${n}${""!==n?".":""}${r}`))):e.has(n)?e.append(n,t):e.set(n,t)}const sz=function(e,...t){const n=new URLSearchParams(e.search);az(n,t),e.search=n.toString()},oz=function(e,t,n){const r="string"!=typeof e;return(r&&n&&n.isJsonMime?n.isJsonMime(t.headers["Content-Type"]):r)?JSON.stringify(void 0!==e?e:{}):e||""},cz=function(e){return e.pathname+e.search+e.hash},uz=function(e,t,n,r){return(i=t,a=n)=>{const s={...e.options,url:(r?.basePath||a)+e.url};return i.request(s)}},dz=function(e){const t=function(e){return{approvePendingMessage:async(t,n={})=>{rz("approvePendingMessage","messageID",t);const r="/guardian/v1/messages/{messageID}/approve".replace("{messageID}",encodeURIComponent(String(t))),i=new URL(r,nz);let a;e&&(a=e.baseOptions);const s={method:"POST",...a,...n},o={};await iz(o,e),sz(i,{});let c=a&&a.headers?a.headers:{};return s.headers={...o,...c,...n.headers},{url:cz(i),options:s}},evaluateMessage:async(t,n={})=>{rz("evaluateMessage","messageEvaluationRequest",t);const r=new URL("/guardian/v1/messages/evaluate",nz);let i;e&&(i=e.baseOptions);const a={method:"POST",...i,...n},s={};await iz(s,e),s["Content-Type"]="application/json",sz(r,{});let o=i&&i.headers?i.headers:{};return a.headers={...s,...o,...n.headers},a.data=oz(t,a,e),{url:cz(r),options:a}},getMessageByID:async(t,n={})=>{rz("getMessageByID","messageID",t);const r="/guardian/v1/messages/{messageID}".replace("{messageID}",encodeURIComponent(String(t))),i=new URL(r,nz);let a;e&&(a=e.baseOptions);const s={method:"GET",...a,...n},o={};await iz(o,e),sz(i,{});let c=a&&a.headers?a.headers:{};return s.headers={...o,...c,...n.headers},{url:cz(i),options:s}}}}(e);return{async approvePendingMessage(n,r){const i=await t.approvePendingMessage(n,r);return uz(i,Qq,Zq,e)},async evaluateMessage(n,r){const i=await t.evaluateMessage(n,r);return uz(i,Qq,Zq,e)},async getMessageByID(n,r){const i=await t.getMessageByID(n,r);return uz(i,Qq,Zq,e)}}};class fz extends ez{approvePendingMessage(e,t){return dz(this.configuration).approvePendingMessage(e.messageID,t).then((e=>e(this.axios,this.basePath)))}evaluateMessage(e,t){return dz(this.configuration).evaluateMessage(e.messageEvaluationRequest,t).then((e=>e(this.axios,this.basePath)))}getMessageByID(e,t){return dz(this.configuration).getMessageByID(e.messageID,t).then((e=>e(this.axios,this.basePath)))}}const lz=function(e){const t=function(e){return{approvePendingTransaction:async(t,n,r={})=>{rz("approvePendingTransaction","payloadHash",t),rz("approvePendingTransaction","transactionApprovalRequest",n);const i="/guardian/v1/transactions/{payloadHash}/approve".replace("{payloadHash}",encodeURIComponent(String(t))),a=new URL(i,nz);let s;e&&(s=e.baseOptions);const o={method:"POST",...s,...r},c={};await iz(c,e),c["Content-Type"]="application/json",sz(a,{});let u=s&&s.headers?s.headers:{};return o.headers={...c,...u,...r.headers},o.data=oz(n,o,e),{url:cz(a),options:o}},evaluateTransaction:async(t,n,r={})=>{rz("evaluateTransaction","id",t),rz("evaluateTransaction","transactionEvaluationRequest",n);const i="/guardian/v1/transactions/{id}/evaluate".replace("{id}",encodeURIComponent(String(t))),a=new URL(i,nz);let s;e&&(s=e.baseOptions);const o={method:"POST",...s,...r},c={};await iz(c,e),c["Content-Type"]="application/json",sz(a,{});let u=s&&s.headers?s.headers:{};return o.headers={...c,...u,...r.headers},o.data=oz(n,o,e),{url:cz(a),options:o}},getTransactionByID:async(t,n,r,i={})=>{rz("getTransactionByID","transactionID",t),rz("getTransactionByID","chainType",n);const a="/guardian/v1/transactions/{transactionID}".replace("{transactionID}",encodeURIComponent(String(t))),s=new URL(a,nz);let o;e&&(o=e.baseOptions);const c={method:"GET",...o,...i},u={},d={};await iz(u,e),void 0!==n&&(d.chainType=n),void 0!==r&&(d.chainID=r),sz(s,d);let f=o&&o.headers?o.headers:{};return c.headers={...u,...f,...i.headers},{url:cz(s),options:c}}}}(e);return{async approvePendingTransaction(n,r,i){const a=await t.approvePendingTransaction(n,r,i);return uz(a,Qq,Zq,e)},async evaluateTransaction(n,r,i){const a=await t.evaluateTransaction(n,r,i);return uz(a,Qq,Zq,e)},async getTransactionByID(n,r,i,a){const s=await t.getTransactionByID(n,r,i,a);return uz(s,Qq,Zq,e)}}};class hz extends ez{approvePendingTransaction(e,t){return lz(this.configuration).approvePendingTransaction(e.payloadHash,e.transactionApprovalRequest,t).then((e=>e(this.axios,this.basePath)))}evaluateTransaction(e,t){return lz(this.configuration).evaluateTransaction(e.id,e.transactionEvaluationRequest,t).then((e=>e(this.axios,this.basePath)))}getTransactionByID(e,t){return lz(this.configuration).getTransactionByID(e.transactionID,e.chainType,e.chainID,t).then((e=>e(this.axios,this.basePath)))}}class pz{apiKey;username;password;accessToken;basePath;baseOptions;formDataCtor;constructor(e={}){this.apiKey=e.apiKey,this.username=e.username,this.password=e.password,this.accessToken=e.accessToken,this.basePath=e.basePath,this.baseOptions=e.baseOptions,this.formDataCtor=e.formDataCtor}isJsonMime(e){const t=new RegExp("^(application/json|[^;/ \t]+/[^;/ \t]+[+]json)[ \t]*(;.*)?$","i");return null!==e&&(t.test(e)||"application/json-patch+json"===e.toLowerCase())}}const mz="starkex",bz="evm";function yz(e){const t=-1!==new di(e,16).cmp(new di(27))?new di(e,16).sub(new di(27)).toNumber():new di(e,16).toNumber();return e.trim()?t:void 0}async function gz(e,t){const n=function(e,t=64){const n=xy(e);return{r:new di(n.substring(0,t),"hex"),s:new di(n.substring(t,2*t),"hex"),recoveryParam:yz(n.substring(2*t,2*t+2))}}(await t.signMessage(e));return My(Oy((r=n).r.toString(16),64)+Oy(r.s.toString(16),64)+Oy(r.recoveryParam?.toString(16)||"",2));var r}function vz(e){switch(e.type){case"ERC721":return{type:"ERC721",data:{token_id:e.tokenId,token_address:e.tokenAddress}};case"ERC20":return{type:"ERC20",data:{token_address:e.tokenAddress}};default:return{type:"ETH",data:{decimals:18}}}}var wz=Object.freeze({__proto__:null,abi:[{inputs:[{internalType:"bytes32",type:"bytes32"}],name:"getAlternativeSignature",outputs:[{internalType:"string",type:"string"}],stateMutability:"view",type:"function"}]});var _z=Object.freeze({__proto__:null,abi:[{type:"function",name:"isValidSignature",constant:!0,inputs:[{type:"bytes32"},{type:"bytes"}],outputs:[{type:"bytes4"}],payable:!1,stateMutability:"view"}],returns:{isValidSignatureBytes32:"0x1626ba7e"}});const Ez={erc6492:Object.freeze({__proto__:null,abi:[{inputs:[{internalType:"bytes",name:"error",type:"bytes"}],name:"ERC1271Revert",type:"error"},{inputs:[{internalType:"bytes",name:"error",type:"bytes"}],name:"ERC6492DeployFailed",type:"error"},{inputs:[{internalType:"address",name:"_signer",type:"address"},{internalType:"bytes32",name:"_hash",type:"bytes32"},{internalType:"bytes",name:"_signature",type:"bytes"}],name:"isValidSig",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_signer",type:"address"},{internalType:"bytes32",name:"_hash",type:"bytes32"},{internalType:"bytes",name:"_signature",type:"bytes"},{internalType:"bool",name:"allowSideEffects",type:"bool"},{internalType:"bool",name:"deployAlreadyDeployed",type:"bool"}],name:"isValidSigImpl",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_signer",type:"address"},{internalType:"bytes32",name:"_hash",type:"bytes32"},{internalType:"bytes",name:"_signature",type:"bytes"}],name:"isValidSigNoThrow",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_signer",type:"address"},{internalType:"bytes32",name:"_hash",type:"bytes32"},{internalType:"bytes",name:"_signature",type:"bytes"}],name:"isValidSigWithSideEffects",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_signer",type:"address"},{internalType:"bytes32",name:"_hash",type:"bytes32"},{internalType:"bytes",name:"_signature",type:"bytes"}],name:"isValidSigWithSideEffectsNoThrow",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}]}),erc5719:wz,erc1271:_z,factory:Object.freeze({__proto__:null,abi:[{type:"function",name:"deploy",constant:!1,inputs:[{type:"address"},{type:"bytes32"}],outputs:[],payable:!0,stateMutability:"payable"}]}),mainModule:Object.freeze({__proto__:null,abi:[{type:"function",name:"nonce",constant:!0,inputs:[],outputs:[{type:"uint256"}],payable:!1,stateMutability:"view"},{type:"function",name:"readNonce",constant:!0,inputs:[{type:"uint256"}],outputs:[{type:"uint256"}],payable:!1,stateMutability:"view"},{type:"function",name:"updateImplementation",constant:!1,inputs:[{type:"address"}],outputs:[],payable:!1,stateMutability:"nonpayable"},{type:"function",name:"selfExecute",constant:!1,inputs:[{components:[{type:"bool",name:"delegateCall"},{type:"bool",name:"revertOnError"},{type:"uint256",name:"gasLimit"},{type:"address",name:"target"},{type:"uint256",name:"value"},{type:"bytes",name:"data"}],type:"tuple[]"}],outputs:[],payable:!1,stateMutability:"nonpayable"},{type:"function",name:"execute",constant:!1,inputs:[{components:[{type:"bool",name:"delegateCall"},{type:"bool",name:"revertOnError"},{type:"uint256",name:"gasLimit"},{type:"address",name:"target"},{type:"uint256",name:"value"},{type:"bytes",name:"data"}],type:"tuple[]"},{type:"uint256"},{type:"bytes"}],outputs:[],payable:!1,stateMutability:"nonpayable"},{type:"function",name:"createContract",inputs:[{type:"bytes"}],payable:!0,stateMutability:"payable"}]}),mainModuleUpgradable:Object.freeze({__proto__:null,abi:[{type:"function",name:"updateImageHash",constant:!0,inputs:[{type:"bytes32"}],outputs:[],payable:!1,stateMutability:"view"},{type:"function",name:"imageHash",constant:!0,inputs:[],outputs:[{type:"bytes32"}],payable:!1,stateMutability:"view"}]}),sequenceUtils:Object.freeze({__proto__:null,abi:[{inputs:[{internalType:"address",name:"_factory",type:"address"},{internalType:"address",name:"_mainModule",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_wallet",type:"address"},{indexed:!0,internalType:"bytes32",name:"_imageHash",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"_threshold",type:"uint256"},{indexed:!1,internalType:"bytes",name:"_signers",type:"bytes"}],name:"RequiredConfig",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_wallet",type:"address"},{indexed:!0,internalType:"address",name:"_signer",type:"address"}],name:"RequiredSigner",type:"event"},{inputs:[{internalType:"address",name:"_addr",type:"address"}],name:"callBalanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"callBlockNumber",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_i",type:"uint256"}],name:"callBlockhash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"callChainId",outputs:[{internalType:"uint256",name:"id",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"_addr",type:"address"}],name:"callCode",outputs:[{internalType:"bytes",name:"code",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_addr",type:"address"}],name:"callCodeHash",outputs:[{internalType:"bytes32",name:"codeHash",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_addr",type:"address"}],name:"callCodeSize",outputs:[{internalType:"uint256",name:"size",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"callCoinbase",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"callDifficulty",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"callGasLeft",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"callGasLimit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"callGasPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"callOrigin",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"callTimestamp",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"knownImageHashes",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"lastImageHashUpdate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"lastSignerUpdate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"lastWalletUpdate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"bool",name:"delegateCall",type:"bool"},{internalType:"bool",name:"revertOnError",type:"bool"},{internalType:"uint256",name:"gasLimit",type:"uint256"},{internalType:"address",name:"target",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct IModuleCalls.Transaction[]",name:"_txs",type:"tuple[]"}],name:"multiCall",outputs:[{internalType:"bool[]",name:"_successes",type:"bool[]"},{internalType:"bytes[]",name:"_results",type:"bytes[]"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"_wallet",type:"address"},{internalType:"uint256",name:"_threshold",type:"uint256"},{components:[{internalType:"uint256",name:"weight",type:"uint256"},{internalType:"address",name:"signer",type:"address"}],internalType:"struct RequireUtils.Member[]",name:"_members",type:"tuple[]"},{internalType:"bool",name:"_index",type:"bool"}],name:"publishConfig",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_wallet",type:"address"},{internalType:"bytes32",name:"_hash",type:"bytes32"},{internalType:"uint256",name:"_sizeMembers",type:"uint256"},{internalType:"bytes",name:"_signature",type:"bytes"},{internalType:"bool",name:"_index",type:"bool"}],name:"publishInitialSigners",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_wallet",type:"address"},{internalType:"uint256",name:"_nonce",type:"uint256"}],name:"requireMinNonce",outputs:[],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_expiration",type:"uint256"}],name:"requireNonExpired",outputs:[],stateMutability:"view",type:"function"}]}),requireFreshSigner:Object.freeze({__proto__:null,abi:[{inputs:[{internalType:"address",name:"",type:"address"}],name:"requireFreshSigner",outputs:[],stateMutability:"nonpayable",type:"function"}]})};function Tz(){return Tz=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tz.apply(this,arguments)}const Az="0x1626ba7e",Rz=[{inputs:[{internalType:"bytes32",type:"bytes32"},{internalType:"bytes",type:"bytes"}],name:"isValidSignature",outputs:[{internalType:"bytes4",type:"bytes4"}],stateMutability:"view",type:"function"}];let Sz=function(e){return e[e.EIP712=1]="EIP712",e[e.ETH_SIGN=2]="ETH_SIGN",e[e.WALLET_BYTES32=3]="WALLET_BYTES32",e}({});function kz(e,t){const n=Oi(t),r=Oi(e),i=n[n.length-1],a={r:Ni(n.slice(0,32)),s:Ni(n.slice(32,64)),v:Ji.from(n.slice(64,65)).toNumber()};if(i===Sz.EIP712)return Gf(r,a);if(i===Sz.ETH_SIGN)return Gf(cc(r),a);throw new Error(`Unsupported signature type: ${i}`)}function Oz(e,t,n,r){const i=Oi(n),a=i[i.length-1];if(a===Sz.EIP712||a===Sz.ETH_SIGN)return e===kz(t,n);if(a===Sz.WALLET_BYTES32)return async function(e,t,n,r){const i=new bl(e,Rz,r);return await i.isValidSignature(t,n)===Az}(e,Ni(t),i.slice(0,-1),r);throw new Error(`Unsupported signature type: ${a}`)}let Iz=function(e){return e[e.EOASignature=0]="EOASignature",e[e.Address=1]="Address",e[e.DynamicSignature=2]="DynamicSignature",e}({});function xz(e){return void 0!==e.address&&!Cz(e)}function Cz(e){return void 0!==e.signature&&void 0!==e.weight&&void 0!==e.isDynamic}function Mz(e){return void 0!==e.threshold&&void 0!==e.signers}function Pz(e){const t=Oi(e),n=t[0]<<8|t[1],r=[];for(let e=2;e<t.length;){const n=t[e++],i=t[e++];switch(n){case Iz.EOASignature:r.push({unrecovered:!0,weight:i,signature:Ni(t.slice(e,e+66)),isDynamic:!1}),e+=66;break;case Iz.Address:r.push({weight:i,address:vs(Ni(t.slice(e,e+20)))}),e+=20;break;case Iz.DynamicSignature:const a=vs(Ni(t.slice(e,e+20)));e+=20;const s=t[e]<<8|t[e+1];e+=2,r.push({unrecovered:!0,weight:i,signature:Ni(t.slice(e,e+s)),address:a,isDynamic:!0}),e+=s;break;default:throw new Error(`Unknown signature part type: ${n}`)}}return{version:1,threshold:n,signers:r}}function Nz(e){if(Ri(e))return Ni(e);const{signers:t,threshold:n}=Mz(e)?e:e.config,r=t.map((e=>{if(xz(e))return yb(["uint8","uint8","address"],[Iz.Address,e.weight,e.address]);if(e.isDynamic){const t=Oi(e.signature);return yb(["uint8","uint8","address","uint16","bytes"],[Iz.DynamicSignature,e.weight,e.address,t.length,t])}return yb(["uint8","uint8","bytes"],[Iz.EOASignature,e.weight,e.signature])}));return yb(["uint16",...new Array(r.length).fill("bytes")],[n,...r])}async function Bz(e,t,n){const r=function(e){return gb(["bytes","uint256","address","bytes32"],["0x1901",e.chainId,e.address,e.digest])}(t),i=await Promise.all(e.signers.map((async e=>{if(xz(e))return e;if(e.isDynamic){if(!e.address)throw new Error("Dynamic signature part must have address");if(!Oz(e.address,r,e.signature,n))throw new Error(`Invalid dynamic signature part ${e.address}`);return{address:e.address,weight:e.weight,signature:e.signature}}return{address:kz(r,e.signature),weight:e.weight,signature:e.signature}})));return{version:1,payload:t,subdigest:r,config:{version:1,threshold:e.threshold,signers:i}}}function Dz(e,t,n,r){if(0!==n.length)throw new Error("Explicit subdigests not supported on v1");let i=Ji.from(0);const a=e.signers.map((e=>{if(!t.has(e.address))return e;const n=t.get(e.address),r=Oi(n.signature);return i=i.add(e.weight),n.isDynamic||66!==r.length?Tz({},e,{isDynamic:!0,signature:n.signature,address:e.address}):Tz({},e,{isDynamic:!1,signature:n.signature})}));return{encoded:Nz({version:1,threshold:e.threshold,signers:a}),weight:i}}const Lz={decode:e=>Pz(e),encode:e=>Nz(e),trim:async e=>e,supportsNoChainId:!0,recover:(e,t,n)=>Bz(e,t,n),encodeSigners:(e,t,n,r)=>Dz(e,t,n),hasEnoughSigningPower:(e,t)=>{const{weight:n}=Lz.encodeSigners(e,t,[],0);return n.gte(e.threshold)},chainSignatures:(e,t)=>{throw new Error("Signature chaining not supported on v1")},hashSetImageHash:function(e){throw new Error("Image hash not supported on v1")},signaturesOf:e=>e.signers.filter((e=>void 0!==e.signature)).map((e=>({address:e.address,signature:e.signature}))),signaturesOfDecoded:function(e){return e.signers.map((e=>e.signature)).filter((e=>void 0!==e))}};var Fz=Object.freeze({__proto__:null,SignaturePartType:Iz,isAddressMember:xz,isUnrecoveredSignatureMember:Cz,isUnrecoveredSignature:Mz,decodeSignature:Pz,encodeSignature:Nz,recoverSignature:Bz,encodeSigners:Dz,SignatureCoder:Lz});const Uz={isWalletConfig:e=>1===e.version&&void 0!==e.threshold&&void 0!==e.signers,imageHashOf:e=>e.signers.reduce(((e,t)=>rs(ko.encode(["bytes32","uint8","address"],[e,t.weight,t.address]))),yb(["uint256"],[e.threshold])),hasSubdigest:(e,t)=>!1,isComplete:e=>!0,checkpointOf:e=>Ji.from(0),signersOf:e=>e.signers.map((e=>({address:e.address,weight:Ji.from(e.weight).toNumber()}))),fromSimple:e=>{if(!Fs.eq(e.checkpoint))throw new Error("v1 wallet config does not support checkpoint");return{version:1,threshold:e.threshold,signers:e.signers}},update:{isKindUsed:!0,buildTransaction:(e,t,n,r)=>{const i=new Pc([...Ez.mainModule.abi,...Ez.mainModuleUpgradable.abi]),a=[];return r&&"first"!==r||a.push({to:e,data:i.encodeFunctionData(i.getFunction("updateImplementation"),[n.mainModuleUpgradable]),gasLimit:0,delegateCall:!1,revertOnError:!0,value:0}),a.push({to:e,data:i.encodeFunctionData(i.getFunction("updateImageHash"),[Uz.imageHashOf(t)]),gasLimit:0,delegateCall:!1,revertOnError:!0,value:0}),{entrypoint:e,transactions:a}},decodeTransaction:function(e){throw new Error("Function not implemented.")}},toJSON:function(e){const t=e.signers.map((e=>({weight:Ji.from(e.weight).toString(),address:e.address})));return JSON.stringify({version:e.version,threshold:Ji.from(e.threshold).toString(),signers:t})},fromJSON:function(e){const t=JSON.parse(e),n=t.signers.map((e=>({weight:Ji.from(e.weight),address:e.address})));return{version:t.version,threshold:Ji.from(t.threshold),signers:n}},editConfig:function(e,t){var n;const r=e.signers.slice();if(t.checkpoint&&!Fs.eq(t.checkpoint))throw new Error("v1 wallet config does not support checkpoint");if(t.add)for(const e of t.add)r.find((t=>t.address===e.address))||r.push({weight:e.weight,address:e.address});if(t.remove)for(const e of t.remove){const t=r.findIndex((t=>t.address===e));t>=0&&r.splice(t,1)}return{version:e.version,threshold:null!=(n=t.threshold)?n:e.threshold,signers:r}},buildStubSignature:function(e,t){const n=new Map;for(const[r,i]of t.entries()){n.set(r,{signature:i,isDynamic:!0});const{encoded:t,weight:a}=Dz(e,n,[]);if(a.gte(e.threshold))return t}const r=e.signers;for(const{address:t}of r.sort((({weight:e},{weight:t})=>Ji.from(e).sub(t).toNumber()))){const r="0x4e82f02f388a12b5f9d29eaf2452dd040c0ee5804b4e504b4dd64e396c6c781f2c7624195acba242dd825bfd25a290912e3c230841fd55c9a734c4de8d9899451b02";n.set(t,{signature:r,isDynamic:!1});const{encoded:i,weight:a}=Dz(e,n,[]);if(a.gte(e.threshold))return i}return Dz(e,n,[]).encoded}};var jz=Object.freeze({__proto__:null,ConfigCoder:Uz});const qz={version:1,factory:"0xf9D09D634Fb818b05149329C1dcCFAeA53639d96",guestModule:"0x02390F3E6E5FD1C6786CB78FD3027C117a9955A7",mainModule:"0xd01F11855bCcb95f88D7A48492F66410d4637313",mainModuleUpgradable:"0x7EFE6cE415956c5f80C6530cC6cc81b4808F6118",walletCreationCode:"0x603a600e3d39601a805130553df3363d3d373d3d3d363d30545af43d82803e903d91601857fd5bf3"};var zz,Hz=Object.freeze({__proto__:null,config:jz,signature:Fz,version:1,DeployedWalletContext:qz});!function(e){e.AUTHENTICATION_ERROR="AUTHENTICATION_ERROR",e.INVALID_CONFIGURATION="INVALID_CONFIGURATION",e.WALLET_CONNECTION_ERROR="WALLET_CONNECTION_ERROR",e.NOT_LOGGED_IN_ERROR="NOT_LOGGED_IN_ERROR",e.SILENT_LOGIN_ERROR="SILENT_LOGIN_ERROR",e.REFRESH_TOKEN_ERROR="REFRESH_TOKEN_ERROR",e.USER_REGISTRATION_ERROR="USER_REGISTRATION_ERROR",e.USER_NOT_REGISTERED_ERROR="USER_NOT_REGISTERED_ERROR",e.LOGOUT_ERROR="LOGOUT_ERROR",e.TRANSFER_ERROR="TRANSFER_ERROR",e.CREATE_ORDER_ERROR="CREATE_ORDER_ERROR",e.CANCEL_ORDER_ERROR="CANCEL_ORDER_ERROR",e.EXCHANGE_TRANSFER_ERROR="EXCHANGE_TRANSFER_ERROR",e.CREATE_TRADE_ERROR="CREATE_TRADE_ERROR",e.OPERATION_NOT_SUPPORTED_ERROR="OPERATION_NOT_SUPPORTED_ERROR"}(zz||(zz={}));class Gz extends Error{type;constructor(e,t){super(e),this.type=t}}const Wz=async(e,t)=>{try{return await e()}catch(e){let n;throw n=$e(e)&&e.response?.data&&function(e){return"code"in e&&"message"in e}(e.response.data)?e.response.data.message:e.message,new Gz(n,t)}};var Vz,Kz;!function(e){e[e.IMTBL_ZKEVM_MAINNET=13371]="IMTBL_ZKEVM_MAINNET",e[e.IMTBL_ZKEVM_TESTNET=13473]="IMTBL_ZKEVM_TESTNET",e[e.IMTBL_ZKEVM_DEVNET=15003]="IMTBL_ZKEVM_DEVNET",e[e.ETHEREUM=1]="ETHEREUM",e[e.SEPOLIA=11155111]="SEPOLIA"}(Vz||(Vz={})),function(e){e.ETHEREUM="Ethereum",e.SEPOLIA="Sepolia",e.IMTBL_ZKEVM_TESTNET="Immutable zkEVM Test",e.IMTBL_ZKEVM_DEVNET="Immutable zkEVM Dev",e.IMTBL_ZKEVM_MAINNET="Immutable zkEVM"}(Kz||(Kz={}));const Xz="pkce_state",$z="pkce_verifier";class Jz{areValid(e){if(e){const t=this.isTokenValid(e.access_token),n=this.isTokenValid(e.id_token);return t&&n}return!1}isTokenValid(e){try{const t=vD(e).exp??0;return t>Date.now()/1e3+3600}catch(e){return!1}}savePKCEData(e){localStorage.setItem(Xz,e.state),localStorage.setItem($z,e.verifier)}getPKCEData(){const e=localStorage.getItem(Xz),t=localStorage.getItem($z);return e&&t?{state:e,verifier:t}:null}}function Yz(e){const{id_token:t,expired:n}=e;return!!n||function(e){if(!e)return!1;const t=vD(e),n=Math.floor(Date.now()/1e3);return t.exp<n}(t)}const Qz={headers:{"Content-Type":"application/x-www-form-urlencoded"}};function Zz(e){return new Promise((t=>{setTimeout(t,e)}))}function eH(e){return e.toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}class tH{userManager;config;deviceCredentialsManager;logoutMode;refreshingPromise=null;constructor(e){this.config=e,this.userManager=new class{constructor(e){this._logger=new RD("UserManager"),this.settings=new eL(e),this._client=new class{constructor(e){this._logger=new RD("OidcClient"),this.settings=new UD(e),this.metadataService=new class{constructor(e){this._settings=e,this._logger=new RD("MetadataService"),this._signingKeys=null,this._metadata=null,this._metadataUrl=this._settings.metadataUrl,this._jsonService=new LD(["application/jwk-set+json"],null,this._settings.extraHeaders),this._settings.signingKeys&&(this._logger.debug("using signingKeys from settings"),this._signingKeys=this._settings.signingKeys),this._settings.metadata&&(this._logger.debug("using metadata from settings"),this._metadata=this._settings.metadata),this._settings.fetchRequestCredentials&&(this._logger.debug("using fetchRequestCredentials from settings"),this._fetchRequestCredentials=this._settings.fetchRequestCredentials)}resetSigningKeys(){this._signingKeys=null}async getMetadata(){const e=this._logger.create("getMetadata");if(this._metadata)return e.debug("using cached values"),this._metadata;if(!this._metadataUrl)throw e.throw(new Error("No authority or metadataUrl configured on settings")),null;e.debug("getting metadata from",this._metadataUrl);const t=await this._jsonService.getJson(this._metadataUrl,{credentials:this._fetchRequestCredentials});return e.debug("merging remote JSON with seed metadata"),this._metadata=Object.assign({},this._settings.metadataSeed,t),this._metadata}getIssuer(){return this._getMetadataProperty("issuer")}getAuthorizationEndpoint(){return this._getMetadataProperty("authorization_endpoint")}getUserInfoEndpoint(){return this._getMetadataProperty("userinfo_endpoint")}getTokenEndpoint(e=!0){return this._getMetadataProperty("token_endpoint",e)}getCheckSessionIframe(){return this._getMetadataProperty("check_session_iframe",!0)}getEndSessionEndpoint(){return this._getMetadataProperty("end_session_endpoint",!0)}getRevocationEndpoint(e=!0){return this._getMetadataProperty("revocation_endpoint",e)}getKeysEndpoint(e=!0){return this._getMetadataProperty("jwks_uri",e)}async _getMetadataProperty(e,t=!1){const n=this._logger.create(`_getMetadataProperty('${e}')`),r=await this.getMetadata();if(n.debug("resolved"),void 0===r[e]){if(!0===t)return void n.warn("Metadata does not contain optional property");n.throw(new Error("Metadata does not contain property "+e))}return r[e]}async getSigningKeys(){const e=this._logger.create("getSigningKeys");if(this._signingKeys)return e.debug("returning signingKeys from cache"),this._signingKeys;const t=await this.getKeysEndpoint(!1);e.debug("got jwks_uri",t);const n=await this._jsonService.getJson(t);if(e.debug("got key set",n),!Array.isArray(n.keys))throw e.throw(new Error("Missing keys on keyset")),null;return this._signingKeys=n.keys,this._signingKeys}}(this.settings),this._claimsService=new class{constructor(e){this._settings=e,this._logger=new RD("ClaimsService")}filterProtocolClaims(e){const t={...e};if(this._settings.filterProtocolClaims){let e;e=Array.isArray(this._settings.filterProtocolClaims)?this._settings.filterProtocolClaims:GD;for(const n of e)WD.includes(n)||delete t[n]}return t}mergeClaims(e,t){const n={...e};for(const[e,r]of Object.entries(t))for(const t of Array.isArray(r)?r:[r]){const r=n[e];r?Array.isArray(r)?r.includes(t)||r.push(t):n[e]!==t&&("object"==typeof t&&this._settings.mergeClaims?n[e]=this.mergeClaims(r,t):n[e]=[r,t]):n[e]=t}return n}}(this.settings),this._validator=new class{constructor(e,t,n){this._settings=e,this._metadataService=t,this._claimsService=n,this._logger=new RD("ResponseValidator"),this._userInfoService=new class{constructor(e,t){this._settings=e,this._metadataService=t,this._logger=new RD("UserInfoService"),this._getClaimsFromJwt=async e=>{const t=this._logger.create("_getClaimsFromJwt");try{const n=ID.decode(e);return t.debug("JWT decoding successful"),n}catch(e){throw t.error("Error parsing JWT response"),e}},this._jsonService=new LD(void 0,this._getClaimsFromJwt,this._settings.extraHeaders)}async getClaims(e){const t=this._logger.create("getClaims");e||this._logger.throw(new Error("No token passed"));const n=await this._metadataService.getUserInfoEndpoint();t.debug("got userinfo url",n);const r=await this._jsonService.getJson(n,{token:e,credentials:this._settings.fetchRequestCredentials});return t.debug("got claims",r),r}}(this._settings,this._metadataService),this._tokenClient=new jD(this._settings,this._metadataService)}async validateSigninResponse(e,t){const n=this._logger.create("validateSigninResponse");this._processSigninState(e,t),n.debug("state processed"),await this._processCode(e,t),n.debug("code processed"),e.isOpenId&&this._validateIdTokenAttributes(e),n.debug("tokens validated"),await this._processClaims(e,null==t?void 0:t.skipUserInfo,e.isOpenId),n.debug("claims processed")}async validateCredentialsResponse(e,t){const n=this._logger.create("validateCredentialsResponse");e.isOpenId&&this._validateIdTokenAttributes(e),n.debug("tokens validated"),await this._processClaims(e,t,e.isOpenId),n.debug("claims processed")}async validateRefreshResponse(e,t){const n=this._logger.create("validateRefreshResponse");e.userState=t.data,null!=e.session_state||(e.session_state=t.session_state),null!=e.scope||(e.scope=t.scope),e.isOpenId&&e.id_token&&(this._validateIdTokenAttributes(e,t.id_token),n.debug("ID Token validated")),e.id_token||(e.id_token=t.id_token,e.profile=t.profile);const r=e.isOpenId&&!!e.id_token;await this._processClaims(e,!1,r),n.debug("claims processed")}validateSignoutResponse(e,t){const n=this._logger.create("validateSignoutResponse");if(t.id!==e.state&&n.throw(new Error("State does not match")),n.debug("state validated"),e.userState=t.data,e.error)throw n.warn("Response was error",e.error),new PD(e)}_processSigninState(e,t){const n=this._logger.create("_processSigninState");if(t.id!==e.state&&n.throw(new Error("State does not match")),t.client_id||n.throw(new Error("No client_id on state")),t.authority||n.throw(new Error("No authority on state")),this._settings.authority!==t.authority&&n.throw(new Error("authority mismatch on settings vs. signin state")),this._settings.client_id&&this._settings.client_id!==t.client_id&&n.throw(new Error("client_id mismatch on settings vs. signin state")),n.debug("state validated"),e.userState=t.data,null!=e.scope||(e.scope=t.scope),e.error)throw n.warn("Response was error",e.error),new PD(e);t.code_verifier&&!e.code&&n.throw(new Error("Expected code in response"))}async _processClaims(e,t=!1,n=!0){const r=this._logger.create("_processClaims");if(e.profile=this._claimsService.filterProtocolClaims(e.profile),t||!this._settings.loadUserInfo||!e.access_token)return void r.debug("not loading user info");r.debug("loading user info");const i=await this._userInfoService.getClaims(e.access_token);r.debug("user info claims received from user info endpoint"),n&&i.sub!==e.profile.sub&&r.throw(new Error("subject from UserInfo response does not match subject in ID Token")),e.profile=this._claimsService.mergeClaims(e.profile,this._claimsService.filterProtocolClaims(i)),r.debug("user info claims received, updated profile:",e.profile)}async _processCode(e,t){const n=this._logger.create("_processCode");if(e.code){n.debug("Validating code");const r=await this._tokenClient.exchangeCode({client_id:t.client_id,client_secret:t.client_secret,code:e.code,redirect_uri:t.redirect_uri,code_verifier:t.code_verifier,...t.extraTokenParams});Object.assign(e,r)}else n.debug("No code to process")}_validateIdTokenAttributes(e,t){var n;const r=this._logger.create("_validateIdTokenAttributes");r.debug("decoding ID Token JWT");const i=ID.decode(null!=(n=e.id_token)?n:"");if(i.sub||r.throw(new Error("ID Token is missing a subject claim")),t){const e=ID.decode(t);i.sub!==e.sub&&r.throw(new Error("sub in id_token does not match current sub")),i.auth_time&&i.auth_time!==e.auth_time&&r.throw(new Error("auth_time in id_token does not match original auth_time")),i.azp&&i.azp!==e.azp&&r.throw(new Error("azp in id_token does not match original azp")),!i.azp&&e.azp&&r.throw(new Error("azp not in id_token, but present in original id_token"))}e.profile=i}}(this.settings,this.metadataService,this._claimsService),this._tokenClient=new jD(this.settings,this.metadataService)}async createSigninRequest({state:e,request:t,request_uri:n,request_type:r,id_token_hint:i,login_hint:a,skipUserInfo:s,nonce:o,response_type:c=this.settings.response_type,scope:u=this.settings.scope,redirect_uri:d=this.settings.redirect_uri,prompt:f=this.settings.prompt,display:l=this.settings.display,max_age:h=this.settings.max_age,ui_locales:p=this.settings.ui_locales,acr_values:m=this.settings.acr_values,resource:b=this.settings.resource,response_mode:y=this.settings.response_mode,extraQueryParams:g=this.settings.extraQueryParams,extraTokenParams:v=this.settings.extraTokenParams}){const w=this._logger.create("createSigninRequest");if("code"!==c)throw new Error("Only the Authorization Code flow (with PKCE) is supported");const _=await this.metadataService.getAuthorizationEndpoint();w.debug("Received authorization endpoint",_);const E=new class{constructor({url:e,authority:t,client_id:n,redirect_uri:r,response_type:i,scope:a,state_data:s,response_mode:o,request_type:c,client_secret:u,nonce:d,resource:f,skipUserInfo:l,extraQueryParams:h,extraTokenParams:p,disablePKCE:m,...b}){if(this._logger=new RD("SigninRequest"),!e)throw this._logger.error("ctor: No url passed"),new Error("url");if(!n)throw this._logger.error("ctor: No client_id passed"),new Error("client_id");if(!r)throw this._logger.error("ctor: No redirect_uri passed"),new Error("redirect_uri");if(!i)throw this._logger.error("ctor: No response_type passed"),new Error("response_type");if(!a)throw this._logger.error("ctor: No scope passed"),new Error("scope");if(!t)throw this._logger.error("ctor: No authority passed"),new Error("authority");this.state=new zD({data:s,request_type:c,code_verifier:!m,client_id:n,authority:t,redirect_uri:r,response_mode:o,client_secret:u,scope:a,extraTokenParams:p,skipUserInfo:l});const y=new URL(e);y.searchParams.append("client_id",n),y.searchParams.append("redirect_uri",r),y.searchParams.append("response_type",i),y.searchParams.append("scope",a),d&&y.searchParams.append("nonce",d),y.searchParams.append("state",this.state.id),this.state.code_challenge&&(y.searchParams.append("code_challenge",this.state.code_challenge),y.searchParams.append("code_challenge_method","S256")),f&&(Array.isArray(f)?f:[f]).forEach((e=>y.searchParams.append("resource",e)));for(const[e,t]of Object.entries({response_mode:o,...b,...h}))null!=t&&y.searchParams.append(e,t.toString());this.url=y.href}}({url:_,authority:this.settings.authority,client_id:this.settings.client_id,redirect_uri:d,response_type:c,scope:u,state_data:e,prompt:f,display:l,max_age:h,ui_locales:p,id_token_hint:i,login_hint:a,acr_values:m,resource:b,request:t,request_uri:n,extraQueryParams:g,extraTokenParams:v,request_type:r,response_mode:y,client_secret:this.settings.client_secret,skipUserInfo:s,nonce:o,disablePKCE:this.settings.disablePKCE});await this.clearStaleState();const T=E.state;return await this.settings.stateStore.set(T.id,T.toStorageString()),E}async readSigninResponseState(e,t=!1){const n=this._logger.create("readSigninResponseState"),r=new HD(MD.readParams(e,this.settings.response_mode));if(!r.state)throw n.throw(new Error("No state in response")),null;const i=await this.settings.stateStore[t?"remove":"get"](r.state);if(!i)throw n.throw(new Error("No matching state found in storage")),null;return{state:zD.fromStorageString(i),response:r}}async processSigninResponse(e){const t=this._logger.create("processSigninResponse"),{state:n,response:r}=await this.readSigninResponseState(e,!0);return t.debug("received state from storage; validating response"),await this._validator.validateSigninResponse(r,n),r}async processResourceOwnerPasswordCredentials({username:e,password:t,skipUserInfo:n=!1,extraTokenParams:r={}}){const i=await this._tokenClient.exchangeCredentials({username:e,password:t,...r}),a=new HD(new URLSearchParams);return Object.assign(a,i),await this._validator.validateCredentialsResponse(a,n),a}async useRefreshToken({state:e,timeoutInSeconds:t}){var n;const r=this._logger.create("useRefreshToken");let i;if(void 0===this.settings.refreshTokenAllowedScope)i=e.scope;else{const t=this.settings.refreshTokenAllowedScope.split(" ");i=((null==(n=e.scope)?void 0:n.split(" "))||[]).filter((e=>t.includes(e))).join(" ")}const a=await this._tokenClient.exchangeRefreshToken({refresh_token:e.refresh_token,scope:i,timeoutInSeconds:t}),s=new HD(new URLSearchParams);return Object.assign(s,a),r.debug("validating response",s),await this._validator.validateRefreshResponse(s,{...e,scope:i}),s}async createSignoutRequest({state:e,id_token_hint:t,request_type:n,post_logout_redirect_uri:r=this.settings.post_logout_redirect_uri,extraQueryParams:i=this.settings.extraQueryParams}={}){const a=this._logger.create("createSignoutRequest"),s=await this.metadataService.getEndSessionEndpoint();if(!s)throw a.throw(new Error("No end session endpoint")),null;a.debug("Received end session endpoint",s);const o=new class{constructor({url:e,state_data:t,id_token_hint:n,post_logout_redirect_uri:r,extraQueryParams:i,request_type:a}){if(this._logger=new RD("SignoutRequest"),!e)throw this._logger.error("ctor: No url passed"),new Error("url");const s=new URL(e);n&&s.searchParams.append("id_token_hint",n),r&&(s.searchParams.append("post_logout_redirect_uri",r),t&&(this.state=new qD({data:t,request_type:a}),s.searchParams.append("state",this.state.id)));for(const[e,t]of Object.entries({...i}))null!=t&&s.searchParams.append(e,t.toString());this.url=s.href}}({url:s,id_token_hint:t,post_logout_redirect_uri:r,state_data:e,extraQueryParams:i,request_type:n});await this.clearStaleState();const c=o.state;return c&&(a.debug("Signout request has state to persist"),await this.settings.stateStore.set(c.id,c.toStorageString())),o}async readSignoutResponseState(e,t=!1){const n=this._logger.create("readSignoutResponseState"),r=new class{constructor(e){this.state=e.get("state"),this.error=e.get("error"),this.error_description=e.get("error_description"),this.error_uri=e.get("error_uri")}}(MD.readParams(e,this.settings.response_mode));if(!r.state){if(n.debug("No state in response"),r.error)throw n.warn("Response was error:",r.error),new PD(r);return{state:void 0,response:r}}const i=await this.settings.stateStore[t?"remove":"get"](r.state);if(!i)throw n.throw(new Error("No matching state found in storage")),null;return{state:qD.fromStorageString(i),response:r}}async processSignoutResponse(e){const t=this._logger.create("processSignoutResponse"),{state:n,response:r}=await this.readSignoutResponseState(e,!0);return n?(t.debug("Received state from storage; validating response"),this._validator.validateSignoutResponse(r,n)):t.debug("No state from storage; skipping response validation"),r}clearStaleState(){return this._logger.create("clearStaleState"),qD.clearStaleState(this.settings.stateStore,this.settings.staleStateAgeInSeconds)}async revokeToken(e,t){return this._logger.create("revokeToken"),await this._tokenClient.revoke({token:e,token_type_hint:t})}}(e),this._redirectNavigator=new class{constructor(e){this._settings=e,this._logger=new RD("RedirectNavigator")}async prepare({redirectMethod:e=this._settings.redirectMethod,redirectTarget:t=this._settings.redirectTarget}){var n;this._logger.create("prepare");let r=window.self;"top"===t&&(r=null!=(n=window.top)?n:window.self);const i=r.location[e].bind(r.location);let a;return{navigate:async e=>{this._logger.create("navigate");const t=new Promise(((e,t)=>{a=t}));return i(e.url),await t},close:()=>{this._logger.create("close"),null==a||a(new Error("Redirect aborted")),r.stop()}}}}(this.settings),this._popupNavigator=new class{constructor(e){this._settings=e,this._logger=new RD("PopupNavigator")}async prepare({popupWindowFeatures:e=this._settings.popupWindowFeatures,popupWindowTarget:t=this._settings.popupWindowTarget}){return new nL({popupWindowFeatures:e,popupWindowTarget:t})}async callback(e,t=!1){this._logger.create("callback"),nL.notifyOpener(e,t)}}(this.settings),this._iframeNavigator=new class{constructor(e){this._settings=e,this._logger=new RD("IFrameNavigator")}async prepare({silentRequestTimeoutInSeconds:e=this._settings.silentRequestTimeoutInSeconds}){return new tL({silentRequestTimeoutInSeconds:e})}async callback(e){this._logger.create("callback"),tL.notifyParent(e,this._settings.iframeNotifyParentOrigin)}}(this.settings),this._events=new rL(this.settings),this._silentRenewService=new class{constructor(e){this._userManager=e,this._logger=new RD("SilentRenewService"),this._isStarted=!1,this._retryTimer=new CD("Retry Silent Renew"),this._tokenExpiring=async()=>{const e=this._logger.create("_tokenExpiring");try{await this._userManager.signinSilent(),e.debug("silent token renewal successful")}catch(t){if(t instanceof ND)return e.warn("ErrorTimeout from signinSilent:",t,"retry in 5s"),void this._retryTimer.init(5);e.error("Error from signinSilent:",t),this._userManager.events._raiseSilentRenewError(t)}}}async start(){const e=this._logger.create("start");if(!this._isStarted){this._isStarted=!0,this._userManager.events.addAccessTokenExpiring(this._tokenExpiring),this._retryTimer.addHandler(this._tokenExpiring);try{await this._userManager.getUser()}catch(t){e.error("getUser error",t)}}}stop(){this._isStarted&&(this._retryTimer.cancel(),this._retryTimer.removeHandler(this._tokenExpiring),this._userManager.events.removeAccessTokenExpiring(this._tokenExpiring),this._isStarted=!1)}}(this),this.settings.automaticSilentRenew&&this.startSilentRenew(),this._sessionMonitor=null,this.settings.monitorSession&&(this._sessionMonitor=new class{constructor(e){this._userManager=e,this._logger=new RD("SessionMonitor"),this._start=async e=>{const t=e.session_state;if(!t)return;const n=this._logger.create("_start");if(e.profile?(this._sub=e.profile.sub,this._sid=e.profile.sid,n.debug("session_state",t,", sub",this._sub)):(this._sub=void 0,this._sid=void 0,n.debug("session_state",t,", anonymous user")),this._checkSessionIFrame)this._checkSessionIFrame.start(t);else try{const e=await this._userManager.metadataService.getCheckSessionIframe();if(e){n.debug("initializing check session iframe");const r=this._userManager.settings.client_id,i=this._userManager.settings.checkSessionIntervalInSeconds,a=this._userManager.settings.stopCheckSessionOnError,s=new class{constructor(e,t,n,r,i){this._callback=e,this._client_id=t,this._intervalInSeconds=r,this._stopOnError=i,this._logger=new RD("CheckSessionIFrame"),this._timer=null,this._session_state=null,this._message=e=>{e.origin===this._frame_origin&&e.source===this._frame.contentWindow&&("error"===e.data?(this._logger.error("error message from check session op iframe"),this._stopOnError&&this.stop()):"changed"===e.data?(this._logger.debug("changed message from check session op iframe"),this.stop(),this._callback()):this._logger.debug(e.data+" message from check session op iframe"))};const a=new URL(n);this._frame_origin=a.origin,this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="fixed",this._frame.style.left="-1000px",this._frame.style.top="0",this._frame.width="0",this._frame.height="0",this._frame.src=a.href}load(){return new Promise((e=>{this._frame.onload=()=>{e()},window.document.body.appendChild(this._frame),window.addEventListener("message",this._message,!1)}))}start(e){if(this._session_state===e)return;this._logger.create("start"),this.stop(),this._session_state=e;const t=()=>{this._frame.contentWindow&&this._session_state&&this._frame.contentWindow.postMessage(this._client_id+" "+this._session_state,this._frame_origin)};t(),this._timer=setInterval(t,1e3*this._intervalInSeconds)}stop(){this._logger.create("stop"),this._session_state=null,this._timer&&(clearInterval(this._timer),this._timer=null)}}(this._callback,r,e,i,a);await s.load(),this._checkSessionIFrame=s,s.start(t)}else n.warn("no check session iframe found in the metadata")}catch(e){n.error("Error from getCheckSessionIframe:",e instanceof Error?e.message:e)}},this._stop=()=>{const e=this._logger.create("_stop");if(this._sub=void 0,this._sid=void 0,this._checkSessionIFrame&&this._checkSessionIFrame.stop(),this._userManager.settings.monitorAnonymousSession){const t=setInterval((async()=>{clearInterval(t);try{const e=await this._userManager.querySessionStatus();if(e){const t={session_state:e.session_state,profile:e.sub&&e.sid?{sub:e.sub,sid:e.sid}:null};this._start(t)}}catch(t){e.error("error from querySessionStatus",t instanceof Error?t.message:t)}}),1e3)}},this._callback=async()=>{const e=this._logger.create("_callback");try{const t=await this._userManager.querySessionStatus();let n=!0;t&&this._checkSessionIFrame?t.sub===this._sub?(n=!1,this._checkSessionIFrame.start(t.session_state),t.sid===this._sid?e.debug("same sub still logged in at OP, restarting check session iframe; session_state",t.session_state):(e.debug("same sub still logged in at OP, session state has changed, restarting check session iframe; session_state",t.session_state),this._userManager.events._raiseUserSessionChanged())):e.debug("different subject signed into OP",t.sub):e.debug("subject no longer signed into OP"),n?this._sub?this._userManager.events._raiseUserSignedOut():this._userManager.events._raiseUserSignedIn():e.debug("no change in session detected, no event to raise")}catch(t){this._sub&&(e.debug("Error calling queryCurrentSigninSession; raising signed out event",t),this._userManager.events._raiseUserSignedOut())}},e||this._logger.throw(new Error("No user manager passed")),this._userManager.events.addUserLoaded(this._start),this._userManager.events.addUserUnloaded(this._stop),this._init().catch((e=>{this._logger.error(e)}))}async _init(){this._logger.create("_init");const e=await this._userManager.getUser();if(e)this._start(e);else if(this._userManager.settings.monitorAnonymousSession){const e=await this._userManager.querySessionStatus();if(e){const t={session_state:e.session_state,profile:e.sub&&e.sid?{sub:e.sub,sid:e.sid}:null};this._start(t)}}}}(this))}get events(){return this._events}get metadataService(){return this._client.metadataService}async getUser(){const e=this._logger.create("getUser"),t=await this._loadUser();return t?(e.info("user loaded"),this._events.load(t,!1),t):(e.info("user not found in storage"),null)}async removeUser(){const e=this._logger.create("removeUser");await this.storeUser(null),e.info("user removed from storage"),this._events.unload()}async signinRedirect(e={}){this._logger.create("signinRedirect");const{redirectMethod:t,...n}=e,r=await this._redirectNavigator.prepare({redirectMethod:t});await this._signinStart({request_type:"si:r",...n},r)}async signinRedirectCallback(e=window.location.href){const t=this._logger.create("signinRedirectCallback"),n=await this._signinEnd(e);return n.profile&&n.profile.sub?t.info("success, signed in subject",n.profile.sub):t.info("no subject"),n}async signinResourceOwnerCredentials({username:e,password:t,skipUserInfo:n=!1}){const r=this._logger.create("signinResourceOwnerCredential"),i=await this._client.processResourceOwnerPasswordCredentials({username:e,password:t,skipUserInfo:n,extraTokenParams:this.settings.extraTokenParams});r.debug("got signin response");const a=await this._buildUser(i);return a.profile&&a.profile.sub?r.info("success, signed in subject",a.profile.sub):r.info("no subject"),a}async signinPopup(e={}){const t=this._logger.create("signinPopup"),{popupWindowFeatures:n,popupWindowTarget:r,...i}=e,a=this.settings.popup_redirect_uri;a||t.throw(new Error("No popup_redirect_uri configured"));const s=await this._popupNavigator.prepare({popupWindowFeatures:n,popupWindowTarget:r}),o=await this._signin({request_type:"si:p",redirect_uri:a,display:"popup",...i},s);return o&&(o.profile&&o.profile.sub?t.info("success, signed in subject",o.profile.sub):t.info("no subject")),o}async signinPopupCallback(e=window.location.href,t=!1){const n=this._logger.create("signinPopupCallback");await this._popupNavigator.callback(e,t),n.info("success")}async signinSilent(e={}){var t;const n=this._logger.create("signinSilent"),{silentRequestTimeoutInSeconds:r,...i}=e;let a=await this._loadUser();if(null==a?void 0:a.refresh_token){n.debug("using refresh token");const e=new class{constructor(e){this.refresh_token=e.refresh_token,this.id_token=e.id_token,this.session_state=e.session_state,this.scope=e.scope,this.profile=e.profile,this.data=e.state}}(a);return await this._useRefreshToken(e)}const s=this.settings.silent_redirect_uri;let o;s||n.throw(new Error("No silent_redirect_uri configured")),a&&this.settings.validateSubOnSilentRenew&&(n.debug("subject prior to silent renew:",a.profile.sub),o=a.profile.sub);const c=await this._iframeNavigator.prepare({silentRequestTimeoutInSeconds:r});return a=await this._signin({request_type:"si:s",redirect_uri:s,prompt:"none",id_token_hint:this.settings.includeIdTokenInSilentRenew?null==a?void 0:a.id_token:void 0,...i},c,o),a&&((null==(t=a.profile)?void 0:t.sub)?n.info("success, signed in subject",a.profile.sub):n.info("no subject")),a}async _useRefreshToken(e){const t=await this._client.useRefreshToken({state:e,timeoutInSeconds:this.settings.silentRequestTimeoutInSeconds}),n=new VD({...e,...t});return await this.storeUser(n),this._events.load(n),n}async signinSilentCallback(e=window.location.href){const t=this._logger.create("signinSilentCallback");await this._iframeNavigator.callback(e),t.info("success")}async signinCallback(e=window.location.href){const{state:t}=await this._client.readSigninResponseState(e);switch(t.request_type){case"si:r":return await this.signinRedirectCallback(e);case"si:p":return await this.signinPopupCallback(e);case"si:s":return await this.signinSilentCallback(e);default:throw new Error("invalid response_type in state")}}async signoutCallback(e=window.location.href,t=!1){const{state:n}=await this._client.readSignoutResponseState(e);if(n)switch(n.request_type){case"so:r":await this.signoutRedirectCallback(e);break;case"so:p":await this.signoutPopupCallback(e,t);break;case"so:s":await this.signoutSilentCallback(e);break;default:throw new Error("invalid response_type in state")}}async querySessionStatus(e={}){const t=this._logger.create("querySessionStatus"),{silentRequestTimeoutInSeconds:n,...r}=e,i=this.settings.silent_redirect_uri;i||t.throw(new Error("No silent_redirect_uri configured"));const a=await this._loadUser(),s=await this._iframeNavigator.prepare({silentRequestTimeoutInSeconds:n}),o=await this._signinStart({request_type:"si:s",redirect_uri:i,prompt:"none",id_token_hint:this.settings.includeIdTokenInSilentRenew?null==a?void 0:a.id_token:void 0,response_type:this.settings.query_status_response_type,scope:"openid",skipUserInfo:!0,...r},s);try{const e=await this._client.processSigninResponse(o.url);return t.debug("got signin response"),e.session_state&&e.profile.sub?(t.info("success for subject",e.profile.sub),{session_state:e.session_state,sub:e.profile.sub,sid:e.profile.sid}):(t.info("success, user not authenticated"),null)}catch(e){if(this.settings.monitorAnonymousSession&&e instanceof PD)switch(e.error){case"login_required":case"consent_required":case"interaction_required":case"account_selection_required":return t.info("success for anonymous user"),{session_state:e.session_state}}throw e}}async _signin(e,t,n){const r=await this._signinStart(e,t);return await this._signinEnd(r.url,n)}async _signinStart(e,t){const n=this._logger.create("_signinStart");try{const r=await this._client.createSigninRequest(e);return n.debug("got signin request"),await t.navigate({url:r.url,state:r.state.id,response_mode:r.state.response_mode,scriptOrigin:this.settings.iframeScriptOrigin})}catch(e){throw n.debug("error after preparing navigator, closing navigator window"),t.close(),e}}async _signinEnd(e,t){const n=this._logger.create("_signinEnd"),r=await this._client.processSigninResponse(e);return n.debug("got signin response"),await this._buildUser(r,t)}async _buildUser(e,t){const n=this._logger.create("_buildUser"),r=new VD(e);if(t){if(t!==r.profile.sub)throw n.debug("current user does not match user returned from signin. sub from signin:",r.profile.sub),new PD({...e,error:"login_required"});n.debug("current user matches user returned from signin")}return await this.storeUser(r),n.debug("user stored"),this._events.load(r),r}async signoutRedirect(e={}){const t=this._logger.create("signoutRedirect"),{redirectMethod:n,...r}=e,i=await this._redirectNavigator.prepare({redirectMethod:n});await this._signoutStart({request_type:"so:r",post_logout_redirect_uri:this.settings.post_logout_redirect_uri,...r},i),t.info("success")}async signoutRedirectCallback(e=window.location.href){const t=this._logger.create("signoutRedirectCallback"),n=await this._signoutEnd(e);return t.info("success"),n}async signoutPopup(e={}){const t=this._logger.create("signoutPopup"),{popupWindowFeatures:n,popupWindowTarget:r,...i}=e,a=this.settings.popup_post_logout_redirect_uri,s=await this._popupNavigator.prepare({popupWindowFeatures:n,popupWindowTarget:r});await this._signout({request_type:"so:p",post_logout_redirect_uri:a,state:null==a?void 0:{},...i},s),t.info("success")}async signoutPopupCallback(e=window.location.href,t=!1){const n=this._logger.create("signoutPopupCallback");await this._popupNavigator.callback(e,t),n.info("success")}async _signout(e,t){const n=await this._signoutStart(e,t);return await this._signoutEnd(n.url)}async _signoutStart(e={},t){var n;const r=this._logger.create("_signoutStart");try{const i=await this._loadUser();r.debug("loaded current user from storage"),this.settings.revokeTokensOnSignout&&await this._revokeInternal(i);const a=e.id_token_hint||i&&i.id_token;a&&(r.debug("setting id_token_hint in signout request"),e.id_token_hint=a),await this.removeUser(),r.debug("user removed, creating signout request");const s=await this._client.createSignoutRequest(e);return r.debug("got signout request"),await t.navigate({url:s.url,state:null==(n=s.state)?void 0:n.id})}catch(e){throw r.debug("error after preparing navigator, closing navigator window"),t.close(),e}}async _signoutEnd(e){const t=this._logger.create("_signoutEnd"),n=await this._client.processSignoutResponse(e);return t.debug("got signout response"),n}async signoutSilent(e={}){var t;const n=this._logger.create("signoutSilent"),{silentRequestTimeoutInSeconds:r,...i}=e,a=this.settings.includeIdTokenInSilentSignout?null==(t=await this._loadUser())?void 0:t.id_token:void 0,s=this.settings.popup_post_logout_redirect_uri,o=await this._iframeNavigator.prepare({silentRequestTimeoutInSeconds:r});await this._signout({request_type:"so:s",post_logout_redirect_uri:s,id_token_hint:a,...i},o),n.info("success")}async signoutSilentCallback(e=window.location.href){const t=this._logger.create("signoutSilentCallback");await this._iframeNavigator.callback(e),t.info("success")}async revokeTokens(e){const t=await this._loadUser();await this._revokeInternal(t,e)}async _revokeInternal(e,t=this.settings.revokeTokenTypes){const n=this._logger.create("_revokeInternal");if(!e)return;const r=t.filter((t=>"string"==typeof e[t]));if(r.length){for(const t of r)await this._client.revokeToken(e[t],t),n.info(`${t} revoked successfully`),"access_token"!==t&&(e[t]=null);await this.storeUser(e),n.debug("user stored"),this._events.load(e)}else n.debug("no need to revoke due to no token(s)")}startSilentRenew(){this._logger.create("startSilentRenew"),this._silentRenewService.start()}stopSilentRenew(){this._silentRenewService.stop()}get _userStoreKey(){return`user:${this.settings.authority}:${this.settings.client_id}`}async _loadUser(){const e=this._logger.create("_loadUser"),t=await this.settings.userStore.get(this._userStoreKey);return t?(e.debug("user storageString loaded"),VD.fromStorageString(t)):(e.debug("no user storageString"),null)}async storeUser(e){const t=this._logger.create("storeUser");if(e){t.debug("storing user");const n=e.toStorageString();await this.settings.userStore.set(this._userStoreKey,n)}else this._logger.debug("removing user"),await this.settings.userStore.remove(this._userStoreKey)}async clearStaleState(){await this._client.clearStaleState()}}((e=>{const{authenticationDomain:t,oidcConfiguration:n}=e,r="undefined"!=typeof window?window.localStorage:new DD,i=new FD({store:r});let a=`${t}/v2/logout?client_id=${n.clientId}`;n.logoutRedirectUri&&(a+=`&returnTo=${encodeURIComponent(n.logoutRedirectUri)}`);const s={authority:t,redirect_uri:n.redirectUri,popup_redirect_uri:n.redirectUri,client_id:n.clientId,metadata:{authorization_endpoint:`${t}/authorize`,token_endpoint:`${t}/oauth/token`,userinfo_endpoint:`${t}/userinfo`,end_session_endpoint:a},mergeClaims:!0,loadUserInfo:!0,scope:n.scope,userStore:i};return n.audience&&(s.extraQueryParams={audience:n.audience}),s})(e)),this.deviceCredentialsManager=new Jz,this.logoutMode=e.oidcConfiguration.logoutMode||"redirect"}static mapOidcUserToDomainModel=e=>{const t=e.profile?.passport,n={expired:e.expired,idToken:e.id_token,accessToken:e.access_token,refreshToken:e.refresh_token,profile:{sub:e.profile.sub,email:e.profile.email,nickname:e.profile.nickname}};return t?.imx_eth_address&&(n.imx={ethAddress:t.imx_eth_address,starkAddress:t.imx_stark_address,userAdminAddress:t.imx_user_admin_address}),t?.zkevm_eth_address&&(n.zkEvm={ethAddress:t?.zkevm_eth_address,userAdminAddress:t?.zkevm_user_admin_address}),n};static mapDeviceTokenResponseToOidcUser=e=>{const t=vD(e.id_token);return new VD({id_token:e.id_token,access_token:e.access_token,refresh_token:e.refresh_token,token_type:e.token_type,profile:{sub:t.sub,iss:t.iss,aud:t.aud,exp:t.exp,iat:t.iat,email:t.email,nickname:t.nickname,passport:t.passport}})};async login(){return Wz((async()=>{const e=await this.userManager.signinPopup({popupWindowFeatures:{width:410,height:450}});return tH.mapOidcUserToDomainModel(e)}),zz.AUTHENTICATION_ERROR)}async loginCallback(){return Wz((async()=>this.userManager.signinPopupCallback()),zz.AUTHENTICATION_ERROR)}async loginWithDeviceFlow(){return Wz((async()=>{const e=await je.post(`${this.config.authenticationDomain}/oauth/device/code`,{client_id:this.config.oidcConfiguration.clientId,scope:this.config.oidcConfiguration.scope,audience:this.config.oidcConfiguration.audience},Qz);return{code:e.data.user_code,deviceCode:e.data.device_code,url:e.data.verification_uri_complete,interval:e.data.interval}}),zz.AUTHENTICATION_ERROR)}async loginWithDeviceFlowCallback(e,t,n){return Wz((async()=>{const r=Date.now();for(;;){if(null!=n&&Date.now()-r>n)throw new Error("Timed out");await Zz(1e3*t);try{const t=await this.getDeviceFlowToken(e),n=tH.mapDeviceTokenResponseToOidcUser(t),r=tH.mapOidcUserToDomainModel(n);return await this.userManager.storeUser(n),r}catch(e){if(!je.isAxiosError(e))throw e;{const t=e.response?.data;switch(t.error){case"authorization_pending":case"slow_down":break;case"expired_token":throw new Error("Token expired, please log in again");case"access_denied":throw new Error("User denied access");default:throw new Error("Error getting token")}}}}throw new Error("Failed to get credentials")}),zz.AUTHENTICATION_ERROR)}async getDeviceFlowToken(e){return(await je.post(`${this.config.authenticationDomain}/oauth/token`,{client_id:this.config.oidcConfiguration.clientId,grant_type:"urn:ietf:params:oauth:grant-type:device_code",device_code:e},Qz)).data}getPKCEAuthorizationUrl(){const e=eH((void 0)(32)),t=eH((n=e,(void 0)("sha256").update(n).digest()));var n;const r=eH((void 0)(32));return this.deviceCredentialsManager.savePKCEData({state:r,verifier:e}),`${this.config.authenticationDomain}/authorize?response_type=code&code_challenge=${t}&code_challenge_method=S256&client_id=${this.config.oidcConfiguration.clientId}&redirect_uri=${this.config.oidcConfiguration.redirectUri}&scope=${this.config.oidcConfiguration.scope}&state=${r}&audience=${this.config.oidcConfiguration.audience}`}async loginWithPKCEFlowCallback(e,t){return Wz((async()=>{const n=this.deviceCredentialsManager.getPKCEData();if(!n)throw new Error("No code verifier or state for PKCE");if(t!==n.state)throw new Error("Provided state does not match stored state");const r=await this.getPKCEToken(e,n.verifier),i=tH.mapDeviceTokenResponseToOidcUser(r),a=tH.mapOidcUserToDomainModel(i);return await this.userManager.storeUser(i),a}),zz.AUTHENTICATION_ERROR)}async getPKCEToken(e,t){return(await je.post(`${this.config.authenticationDomain}/oauth/token`,{client_id:this.config.oidcConfiguration.clientId,grant_type:"authorization_code",code_verifier:t,code:e,redirect_uri:this.config.oidcConfiguration.redirectUri},Qz)).data}async logout(){return Wz((async()=>"silent"===this.logoutMode?this.userManager.signoutSilent():this.userManager.signoutRedirect()),zz.LOGOUT_ERROR)}async removeUser(){return this.userManager.removeUser()}getDeviceFlowEndSessionEndpoint(){const{authenticationDomain:e,oidcConfiguration:t}=this.config;let n=`${e}/v2/logout`;return t.logoutRedirectUri&&(n+=`?client_id=${t.clientId}&returnTo=${encodeURIComponent(t.logoutRedirectUri)}`),n}async logoutSilentCallback(e){return this.userManager.signoutSilentCallback(e)}async forceUserRefresh(){return this.refreshTokenAndUpdatePromise()}async refreshTokenAndUpdatePromise(){return this.refreshingPromise||(this.refreshingPromise=new Promise((async(e,t)=>{try{const t=await this.userManager.signinSilent();if(t)return void e(tH.mapOidcUserToDomainModel(t));e(null)}catch(e){t(e)}finally{this.refreshingPromise=null}}))),this.refreshingPromise}async getUser(){return Wz((async()=>{const e=await this.userManager.getUser();return e?Yz(e)?e.refresh_token?this.refreshTokenAndUpdatePromise():null:tH.mapOidcUserToDomainModel(e):null}),zz.NOT_LOGGED_IN_ERROR)}}class nH{config;lazyMagicClient;constructor(e){this.config=e,"undefined"!=typeof window&&(this.lazyMagicClient=((e,t)=>e().then(t))((()=>new Promise((e=>{if("complete"===window.document.readyState)e();else{const t=()=>{"complete"===window.document.readyState&&(e(),window.document.removeEventListener("readystatechange",t))};window.document.addEventListener("readystatechange",t)}}))),(()=>{const e=new hj(this.config.magicPublishableApiKey,{extensions:[new mj],network:"mainnet"});return e.preload(),e})))}get magicClient(){if(!this.lazyMagicClient)throw new Error("Cannot perform this action outside of the browser");return this.lazyMagicClient}async login(e){return Wz((async()=>{const t=await this.magicClient;return await t.openid.loginWithOIDC({jwt:e,providerId:this.config.magicProviderId}),t.rpcProvider}),zz.WALLET_CONNECTION_ERROR)}async logout(){const e=await this.magicClient;e.user&&await e.user.logout()}}const rH=1e3,iH=3,aH=async(e,t)=>{const{retries:n=iH,interval:r=rH,finalErr:i=Error("Retry failed"),finallyFn:a=(()=>{})}=t||{};try{return await e()}catch(t){return n<=0?Promise.reject(i):(await(s=r,new Promise((e=>{setTimeout((()=>e()),s)}))),aH(e,{retries:n-1,finalErr:i,finallyFn:a}))}finally{n<=0&&a()}var s};var sH,oH;!function(e){e[e.USER_REJECTED_REQUEST=4001]="USER_REJECTED_REQUEST",e[e.UNAUTHORIZED=4100]="UNAUTHORIZED",e[e.UNSUPPORTED_METHOD=4200]="UNSUPPORTED_METHOD",e[e.DISCONNECTED=4900]="DISCONNECTED"}(sH||(sH={})),function(e){e[e.RPC_SERVER_ERROR=-32e3]="RPC_SERVER_ERROR",e[e.INVALID_REQUEST=-32600]="INVALID_REQUEST",e[e.METHOD_NOT_FOUND=-32601]="METHOD_NOT_FOUND",e[e.INVALID_PARAMS=-32602]="INVALID_PARAMS",e[e.INTERNAL_ERROR=-32603]="INTERNAL_ERROR",e[e.PARSE_ERROR=-32700]="PARSE_ERROR",e[e.TRANSACTION_REJECTED=-32003]="TRANSACTION_REJECTED"}(oH||(oH={}));class cH extends Error{message;code;constructor(e,t){super(t),this.message=t,this.code=e}}const uH="Transaction requires confirmation but this functionality is not supported in this environment. Please contact Immutable support if you need to enable this feature.",dH=e=>Ji.from(e).toString();class fH{transactionAPI;messageAPI;confirmationScreen;crossSdkBridgeEnabled;constructor({confirmationScreen:e,config:t}){const n=new pz({basePath:t.imxPublicApiDomain});this.confirmationScreen=e,this.crossSdkBridgeEnabled=t.crossSdkBridgeEnabled,this.messageAPI=new fz(n),this.transactionAPI=new hz(n)}withConfirmationScreen(e){return t=>this.withConfirmationScreenTask(e)(t)()}withConfirmationScreenTask(e){return t=>async()=>{this.confirmationScreen.loading(e);try{return await t()}catch(e){throw this.confirmationScreen.closeWindow(),e}}}withDefaultConfirmationScreenTask(e){return this.withConfirmationScreenTask()(e)}async evaluateImxTransaction({payloadHash:e,user:t}){const n={Authorization:`Bearer ${t.accessToken}`};if(!(await aH((async()=>this.transactionAPI.getTransactionByID({transactionID:e,chainType:"starkex"},{headers:n})),{finallyFn:()=>{this.confirmationScreen.closeWindow()}})).data.id)throw new Error("Transaction doesn't exists");const r=await this.transactionAPI.evaluateTransaction({id:e,transactionEvaluationRequest:{chainType:"starkex"}},{headers:n}),{confirmationRequired:i}=r.data;if(i){if(this.crossSdkBridgeEnabled)throw new Error(uH);if(!(await this.confirmationScreen.requestConfirmation(e,t.imx.ethAddress,mz)).confirmed)throw new Error("Transaction rejected by user")}else this.confirmationScreen.closeWindow()}async evaluateEVMTransaction({chainId:e,nonce:t,user:n,metaTransactions:r}){const i={Authorization:`Bearer ${n.accessToken}`},a=(e=>{try{return e.map((e=>({delegateCall:!0===e.delegateCall,revertOnError:!0===e.revertOnError,gasLimit:e.gasLimit?dH(e.gasLimit):"0",target:e.to??Ds,value:e.value?dH(e.value):"0",data:e.data?e.data.toString():"0x"})))}catch(e){const t=e instanceof Error?e.message:String(e);throw new cH(oH.INVALID_PARAMS,`Transaction failed to parsing: ${t}`)}})(r);try{return(await this.transactionAPI.evaluateTransaction({id:"evm",transactionEvaluationRequest:{chainType:"evm",chainId:e,transactionData:{nonce:t,userAddress:n.zkEvm.ethAddress,metaTransactions:a}}},{headers:i})).data}catch(e){const t=e instanceof Error?e.message:String(e);throw new cH(oH.INTERNAL_ERROR,`Transaction failed to validate with error: ${t}`)}}async validateEVMTransaction({chainId:e,nonce:t,user:n,metaTransactions:r}){const i=await this.evaluateEVMTransaction({chainId:e,nonce:t,user:n,metaTransactions:r}),{confirmationRequired:a,transactionId:s}=i;if(a&&this.crossSdkBridgeEnabled)throw new cH(oH.TRANSACTION_REJECTED,uH);if(a&&s){if(!(await this.confirmationScreen.requestConfirmation(s,n.zkEvm.ethAddress,bz,e)).confirmed)throw new cH(oH.TRANSACTION_REJECTED,"Transaction rejected by user")}else this.confirmationScreen.closeWindow()}async evaluateMessage({chainID:e,payload:t,user:n}){try{return(await this.messageAPI.evaluateMessage({messageEvaluationRequest:{chainID:e,payload:t}},{headers:{Authorization:`Bearer ${n.accessToken}`}})).data}catch(e){const t=e instanceof Error?e.message:String(e);throw new cH(oH.INTERNAL_ERROR,`Message failed to validate with error: ${t}`)}}async validateMessage({chainID:e,payload:t,user:n}){const{messageId:r,confirmationRequired:i}=await this.evaluateMessage({chainID:e,payload:t,user:n});if(i&&this.crossSdkBridgeEnabled)throw new cH(oH.TRANSACTION_REJECTED,uH);if(i&&r){if(!(await this.confirmationScreen.requestMessageConfirmation(r,n.zkEvm.ethAddress)).confirmed)throw new cH(oH.TRANSACTION_REJECTED,"Signature rejected by user")}else this.confirmationScreen.closeWindow()}}var lH;!function(e){e.LOGGED_OUT="loggedOut"}(lH||(lH={}));const hH="ERC721";const pH="ERC721";async function mH(e){await aH((async()=>{const t=await e.forceUserRefresh();return t?.imx?t:Promise.reject(new Error("user wallet addresses not exist"))}))}async function bH(e,t,n,r,i){return Wz((async()=>{try{const a=await async function({ethSigner:e,starkSigner:t,imxApiClients:n},r){const[i,a]=await Promise.all([e.getAddress(),t.getAddress()]),s=await n.usersApi.getSignableRegistrationOffchain({getSignableRegistrationRequest:{ether_key:i,stark_key:a}}),{signable_message:o,payload_hash:c}=s.data,[u,d]=await Promise.all([gz(o,e),t.signMessage(c)]);return(await n.usersApi.registerPassportUserV2({authorization:`Bearer ${r}`,registerPassportUserRequest:{eth_signature:u,ether_key:i,stark_signature:d,stark_key:a}})).data}({ethSigner:e,starkSigner:t,imxApiClients:i},n.accessToken);return await mH(r),a}catch(e){if(je.isAxiosError(e)&&409===e.status)return await mH(r),{tx_hash:""};throw e}}),zz.USER_REGISTRATION_ERROR)}class yH{authManager;immutableXClient;guardianClient;imxApiClients;magicAdapter;signers;signerInitialisationError;constructor({authManager:e,immutableXClient:t,confirmationScreen:n,config:r,passportEventEmitter:i,magicAdapter:a,imxApiClients:s}){this.authManager=e,this.immutableXClient=t,this.guardianClient=new fH({confirmationScreen:n,config:r}),this.magicAdapter=a,this.imxApiClients=s,this.initialiseSigners(),i.on(lH.LOGGED_OUT,this.handleLogout)}handleLogout=()=>{this.signers=void 0};async initialiseSigners(){const e=async()=>{const e=await this.authManager.getUser(),t=await this.magicAdapter.login(e.idToken),n=new ob(t).getSigner();return{ethSigner:n,starkSigner:await(async e=>Wz((async()=>BC(await YB(e))),zz.WALLET_CONNECTION_ERROR))(n)}};this.signers=new Promise((async t=>{try{t(await e())}catch(e){this.signerInitialisationError=e,t(void 0)}}))}async getAuthenticatedUserAndSigners(){const e=await this.authManager.getUser();if(!e||!this.signers)throw new Gz("User has been logged out",zz.NOT_LOGGED_IN_ERROR);const t=await this.signers;if(void 0===t){if(void 0!==this.signerInitialisationError)throw this.signerInitialisationError;throw new Error("Signers failed to initialise")}return{user:e,...t}}async getRegisteredImxUserAndSigners(){const{user:e,starkSigner:t,ethSigner:n}=await this.getAuthenticatedUserAndSigners();if(r=e,void 0===r?.imx)throw new Gz("User has not been registered with StarkEx",zz.USER_NOT_REGISTERED_ERROR);var r;return{user:e,starkSigner:t,ethSigner:n}}async transfer(e){const{user:t,starkSigner:n}=await this.getRegisteredImxUserAndSigners();return async function({request:e,transfersApi:t,starkSigner:n,user:r,guardianClient:i}){return Wz(i.withDefaultConfirmationScreenTask((async()=>{const a=e.type===pH?"1":e.amount,s={sender:r.imx.ethAddress,token:vz(e),amount:a,receiver:e.receiver},o={Authorization:`Bearer ${r.accessToken}`},c=await t.getSignableTransferV1({getSignableTransferRequest:s},{headers:o});await i.evaluateImxTransaction({user:r,payloadHash:c.data.payload_hash});const u=c.data,{payload_hash:d}=u,f=await n.signMessage(d),l=await n.getAddress(),h={createTransferRequest:{sender_stark_key:u.sender_stark_key||l,sender_vault_id:u.sender_vault_id,receiver_stark_key:u.receiver_stark_key,receiver_vault_id:u.receiver_vault_id,asset_id:u.asset_id,amount:u.amount,nonce:u.nonce,expiration_timestamp:u.expiration_timestamp,stark_signature:f}},{data:p}=await t.createTransferV1(h,{headers:o});return{sent_signature:p.sent_signature,status:p.status?.toString(),time:p.time,transfer_id:p.transfer_id}})),zz.TRANSFER_ERROR)}({request:e,user:t,starkSigner:n,transfersApi:this.immutableXClient.transfersApi,guardianClient:this.guardianClient})}async registerOffchain(){const{user:e,ethSigner:t,starkSigner:n}=await this.getAuthenticatedUserAndSigners();return await bH(t,n,e,this.authManager,this.imxApiClients)}async isRegisteredOffchain(){const{user:e}=await this.getAuthenticatedUserAndSigners();return!!e.imx}isRegisteredOnchain(){throw new Gz("Operation not supported",zz.OPERATION_NOT_SUPPORTED_ERROR)}async createOrder(e){const{user:t,starkSigner:n}=await this.getRegisteredImxUserAndSigners();return async function({starkSigner:e,user:t,request:n,ordersApi:r,guardianClient:i}){return Wz(i.withDefaultConfirmationScreenTask((async()=>{const{ethAddress:a}=t.imx,s=n.sell.type===hH?"1":n.sell.amount,o=n.buy.type===hH?"1":n.buy.amount,c={Authorization:`Bearer ${t.accessToken}`},u={user:a,amount_buy:o,token_buy:vz(n.buy),amount_sell:s,token_sell:vz(n.sell),fees:n.fees,split_fees:!0,expiration_timestamp:n.expiration_timestamp},d=await r.getSignableOrder({getSignableOrderRequestV3:u},{headers:c});await i.evaluateImxTransaction({user:t,payloadHash:d.data.payload_hash});const{payload_hash:f}=d.data,l=await e.signMessage(f),h=d.data,p={createOrderRequest:{include_fees:!0,fees:n.fees,stark_signature:l,amount_buy:h.amount_buy,amount_sell:h.amount_sell,asset_id_buy:h.asset_id_buy,asset_id_sell:h.asset_id_sell,expiration_timestamp:h.expiration_timestamp,nonce:h.nonce,stark_key:h.stark_key,vault_id_buy:h.vault_id_buy,vault_id_sell:h.vault_id_sell}};return{...(await r.createOrderV3(p,{headers:c})).data}})),zz.CREATE_ORDER_ERROR)}({request:e,user:t,starkSigner:n,ordersApi:this.immutableXClient.ordersApi,guardianClient:this.guardianClient})}async cancelOrder(e){const{user:t,starkSigner:n}=await this.getRegisteredImxUserAndSigners();return async function({user:e,starkSigner:t,request:n,ordersApi:r,guardianClient:i}){return Wz(i.withDefaultConfirmationScreenTask((async()=>{const a={order_id:n.order_id},s={Authorization:`Bearer ${e.accessToken}`},o=await r.getSignableCancelOrderV3({getSignableCancelOrderRequest:a},{headers:s});await i.evaluateImxTransaction({user:e,payloadHash:o.data.payload_hash});const{payload_hash:c}=o.data,u=await t.signMessage(c),d=await r.cancelOrderV3({id:n.order_id.toString(),cancelOrderRequest:{order_id:n.order_id,stark_signature:u}},{headers:s});return{order_id:d.data.order_id,status:d.data.status}})),zz.CANCEL_ORDER_ERROR)}({request:e,user:t,starkSigner:n,ordersApi:this.immutableXClient.ordersApi,guardianClient:this.guardianClient})}async createTrade(e){const{user:t,starkSigner:n}=await this.getRegisteredImxUserAndSigners();return async function({request:e,tradesApi:t,user:n,starkSigner:r,guardianClient:i}){return Wz(i.withDefaultConfirmationScreenTask((async()=>{const{ethAddress:a}=n.imx,s={expiration_timestamp:e.expiration_timestamp,fees:e.fees,order_id:e.order_id,user:a},o={Authorization:`Bearer ${n.accessToken}`},c=await t.getSignableTrade({getSignableTradeRequest:s},{headers:o});await i.evaluateImxTransaction({user:n,payloadHash:c.data.payload_hash});const{payload_hash:u}=c.data,d=await r.signMessage(u),{data:f}=c,l={createTradeRequest:{include_fees:!0,fees:e?.fees,stark_signature:d,order_id:e?.order_id,fee_info:f.fee_info,amount_buy:f.amount_buy,amount_sell:f.amount_sell,asset_id_buy:f.asset_id_buy,asset_id_sell:f.asset_id_sell,expiration_timestamp:f.expiration_timestamp,nonce:f.nonce,stark_key:f.stark_key,vault_id_buy:f.vault_id_buy,vault_id_sell:f.vault_id_sell}},{data:h}=await t.createTradeV3(l,{headers:o});return h})),zz.CREATE_TRADE_ERROR)}({request:e,user:t,starkSigner:n,tradesApi:this.immutableXClient.tradesApi,guardianClient:this.guardianClient})}async batchNftTransfer(e){const{user:t,starkSigner:n}=await this.getRegisteredImxUserAndSigners();return async function({user:e,starkSigner:t,request:n,transfersApi:r,guardianClient:i}){return Wz(i.withConfirmationScreenTask({width:480,height:784})((async()=>{const{ethAddress:a}=e.imx,s=n.map((e=>({amount:"1",token:vz({type:pH,tokenId:e.tokenId,tokenAddress:e.tokenAddress}),receiver:e.receiver}))),o={Authorization:`Bearer ${e.accessToken}`},c=await r.getSignableTransfer({getSignableTransferRequestV2:{sender_ether_key:a,signable_requests:s}},{headers:o});await i.evaluateImxTransaction({user:e,payloadHash:c.data.signable_responses[0]?.payload_hash});const u=await Promise.all(c.data.signable_responses.map((async e=>{const n=await t.signMessage(e.payload_hash);return{sender_vault_id:e.sender_vault_id,receiver_stark_key:e.receiver_stark_key,receiver_vault_id:e.receiver_vault_id,asset_id:e.asset_id,amount:e.amount,nonce:e.nonce,expiration_timestamp:e.expiration_timestamp,stark_signature:n}}))),d={sender_stark_key:c.data.sender_stark_key,requests:u},f=await r.createTransfer({createTransferRequestV2:d},{headers:o});return{transfer_ids:f?.data.transfer_ids}})),zz.TRANSFER_ERROR)}({request:e,user:t,starkSigner:n,transfersApi:this.immutableXClient.transfersApi,guardianClient:this.guardianClient})}async exchangeTransfer(e){const{user:t,starkSigner:n}=await this.getRegisteredImxUserAndSigners();return async function({user:e,starkSigner:t,request:n,exchangesApi:r}){return Wz((async()=>{const{ethAddress:i}=e.imx,a=n.amount,s=await r.getExchangeSignableTransfer({id:n.transactionID,getSignableTransferRequest:{sender:i,token:vz(n),amount:a,receiver:n.receiver}}),o=await t.getAddress(),{payload_hash:c}=s.data,u=await t.signMessage(c),d={sender_stark_key:s.data.sender_stark_key||o,sender_vault_id:s.data.sender_vault_id,receiver_stark_key:s.data.receiver_stark_key,receiver_vault_id:s.data.receiver_vault_id,asset_id:s.data.asset_id,amount:s.data.amount,nonce:s.data.nonce,expiration_timestamp:s.data.expiration_timestamp,stark_signature:u},f={Authorization:`Bearer ${e.accessToken}`},l=await r.createExchangeTransfer({id:n.transactionID,createTransferRequest:d},{headers:f});return{sent_signature:l?.data.sent_signature,status:l?.data.status?.toString(),time:l?.data.time,transfer_id:l?.data.transfer_id}}),zz.EXCHANGE_TRANSFER_ERROR)}({request:e,user:t,starkSigner:n,exchangesApi:this.immutableXClient.exchangeApi})}deposit(e){throw new Gz("Operation not supported",zz.OPERATION_NOT_SUPPORTED_ERROR)}prepareWithdrawal(e){throw new Gz("Operation not supported",zz.OPERATION_NOT_SUPPORTED_ERROR)}completeWithdrawal(e,t){throw new Gz("Operation not supported",zz.OPERATION_NOT_SUPPORTED_ERROR)}async getAddress(){const{user:e}=await this.getRegisteredImxUserAndSigners();return Promise.resolve(e.imx.ethAddress)}}class gH{authManager;config;confirmationScreen;immutableXClient;magicAdapter;passportEventEmitter;imxApiClients;constructor({authManager:e,config:t,confirmationScreen:n,immutableXClient:r,magicAdapter:i,passportEventEmitter:a,imxApiClients:s}){this.authManager=e,this.config=t,this.confirmationScreen=n,this.immutableXClient=r,this.magicAdapter=i,this.passportEventEmitter=a,this.imxApiClients=s}async getProvider(){let e=null;try{e=await this.authManager.getUser()}catch(e){console.warn(e)}return e||(e=await this.authManager.login()),this.createProviderInstance(e)}async getProviderSilent(){const e=await this.authManager.getUser();return e?this.createProviderInstance(e):null}async createProviderInstance(e){if(!e.idToken)throw new Gz("Failed to initialise",zz.WALLET_CONNECTION_ERROR);return new yH({config:this.config,authManager:this.authManager,immutableXClient:this.immutableXClient,confirmationScreen:this.confirmationScreen,passportEventEmitter:this.passportEventEmitter,magicAdapter:this.magicAdapter,imxApiClients:this.imxApiClients})}}const vH=(e,t,n)=>{const r=t.map((t=>!e[t]&&t)).filter((e=>e)).join(", ");if(""!==r){throw new Gz(n?`${n} - ${r} cannot be null`:`${r} cannot be null`,zz.INVALID_CONFIGURATION)}};class wH{authenticationDomain;passportDomain;imxPublicApiDomain;magicPublishableApiKey;magicProviderId;oidcConfiguration;baseConfig;zkEvmRpcUrl;relayerUrl;multiRollupConfig;crossSdkBridgeEnabled;constructor({baseConfig:e,overrides:t,crossSdkBridgeEnabled:n,...r}){if(vH(r,["clientId","redirectUri"]),this.oidcConfiguration=r,this.baseConfig=e,this.crossSdkBridgeEnabled=n||!1,t)vH(t,["authenticationDomain","passportDomain","magicPublishableApiKey","magicProviderId","zkEvmRpcUrl","relayerUrl","imxPublicApiDomain","indexerMrBasePath","orderBookMrBasePath","passportMrBasePath"],"overrides"),this.authenticationDomain=t.authenticationDomain,this.passportDomain=t.passportDomain,this.imxPublicApiDomain=t.imxPublicApiDomain,this.magicPublishableApiKey=t.magicPublishableApiKey,this.magicProviderId=t.magicProviderId,this.zkEvmRpcUrl=t.zkEvmRpcUrl,this.relayerUrl=t.relayerUrl,this.multiRollupConfig={indexer:Vn({basePath:t.indexerMrBasePath}),orderBook:Vn({basePath:t.orderBookMrBasePath}),passport:Vn({basePath:t.passportMrBasePath})};else switch(e.environment){case rt.PRODUCTION:this.authenticationDomain="https://auth.immutable.com",this.magicPublishableApiKey="pk_live_10F423798A540ED7",this.magicProviderId="fSMzaRQ4O7p4fttl7pCyGVtJS_G70P8SNsLXtPPGHo0=",this.passportDomain="https://passport.immutable.com",this.imxPublicApiDomain="https://api.immutable.com",this.zkEvmRpcUrl="https://rpc.immutable.com",this.relayerUrl="https://api.immutable.com/relayer-mr",this.multiRollupConfig=$n();break;case rt.SANDBOX:default:this.authenticationDomain="https://auth.immutable.com",this.magicPublishableApiKey="pk_live_10F423798A540ED7",this.magicProviderId="fSMzaRQ4O7p4fttl7pCyGVtJS_G70P8SNsLXtPPGHo0=",this.passportDomain="https://passport.sandbox.immutable.com",this.imxPublicApiDomain="https://api.sandbox.immutable.com",this.zkEvmRpcUrl="https://rpc.testnet.immutable.com",this.relayerUrl="https://api.sandbox.immutable.com/relayer-mr",this.multiRollupConfig=Jn()}}}var _H;!function(e){e.CONFIRMATION_WINDOW_READY="confirmation_window_ready",e.TRANSACTION_CONFIRMED="transaction_confirmed",e.TRANSACTION_ERROR="transaction_error",e.MESSAGE_CONFIRMED="message_confirmed",e.MESSAGE_REJECTED="message_rejected",e.LOGOUT_SUCCESS="logout_success"}(_H||(_H={}));const EH="imx_passport_confirmation";class TH{config;confirmationWindow;constructor(e){this.config=e}getHref(e,t){let n=`${this.config.passportDomain}/transaction-confirmation/${e}`;if(t){const e=t?Object.keys(t).map((e=>`${e}=${t[e]}`)).join("&"):"";n=`${n}?${e}`}return n}requestConfirmation(e,t,n,r){return new Promise(((i,a)=>{const s=({data:e,origin:t})=>{if(t===this.config.passportDomain&&e.eventType===EH)switch(e.messageType){case _H.CONFIRMATION_WINDOW_READY:break;case _H.TRANSACTION_CONFIRMED:i({confirmed:!0});break;case _H.TRANSACTION_ERROR:a(new Error("Transaction error"));break;default:a(new Error("Unsupported message type"))}};if(!this.confirmationWindow)return void i({confirmed:!1});window.addEventListener("message",s);let o="";o=n===mz?this.getHref("transaction",{transactionId:e,etherAddress:t,chainType:n}):this.getHref("zkevm",{transactionId:e,etherAddress:t,chainType:n,chainId:r}),this.showConfirmationScreen(o,s,i)}))}requestMessageConfirmation(e,t){return new Promise(((n,r)=>{const i=({data:e,origin:t})=>{if(t===this.config.passportDomain&&e.eventType===EH)switch(e.messageType){case _H.CONFIRMATION_WINDOW_READY:break;case _H.MESSAGE_CONFIRMED:n({confirmed:!0});break;case _H.MESSAGE_REJECTED:r(new Error("Message rejected"));break;default:r(new Error("Unsupported message type"))}};if(!this.confirmationWindow)return void n({confirmed:!1});window.addEventListener("message",i);const a=this.getHref("zkevm/message",{messageID:e,etherAddress:t});this.showConfirmationScreen(a,i,n)}))}loading(e){this.config.crossSdkBridgeEnabled||(this.confirmationWindow=(({url:e,title:t,width:n,height:r})=>{const i=Math.max(0,Math.round(window.screenX+(window.outerWidth-n)/2)),a=Math.max(0,Math.round(window.screenY+(window.outerHeight-r)/2)),s=window.open(e,t,`\n      scrollbars=yes,\n      width=${n}, \n      height=${r}, \n      top=${a}, \n      left=${i}\n     `);if(!s)throw new Error("Failed to open confirmation screen");return s.focus(),s})({url:this.getHref("loading"),title:"Confirm this transaction",width:e?.width||480,height:e?.height||720}))}closeWindow(){this.confirmationWindow?.close()}logout(){return new Promise(((e,t)=>{const n=document.createElement("iframe");n.setAttribute("id","passport-confirm"),n.setAttribute("src",this.getHref("logout")),n.setAttribute("style","display: none; position: absolute;width:0px;height:0px;border:0;");const r=({data:i,origin:a})=>{a===this.config.passportDomain&&i.eventType===EH&&(window.removeEventListener("message",r),n.remove(),i.messageType===_H.LOGOUT_SUCCESS&&e({logout:!0}),t(new Error("Unsupported logout type")))};window.addEventListener("message",r),document.body.appendChild(n)}))}showConfirmationScreen(e,t,n){this.confirmationWindow.location.href=e;const r=setInterval((()=>{this.confirmationWindow?.closed&&(clearInterval(r),window.removeEventListener("message",t),n({confirmed:!1}))}),1e3)}}var AH,RH;!function(e){e.PENDING="PENDING",e.SUBMITTED="SUBMITTED",e.SUCCESSFUL="SUCCESSFUL",e.REVERTED="REVERTED",e.FAILED="FAILED"}(AH||(AH={})),function(e){e.ACCOUNTS_CHANGED="accountsChanged"}(RH||(RH={}));class SH{emitter=new SE;emit(e,...t){this.emitter.emit(e,...t)}on(e,t){this.emitter.on(e,t)}removeListener(e,t){this.emitter.removeListener(e,t)}}const kH=(e,t,n)=>yb(["string","uint256","address","bytes32"],["",e,t,n]),OH=async(e,t,n,r,i)=>{const a=e.map((e=>({delegateCall:!0===e.delegateCall,revertOnError:!0===e.revertOnError,gasLimit:e.gasLimit??Fs,target:e.to??Ds,value:e.value??Fs,data:e.data??[]})));const s=function(e,t){return rs(ko.encode(["uint256","tuple(\n  bool delegateCall,\n  bool revertOnError,\n  uint256 gasLimit,\n  address target,\n  uint256 value,\n  bytes data\n)[]"],[e,t]))}(t,a),o=Oi(rs(kH(n,r,s))),c=`${await i.signMessage(o)}02`,u=Hz.signature.encodeSignature({version:1,threshold:1,signers:[{isDynamic:!1,unrecovered:!0,weight:1,signature:c}]}),d=new Pc(Ez.mainModule.abi);return d.encodeFunctionData(d.getFunction("execute"),[a,t,u])},IH=async(e,t,n,r,i)=>{const a={...e.types};delete a.EIP712Domain;const s=Ac.hash(e.domain,a,e.message),o=Oi(rs(kH(n,r,s))),c=`${await i.signMessage(o)}02`,{signers:u}=(e=>{const t=`0x0000${e}`;return Hz.signature.decodeSignature(t)})(t);return Hz.signature.encodeSignature({version:1,threshold:2,signers:[...u,{isDynamic:!1,unrecovered:!0,weight:1,signature:c}]})},xH=e=>`eip155:${e}`;class CH{config;jsonRpcProvider;user;constructor({config:e,jsonRpcProvider:t,user:n}){this.config=e,this.jsonRpcProvider=t,this.user=n}async postToRelayer(e){const t={id:1,jsonrpc:"2.0",...e},n=await fetch(`${this.config.relayerUrl}/v1/transactions`,{method:"POST",headers:{Authorization:`Bearer ${this.user.accessToken}`,"Content-Type":"application/json"},body:JSON.stringify(t)}),r=await n.json();if(r.error)throw r.error;return r}async ethSendTransaction(e,t){const{chainId:n}=await this.jsonRpcProvider.ready,r={method:"eth_sendTransaction",params:[{to:e,data:t,chainId:xH(n)}]},{result:i}=await this.postToRelayer(r);return i}async imGetTransactionByHash(e){const t={method:"im_getTransactionByHash",params:[e]},{result:n}=await this.postToRelayer(t);return n}async imGetFeeOptions(e,t){const{chainId:n}=await this.jsonRpcProvider.ready,r={method:"im_getFeeOptions",params:[{userAddress:e,data:t,chainId:xH(n)}]},{result:i}=await this.postToRelayer(r);return i}async imSignTypedData(e,t){const{chainId:n}=await this.jsonRpcProvider.ready,r={method:"im_signTypedData",params:[{address:e,eip712Payload:t,chainId:xH(n)}]},{result:i}=await this.postToRelayer(r);return i}}const MH=new Map([[Vz.ETHEREUM,Kz.ETHEREUM],[Vz.SEPOLIA,Kz.SEPOLIA],[Vz.IMTBL_ZKEVM_MAINNET,Kz.IMTBL_ZKEVM_MAINNET],[Vz.IMTBL_ZKEVM_TESTNET,Kz.IMTBL_ZKEVM_TESTNET],[Vz.IMTBL_ZKEVM_DEVNET,Kz.IMTBL_ZKEVM_DEVNET]]);const PH=async({authManager:e,magicAdapter:t,multiRollupApiClients:n,jsonRpcProvider:r})=>{let i=null;try{i=await e.getUser()}catch(e){console.warn("eth_requestAccounts` failed to retrieve a cached user session:",e)}if(i||(i=await e.login()),!i.idToken)throw new Error("User is missing idToken");const a=await t.login(i.idToken);if(!i.zkEvm){const t=await async function({authManager:e,magicProvider:t,multiRollupApiClients:n,accessToken:r,jsonRpcProvider:i}){const a=new ob(t).getSigner(),s=await a.getAddress(),o=await gz("Only sign this message from Immutable Passport",a),c={Authorization:`Bearer ${r}`},{chainId:u}=await i.ready;try{const e=MH.get(u);if(!e)throw new cH(oH.INTERNAL_ERROR,`Chain name does not exist on for chain id ${u}`);await n.passportApi.createCounterfactualAddressV2({chainName:e,createCounterfactualAddressRequest:{ethereum_address:s,ethereum_signature:o}},{headers:c})}catch(e){throw new cH(oH.INTERNAL_ERROR,`Failed to create counterfactual address: ${e}`)}const d=await e.forceUserRefresh();if(!d?.zkEvm)throw new cH(oH.INTERNAL_ERROR,"Failed to refresh user details");return d}({authManager:e,magicProvider:a,multiRollupApiClients:n,accessToken:i.accessToken,jsonRpcProvider:r});return{user:t,magicProvider:a}}return{user:i,magicProvider:a}},NH=({params:e,magicProvider:t,jsonRpcProvider:n,relayerClient:r,guardianClient:i,user:a})=>i.withConfirmationScreen({width:480,height:520})((async()=>{const s=e[0];if(!s.to)throw new cH(oH.INVALID_PARAMS,'eth_sendTransaction requires a "to" field');const{chainId:o}=await n.ready,c=Ji.from(o),u=new ob(t).getSigner(),d=await(async(e,t)=>{const n=await e.send("eth_getCode",[t,"latest"]);if(n&&"0x"!==n)return new bl(t,Ez.mainModule.abi,e).nonce();return 0})(n,a.zkEvm.ethAddress),f={to:s.to,data:s.data,nonce:d,value:s.value,revertOnError:!0},l=await(async(e,t,n,r,i,a)=>{const s=await OH([e],t,n,r,i),o=(await a.imGetFeeOptions(r,s)).find((e=>"IMX"===e.tokenSymbol));if(!o)throw new Error("Failed to retrieve fees for IMX token");const c={nonce:t,to:o.recipientAddress,value:o.tokenPrice,revertOnError:!0};return Ji.from(c.value).isZero()?[e]:[e,c]})(f,d,c,a.zkEvm.ethAddress,u,r);await i.validateEVMTransaction({chainId:xH(o),nonce:dH(d),user:a,metaTransactions:l});const h=await OH(l,d,c,a.zkEvm.ethAddress,u),p=await r.ethSendTransaction(a.zkEvm.ethAddress,h),m=await aH((async()=>{const e=await r.imGetTransactionByHash(p);if(e.status===AH.PENDING)throw new Error;return e}),{retries:30,interval:1e3,finalErr:new cH(oH.RPC_SERVER_ERROR,"transaction hash not generated in time")});if(![AH.SUBMITTED,AH.SUCCESSFUL].includes(m.status)){let e=`Transaction failed to submit with status ${m.status}.`;throw m.statusMessage&&(e+=` Error message: ${m.statusMessage}`),new cH(oH.RPC_SERVER_ERROR,e)}return m.hash})),BH=["types","domain","primaryType","message"],DH=(e,t)=>{let n;if("string"==typeof e)try{n=JSON.parse(e)}catch(e){throw new cH(oH.INVALID_PARAMS,`Failed to parse typed data JSON: ${e}`)}else{if("object"!=typeof e)throw new cH(oH.INVALID_PARAMS,`Invalid typed data argument: ${e}`);n=e}if(!(e=>BH.every((t=>t in e)))(n))throw new cH(oH.INVALID_PARAMS,`Invalid typed data argument. The following properties are required: ${BH.join(", ")}`);const r=n.domain?.chainId;if(r&&("string"==typeof r&&(r.startsWith("0x")?n.domain.chainId=parseInt(r,16):n.domain.chainId=parseInt(r,10)),n.domain.chainId!==t))throw new cH(oH.INVALID_PARAMS,`Invalid chainId, expected ${t}`);return n};class LH{authManager;config;confirmationScreen;magicAdapter;multiRollupApiClients;jsonRpcProvider;eventEmitter;guardianClient;relayerClient;magicProvider;user;isPassport=!0;constructor({authManager:e,magicAdapter:t,config:n,confirmationScreen:r,multiRollupApiClients:i,passportEventEmitter:a}){this.authManager=e,this.magicAdapter=t,this.config=n,this.confirmationScreen=r,n.crossSdkBridgeEnabled?this.jsonRpcProvider=new im({url:this.config.zkEvmRpcUrl,fetchOptions:{referrer:"http://imtblgamesdk.local"}}):this.jsonRpcProvider=new im(this.config.zkEvmRpcUrl),this.multiRollupApiClients=i,this.eventEmitter=new SH,a.on(lH.LOGGED_OUT,this.handleLogout)}handleLogout=()=>{const e=this.isLoggedIn();this.magicProvider=void 0,this.user=void 0,this.relayerClient=void 0,this.guardianClient=void 0,e&&this.eventEmitter.emit(RH.ACCOUNTS_CHANGED,[])};isLoggedIn(){return void 0!==this.magicProvider&&void 0!==this.user&&void 0!==this.relayerClient&&void 0!==this.guardianClient}async performRequest(e){switch(e.method){case"eth_requestAccounts":{if(this.isLoggedIn())return[this.user.zkEvm.ethAddress];const{magicProvider:e,user:t}=await PH({authManager:this.authManager,config:this.config,magicAdapter:this.magicAdapter,multiRollupApiClients:this.multiRollupApiClients,jsonRpcProvider:this.jsonRpcProvider});return this.user=t,this.magicProvider=e,this.relayerClient=new CH({config:this.config,jsonRpcProvider:this.jsonRpcProvider,user:this.user}),this.guardianClient=new fH({confirmationScreen:this.confirmationScreen,config:this.config}),this.eventEmitter.emit(RH.ACCOUNTS_CHANGED,[this.user.zkEvm.ethAddress]),[this.user.zkEvm.ethAddress]}case"eth_sendTransaction":if(!this.isLoggedIn())throw new cH(sH.UNAUTHORIZED,"Unauthorised - call eth_requestAccounts first");return NH({params:e.params||[],magicProvider:this.magicProvider,guardianClient:this.guardianClient,jsonRpcProvider:this.jsonRpcProvider,relayerClient:this.relayerClient,user:this.user});case"eth_accounts":return this.isLoggedIn()?[this.user.zkEvm.ethAddress]:[];case"eth_signTypedData":case"eth_signTypedData_v4":if(!this.isLoggedIn())throw new cH(sH.UNAUTHORIZED,"Unauthorised - call eth_requestAccounts first");return(async({params:e,method:t,magicProvider:n,jsonRpcProvider:r,relayerClient:i,guardianClient:a,user:s})=>a.withConfirmationScreen({width:480,height:730})((async()=>{const o=e[0],c=e[1];if(!o||!c)throw new cH(oH.INVALID_PARAMS,`${t} requires an address and a typed data JSON`);const{chainId:u}=await r.ready,d=DH(c,u);await a.validateMessage({chainID:String(u),payload:d,user:s});const f=await i.imSignTypedData(o,d),l=new ob(n).getSigner();return IH(d,f,Ji.from(u),o,l)})))({method:e.method,params:e.params||[],magicProvider:this.magicProvider,jsonRpcProvider:this.jsonRpcProvider,relayerClient:this.relayerClient,user:this.user,guardianClient:this.guardianClient});case"eth_gasPrice":case"eth_getBalance":case"eth_getCode":case"eth_getStorageAt":case"eth_estimateGas":case"eth_call":case"eth_blockNumber":case"eth_chainId":case"eth_getBlockByHash":case"eth_getBlockByNumber":case"eth_getTransactionByHash":case"eth_getTransactionReceipt":case"eth_getTransactionCount":return this.jsonRpcProvider.send(e.method,e.params||[]);default:throw new cH(sH.UNSUPPORTED_METHOD,"Method not supported")}}async performJsonRpcRequest(e){const{id:t,jsonrpc:n}=e;try{return{id:t,jsonrpc:n,result:await this.performRequest(e)}}catch(e){let r;return r=e instanceof cH?e:e instanceof Error?new cH(oH.INTERNAL_ERROR,e.message):new cH(oH.INTERNAL_ERROR,"Internal error"),{id:t,jsonrpc:n,error:r}}}async request(e){try{return this.performRequest(e)}catch(e){if(e instanceof cH)throw e;if(e instanceof Error)throw new cH(oH.INTERNAL_ERROR,e.message);throw new cH(oH.INTERNAL_ERROR,"Internal error")}}sendAsync(e,t){if(!t)throw new Error("No callback provided");Array.isArray(e)?Promise.all(e.map(this.performJsonRpcRequest)).then((e=>{t(null,e)})).catch((e=>{t(e,[])})):this.performJsonRpcRequest(e).then((e=>{t(null,e)})).catch((e=>{t(e,null)}))}async send(e,t,n){if("string"==typeof e)return"function"==typeof t?this.sendAsync({method:e,params:[]},t):n?this.sendAsync({method:e,params:Array.isArray(t)?t:[]},n):this.request({method:e,params:Array.isArray(t)?t:[]});if("function"==typeof t)return this.sendAsync(e,t);if(!Array.isArray(e)&&"object"==typeof e)return this.performJsonRpcRequest(e);throw new cH(oH.INVALID_REQUEST,"Invalid request")}on(e,t){this.eventEmitter.on(e,t)}removeListener(e,t){this.eventEmitter.removeListener(e,t)}}var FH=Object.freeze({__proto__:null,JsonRpcError:cH,Passport:class{authManager;config;confirmationScreen;immutableXClient;magicAdapter;multiRollupApiClients;passportImxProviderFactory;passportEventEmitter;constructor(e){this.config=new wH(e),this.authManager=new tH(this.config),this.magicAdapter=new nH(this.config),this.confirmationScreen=new TH(this.config),this.immutableXClient=e.overrides?.immutableXClient||new nD({baseConfig:e.baseConfig}),this.multiRollupApiClients=new Gn(this.config.multiRollupConfig),this.passportEventEmitter=new SH;const t=this.config.baseConfig.environment===rt.PRODUCTION?Kn():Xn(),n=new Hn(t);this.passportImxProviderFactory=new gH({authManager:this.authManager,config:this.config,confirmationScreen:this.confirmationScreen,immutableXClient:this.immutableXClient,magicAdapter:this.magicAdapter,passportEventEmitter:this.passportEventEmitter,imxApiClients:n})}async connectImxSilent(){return this.passportImxProviderFactory.getProviderSilent()}async connectImx(){return this.passportImxProviderFactory.getProvider()}connectEvm(){if("production"===this.config.baseConfig.environment)throw new Error("EVM is not supported on production network");return new LH({passportEventEmitter:this.passportEventEmitter,authManager:this.authManager,magicAdapter:this.magicAdapter,config:this.config,confirmationScreen:this.confirmationScreen,multiRollupApiClients:this.multiRollupApiClients})}async login(e){const{useCachedSession:t=!1}=e||{};let n=null;try{n=await this.authManager.getUser()}catch(e){if(t)throw e;console.warn("login failed to retrieve a cached user session",e)}return n||t||(n=await this.authManager.login()),n?n.profile:null}async loginCallback(){return this.authManager.loginCallback()}async loginWithDeviceFlow(){return this.authManager.loginWithDeviceFlow()}async loginWithDeviceFlowCallback(e,t,n){return(await this.authManager.loginWithDeviceFlowCallback(e,t,n)).profile}loginWithPKCEFlow(){return this.authManager.getPKCEAuthorizationUrl()}async loginWithPKCEFlowCallback(e,t){return(await this.authManager.loginWithPKCEFlowCallback(e,t)).profile}async logout(){try{await this.confirmationScreen.logout()}catch(e){console.warn("Failed to logout from confirmation screen",e)}await Promise.allSettled([this.authManager.logout(),this.magicAdapter.logout()]),this.passportEventEmitter.emit(lH.LOGGED_OUT)}async logoutDeviceFlow(){return await this.authManager.removeUser(),await this.magicAdapter.logout(),this.passportEventEmitter.emit(lH.LOGGED_OUT),this.authManager.getDeviceFlowEndSessionEndpoint()}async logoutSilentCallback(e){return this.authManager.logoutSilentCallback(e)}async getUserInfo(){const e=await this.authManager.getUser();return e?.profile}async getIdToken(){const e=await this.authManager.getUser();return e?.idToken}async getAccessToken(){const e=await this.authManager.getUser();return e?.accessToken}async getLinkedAddresses(){const e=await this.authManager.getUser();if(!e?.profile.sub)return[];const t={Authorization:`Bearer ${e.accessToken}`};return(await this.multiRollupApiClients.passportApi.getLinkedAddresses({chainName:Kz.ETHEREUM,userId:e?.profile.sub},{headers:t})).data.linked_addresses}},PassportError:Gz,get ProviderErrorCode(){return sH},get ProviderEvent(){return RH},get RpcErrorCode(){return oH}}),UH=ar("object"==typeof self?self.FormData:window.FormData),jH={},qH={};const zH={erc1271:Object.freeze({__proto__:null,abi:[{type:"function",name:"isValidSignature",constant:!0,inputs:[{type:"bytes32"},{type:"bytes"}],outputs:[{type:"bytes4"}],payable:!1,stateMutability:"view"}],returns:{isValidSignatureBytes32:"0x1626ba7e"}}),factory:Object.freeze({__proto__:null,abi:[{type:"function",name:"deploy",constant:!1,inputs:[{type:"address"},{type:"bytes32"}],outputs:[],payable:!0,stateMutability:"payable"}]}),mainModule:Object.freeze({__proto__:null,abi:[{type:"function",name:"nonce",constant:!0,inputs:[],outputs:[{type:"uint256"}],payable:!1,stateMutability:"view"},{type:"function",name:"readNonce",constant:!0,inputs:[{type:"uint256"}],outputs:[{type:"uint256"}],payable:!1,stateMutability:"view"},{type:"function",name:"updateImplementation",constant:!1,inputs:[{type:"address"}],outputs:[],payable:!1,stateMutability:"nonpayable"},{type:"function",name:"selfExecute",constant:!1,inputs:[{components:[{type:"bool",name:"delegateCall"},{type:"bool",name:"revertOnError"},{type:"uint256",name:"gasLimit"},{type:"address",name:"target"},{type:"uint256",name:"value"},{type:"bytes",name:"data"}],type:"tuple[]"}],outputs:[],payable:!1,stateMutability:"nonpayable"},{type:"function",name:"execute",constant:!1,inputs:[{components:[{type:"bool",name:"delegateCall"},{type:"bool",name:"revertOnError"},{type:"uint256",name:"gasLimit"},{type:"address",name:"target"},{type:"uint256",name:"value"},{type:"bytes",name:"data"}],type:"tuple[]"},{type:"uint256"},{type:"bytes"}],outputs:[],payable:!1,stateMutability:"nonpayable"},{type:"function",name:"createContract",inputs:[{type:"bytes"}],payable:!0,stateMutability:"payable"}]}),mainModuleUpgradable:Object.freeze({__proto__:null,abi:[{type:"function",name:"updateImageHash",constant:!0,inputs:[{type:"bytes32"}],outputs:[],payable:!1,stateMutability:"view"},{type:"function",name:"imageHash",constant:!0,inputs:[],outputs:[{type:"bytes32"}],payable:!1,stateMutability:"view"}]}),sequenceUtils:Object.freeze({__proto__:null,abi:[{inputs:[{internalType:"address",name:"_factory",type:"address"},{internalType:"address",name:"_mainModule",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_wallet",type:"address"},{indexed:!0,internalType:"bytes32",name:"_imageHash",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"_threshold",type:"uint256"},{indexed:!1,internalType:"bytes",name:"_signers",type:"bytes"}],name:"RequiredConfig",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_wallet",type:"address"},{indexed:!0,internalType:"address",name:"_signer",type:"address"}],name:"RequiredSigner",type:"event"},{inputs:[{internalType:"address",name:"_addr",type:"address"}],name:"callBalanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"callBlockNumber",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_i",type:"uint256"}],name:"callBlockhash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"callChainId",outputs:[{internalType:"uint256",name:"id",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"_addr",type:"address"}],name:"callCode",outputs:[{internalType:"bytes",name:"code",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_addr",type:"address"}],name:"callCodeHash",outputs:[{internalType:"bytes32",name:"codeHash",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_addr",type:"address"}],name:"callCodeSize",outputs:[{internalType:"uint256",name:"size",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"callCoinbase",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"callDifficulty",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"callGasLeft",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"callGasLimit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"callGasPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"callOrigin",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"callTimestamp",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"knownImageHashes",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"lastImageHashUpdate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"lastSignerUpdate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"lastWalletUpdate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"bool",name:"delegateCall",type:"bool"},{internalType:"bool",name:"revertOnError",type:"bool"},{internalType:"uint256",name:"gasLimit",type:"uint256"},{internalType:"address",name:"target",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct IModuleCalls.Transaction[]",name:"_txs",type:"tuple[]"}],name:"multiCall",outputs:[{internalType:"bool[]",name:"_successes",type:"bool[]"},{internalType:"bytes[]",name:"_results",type:"bytes[]"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"_wallet",type:"address"},{internalType:"uint256",name:"_threshold",type:"uint256"},{components:[{internalType:"uint256",name:"weight",type:"uint256"},{internalType:"address",name:"signer",type:"address"}],internalType:"struct RequireUtils.Member[]",name:"_members",type:"tuple[]"},{internalType:"bool",name:"_index",type:"bool"}],name:"publishConfig",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_wallet",type:"address"},{internalType:"bytes32",name:"_hash",type:"bytes32"},{internalType:"uint256",name:"_sizeMembers",type:"uint256"},{internalType:"bytes",name:"_signature",type:"bytes"},{internalType:"bool",name:"_index",type:"bool"}],name:"publishInitialSigners",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_wallet",type:"address"},{internalType:"uint256",name:"_nonce",type:"uint256"}],name:"requireMinNonce",outputs:[],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_expiration",type:"uint256"}],name:"requireNonExpired",outputs:[],stateMutability:"view",type:"function"}]}),requireFreshSigner:Object.freeze({__proto__:null,abi:[{inputs:[{internalType:"address",name:"",type:"address"}],name:"requireFreshSigner",outputs:[],stateMutability:"nonpayable",type:"function"}]})};function HH(){return HH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},HH.apply(this,arguments)}var GH;!function(e){e[e.DEBUG=1]="DEBUG",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.DISABLED=5]="DISABLED"}(GH||(GH={}));function WH(e,t){return function(...n){const r=Array.prototype.slice.call(n);return new Promise((async(n,i)=>{try{r.push(((e,t)=>e?i(e):n(t))),await e.apply(t,r)}catch(e){i(e)}}))}}new class{constructor(e){this.config=e,this.logLevel=void 0,this.configure(e)}configure(e){switch(this.config=HH({},this.config,e),this.config.logLevel){case"DEBUG":this.logLevel=GH.DEBUG;break;case"INFO":default:this.logLevel=GH.INFO;break;case"WARN":this.logLevel=GH.WARN;break;case"ERROR":this.logLevel=GH.ERROR;break;case"DISABLED":this.logLevel=GH.DISABLED}void 0===this.config.silence&&(this.config.silence=!1)}debug(e,...t){!0!==this.config.silence&&this.logLevel===GH.DEBUG&&console.log(e,...t)}info(e,...t){!0!==this.config.silence&&this.logLevel<=GH.INFO&&console.log(e,...t)}warn(e,...t){!0!==this.config.silence&&this.logLevel<=GH.WARN&&(console.warn(e,...t),this.config.onwarn&&this.config.onwarn(e,t))}error(e,...t){!0!==this.config.silence&&this.logLevel<=GH.ERROR&&(console.error(e,...t),this.config.onerror&&this.config.onerror(e,t))}}({logLevel:"INFO",silence:!0});const VH=(e=0,t=Number.MAX_SAFE_INTEGER)=>(e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e);function KH(){return KH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},KH.apply(this,arguments)}const XH=(e,t=!1)=>(((e,t=!1,n=!1)=>{if(!e)throw new Error("invalid network config: empty config");const r=[];if(Array.isArray(e)?r.push(...e):r.push(e),0===r.length){if(t)throw new Error("invalid network config: empty config");return!1}const i=r.map((e=>e.chainId)).sort(),a=i.filter(((e,t)=>i.indexOf(e)!==t));if(a.length>0){if(t)throw new Error(`invalid network config: duplicate chainIds ${a}`);return!1}r.forEach((e=>e.name=e.name.toLowerCase()));const s=r.map((e=>e.name)).sort(),o=s.filter(((e,t)=>s.indexOf(e)!==t));if(o.length>0){if(t)throw new Error(`invalid network config: duplicate network names ${o}`);return!1}let c=!1,u=!1;for(let e=0;e<r.length;e++){const i=r[e];if(!(i.rpcUrl&&""!==i.rpcUrl||i.provider)){if(t)throw new Error(`invalid network config for chainId ${i.chainId}: rpcUrl or provider must be provided`);return!1}if(!n&&!i.relayer){if(t)throw new Error(`invalid network config for chainId ${i.chainId}: relayer must be provided`);return!1}if(i.isDefaultChain){if(c){if(t)throw new Error(`invalid network config for chainId ${i.chainId}: DefaultChain is already set by another config`);return!1}c=!0}if(i.isAuthChain){if(u&&t)throw new Error(`invalid network config for chainId ${i.chainId}: AuthChain is already set by another config`);u=!0}}if(!c){if(t)throw new Error("invalid network config: DefaultChain must be set");return!1}if(!u){if(t)throw new Error("invalid network config: AuthChain must be set");return!1}})(e,!0,t),e),$H=e=>XH(JH(e)),JH=e=>{if(!e)return[];const t=e.sort(((e,t)=>e.chainId===t.chainId?0:e.chainId<t.chainId?-1:1)),n=t.findIndex((e=>e.isDefaultChain));n>0&&t.splice(0,0,t.splice(n,1)[0]);const r=t.findIndex((e=>e.isAuthChain&&!0!==e.isDefaultChain));return r>0&&t.splice(1,0,t.splice(r,1)[0]),t},YH=(e,t)=>"string"==typeof e?(t=t||{},e.replace(/\$\{\s*([$#@\-\d\w]+)\s*\}/gim,(function(e,n){let r=t[n];return r="function"==typeof r?r():null==r?"":"object"==typeof r||"symbol"==typeof r?r.toString():r.valueOf(),r}))):"";let QH;!function(e){e[e.MAINNET=1]="MAINNET",e[e.ROPSTEN=3]="ROPSTEN",e[e.RINKEBY=4]="RINKEBY",e[e.GOERLI=5]="GOERLI",e[e.KOVAN=42]="KOVAN",e[e.POLYGON=137]="POLYGON",e[e.POLYGON_MUMBAI=80001]="POLYGON_MUMBAI",e[e.POLYGON_ZKEVM=1101]="POLYGON_ZKEVM",e[e.BSC=56]="BSC",e[e.BSC_TESTNET=97]="BSC_TESTNET",e[e.OPTIMISM=10]="OPTIMISM",e[e.OPTIMISM_TESTNET=69]="OPTIMISM_TESTNET",e[e.ARBITRUM=42161]="ARBITRUM",e[e.ARBITRUM_GOERLI=421613]="ARBITRUM_GOERLI",e[e.ARBITRUM_NOVA=42170]="ARBITRUM_NOVA",e[e.AVALANCHE=43114]="AVALANCHE",e[e.AVALANCHE_TESTNET=43113]="AVALANCHE_TESTNET",e[e.FANTOM=250]="FANTOM",e[e.FANTOM_TESTNET=4002]="FANTOM_TESTNET",e[e.GNOSIS=100]="GNOSIS",e[e.AURORA=1313161554]="AURORA",e[e.AURORA_TESTNET=1313161556]="AURORA_TESTNET",e[e.BASE_GOERLI=84531]="BASE_GOERLI"}(QH||(QH={}));const ZH=e=>YH("https://${network}-indexer.sequence.app",{network:e}),eG=e=>YH("https://${network}-relayer.sequence.app",{network:e}),tG=e=>YH("https://nodes.sequence.app/${network}",{network:e}),nG={[QH.MAINNET]:{chainId:QH.MAINNET,name:"mainnet",title:"Ethereum",blockExplorer:{name:"Etherscan",rootUrl:"https://etherscan.io/"},ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},[QH.ROPSTEN]:{chainId:QH.ROPSTEN,name:"ropsten",title:"Ropsten",testnet:!0,blockExplorer:{name:"Etherscan (Ropsten)",rootUrl:"https://ropsten.etherscan.io/"},ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},[QH.RINKEBY]:{chainId:QH.RINKEBY,name:"rinkeby",title:"Rinkeby",testnet:!0,blockExplorer:{name:"Etherscan (Rinkeby)",rootUrl:"https://rinkeby.etherscan.io/"},ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",disabled:!0},[QH.GOERLI]:{chainId:QH.GOERLI,name:"goerli",title:"Goerli",testnet:!0,blockExplorer:{name:"Etherscan (Goerli)",rootUrl:"https://goerli.etherscan.io/"},ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},[QH.KOVAN]:{chainId:QH.KOVAN,name:"kovan",title:"Kovan",testnet:!0,blockExplorer:{name:"Etherscan (Kovan)",rootUrl:"https://kovan.etherscan.io/"}},[QH.POLYGON]:{chainId:QH.POLYGON,name:"polygon",title:"Polygon",blockExplorer:{name:"Polygonscan",rootUrl:"https://polygonscan.com/"}},[QH.POLYGON_MUMBAI]:{chainId:QH.POLYGON_MUMBAI,name:"mumbai",title:"Polygon Mumbai",testnet:!0,blockExplorer:{name:"Polygonscan (Mumbai)",rootUrl:"https://mumbai.polygonscan.com/"}},[QH.POLYGON_ZKEVM]:{chainId:QH.POLYGON_ZKEVM,name:"polygon-zkevm",title:"Polygon zkEVM",blockExplorer:{name:"Polygonscan (zkEVM)",rootUrl:"https://zkevm.polygonscan.com/"}},[QH.BSC]:{chainId:QH.BSC,name:"bsc",title:"BNB Smart Chain",blockExplorer:{name:"BSCScan",rootUrl:"https://bscscan.com/"}},[QH.BSC_TESTNET]:{chainId:QH.BSC_TESTNET,name:"bsc-testnet",title:"BNB Smart Chain Testnet",testnet:!0,blockExplorer:{name:"BSCScan (Testnet)",rootUrl:"https://testnet.bscscan.com/"}},[QH.OPTIMISM]:{chainId:QH.OPTIMISM,name:"optimism",title:"Optimism",blockExplorer:{name:"Etherscan (Optimism)",rootUrl:"https://optimistic.etherscan.io/"}},[QH.OPTIMISM_TESTNET]:{chainId:QH.OPTIMISM_TESTNET,name:"optimism-testnet",title:"Optimistic Kovan",testnet:!0,blockExplorer:{name:"Etherscan (Optimism Testnet)",rootUrl:"https://kovan-optimistic.etherscan.io/"}},[QH.ARBITRUM]:{chainId:QH.ARBITRUM,name:"arbitrum",title:"Arbitrum One",blockExplorer:{name:"Arbiscan",rootUrl:"https://arbiscan.io/"}},[QH.ARBITRUM_GOERLI]:{chainId:QH.ARBITRUM_GOERLI,name:"arbitrum-goerli",title:"Arbitrum Goerli",testnet:!0,blockExplorer:{name:"Arbiscan (Testnet)",rootUrl:"https://testnet.arbiscan.io/"}},[QH.ARBITRUM_NOVA]:{chainId:QH.ARBITRUM_NOVA,name:"arbitrum-nova",title:"Arbitrum Nova",blockExplorer:{name:"Nova Explorer",rootUrl:"https://nova-explorer.arbitrum.io/"}},[QH.AVALANCHE]:{chainId:QH.AVALANCHE,name:"avalanche",title:"Avalanche",blockExplorer:{name:"Snowtrace",rootUrl:"https://snowtrace.io/"}},[QH.AVALANCHE_TESTNET]:{chainId:QH.AVALANCHE_TESTNET,name:"avalanche-testnet",title:"Avalanche Testnet",testnet:!0,blockExplorer:{name:"Snowtrace (Testnet)",rootUrl:"https://testnet.snowtrace.io/"}},[QH.FANTOM]:{chainId:QH.FANTOM,name:"fantom",title:"Fantom",blockExplorer:{name:"FTMScan",rootUrl:"https://ftmscan.com/"}},[QH.FANTOM_TESTNET]:{chainId:QH.FANTOM_TESTNET,name:"fantom-testnet",title:"Fantom Testnet",testnet:!0,blockExplorer:{name:"FTMScan (Testnet)",rootUrl:"https://testnet.ftmscan.com/"}},[QH.GNOSIS]:{chainId:QH.GNOSIS,name:"gnosis",title:"Gnosis Chain",blockExplorer:{name:"Gnosis Chain Explorer",rootUrl:"https://blockscout.com/xdai/mainnet/"}},[QH.AURORA]:{chainId:QH.AURORA,name:"aurora",title:"Aurora",blockExplorer:{name:"Aurora Explorer",rootUrl:"https://aurorascan.dev/"}},[QH.AURORA_TESTNET]:{chainId:QH.AURORA_TESTNET,name:"aurora-testnet",title:"Aurora Testnet",blockExplorer:{name:"Aurora Explorer (Testnet)",rootUrl:"https://testnet.aurorascan.dev/"}},[QH.BASE_GOERLI]:{chainId:QH.BASE_GOERLI,name:"base-goerli",title:"Base Goerli",blockExplorer:{name:"Base Goerli Explorer",rootUrl:"https://goerli.basescan.org/"}}};$H([KH({},nG[QH.MAINNET],{rpcUrl:tG("mainnet"),relayer:{url:eG("mainnet")},indexerUrl:ZH("mainnet")}),KH({},nG[QH.POLYGON],{rpcUrl:tG("polygon"),relayer:{url:eG("polygon")},indexerUrl:ZH("polygon"),isDefaultChain:!0,isAuthChain:!0}),KH({},nG[QH.BSC],{rpcUrl:tG("bsc"),indexerUrl:ZH("bsc"),relayer:{url:eG("bsc")}}),KH({},nG[QH.AVALANCHE],{rpcUrl:tG("avalanche"),indexerUrl:ZH("avalanche"),relayer:{url:eG("avalanche")}}),KH({},nG[QH.ARBITRUM],{rpcUrl:tG("arbitrum"),indexerUrl:ZH("arbitrum"),relayer:{url:eG("arbitrum")}}),KH({},nG[QH.ARBITRUM_NOVA],{rpcUrl:tG("arbitrum-nova"),indexerUrl:ZH("arbitrum-nova"),relayer:{url:eG("arbitrum-nova")}}),KH({},nG[QH.OPTIMISM],{rpcUrl:tG("optimism"),indexerUrl:ZH("optimism"),relayer:{url:eG("optimism")}}),KH({},nG[QH.POLYGON_ZKEVM],{rpcUrl:tG("polygon-zkevm"),indexerUrl:ZH("polygon-zkevm"),relayer:{url:eG("polygon-zkevm")}}),KH({},nG[QH.GNOSIS],{rpcUrl:tG("gnosis"),indexerUrl:ZH("gnosis"),relayer:{url:eG("gnosis")}})]),$H([KH({},nG[QH.RINKEBY],{rpcUrl:tG("rinkeby"),relayer:{url:eG("rinkeby")},indexerUrl:ZH("rinkeby")}),KH({},nG[QH.GOERLI],{rpcUrl:tG("goerli"),relayer:{url:eG("goerli")},indexerUrl:ZH("goerli")}),KH({},nG[QH.POLYGON_MUMBAI],{rpcUrl:tG("mumbai"),relayer:{url:eG("mumbai")},indexerUrl:ZH("mumbai"),isDefaultChain:!0,isAuthChain:!0}),KH({},nG[QH.BSC_TESTNET],{rpcUrl:tG("bsc-testnet"),relayer:{url:eG("bsc-testnet")},indexerUrl:ZH("bsc-testnet")}),KH({},nG[QH.ARBITRUM_GOERLI],{rpcUrl:tG("arbitrum-goerli"),relayer:{url:eG("arbitrum-goerli")},indexerUrl:ZH("arbitrum-goerli")}),KH({},nG[QH.BASE_GOERLI],{rpcUrl:tG("base-goerli"),relayer:{url:eG("base-goerli")},indexerUrl:ZH("base-goerli")})]);const rG="2.0";function iG(){return iG=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iG.apply(this,arguments)}let aG;function sG(e,t){return e.reduce((function(e,n,r){return t(n,r)?e[0].push(n):e[1].push(n),e}),[[],[]])}!function(e){e.ethCall="eth_call",e.ethGetBalance="eth_getBalance",e.ethGetCode="eth_getCode"}(aG||(aG={}));const oG={batchSize:50,timeWindow:50,contract:"0xd130B43062D875a4B7aF3f8fc036Bc6e9D3E1B3E",verbose:!1};let cG=class e{constructor(t){var n=this;if(this.batchableJsonRpcMethods=[aG.ethCall,aG.ethGetCode,aG.ethGetBalance],this.multicallInterface=new Pc(zH.sequenceUtils.abi),this.options=void 0,this.timeout=void 0,this.queue=[],this.scheduleExecution=()=>{this.queue.length>0&&(this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(this.run,this.options.timeWindow))},this.handle=(e,t,n)=>this.batchableJsonRpcMethods.find((e=>e===t.method))?(this.queue.push({request:t,callback:n,next:e}),this.options.verbose&&console.log("Scheduling call",t.method),void this.scheduleExecution()):(this.options.verbose&&console.log("Forwarded call",t.method),e(t,n)),this.run=async function(){n.options.verbose&&console.log("Processing multicall");const e=Math.min(n.options.batchSize,n.queue.length);if(0===e)return;if(1===e)return n.forward(n.queue[0]),n.queue=[],void(n.options.verbose&&console.log("Skip multicall, single item"));n.options.verbose&&console.log("Resolving",e);var t=n.queue.slice(0,e);n.queue=e===n.queue.length?[]:n.queue.slice(e),n.options.verbose&&console.log("Updated queue",n.queue.length),0!==n.queue.length&&n.scheduleExecution();const r=t[0].next;let i;var[t,a]=sG(t,(e=>{try{if(e.next!==r)return!1;switch(e.request.method){case aG.ethCall:if(e.request.params[0].from||e.request.params[0].gasPrice||e.request.params[0].value)return!1;case aG.ethGetBalance:case aG.ethGetCode:const t=function(e){if(void 0===e)return"latest";switch(e){case"earliest":case"latest":case"pending":return e}return Ji.from(e)}(e.request.params[1]);if(void 0===i&&(i=t),!function(e,t){return e===t||(Ji.isBigNumber(e)?!!Ji.isBigNumber(t)&&e.eq(t):!Ji.isBigNumber(t)&&e===t)}(t,i))return!1}return!0}catch(e){return!1}}));if(0!==a.length&&(n.options.verbose&&console.log("Forwarding incompatible calls",a.length),n.forward(a),0===t.length))return;let s=t.map((e=>{try{switch(e.request.method){case aG.ethCall:return{delegateCall:!1,revertOnError:!1,target:e.request.params[0].to,data:e.request.params[0].data,gasLimit:e.request.params[0].gas?e.request.params[0].gas:0,value:0};case aG.ethGetCode:return{delegateCall:!1,revertOnError:!1,target:n.options.contract,gasLimit:0,value:0,data:n.multicallInterface.encodeFunctionData(n.multicallInterface.getFunction("callCode"),[e.request.params[0]])};case aG.ethGetBalance:return{delegateCall:!1,revertOnError:!1,target:n.options.contract,gasLimit:0,value:0,data:n.multicallInterface.encodeFunctionData(n.multicallInterface.getFunction("callBalanceOf"),[e.request.params[0]])};default:return null}}catch(e){return null}}));var[t,a]=sG(t,((e,t)=>void 0!==s[t]));if(s=s.filter((e=>e)),0!==a.length&&(n.options.verbose&&console.log("Forwarding calls on error",a.length),n.forward(a),0===t.length))return;let o;try{o=n.multicallInterface.encodeFunctionData(n.multicallInterface.getFunction("multiCall"),[s])}catch(e){return void n.forward(t)}const c=VH(),u=await async function(e,t){try{return await e}catch(e){return t instanceof Function?t(e):t}}(WH(r)({id:c,jsonrpc:rG,method:aG.ethCall,params:[{to:n.options.contract,value:0,data:o},Ji.isBigNumber(i)?i.toNumber():i]}),(e=>({jsonrpc:rG,id:c,result:void 0,error:e})));if(u.error)return n.forward(t);let d;try{d=n.multicallInterface.decodeFunctionResult(n.multicallInterface.getFunction("multiCall"),u.result)}catch(e){return void n.forward(t)}n.options.verbose&&console.log("Got response for",t.length),t.forEach(((e,t)=>{if(d[0][t])switch(e.request.method){case aG.ethCall:e.callback(void 0,{jsonrpc:e.request.jsonrpc,id:e.request.id,result:d[1][t]});break;case aG.ethGetCode:e.callback(void 0,{jsonrpc:e.request.jsonrpc,id:e.request.id,result:ko.decode(["bytes"],d[1][t])[0]});break;case aG.ethGetBalance:e.callback(void 0,{jsonrpc:e.request.jsonrpc,id:e.request.id,result:ko.decode(["uint256"],d[1][t])[0]})}else n.forward(e)}))},this.options=t?iG({},e.DefaultOptions,t):e.DefaultOptions,this.options.batchSize<=0)throw new Error(`Invalid batch size of ${this.options.batchSize}`)}forward(e){Array.isArray(e)?e.forEach((e=>e.next(e.request,e.callback))):e.next(e.request,e.callback)}static isMulticall(t){return t&&void 0!==t.handle&&void 0!==t.conf&&e.isMulticallOptions(t.options)}static isMulticallOptions(e){return void 0!==e&&void 0!==e.batchSize&&void 0!==e.timeWindow&&void 0!==e.contract}};cG.DefaultOptions=iG({},oG);const uG=["getNetwork","getBlockNumber","getGasPrice","getTransactionCount","getStorageAt","sendTransaction","estimateGas","getBlock","getTransaction","getTransactionReceipt","getLogs","emit","litenerCount","addListener","removeListener","waitForTransaction","detectNetwork","getBlockWithTransactions"];var dG=Object.freeze({__proto__:null,ProxyMethods:uG,MulticallProvider:class extends Wp{constructor(e,t){var n;super(e.getNetwork()),n=this,this.provider=e,this.multicall=void 0,this.listenerCount=this.provider.listenerCount,this.getResolver=async function(e){const t=n.provider;if(t.getResolver){const r=await t.getResolver(await e);return r?new zp(n,r.address,r.name):null}return t.getResolver(await e)},this.next=async function(e,t){try{switch(e.method){case aG.ethCall:n.callback(e,t,await n.provider.call(e.params[0],e.params[1]));break;case aG.ethGetCode:n.callback(e,t,await n.provider.getCode(e.params[0],e.params[1]));break;case aG.ethGetBalance:n.callback(e,t,await n.provider.getBalance(e.params[0],e.params[1]))}}catch(r){n.callback(e,t,void 0,r)}},this.multicall=cG.isMulticall(t)?t:new cG(t),uG.forEach((t=>{void 0!==e[t]&&(this[t]=(...n)=>e[t](...n))}))}callback(e,t,n,r){t(r,{jsonrpc:rG,id:e.id,result:n,error:r})}async call(e,t){return this.rpcCall(aG.ethCall,e,t)}async getCode(e,t){return this.rpcCall(aG.ethGetCode,e,t)}async getBalance(e,t){return this.rpcCall(aG.ethGetBalance,e,t)}async rpcCall(e,...t){const n=VH();return(await WH(this.multicall.handle)(this.next,{jsonrpc:rG,id:n,method:e,params:t})).result}},MulticallExternalProvider:class{constructor(e,t){if(this.provider=e,this.multicall=void 0,this.multicall=cG.isMulticall(t)?t:new cG(t),e.send){const t=async function(t,n){e.send(t,n)};this.send=(e,n)=>{this.multicall.handle(t,e,n)}}if(e.sendAsync){const t=async function(t,n){e.sendAsync(t,n)};this.sendAsync=(e,n)=>{this.multicall.handle(t,e,n)}}}get isMetaMask(){return this.provider.isMetaMask}get isStatus(){return this.provider.isStatus}},multicallMiddleware:e=>t=>{const n=cG.isMulticall(e)?e:new cG(e);return(e,r)=>n.handle(t,e,r)}}),fG=sr(Object.freeze({__proto__:null,Multicall:cG,providers:dG})),lG=sr(Pb),hG={},pG=sr(Nc),mG=sr(As),bG=sr(Mo),yG=sr(El),gG=sr(Hi),vG=sr(Rc),wG=sr(Ql),_G=sr(Bh),EG=sr(is),TG=sr(_i),AG=sr(Ol),RG=sr(wb),SG=sr(ih),kG=sr(Sa),OG=sr(hs),IG=sr(Df),xG=sr(wo),CG=sr(el),MG=sr(Ob),PG=sr(qh),NG=sr(ap);!function(e){var t=ir&&ir.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=ir&&ir.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=ir&&ir.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&t(r,e,i);return n(r,e),r};Object.defineProperty(e,"__esModule",{value:!0}),e.formatBytes32String=e.Utf8ErrorFuncs=e.toUtf8String=e.toUtf8CodePoints=e.toUtf8Bytes=e._toEscapedUtf8String=e.nameprep=e.hexDataSlice=e.hexDataLength=e.hexZeroPad=e.hexValue=e.hexStripZeros=e.hexConcat=e.isHexString=e.hexlify=e.base64=e.base58=e.TransactionDescription=e.LogDescription=e.Interface=e.SigningKey=e.HDNode=e.defaultPath=e.isBytesLike=e.isBytes=e.zeroPad=e.stripZeros=e.concat=e.arrayify=e.shallowCopy=e.resolveProperties=e.getStatic=e.defineReadOnly=e.deepCopy=e.checkProperties=e.poll=e.fetchJson=e._fetchData=e.RLP=e.Logger=e.checkResultErrors=e.FormatTypes=e.ParamType=e.FunctionFragment=e.EventFragment=e.ErrorFragment=e.ConstructorFragment=e.Fragment=e.defaultAbiCoder=e.AbiCoder=void 0,e.Indexed=e.Utf8ErrorReason=e.UnicodeNormalizationForm=e.SupportedAlgorithm=e.mnemonicToSeed=e.isValidMnemonic=e.entropyToMnemonic=e.mnemonicToEntropy=e.getAccountPath=e.verifyTypedData=e.verifyMessage=e.recoverPublicKey=e.computePublicKey=e.recoverAddress=e.computeAddress=e.getJsonWalletAddress=e.TransactionTypes=e.serializeTransaction=e.parseTransaction=e.accessListify=e.joinSignature=e.splitSignature=e.soliditySha256=e.solidityKeccak256=e.solidityPack=e.shuffled=e.randomBytes=e.sha512=e.sha256=e.ripemd160=e.keccak256=e.computeHmac=e.commify=e.parseUnits=e.formatUnits=e.parseEther=e.formatEther=e.isAddress=e.getCreate2Address=e.getContractAddress=e.getIcapAddress=e.getAddress=e._TypedDataEncoder=e.id=e.isValidName=e.namehash=e.hashMessage=e.dnsEncode=e.parseBytes32String=void 0;var i=pG;Object.defineProperty(e,"AbiCoder",{enumerable:!0,get:function(){return i.AbiCoder}}),Object.defineProperty(e,"checkResultErrors",{enumerable:!0,get:function(){return i.checkResultErrors}}),Object.defineProperty(e,"ConstructorFragment",{enumerable:!0,get:function(){return i.ConstructorFragment}}),Object.defineProperty(e,"defaultAbiCoder",{enumerable:!0,get:function(){return i.defaultAbiCoder}}),Object.defineProperty(e,"ErrorFragment",{enumerable:!0,get:function(){return i.ErrorFragment}}),Object.defineProperty(e,"EventFragment",{enumerable:!0,get:function(){return i.EventFragment}}),Object.defineProperty(e,"FormatTypes",{enumerable:!0,get:function(){return i.FormatTypes}}),Object.defineProperty(e,"Fragment",{enumerable:!0,get:function(){return i.Fragment}}),Object.defineProperty(e,"FunctionFragment",{enumerable:!0,get:function(){return i.FunctionFragment}}),Object.defineProperty(e,"Indexed",{enumerable:!0,get:function(){return i.Indexed}}),Object.defineProperty(e,"Interface",{enumerable:!0,get:function(){return i.Interface}}),Object.defineProperty(e,"LogDescription",{enumerable:!0,get:function(){return i.LogDescription}}),Object.defineProperty(e,"ParamType",{enumerable:!0,get:function(){return i.ParamType}}),Object.defineProperty(e,"TransactionDescription",{enumerable:!0,get:function(){return i.TransactionDescription}});var a=mG;Object.defineProperty(e,"getAddress",{enumerable:!0,get:function(){return a.getAddress}}),Object.defineProperty(e,"getCreate2Address",{enumerable:!0,get:function(){return a.getCreate2Address}}),Object.defineProperty(e,"getContractAddress",{enumerable:!0,get:function(){return a.getContractAddress}}),Object.defineProperty(e,"getIcapAddress",{enumerable:!0,get:function(){return a.getIcapAddress}}),Object.defineProperty(e,"isAddress",{enumerable:!0,get:function(){return a.isAddress}});var s=r(bG);e.base64=s;var o=yG;Object.defineProperty(e,"base58",{enumerable:!0,get:function(){return o.Base58}});var c=gG;Object.defineProperty(e,"arrayify",{enumerable:!0,get:function(){return c.arrayify}}),Object.defineProperty(e,"concat",{enumerable:!0,get:function(){return c.concat}}),Object.defineProperty(e,"hexConcat",{enumerable:!0,get:function(){return c.hexConcat}}),Object.defineProperty(e,"hexDataSlice",{enumerable:!0,get:function(){return c.hexDataSlice}}),Object.defineProperty(e,"hexDataLength",{enumerable:!0,get:function(){return c.hexDataLength}}),Object.defineProperty(e,"hexlify",{enumerable:!0,get:function(){return c.hexlify}}),Object.defineProperty(e,"hexStripZeros",{enumerable:!0,get:function(){return c.hexStripZeros}}),Object.defineProperty(e,"hexValue",{enumerable:!0,get:function(){return c.hexValue}}),Object.defineProperty(e,"hexZeroPad",{enumerable:!0,get:function(){return c.hexZeroPad}}),Object.defineProperty(e,"isBytes",{enumerable:!0,get:function(){return c.isBytes}}),Object.defineProperty(e,"isBytesLike",{enumerable:!0,get:function(){return c.isBytesLike}}),Object.defineProperty(e,"isHexString",{enumerable:!0,get:function(){return c.isHexString}}),Object.defineProperty(e,"joinSignature",{enumerable:!0,get:function(){return c.joinSignature}}),Object.defineProperty(e,"zeroPad",{enumerable:!0,get:function(){return c.zeroPad}}),Object.defineProperty(e,"splitSignature",{enumerable:!0,get:function(){return c.splitSignature}}),Object.defineProperty(e,"stripZeros",{enumerable:!0,get:function(){return c.stripZeros}});var u=vG;Object.defineProperty(e,"_TypedDataEncoder",{enumerable:!0,get:function(){return u._TypedDataEncoder}}),Object.defineProperty(e,"dnsEncode",{enumerable:!0,get:function(){return u.dnsEncode}}),Object.defineProperty(e,"hashMessage",{enumerable:!0,get:function(){return u.hashMessage}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return u.id}}),Object.defineProperty(e,"isValidName",{enumerable:!0,get:function(){return u.isValidName}}),Object.defineProperty(e,"namehash",{enumerable:!0,get:function(){return u.namehash}});var d=wG;Object.defineProperty(e,"defaultPath",{enumerable:!0,get:function(){return d.defaultPath}}),Object.defineProperty(e,"entropyToMnemonic",{enumerable:!0,get:function(){return d.entropyToMnemonic}}),Object.defineProperty(e,"getAccountPath",{enumerable:!0,get:function(){return d.getAccountPath}}),Object.defineProperty(e,"HDNode",{enumerable:!0,get:function(){return d.HDNode}}),Object.defineProperty(e,"isValidMnemonic",{enumerable:!0,get:function(){return d.isValidMnemonic}}),Object.defineProperty(e,"mnemonicToEntropy",{enumerable:!0,get:function(){return d.mnemonicToEntropy}}),Object.defineProperty(e,"mnemonicToSeed",{enumerable:!0,get:function(){return d.mnemonicToSeed}});var f=_G;Object.defineProperty(e,"getJsonWalletAddress",{enumerable:!0,get:function(){return f.getJsonWalletAddress}});var l=EG;Object.defineProperty(e,"keccak256",{enumerable:!0,get:function(){return l.keccak256}});var h=TG;Object.defineProperty(e,"Logger",{enumerable:!0,get:function(){return h.Logger}});var p=AG;Object.defineProperty(e,"computeHmac",{enumerable:!0,get:function(){return p.computeHmac}}),Object.defineProperty(e,"ripemd160",{enumerable:!0,get:function(){return p.ripemd160}}),Object.defineProperty(e,"sha256",{enumerable:!0,get:function(){return p.sha256}}),Object.defineProperty(e,"sha512",{enumerable:!0,get:function(){return p.sha512}});var m=RG;Object.defineProperty(e,"solidityKeccak256",{enumerable:!0,get:function(){return m.keccak256}}),Object.defineProperty(e,"solidityPack",{enumerable:!0,get:function(){return m.pack}}),Object.defineProperty(e,"soliditySha256",{enumerable:!0,get:function(){return m.sha256}});var b=SG;Object.defineProperty(e,"randomBytes",{enumerable:!0,get:function(){return b.randomBytes}}),Object.defineProperty(e,"shuffled",{enumerable:!0,get:function(){return b.shuffled}});var y=kG;Object.defineProperty(e,"checkProperties",{enumerable:!0,get:function(){return y.checkProperties}}),Object.defineProperty(e,"deepCopy",{enumerable:!0,get:function(){return y.deepCopy}}),Object.defineProperty(e,"defineReadOnly",{enumerable:!0,get:function(){return y.defineReadOnly}}),Object.defineProperty(e,"getStatic",{enumerable:!0,get:function(){return y.getStatic}}),Object.defineProperty(e,"resolveProperties",{enumerable:!0,get:function(){return y.resolveProperties}}),Object.defineProperty(e,"shallowCopy",{enumerable:!0,get:function(){return y.shallowCopy}});var g=r(OG);e.RLP=g;var v=IG;Object.defineProperty(e,"computePublicKey",{enumerable:!0,get:function(){return v.computePublicKey}}),Object.defineProperty(e,"recoverPublicKey",{enumerable:!0,get:function(){return v.recoverPublicKey}}),Object.defineProperty(e,"SigningKey",{enumerable:!0,get:function(){return v.SigningKey}});var w=xG;Object.defineProperty(e,"formatBytes32String",{enumerable:!0,get:function(){return w.formatBytes32String}}),Object.defineProperty(e,"nameprep",{enumerable:!0,get:function(){return w.nameprep}}),Object.defineProperty(e,"parseBytes32String",{enumerable:!0,get:function(){return w.parseBytes32String}}),Object.defineProperty(e,"_toEscapedUtf8String",{enumerable:!0,get:function(){return w._toEscapedUtf8String}}),Object.defineProperty(e,"toUtf8Bytes",{enumerable:!0,get:function(){return w.toUtf8Bytes}}),Object.defineProperty(e,"toUtf8CodePoints",{enumerable:!0,get:function(){return w.toUtf8CodePoints}}),Object.defineProperty(e,"toUtf8String",{enumerable:!0,get:function(){return w.toUtf8String}}),Object.defineProperty(e,"Utf8ErrorFuncs",{enumerable:!0,get:function(){return w.Utf8ErrorFuncs}});var _=CG;Object.defineProperty(e,"accessListify",{enumerable:!0,get:function(){return _.accessListify}}),Object.defineProperty(e,"computeAddress",{enumerable:!0,get:function(){return _.computeAddress}}),Object.defineProperty(e,"parseTransaction",{enumerable:!0,get:function(){return _.parse}}),Object.defineProperty(e,"recoverAddress",{enumerable:!0,get:function(){return _.recoverAddress}}),Object.defineProperty(e,"serializeTransaction",{enumerable:!0,get:function(){return _.serialize}}),Object.defineProperty(e,"TransactionTypes",{enumerable:!0,get:function(){return _.TransactionTypes}});var E=MG;Object.defineProperty(e,"commify",{enumerable:!0,get:function(){return E.commify}}),Object.defineProperty(e,"formatEther",{enumerable:!0,get:function(){return E.formatEther}}),Object.defineProperty(e,"parseEther",{enumerable:!0,get:function(){return E.parseEther}}),Object.defineProperty(e,"formatUnits",{enumerable:!0,get:function(){return E.formatUnits}}),Object.defineProperty(e,"parseUnits",{enumerable:!0,get:function(){return E.parseUnits}});var T=PG;Object.defineProperty(e,"verifyMessage",{enumerable:!0,get:function(){return T.verifyMessage}}),Object.defineProperty(e,"verifyTypedData",{enumerable:!0,get:function(){return T.verifyTypedData}});var A=NG;Object.defineProperty(e,"_fetchData",{enumerable:!0,get:function(){return A._fetchData}}),Object.defineProperty(e,"fetchJson",{enumerable:!0,get:function(){return A.fetchJson}}),Object.defineProperty(e,"poll",{enumerable:!0,get:function(){return A.poll}});var R=AG;Object.defineProperty(e,"SupportedAlgorithm",{enumerable:!0,get:function(){return R.SupportedAlgorithm}});var S=xG;Object.defineProperty(e,"UnicodeNormalizationForm",{enumerable:!0,get:function(){return S.UnicodeNormalizationForm}}),Object.defineProperty(e,"Utf8ErrorReason",{enumerable:!0,get:function(){return S.Utf8ErrorReason}})}(hG);var BG={};Object.defineProperty(BG,"__esModule",{value:!0}),BG.DomainRegistryABI=void 0;BG.DomainRegistryABI=[{inputs:[{internalType:"string",name:"domain",type:"string"}],name:"DomainAlreadyRegistered",type:"error"},{inputs:[{internalType:"bytes4",name:"tag",type:"bytes4"},{internalType:"uint256",name:"maxIndex",type:"uint256"},{internalType:"uint256",name:"suppliedIndex",type:"uint256"}],name:"DomainIndexOutOfRange",type:"error"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"domain",type:"string"},{indexed:!1,internalType:"bytes4",name:"tag",type:"bytes4"},{indexed:!1,internalType:"uint256",name:"index",type:"uint256"}],name:"DomainRegistered",type:"event"},{inputs:[{internalType:"bytes4",name:"tag",type:"bytes4"},{internalType:"uint256",name:"index",type:"uint256"}],name:"getDomain",outputs:[{internalType:"string",name:"domain",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"tag",type:"bytes4"}],name:"getDomains",outputs:[{internalType:"string[]",name:"domains",type:"string[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"tag",type:"bytes4"}],name:"getNumberOfDomains",outputs:[{internalType:"uint256",name:"totalDomains",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"domain",type:"string"}],name:"setDomain",outputs:[{internalType:"bytes4",name:"tag",type:"bytes4"}],stateMutability:"nonpayable",type:"function"}];var DG={};Object.defineProperty(DG,"__esModule",{value:!0}),DG.SeaportABIv14=void 0;DG.SeaportABIv14=[{inputs:[{internalType:"address",name:"conduitController",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"BadContractSignature",type:"error"},{inputs:[],name:"BadFraction",type:"error"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"BadReturnValueFromERC20OnTransfer",type:"error"},{inputs:[{internalType:"uint8",name:"v",type:"uint8"}],name:"BadSignatureV",type:"error"},{inputs:[],name:"CannotCancelOrder",type:"error"},{inputs:[],name:"ConsiderationCriteriaResolverOutOfRange",type:"error"},{inputs:[],name:"ConsiderationLengthNotEqualToTotalOriginal",type:"error"},{inputs:[{internalType:"uint256",name:"orderIndex",type:"uint256"},{internalType:"uint256",name:"considerationIndex",type:"uint256"},{internalType:"uint256",name:"shortfallAmount",type:"uint256"}],name:"ConsiderationNotMet",type:"error"},{inputs:[],name:"CriteriaNotEnabledForItem",type:"error"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"identifiers",type:"uint256[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"}],name:"ERC1155BatchTransferGenericFailure",type:"error"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"EtherTransferGenericFailure",type:"error"},{inputs:[],name:"InexactFraction",type:"error"},{inputs:[],name:"InsufficientEtherSupplied",type:"error"},{inputs:[],name:"Invalid1155BatchTransferEncoding",type:"error"},{inputs:[],name:"InvalidBasicOrderParameterEncoding",type:"error"},{inputs:[{internalType:"address",name:"conduit",type:"address"}],name:"InvalidCallToConduit",type:"error"},{inputs:[{internalType:"bytes32",name:"conduitKey",type:"bytes32"},{internalType:"address",name:"conduit",type:"address"}],name:"InvalidConduit",type:"error"},{inputs:[{internalType:"bytes32",name:"orderHash",type:"bytes32"}],name:"InvalidContractOrder",type:"error"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"InvalidERC721TransferAmount",type:"error"},{inputs:[],name:"InvalidFulfillmentComponentData",type:"error"},{inputs:[{internalType:"uint256",name:"value",type:"uint256"}],name:"InvalidMsgValue",type:"error"},{inputs:[],name:"InvalidNativeOfferItem",type:"error"},{inputs:[],name:"InvalidProof",type:"error"},{inputs:[{internalType:"bytes32",name:"orderHash",type:"bytes32"}],name:"InvalidRestrictedOrder",type:"error"},{inputs:[],name:"InvalidSignature",type:"error"},{inputs:[],name:"InvalidSigner",type:"error"},{inputs:[{internalType:"uint256",name:"startTime",type:"uint256"},{internalType:"uint256",name:"endTime",type:"uint256"}],name:"InvalidTime",type:"error"},{inputs:[{internalType:"uint256",name:"fulfillmentIndex",type:"uint256"}],name:"MismatchedFulfillmentOfferAndConsiderationComponents",type:"error"},{inputs:[{internalType:"enum Side",name:"side",type:"uint8"}],name:"MissingFulfillmentComponentOnAggregation",type:"error"},{inputs:[],name:"MissingItemAmount",type:"error"},{inputs:[],name:"MissingOriginalConsiderationItems",type:"error"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"NoContract",type:"error"},{inputs:[],name:"NoReentrantCalls",type:"error"},{inputs:[],name:"NoSpecifiedOrdersAvailable",type:"error"},{inputs:[],name:"OfferAndConsiderationRequiredOnFulfillment",type:"error"},{inputs:[],name:"OfferCriteriaResolverOutOfRange",type:"error"},{inputs:[{internalType:"bytes32",name:"orderHash",type:"bytes32"}],name:"OrderAlreadyFilled",type:"error"},{inputs:[{internalType:"enum Side",name:"side",type:"uint8"}],name:"OrderCriteriaResolverOutOfRange",type:"error"},{inputs:[{internalType:"bytes32",name:"orderHash",type:"bytes32"}],name:"OrderIsCancelled",type:"error"},{inputs:[{internalType:"bytes32",name:"orderHash",type:"bytes32"}],name:"OrderPartiallyFilled",type:"error"},{inputs:[],name:"PartialFillsNotEnabledForOrder",type:"error"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"identifier",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"TokenTransferGenericFailure",type:"error"},{inputs:[{internalType:"uint256",name:"orderIndex",type:"uint256"},{internalType:"uint256",name:"considerationIndex",type:"uint256"}],name:"UnresolvedConsiderationCriteria",type:"error"},{inputs:[{internalType:"uint256",name:"orderIndex",type:"uint256"},{internalType:"uint256",name:"offerIndex",type:"uint256"}],name:"UnresolvedOfferCriteria",type:"error"},{inputs:[],name:"UnusedItemParameters",type:"error"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"newCounter",type:"uint256"},{indexed:!0,internalType:"address",name:"offerer",type:"address"}],name:"CounterIncremented",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes32",name:"orderHash",type:"bytes32"},{indexed:!0,internalType:"address",name:"offerer",type:"address"},{indexed:!0,internalType:"address",name:"zone",type:"address"}],name:"OrderCancelled",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes32",name:"orderHash",type:"bytes32"},{indexed:!0,internalType:"address",name:"offerer",type:"address"},{indexed:!0,internalType:"address",name:"zone",type:"address"},{indexed:!1,internalType:"address",name:"recipient",type:"address"},{components:[{internalType:"enum ItemType",name:"itemType",type:"uint8"},{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"identifier",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"}],indexed:!1,internalType:"struct SpentItem[]",name:"offer",type:"tuple[]"},{components:[{internalType:"enum ItemType",name:"itemType",type:"uint8"},{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"identifier",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address payable",name:"recipient",type:"address"}],indexed:!1,internalType:"struct ReceivedItem[]",name:"consideration",type:"tuple[]"}],name:"OrderFulfilled",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes32",name:"orderHash",type:"bytes32"},{components:[{internalType:"address",name:"offerer",type:"address"},{internalType:"address",name:"zone",type:"address"},{components:[{internalType:"enum ItemType",name:"itemType",type:"uint8"},{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"identifierOrCriteria",type:"uint256"},{internalType:"uint256",name:"startAmount",type:"uint256"},{internalType:"uint256",name:"endAmount",type:"uint256"}],internalType:"struct OfferItem[]",name:"offer",type:"tuple[]"},{components:[{internalType:"enum ItemType",name:"itemType",type:"uint8"},{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"identifierOrCriteria",type:"uint256"},{internalType:"uint256",name:"startAmount",type:"uint256"},{internalType:"uint256",name:"endAmount",type:"uint256"},{internalType:"address payable",name:"recipient",type:"address"}],internalType:"struct ConsiderationItem[]",name:"consideration",type:"tuple[]"},{internalType:"enum OrderType",name:"orderType",type:"uint8"},{internalType:"uint256",name:"startTime",type:"uint256"},{internalType:"uint256",name:"endTime",type:"uint256"},{internalType:"bytes32",name:"zoneHash",type:"bytes32"},{internalType:"uint256",name:"salt",type:"uint256"},{internalType:"bytes32",name:"conduitKey",type:"bytes32"},{internalType:"uint256",name:"totalOriginalConsiderationItems",type:"uint256"}],indexed:!1,internalType:"struct OrderParameters",name:"orderParameters",type:"tuple"}],name:"OrderValidated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes32[]",name:"orderHashes",type:"bytes32[]"}],name:"OrdersMatched",type:"event"},{inputs:[{components:[{internalType:"address",name:"offerer",type:"address"},{internalType:"address",name:"zone",type:"address"},{components:[{internalType:"enum ItemType",name:"itemType",type:"uint8"},{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"identifierOrCriteria",type:"uint256"},{internalType:"uint256",name:"startAmount",type:"uint256"},{internalType:"uint256",name:"endAmount",type:"uint256"}],internalType:"struct OfferItem[]",name:"offer",type:"tuple[]"},{components:[{internalType:"enum ItemType",name:"itemType",type:"uint8"},{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"identifierOrCriteria",type:"uint256"},{internalType:"uint256",name:"startAmount",type:"uint256"},{internalType:"uint256",name:"endAmount",type:"uint256"},{internalType:"address payable",name:"recipient",type:"address"}],internalType:"struct ConsiderationItem[]",name:"consideration",type:"tuple[]"},{internalType:"enum OrderType",name:"orderType",type:"uint8"},{internalType:"uint256",name:"startTime",type:"uint256"},{internalType:"uint256",name:"endTime",type:"uint256"},{internalType:"bytes32",name:"zoneHash",type:"bytes32"},{internalType:"uint256",name:"salt",type:"uint256"},{internalType:"bytes32",name:"conduitKey",type:"bytes32"},{internalType:"uint256",name:"counter",type:"uint256"}],internalType:"struct OrderComponents[]",name:"orders",type:"tuple[]"}],name:"cancel",outputs:[{internalType:"bool",name:"cancelled",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{components:[{internalType:"address",name:"offerer",type:"address"},{internalType:"address",name:"zone",type:"address"},{components:[{internalType:"enum ItemType",name:"itemType",type:"uint8"},{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"identifierOrCriteria",type:"uint256"},{internalType:"uint256",name:"startAmount",type:"uint256"},{internalType:"uint256",name:"endAmount",type:"uint256"}],internalType:"struct OfferItem[]",name:"offer",type:"tuple[]"},{components:[{internalType:"enum ItemType",name:"itemType",type:"uint8"},{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"identifierOrCriteria",type:"uint256"},{internalType:"uint256",name:"startAmount",type:"uint256"},{internalType:"uint256",name:"endAmount",type:"uint256"},{internalType:"address payable",name:"recipient",type:"address"}],internalType:"struct ConsiderationItem[]",name:"consideration",type:"tuple[]"},{internalType:"enum OrderType",name:"orderType",type:"uint8"},{internalType:"uint256",name:"startTime",type:"uint256"},{internalType:"uint256",name:"endTime",type:"uint256"},{internalType:"bytes32",name:"zoneHash",type:"bytes32"},{internalType:"uint256",name:"salt",type:"uint256"},{internalType:"bytes32",name:"conduitKey",type:"bytes32"},{internalType:"uint256",name:"totalOriginalConsiderationItems",type:"uint256"}],internalType:"struct OrderParameters",name:"parameters",type:"tuple"},{internalType:"uint120",name:"numerator",type:"uint120"},{internalType:"uint120",name:"denominator",type:"uint120"},{internalType:"bytes",name:"signature",type:"bytes"},{internalType:"bytes",name:"extraData",type:"bytes"}],internalType:"struct AdvancedOrder",name:"advancedOrder",type:"tuple"},{components:[{internalType:"uint256",name:"orderIndex",type:"uint256"},{internalType:"enum Side",name:"side",type:"uint8"},{internalType:"uint256",name:"index",type:"uint256"},{internalType:"uint256",name:"identifier",type:"uint256"},{internalType:"bytes32[]",name:"criteriaProof",type:"bytes32[]"}],internalType:"struct CriteriaResolver[]",name:"criteriaResolvers",type:"tuple[]"},{internalType:"bytes32",name:"fulfillerConduitKey",type:"bytes32"},{internalType:"address",name:"recipient",type:"address"}],name:"fulfillAdvancedOrder",outputs:[{internalType:"bool",name:"fulfilled",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{components:[{internalType:"address",name:"offerer",type:"address"},{internalType:"address",name:"zone",type:"address"},{components:[{internalType:"enum ItemType",name:"itemType",type:"uint8"},{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"identifierOrCriteria",type:"uint256"},{internalType:"uint256",name:"startAmount",type:"uint256"},{internalType:"uint256",name:"endAmount",type:"uint256"}],internalType:"struct OfferItem[]",name:"offer",type:"tuple[]"},{components:[{internalType:"enum ItemType",name:"itemType",type:"uint8"},{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"identifierOrCriteria",type:"uint256"},{internalType:"uint256",name:"startAmount",type:"uint256"},{internalType:"uint256",name:"endAmount",type:"uint256"},{internalType:"address payable",name:"recipient",type:"address"}],internalType:"struct ConsiderationItem[]",name:"consideration",type:"tuple[]"},{internalType:"enum OrderType",name:"orderType",type:"uint8"},{internalType:"uint256",name:"startTime",type:"uint256"},{internalType:"uint256",name:"endTime",type:"uint256"},{internalType:"bytes32",name:"zoneHash",type:"bytes32"},{internalType:"uint256",name:"salt",type:"uint256"},{internalType:"bytes32",name:"conduitKey",type:"bytes32"},{internalType:"uint256",name:"totalOriginalConsiderationItems",type:"uint256"}],internalType:"struct OrderParameters",name:"parameters",type:"tuple"},{internalType:"uint120",name:"numerator",type:"uint120"},{internalType:"uint120",name:"denominator",type:"uint120"},{internalType:"bytes",name:"signature",type:"bytes"},{internalType:"bytes",name:"extraData",type:"bytes"}],internalType:"struct AdvancedOrder[]",name:"advancedOrders",type:"tuple[]"},{components:[{internalType:"uint256",name:"orderIndex",type:"uint256"},{internalType:"enum Side",name:"side",type:"uint8"},{internalType:"uint256",name:"index",type:"uint256"},{internalType:"uint256",name:"identifier",type:"uint256"},{internalType:"bytes32[]",name:"criteriaProof",type:"bytes32[]"}],internalType:"struct CriteriaResolver[]",name:"criteriaResolvers",type:"tuple[]"},{components:[{internalType:"uint256",name:"orderIndex",type:"uint256"},{internalType:"uint256",name:"itemIndex",type:"uint256"}],internalType:"struct FulfillmentComponent[][]",name:"offerFulfillments",type:"tuple[][]"},{components:[{internalType:"uint256",name:"orderIndex",type:"uint256"},{internalType:"uint256",name:"itemIndex",type:"uint256"}],internalType:"struct FulfillmentComponent[][]",name:"considerationFulfillments",type:"tuple[][]"},{internalType:"bytes32",name:"fulfillerConduitKey",type:"bytes32"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"maximumFulfilled",type:"uint256"}],name:"fulfillAvailableAdvancedOrders",outputs:[{internalType:"bool[]",name:"availableOrders",type:"bool[]"},{components:[{components:[{internalType:"enum ItemType",name:"itemType",type:"uint8"},{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"identifier",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address payable",name:"recipient",type:"address"}],internalType:"struct ReceivedItem",name:"item",type:"tuple"},{internalType:"address",name:"offerer",type:"address"},{internalType:"bytes32",name:"conduitKey",type:"bytes32"}],internalType:"struct Execution[]",name:"executions",type:"tuple[]"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{components:[{internalType:"address",name:"offerer",type:"address"},{internalType:"address",name:"zone",type:"address"},{components:[{internalType:"enum ItemType",name:"itemType",type:"uint8"},{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"identifierOrCriteria",type:"uint256"},{internalType:"uint256",name:"startAmount",type:"uint256"},{internalType:"uint256",name:"endAmount",type:"uint256"}],internalType:"struct OfferItem[]",name:"offer",type:"tuple[]"},{components:[{internalType:"enum ItemType",name:"itemType",type:"uint8"},{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"identifierOrCriteria",type:"uint256"},{internalType:"uint256",name:"startAmount",type:"uint256"},{internalType:"uint256",name:"endAmount",type:"uint256"},{internalType:"address payable",name:"recipient",type:"address"}],internalType:"struct ConsiderationItem[]",name:"consideration",type:"tuple[]"},{internalType:"enum OrderType",name:"orderType",type:"uint8"},{internalType:"uint256",name:"startTime",type:"uint256"},{internalType:"uint256",name:"endTime",type:"uint256"},{internalType:"bytes32",name:"zoneHash",type:"bytes32"},{internalType:"uint256",name:"salt",type:"uint256"},{internalType:"bytes32",name:"conduitKey",type:"bytes32"},{internalType:"uint256",name:"totalOriginalConsiderationItems",type:"uint256"}],internalType:"struct OrderParameters",name:"parameters",type:"tuple"},{internalType:"bytes",name:"signature",type:"bytes"}],internalType:"struct Order[]",name:"orders",type:"tuple[]"},{components:[{internalType:"uint256",name:"orderIndex",type:"uint256"},{internalType:"uint256",name:"itemIndex",type:"uint256"}],internalType:"struct FulfillmentComponent[][]",name:"offerFulfillments",type:"tuple[][]"},{components:[{internalType:"uint256",name:"orderIndex",type:"uint256"},{internalType:"uint256",name:"itemIndex",type:"uint256"}],internalType:"struct FulfillmentComponent[][]",name:"considerationFulfillments",type:"tuple[][]"},{internalType:"bytes32",name:"fulfillerConduitKey",type:"bytes32"},{internalType:"uint256",name:"maximumFulfilled",type:"uint256"}],name:"fulfillAvailableOrders",outputs:[{internalType:"bool[]",name:"availableOrders",type:"bool[]"},{components:[{components:[{internalType:"enum ItemType",name:"itemType",type:"uint8"},{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"identifier",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address payable",name:"recipient",type:"address"}],internalType:"struct ReceivedItem",name:"item",type:"tuple"},{internalType:"address",name:"offerer",type:"address"},{internalType:"bytes32",name:"conduitKey",type:"bytes32"}],internalType:"struct Execution[]",name:"executions",type:"tuple[]"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"address",name:"considerationToken",type:"address"},{internalType:"uint256",name:"considerationIdentifier",type:"uint256"},{internalType:"uint256",name:"considerationAmount",type:"uint256"},{internalType:"address payable",name:"offerer",type:"address"},{internalType:"address",name:"zone",type:"address"},{internalType:"address",name:"offerToken",type:"address"},{internalType:"uint256",name:"offerIdentifier",type:"uint256"},{internalType:"uint256",name:"offerAmount",type:"uint256"},{internalType:"enum BasicOrderType",name:"basicOrderType",type:"uint8"},{internalType:"uint256",name:"startTime",type:"uint256"},{internalType:"uint256",name:"endTime",type:"uint256"},{internalType:"bytes32",name:"zoneHash",type:"bytes32"},{internalType:"uint256",name:"salt",type:"uint256"},{internalType:"bytes32",name:"offererConduitKey",type:"bytes32"},{internalType:"bytes32",name:"fulfillerConduitKey",type:"bytes32"},{internalType:"uint256",name:"totalOriginalAdditionalRecipients",type:"uint256"},{components:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address payable",name:"recipient",type:"address"}],internalType:"struct AdditionalRecipient[]",name:"additionalRecipients",type:"tuple[]"},{internalType:"bytes",name:"signature",type:"bytes"}],internalType:"struct BasicOrderParameters",name:"parameters",type:"tuple"}],name:"fulfillBasicOrder",outputs:[{internalType:"bool",name:"fulfilled",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{components:[{internalType:"address",name:"offerer",type:"address"},{internalType:"address",name:"zone",type:"address"},{components:[{internalType:"enum ItemType",name:"itemType",type:"uint8"},{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"identifierOrCriteria",type:"uint256"},{internalType:"uint256",name:"startAmount",type:"uint256"},{internalType:"uint256",name:"endAmount",type:"uint256"}],internalType:"struct OfferItem[]",name:"offer",type:"tuple[]"},{components:[{internalType:"enum ItemType",name:"itemType",type:"uint8"},{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"identifierOrCriteria",type:"uint256"},{internalType:"uint256",name:"startAmount",type:"uint256"},{internalType:"uint256",name:"endAmount",type:"uint256"},{internalType:"address payable",name:"recipient",type:"address"}],internalType:"struct ConsiderationItem[]",name:"consideration",type:"tuple[]"},{internalType:"enum OrderType",name:"orderType",type:"uint8"},{internalType:"uint256",name:"startTime",type:"uint256"},{internalType:"uint256",name:"endTime",type:"uint256"},{internalType:"bytes32",name:"zoneHash",type:"bytes32"},{internalType:"uint256",name:"salt",type:"uint256"},{internalType:"bytes32",name:"conduitKey",type:"bytes32"},{internalType:"uint256",name:"totalOriginalConsiderationItems",type:"uint256"}],internalType:"struct OrderParameters",name:"parameters",type:"tuple"},{internalType:"bytes",name:"signature",type:"bytes"}],internalType:"struct Order",name:"order",type:"tuple"},{internalType:"bytes32",name:"fulfillerConduitKey",type:"bytes32"}],name:"fulfillOrder",outputs:[{internalType:"bool",name:"fulfilled",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"contractOfferer",type:"address"}],name:"getContractOffererNonce",outputs:[{internalType:"uint256",name:"nonce",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"offerer",type:"address"}],name:"getCounter",outputs:[{internalType:"uint256",name:"counter",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"address",name:"offerer",type:"address"},{internalType:"address",name:"zone",type:"address"},{components:[{internalType:"enum ItemType",name:"itemType",type:"uint8"},{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"identifierOrCriteria",type:"uint256"},{internalType:"uint256",name:"startAmount",type:"uint256"},{internalType:"uint256",name:"endAmount",type:"uint256"}],internalType:"struct OfferItem[]",name:"offer",type:"tuple[]"},{components:[{internalType:"enum ItemType",name:"itemType",type:"uint8"},{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"identifierOrCriteria",type:"uint256"},{internalType:"uint256",name:"startAmount",type:"uint256"},{internalType:"uint256",name:"endAmount",type:"uint256"},{internalType:"address payable",name:"recipient",type:"address"}],internalType:"struct ConsiderationItem[]",name:"consideration",type:"tuple[]"},{internalType:"enum OrderType",name:"orderType",type:"uint8"},{internalType:"uint256",name:"startTime",type:"uint256"},{internalType:"uint256",name:"endTime",type:"uint256"},{internalType:"bytes32",name:"zoneHash",type:"bytes32"},{internalType:"uint256",name:"salt",type:"uint256"},{internalType:"bytes32",name:"conduitKey",type:"bytes32"},{internalType:"uint256",name:"counter",type:"uint256"}],internalType:"struct OrderComponents",name:"order",type:"tuple"}],name:"getOrderHash",outputs:[{internalType:"bytes32",name:"orderHash",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"orderHash",type:"bytes32"}],name:"getOrderStatus",outputs:[{internalType:"bool",name:"isValidated",type:"bool"},{internalType:"bool",name:"isCancelled",type:"bool"},{internalType:"uint256",name:"totalFilled",type:"uint256"},{internalType:"uint256",name:"totalSize",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"incrementCounter",outputs:[{internalType:"uint256",name:"newCounter",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"information",outputs:[{internalType:"string",name:"version",type:"string"},{internalType:"bytes32",name:"domainSeparator",type:"bytes32"},{internalType:"address",name:"conduitController",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{components:[{components:[{internalType:"address",name:"offerer",type:"address"},{internalType:"address",name:"zone",type:"address"},{components:[{internalType:"enum ItemType",name:"itemType",type:"uint8"},{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"identifierOrCriteria",type:"uint256"},{internalType:"uint256",name:"startAmount",type:"uint256"},{internalType:"uint256",name:"endAmount",type:"uint256"}],internalType:"struct OfferItem[]",name:"offer",type:"tuple[]"},{components:[{internalType:"enum ItemType",name:"itemType",type:"uint8"},{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"identifierOrCriteria",type:"uint256"},{internalType:"uint256",name:"startAmount",type:"uint256"},{internalType:"uint256",name:"endAmount",type:"uint256"},{internalType:"address payable",name:"recipient",type:"address"}],internalType:"struct ConsiderationItem[]",name:"consideration",type:"tuple[]"},{internalType:"enum OrderType",name:"orderType",type:"uint8"},{internalType:"uint256",name:"startTime",type:"uint256"},{internalType:"uint256",name:"endTime",type:"uint256"},{internalType:"bytes32",name:"zoneHash",type:"bytes32"},{internalType:"uint256",name:"salt",type:"uint256"},{internalType:"bytes32",name:"conduitKey",type:"bytes32"},{internalType:"uint256",name:"totalOriginalConsiderationItems",type:"uint256"}],internalType:"struct OrderParameters",name:"parameters",type:"tuple"},{internalType:"uint120",name:"numerator",type:"uint120"},{internalType:"uint120",name:"denominator",type:"uint120"},{internalType:"bytes",name:"signature",type:"bytes"},{internalType:"bytes",name:"extraData",type:"bytes"}],internalType:"struct AdvancedOrder[]",name:"orders",type:"tuple[]"},{components:[{internalType:"uint256",name:"orderIndex",type:"uint256"},{internalType:"enum Side",name:"side",type:"uint8"},{internalType:"uint256",name:"index",type:"uint256"},{internalType:"uint256",name:"identifier",type:"uint256"},{internalType:"bytes32[]",name:"criteriaProof",type:"bytes32[]"}],internalType:"struct CriteriaResolver[]",name:"criteriaResolvers",type:"tuple[]"},{components:[{components:[{internalType:"uint256",name:"orderIndex",type:"uint256"},{internalType:"uint256",name:"itemIndex",type:"uint256"}],internalType:"struct FulfillmentComponent[]",name:"offerComponents",type:"tuple[]"},{components:[{internalType:"uint256",name:"orderIndex",type:"uint256"},{internalType:"uint256",name:"itemIndex",type:"uint256"}],internalType:"struct FulfillmentComponent[]",name:"considerationComponents",type:"tuple[]"}],internalType:"struct Fulfillment[]",name:"fulfillments",type:"tuple[]"},{internalType:"address",name:"recipient",type:"address"}],name:"matchAdvancedOrders",outputs:[{components:[{components:[{internalType:"enum ItemType",name:"itemType",type:"uint8"},{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"identifier",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address payable",name:"recipient",type:"address"}],internalType:"struct ReceivedItem",name:"item",type:"tuple"},{internalType:"address",name:"offerer",type:"address"},{internalType:"bytes32",name:"conduitKey",type:"bytes32"}],internalType:"struct Execution[]",name:"executions",type:"tuple[]"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{components:[{internalType:"address",name:"offerer",type:"address"},{internalType:"address",name:"zone",type:"address"},{components:[{internalType:"enum ItemType",name:"itemType",type:"uint8"},{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"identifierOrCriteria",type:"uint256"},{internalType:"uint256",name:"startAmount",type:"uint256"},{internalType:"uint256",name:"endAmount",type:"uint256"}],internalType:"struct OfferItem[]",name:"offer",type:"tuple[]"},{components:[{internalType:"enum ItemType",name:"itemType",type:"uint8"},{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"identifierOrCriteria",type:"uint256"},{internalType:"uint256",name:"startAmount",type:"uint256"},{internalType:"uint256",name:"endAmount",type:"uint256"},{internalType:"address payable",name:"recipient",type:"address"}],internalType:"struct ConsiderationItem[]",name:"consideration",type:"tuple[]"},{internalType:"enum OrderType",name:"orderType",type:"uint8"},{internalType:"uint256",name:"startTime",type:"uint256"},{internalType:"uint256",name:"endTime",type:"uint256"},{internalType:"bytes32",name:"zoneHash",type:"bytes32"},{internalType:"uint256",name:"salt",type:"uint256"},{internalType:"bytes32",name:"conduitKey",type:"bytes32"},{internalType:"uint256",name:"totalOriginalConsiderationItems",type:"uint256"}],internalType:"struct OrderParameters",name:"parameters",type:"tuple"},{internalType:"bytes",name:"signature",type:"bytes"}],internalType:"struct Order[]",name:"orders",type:"tuple[]"},{components:[{components:[{internalType:"uint256",name:"orderIndex",type:"uint256"},{internalType:"uint256",name:"itemIndex",type:"uint256"}],internalType:"struct FulfillmentComponent[]",name:"offerComponents",type:"tuple[]"},{components:[{internalType:"uint256",name:"orderIndex",type:"uint256"},{internalType:"uint256",name:"itemIndex",type:"uint256"}],internalType:"struct FulfillmentComponent[]",name:"considerationComponents",type:"tuple[]"}],internalType:"struct Fulfillment[]",name:"fulfillments",type:"tuple[]"}],name:"matchOrders",outputs:[{components:[{components:[{internalType:"enum ItemType",name:"itemType",type:"uint8"},{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"identifier",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address payable",name:"recipient",type:"address"}],internalType:"struct ReceivedItem",name:"item",type:"tuple"},{internalType:"address",name:"offerer",type:"address"},{internalType:"bytes32",name:"conduitKey",type:"bytes32"}],internalType:"struct Execution[]",name:"executions",type:"tuple[]"}],stateMutability:"payable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"contractName",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{components:[{components:[{internalType:"address",name:"offerer",type:"address"},{internalType:"address",name:"zone",type:"address"},{components:[{internalType:"enum ItemType",name:"itemType",type:"uint8"},{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"identifierOrCriteria",type:"uint256"},{internalType:"uint256",name:"startAmount",type:"uint256"},{internalType:"uint256",name:"endAmount",type:"uint256"}],internalType:"struct OfferItem[]",name:"offer",type:"tuple[]"},{components:[{internalType:"enum ItemType",name:"itemType",type:"uint8"},{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"identifierOrCriteria",type:"uint256"},{internalType:"uint256",name:"startAmount",type:"uint256"},{internalType:"uint256",name:"endAmount",type:"uint256"},{internalType:"address payable",name:"recipient",type:"address"}],internalType:"struct ConsiderationItem[]",name:"consideration",type:"tuple[]"},{internalType:"enum OrderType",name:"orderType",type:"uint8"},{internalType:"uint256",name:"startTime",type:"uint256"},{internalType:"uint256",name:"endTime",type:"uint256"},{internalType:"bytes32",name:"zoneHash",type:"bytes32"},{internalType:"uint256",name:"salt",type:"uint256"},{internalType:"bytes32",name:"conduitKey",type:"bytes32"},{internalType:"uint256",name:"totalOriginalConsiderationItems",type:"uint256"}],internalType:"struct OrderParameters",name:"parameters",type:"tuple"},{internalType:"bytes",name:"signature",type:"bytes"}],internalType:"struct Order[]",name:"orders",type:"tuple[]"}],name:"validate",outputs:[{internalType:"bool",name:"validated",type:"bool"}],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}];var LG={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DOMAIN_REGISTRY_ADDRESS=e.CROSS_CHAIN_SEAPORT_V1_5_ADDRESS=e.CROSS_CHAIN_SEAPORT_V1_4_ADDRESS=e.KNOWN_CONDUIT_KEYS_TO_CONDUIT=e.NO_CONDUIT=e.ONE_HUNDRED_PERCENT_BP=e.MAX_INT=e.BasicOrderRouteType=e.Side=e.ItemType=e.OrderType=e.EIP_712_BULK_ORDER_TYPE=e.EIP_712_ORDER_TYPE=e.OPENSEA_CONDUIT_ADDRESS=e.OPENSEA_CONDUIT_KEY=e.SEAPORT_CONTRACT_VERSION_V1_5=e.SEAPORT_CONTRACT_VERSION_V1_4=e.SEAPORT_CONTRACT_NAME=void 0;const t=lG;var n,r,i,a;e.SEAPORT_CONTRACT_NAME="Seaport",e.SEAPORT_CONTRACT_VERSION_V1_4="1.4",e.SEAPORT_CONTRACT_VERSION_V1_5="1.5",e.OPENSEA_CONDUIT_KEY="0x0000007b02230091a7ed01230072f7006a004d60a8d4e71d599b8104250f0000",e.OPENSEA_CONDUIT_ADDRESS="0x1e0049783f008a0085193e00003d00cd54003c71",e.EIP_712_ORDER_TYPE={OrderComponents:[{name:"offerer",type:"address"},{name:"zone",type:"address"},{name:"offer",type:"OfferItem[]"},{name:"consideration",type:"ConsiderationItem[]"},{name:"orderType",type:"uint8"},{name:"startTime",type:"uint256"},{name:"endTime",type:"uint256"},{name:"zoneHash",type:"bytes32"},{name:"salt",type:"uint256"},{name:"conduitKey",type:"bytes32"},{name:"counter",type:"uint256"}],OfferItem:[{name:"itemType",type:"uint8"},{name:"token",type:"address"},{name:"identifierOrCriteria",type:"uint256"},{name:"startAmount",type:"uint256"},{name:"endAmount",type:"uint256"}],ConsiderationItem:[{name:"itemType",type:"uint8"},{name:"token",type:"address"},{name:"identifierOrCriteria",type:"uint256"},{name:"startAmount",type:"uint256"},{name:"endAmount",type:"uint256"},{name:"recipient",type:"address"}]},e.EIP_712_BULK_ORDER_TYPE={BulkOrder:[{name:"tree",type:"OrderComponents[2][2][2][2][2][2][2]"}],OrderComponents:[{name:"offerer",type:"address"},{name:"zone",type:"address"},{name:"offer",type:"OfferItem[]"},{name:"consideration",type:"ConsiderationItem[]"},{name:"orderType",type:"uint8"},{name:"startTime",type:"uint256"},{name:"endTime",type:"uint256"},{name:"zoneHash",type:"bytes32"},{name:"salt",type:"uint256"},{name:"conduitKey",type:"bytes32"},{name:"counter",type:"uint256"}],OfferItem:[{name:"itemType",type:"uint8"},{name:"token",type:"address"},{name:"identifierOrCriteria",type:"uint256"},{name:"startAmount",type:"uint256"},{name:"endAmount",type:"uint256"}],ConsiderationItem:[{name:"itemType",type:"uint8"},{name:"token",type:"address"},{name:"identifierOrCriteria",type:"uint256"},{name:"startAmount",type:"uint256"},{name:"endAmount",type:"uint256"},{name:"recipient",type:"address"}]},function(e){e[e.FULL_OPEN=0]="FULL_OPEN",e[e.PARTIAL_OPEN=1]="PARTIAL_OPEN",e[e.FULL_RESTRICTED=2]="FULL_RESTRICTED",e[e.PARTIAL_RESTRICTED=3]="PARTIAL_RESTRICTED"}(n||(e.OrderType=n={})),function(e){e[e.NATIVE=0]="NATIVE",e[e.ERC20=1]="ERC20",e[e.ERC721=2]="ERC721",e[e.ERC1155=3]="ERC1155",e[e.ERC721_WITH_CRITERIA=4]="ERC721_WITH_CRITERIA",e[e.ERC1155_WITH_CRITERIA=5]="ERC1155_WITH_CRITERIA"}(r||(e.ItemType=r={})),function(e){e[e.OFFER=0]="OFFER",e[e.CONSIDERATION=1]="CONSIDERATION"}(i||(e.Side=i={})),function(e){e[e.ETH_TO_ERC721=0]="ETH_TO_ERC721",e[e.ETH_TO_ERC1155=1]="ETH_TO_ERC1155",e[e.ERC20_TO_ERC721=2]="ERC20_TO_ERC721",e[e.ERC20_TO_ERC1155=3]="ERC20_TO_ERC1155",e[e.ERC721_TO_ERC20=4]="ERC721_TO_ERC20",e[e.ERC1155_TO_ERC20=5]="ERC1155_TO_ERC20"}(a||(e.BasicOrderRouteType=a={})),e.MAX_INT=t.BigNumber.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),e.ONE_HUNDRED_PERCENT_BP=1e4,e.NO_CONDUIT="0x0000000000000000000000000000000000000000000000000000000000000000",e.KNOWN_CONDUIT_KEYS_TO_CONDUIT={[e.OPENSEA_CONDUIT_KEY]:e.OPENSEA_CONDUIT_ADDRESS},e.CROSS_CHAIN_SEAPORT_V1_4_ADDRESS="0x00000000000001ad428e4906aE43D8F9852d0dD6",e.CROSS_CHAIN_SEAPORT_V1_5_ADDRESS="0x00000000000000ADc04C56Bf30aC9d3c0aAF14dC",e.DOMAIN_REGISTRY_ADDRESS="0x000000000DaD0DE04D2B2D4a5A74581EBA94124A"}(LG);var FG={},UG={};Object.defineProperty(UG,"__esModule",{value:!0}),UG.ERC20ABI=void 0;UG.ERC20ABI=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"PERMIT_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"permit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}];var jG={};Object.defineProperty(jG,"__esModule",{value:!0}),jG.ERC721ABI=void 0;jG.ERC721ABI=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!0,internalType:"uint256",name:"id",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"id",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"id",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"id",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"id",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"pure",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"id",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"}];var qG,zG={},HG={};function GG(){if(qG)return HG;qG=1,Object.defineProperty(HG,"__esModule",{value:!0}),HG.getItemToCriteriaMap=HG.generateCriteriaResolvers=void 0;const e=LG,t=KG();HG.generateCriteriaResolvers=({orders:n,offerCriterias:r=[[]],considerationCriterias:i=[[]]})=>{const a=n.flatMap(((n,r)=>n.parameters.offer.map(((t,n)=>({orderIndex:r,item:t,index:n,side:e.Side.OFFER}))).filter((({item:e})=>(0,t.isCriteriaItem)(e.itemType))))),s=n.flatMap(((n,r)=>n.parameters.consideration.map(((t,n)=>({orderIndex:r,item:t,index:n,side:e.Side.CONSIDERATION}))).filter((({item:e})=>(0,t.isCriteriaItem)(e.itemType))))),o=(e,t)=>e.map((({orderIndex:e,item:n,index:r,side:i})=>{const a=n.identifierOrCriteria||"0",s=t[e][r];return{orderIndex:e,index:r,side:i,identifier:s.identifier,criteriaProof:"0"===a?[]:s.proof}}));return[...o(a,r),...o(s,i)]};return HG.getItemToCriteriaMap=(e,n)=>{const r=[...n];return e.reduce(((e,n)=>((0,t.isCriteriaItem)(n.itemType)&&e.set(n,r.shift()),e)),new Map)},HG}var WG,VG={};function KG(){return WG||(WG=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getMaximumSizeForOrder=e.getSummedTokenAndIdentifierAmounts=e.getPresentItemAmount=e.isCriteriaItem=e.isErc1155Item=e.isErc721Item=e.isErc20Item=e.isNativeCurrencyItem=e.isCurrencyItem=void 0;const t=lG,n=LG,r=GG(),i=VG;e.isCurrencyItem=({itemType:e})=>[n.ItemType.NATIVE,n.ItemType.ERC20].includes(e);e.isNativeCurrencyItem=({itemType:e})=>e===n.ItemType.NATIVE;e.isErc20Item=e=>e===n.ItemType.ERC20;e.isErc721Item=e=>[n.ItemType.ERC721,n.ItemType.ERC721_WITH_CRITERIA].includes(e);e.isErc1155Item=e=>[n.ItemType.ERC1155,n.ItemType.ERC1155_WITH_CRITERIA].includes(e);e.isCriteriaItem=e=>[n.ItemType.ERC721_WITH_CRITERIA,n.ItemType.ERC1155_WITH_CRITERIA].includes(e);e.getPresentItemAmount=({startAmount:e,endAmount:n,timeBasedItemParams:r})=>{const i=t.BigNumber.from(e),a=t.BigNumber.from(n);if(!r)return i.gt(a)?i:a;const{isConsiderationItem:s,currentBlockTimestamp:o,ascendingAmountTimestampBuffer:c,startTime:u,endTime:d}=r,f=t.BigNumber.from(d).sub(u),l=a.gt(e),h=t.BigNumber.from(l?o+c:o);if(h.lt(u))return i;const p=(h.gt(d)?t.BigNumber.from(d):h).sub(u),m=f.sub(p);return i.mul(m).add(a.mul(p)).add(s?f.sub(1):0).div(f)};e.getSummedTokenAndIdentifierAmounts=({items:n,criterias:i,timeBasedItemParams:a})=>{const s=(0,r.getItemToCriteriaMap)(n,i),o=n.reduce(((n,r)=>{var i,o,c,u;const d=null!==(o=null===(i=s.get(r))||void 0===i?void 0:i.identifier)&&void 0!==o?o:r.identifierOrCriteria;return Object.assign(Object.assign({},n),{[r.token]:Object.assign(Object.assign({},n[r.token]),{[d]:(null!==(u=null===(c=n[r.token])||void 0===c?void 0:c[d])&&void 0!==u?u:t.BigNumber.from(0)).add((0,e.getPresentItemAmount)({startAmount:r.startAmount,endAmount:r.endAmount,timeBasedItemParams:a}))})})}),{});return o};e.getMaximumSizeForOrder=({parameters:{offer:e,consideration:t}})=>{const n=[...e,...t].flatMap((({startAmount:e,endAmount:t})=>[e,t]));return(0,i.findGcd)(n)}}(zG)),zG}!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.findGcd=e.gcd=void 0;const t=lG;e.gcd=(n,r)=>{const i=t.BigNumber.from(n),a=t.BigNumber.from(r);return i.eq(0)?a:(0,e.gcd)(a.mod(n),i)};e.findGcd=n=>{let r=t.BigNumber.from(n[0]);for(let t=1;t<n.length;t++)if(r=(0,e.gcd)(n[t],r),r.eq(1))return r;return r}}(VG);var XG={};!function(e){var t=ir&&ir.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function s(e){try{c(r.next(e))}catch(e){a(e)}}function o(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.getTagFromDomain=e.getTransactionMethods=e.executeAllActions=void 0;const n=hG;e.executeAllActions=e=>t(void 0,void 0,void 0,(function*(){for(let t=0;t<e.length-1;t++){const n=e[t];if("approval"===n.type){const e=yield n.transactionMethods.transact();yield e.wait()}}const t=e[e.length-1];switch(t.type){case"create":return t.createOrder();case"createBulk":return t.createBulkOrders();default:return t.transactionMethods.transact()}}));e.getTransactionMethods=(n,r,i,a)=>{const s=i[i.length-1];let o;(e=>{const t=["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","type","accessList","customData","ccipReadEnabled","value","blockTag","CallOverrides"];return void 0===e||Object.keys(e).every((e=>t.includes(e)))})(s)&&(o=s,i.pop());const c=s=>t(void 0,void 0,void 0,(function*(){const t=Object.assign(Object.assign({},o),s),c=yield n.populateTransaction[r](...i,t);if(a){const t=(0,e.getTagFromDomain)(a);c.data=c.data+t}return c}));return{callStatic:e=>{const t=Object.assign(Object.assign({},o),e);return n.callStatic[r](...i,t)},estimateGas:e=>{const t=Object.assign(Object.assign({},o),e);return n.estimateGas[r](...i,t)},transact:e=>t(void 0,void 0,void 0,(function*(){const t=Object.assign(Object.assign({},o),e),r=yield c(t);return n.signer.sendTransaction(r)})),buildTransaction:c}};e.getTagFromDomain=e=>(0,n.keccak256)((0,n.toUtf8Bytes)(e)).slice(2,10)}(XG);var $G=ir&&ir.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function s(e){try{c(r.next(e))}catch(e){a(e)}}function o(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(FG,"__esModule",{value:!0}),FG.getApprovalActions=FG.approvedItemAmount=void 0;const JG=lG,YG=UG,QG=jG,ZG=LG,eW=KG(),tW=XG;FG.approvedItemAmount=(e,t,n,r)=>$G(void 0,void 0,void 0,(function*(){if((0,eW.isErc721Item)(t.itemType)||(0,eW.isErc1155Item)(t.itemType)){return new JG.Contract(t.token,QG.ERC721ABI,r).isApprovedForAll(e,n).then((e=>e?ZG.MAX_INT:JG.BigNumber.from(0)))}if(t.itemType===ZG.ItemType.ERC20){return new JG.Contract(t.token,YG.ERC20ABI,r).allowance(e,n)}return ZG.MAX_INT})),FG.getApprovalActions=function(e,t,n){return e.filter(((t,n)=>n===e.length-1||e[n+1].token!==t.token)).map((({token:e,operator:r,itemType:i,identifierOrCriteria:a,requiredApprovedAmount:s})=>{const o=(0,eW.isErc1155Item)(i);if((0,eW.isErc721Item)(i)||o){const s=new JG.Contract(e,QG.ERC721ABI,n);return{type:"approval",token:e,identifierOrCriteria:a,itemType:i,operator:r,transactionMethods:(0,tW.getTransactionMethods)(s.connect(n),t&&!o?"approve":"setApprovalForAll",[r,!(t&&!o)||a])}}{const o=new JG.Contract(e,YG.ERC20ABI,n);return{type:"approval",token:e,identifierOrCriteria:a,itemType:i,transactionMethods:(0,tW.getTransactionMethods)(o.connect(n),"approve",[r,t?s:ZG.MAX_INT]),operator:r}}}))};var nW={},rW={},iW={};Object.defineProperty(iW,"__esModule",{value:!0}),iW.ERC1155ABI=void 0;iW.ERC1155ABI=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256[]",name:"ids",type:"uint256[]"},{indexed:!1,internalType:"uint256[]",name:"amounts",type:"uint256[]"}],name:"TransferBatch",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"id",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"TransferSingle",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"value",type:"string"},{indexed:!0,internalType:"uint256",name:"id",type:"uint256"}],name:"URI",type:"event"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"owners",type:"address[]"},{internalType:"uint256[]",name:"ids",type:"uint256[]"}],name:"balanceOfBatch",outputs:[{internalType:"uint256[]",name:"balances",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"ids",type:"uint256[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeBatchTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"}],name:"uri",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}];var aW=ir&&ir.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function s(e){try{c(r.next(e))}catch(e){a(e)}}function o(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(rW,"__esModule",{value:!0}),rW.balanceOf=void 0;const sW=lG,oW=iW,cW=UG,uW=jG,dW=LG,fW=KG();rW.balanceOf=(e,t,n,r)=>aW(void 0,void 0,void 0,(function*(){if((0,fW.isErc721Item)(t.itemType)){const i=new sW.Contract(t.token,uW.ERC721ABI,n);return t.itemType===dW.ItemType.ERC721_WITH_CRITERIA?r?i.ownerOf(r.identifier).then((t=>sW.BigNumber.from(Number(t.toLowerCase()===e.toLowerCase())))):i.balanceOf(e):i.ownerOf(t.identifierOrCriteria).then((t=>sW.BigNumber.from(Number(t.toLowerCase()===e.toLowerCase()))))}if((0,fW.isErc1155Item)(t.itemType)){const i=new sW.Contract(t.token,oW.ERC1155ABI,n);if(t.itemType===dW.ItemType.ERC1155_WITH_CRITERIA){if(!r){const e=sW.BigNumber.from(t.startAmount),n=sW.BigNumber.from(t.endAmount);return e.gt(n)?e:n}return i.balanceOf(e,r.identifier)}return i.balanceOf(e,t.identifierOrCriteria)}if((0,fW.isErc20Item)(t.itemType)){return new sW.Contract(t.token,cW.ERC20ABI,n).balanceOf(e)}return n.getBalance(e)})),function(e){var t=ir&&ir.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function s(e){try{c(r.next(e))}catch(e){a(e)}}function o(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.validateStandardFulfillBalancesAndApprovals=e.validateBasicFulfillBalancesAndApprovals=e.validateOfferBalancesAndApprovals=e.getInsufficientBalanceAndApprovalAmounts=e.getBalancesAndApprovals=void 0;const n=lG,r=LG,i=FG,a=rW,s=GG(),o=KG(),c=(e,t,n)=>{const r=e.find((({token:e,identifierOrCriteria:r})=>t.toLowerCase()===e.toLowerCase()&&r.toLowerCase()===n.toLowerCase()));if(!r)throw new Error("Balances and approvals didn't contain all tokens and identifiers");return r};e.getBalancesAndApprovals=({owner:e,items:c,criterias:u,operator:d,multicallProvider:f})=>t(void 0,void 0,void 0,(function*(){const l=(0,s.getItemToCriteriaMap)(c,u);return Promise.all(c.map((s=>t(void 0,void 0,void 0,(function*(){var t,c;let u=Promise.resolve(n.BigNumber.from(0));return u=(0,o.isErc721Item)(s.itemType)||(0,o.isErc1155Item)(s.itemType)||(0,o.isErc20Item)(s.itemType)?(0,i.approvedItemAmount)(e,s,d,f):Promise.resolve(r.MAX_INT),{token:s.token,identifierOrCriteria:null!==(c=null===(t=l.get(s))||void 0===t?void 0:t.identifier)&&void 0!==c?c:s.identifierOrCriteria,balance:yield(0,a.balanceOf)(e,s,f,l.get(s)),approvedAmount:yield u,itemType:s.itemType}})))))}));e.getInsufficientBalanceAndApprovalAmounts=({balancesAndApprovals:e,tokenAndIdentifierAmounts:t,operator:n})=>{const r=[...Object.entries(t).map((([e,t])=>Object.entries(t).map((([t,n])=>[e,t,n]))))].flat(),i=t=>r.filter((([n,r,i])=>c(e,n,r)[t].lt(i))).map((([n,r,i])=>{const a=c(e,n,r);return{token:n,identifierOrCriteria:r,requiredAmount:i,amountHave:a[t],itemType:a.itemType}})),[a,s]=[i("balance"),i("approvedAmount").map((e=>({token:e.token,identifierOrCriteria:e.identifierOrCriteria,approvedAmount:e.amountHave,requiredApprovedAmount:e.requiredAmount,itemType:e.itemType,operator:n})))];return{insufficientBalances:a,insufficientApprovals:s}};e.validateOfferBalancesAndApprovals=({offer:t,criterias:n,balancesAndApprovals:r,timeBasedItemParams:i,throwOnInsufficientBalances:a=!0,throwOnInsufficientApprovals:s,operator:c})=>{const{insufficientBalances:u,insufficientApprovals:d}=(0,e.getInsufficientBalanceAndApprovalAmounts)({balancesAndApprovals:r,tokenAndIdentifierAmounts:(0,o.getSummedTokenAndIdentifierAmounts)({items:t,criterias:n,timeBasedItemParams:i?Object.assign(Object.assign({},i),{isConsiderationItem:!1}):void 0}),operator:c});if(a&&u.length>0)throw new Error("The offerer does not have the amount needed to create or fulfill.");if(s&&d.length>0)throw new Error("The offerer does not have the sufficient approvals.");return d};e.validateBasicFulfillBalancesAndApprovals=({offer:t,consideration:n,offererBalancesAndApprovals:r,fulfillerBalancesAndApprovals:i,timeBasedItemParams:a,offererOperator:s,fulfillerOperator:c})=>{(0,e.validateOfferBalancesAndApprovals)({offer:t,criterias:[],balancesAndApprovals:r,timeBasedItemParams:a,throwOnInsufficientApprovals:!0,operator:s});const u=n.filter((e=>e.itemType!==t[0].itemType)),{insufficientBalances:d,insufficientApprovals:f}=(0,e.getInsufficientBalanceAndApprovalAmounts)({balancesAndApprovals:i,tokenAndIdentifierAmounts:(0,o.getSummedTokenAndIdentifierAmounts)({items:u,criterias:[],timeBasedItemParams:Object.assign(Object.assign({},a),{isConsiderationItem:!0})}),operator:c});if(d.length>0)throw new Error("The fulfiller does not have the balances needed to fulfill.");return f};e.validateStandardFulfillBalancesAndApprovals=({offer:t,consideration:n,offerCriteria:r,considerationCriteria:i,offererBalancesAndApprovals:a,fulfillerBalancesAndApprovals:s,timeBasedItemParams:c,offererOperator:d,fulfillerOperator:f})=>{(0,e.validateOfferBalancesAndApprovals)({offer:t,criterias:r,balancesAndApprovals:a,timeBasedItemParams:c,throwOnInsufficientApprovals:!0,operator:d});const l=u({items:t,criterias:r,balancesAndApprovals:s,timeBasedItemParams:c}),{insufficientBalances:h,insufficientApprovals:p}=(0,e.getInsufficientBalanceAndApprovalAmounts)({balancesAndApprovals:l,tokenAndIdentifierAmounts:(0,o.getSummedTokenAndIdentifierAmounts)({items:n,criterias:i,timeBasedItemParams:Object.assign(Object.assign({},c),{isConsiderationItem:!0})}),operator:f});if(h.length>0)throw new Error("The fulfiller does not have the balances needed to fulfill.");return p};const u=({items:e,criterias:t,timeBasedItemParams:n,balancesAndApprovals:r})=>{const i=(0,o.getSummedTokenAndIdentifierAmounts)({items:e,criterias:t,timeBasedItemParams:Object.assign(Object.assign({},n),{isConsiderationItem:!1})}),a=r.map((e=>Object.assign({},e)));return Object.entries(i).forEach((([e,t])=>Object.entries(t).forEach((([t,n])=>{const r=c(a,e,t),i=a.indexOf(r);a[i].balance=a[i].balance.add(n)})))),a}}(nW);var lW={},hW={},pW={},mW={},bW={exports:{}};!function(e,t){e.exports=function(){function e(e,t){var n=t?"":"";return n+=e?" ":""}function t(e,t){var n=[];for(var r in e)e.hasOwnProperty(r)&&(t&&"function"==typeof e[r]||n.push(r));return n}function n(r,i,a,s,o,c,u){var d,f,l="",h=0,p=s.slice(0);if(p.push([i,a])&&s.length>0&&(s.forEach((function(e,t){t>0&&(l+=(e[1]?" ":"")+"  "),f||e[0]!==i||(f=!0)})),l+=e(r,a)+r,o&&("object"!=typeof i||i instanceof Date)&&(l+=": "+i),f&&(l+=" (circular ref.)"),u(l)),!f&&"object"==typeof i){var m=t(i,c);m.forEach((function(e){d=++h===m.length,n(e,i[e],d,p,o,c,u)}))}}var r={asLines:function(e,t,r,i){n(".",e,!1,[],t,"function"!=typeof r&&r,i||r)},asTree:function(e,t,r){var i="";return n(".",e,!1,[],t,r,(function(e){i+=e+"\n"})),i}};return r}()}(bW);var yW,gW=bW.exports,vW={},wW={exports:{}},_W={exports:{}};function EW(){return yW||(yW=1,function(e,t){e.exports=function(e){return function(t){var n=e,r=n.lib,i=r.Base,a=r.WordArray,s=n.x64={};s.Word=i.extend({init:function(e,t){this.high=e,this.low=t}}),s.WordArray=i.extend({init:function(e,n){e=this.words=e||[],this.sigBytes=n!=t?n:8*e.length},toX32:function(){for(var e=this.words,t=e.length,n=[],r=0;r<t;r++){var i=e[r];n.push(i.high),n.push(i.low)}return a.create(n,this.sigBytes)},clone:function(){for(var e=i.clone.call(this),t=e.words=this.words.slice(0),n=t.length,r=0;r<n;r++)t[r]=t[r].clone();return e}})}(),e}(aD)}(_W)),_W.exports}var TW,AW={exports:{}};function RW(){return TW||(TW=1,function(e,t){e.exports=function(e){return function(){if("function"==typeof ArrayBuffer){var t=e.lib.WordArray,n=t.init,r=t.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var t=e.byteLength,r=[],i=0;i<t;i++)r[i>>>2]|=e[i]<<24-i%4*8;n.call(this,r,t)}else n.apply(this,arguments)};r.prototype=t}}(),e.lib.WordArray}(aD)}(AW)),AW.exports}var SW,kW={exports:{}};function OW(){return SW||(SW=1,function(e,t){e.exports=function(e){return function(){var t=e,n=t.lib.WordArray,r=t.enc;function i(e){return e<<8&4278255360|e>>>8&16711935}r.Utf16=r.Utf16BE={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i+=2){var a=t[i>>>2]>>>16-i%4*8&65535;r.push(String.fromCharCode(a))}return r.join("")},parse:function(e){for(var t=e.length,r=[],i=0;i<t;i++)r[i>>>1]|=e.charCodeAt(i)<<16-i%2*16;return n.create(r,2*t)}},r.Utf16LE={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],a=0;a<n;a+=2){var s=i(t[a>>>2]>>>16-a%4*8&65535);r.push(String.fromCharCode(s))}return r.join("")},parse:function(e){for(var t=e.length,r=[],a=0;a<t;a++)r[a>>>1]|=i(e.charCodeAt(a)<<16-a%2*16);return n.create(r,2*t)}}}(),e.enc.Utf16}(aD)}(kW)),kW.exports}var IW,xW={exports:{}};function CW(){return IW||(IW=1,function(e,t){e.exports=function(e){return function(){var t=e,n=t.lib.WordArray;function r(e,t,r){for(var i=[],a=0,s=0;s<t;s++)if(s%4){var o=r[e.charCodeAt(s-1)]<<s%4*2|r[e.charCodeAt(s)]>>>6-s%4*2;i[a>>>2]|=o<<24-a%4*8,a++}return n.create(i,a)}t.enc.Base64url={stringify:function(e,t){void 0===t&&(t=!0);var n=e.words,r=e.sigBytes,i=t?this._safe_map:this._map;e.clamp();for(var a=[],s=0;s<r;s+=3)for(var o=(n[s>>>2]>>>24-s%4*8&255)<<16|(n[s+1>>>2]>>>24-(s+1)%4*8&255)<<8|n[s+2>>>2]>>>24-(s+2)%4*8&255,c=0;c<4&&s+.75*c<r;c++)a.push(i.charAt(o>>>6*(3-c)&63));var u=i.charAt(64);if(u)for(;a.length%4;)a.push(u);return a.join("")},parse:function(e,t){void 0===t&&(t=!0);var n=e.length,i=t?this._safe_map:this._map,a=this._reverseMap;if(!a){a=this._reverseMap=[];for(var s=0;s<i.length;s++)a[i.charCodeAt(s)]=s}var o=i.charAt(64);if(o){var c=e.indexOf(o);-1!==c&&(n=c)}return r(e,n,a)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"}}(),e.enc.Base64url}(aD)}(xW)),xW.exports}var MW,PW={exports:{}};function NW(){return MW||(MW=1,function(e,t){e.exports=function(e){return function(t){var n=e,r=n.lib,i=r.WordArray,a=r.Hasher,s=n.algo,o=[];!function(){for(var e=0;e<64;e++)o[e]=4294967296*t.abs(t.sin(e+1))|0}();var c=s.MD5=a.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var r=t+n,i=e[r];e[r]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var a=this._hash.words,s=e[t+0],c=e[t+1],h=e[t+2],p=e[t+3],m=e[t+4],b=e[t+5],y=e[t+6],g=e[t+7],v=e[t+8],w=e[t+9],_=e[t+10],E=e[t+11],T=e[t+12],A=e[t+13],R=e[t+14],S=e[t+15],k=a[0],O=a[1],I=a[2],x=a[3];k=u(k,O,I,x,s,7,o[0]),x=u(x,k,O,I,c,12,o[1]),I=u(I,x,k,O,h,17,o[2]),O=u(O,I,x,k,p,22,o[3]),k=u(k,O,I,x,m,7,o[4]),x=u(x,k,O,I,b,12,o[5]),I=u(I,x,k,O,y,17,o[6]),O=u(O,I,x,k,g,22,o[7]),k=u(k,O,I,x,v,7,o[8]),x=u(x,k,O,I,w,12,o[9]),I=u(I,x,k,O,_,17,o[10]),O=u(O,I,x,k,E,22,o[11]),k=u(k,O,I,x,T,7,o[12]),x=u(x,k,O,I,A,12,o[13]),I=u(I,x,k,O,R,17,o[14]),k=d(k,O=u(O,I,x,k,S,22,o[15]),I,x,c,5,o[16]),x=d(x,k,O,I,y,9,o[17]),I=d(I,x,k,O,E,14,o[18]),O=d(O,I,x,k,s,20,o[19]),k=d(k,O,I,x,b,5,o[20]),x=d(x,k,O,I,_,9,o[21]),I=d(I,x,k,O,S,14,o[22]),O=d(O,I,x,k,m,20,o[23]),k=d(k,O,I,x,w,5,o[24]),x=d(x,k,O,I,R,9,o[25]),I=d(I,x,k,O,p,14,o[26]),O=d(O,I,x,k,v,20,o[27]),k=d(k,O,I,x,A,5,o[28]),x=d(x,k,O,I,h,9,o[29]),I=d(I,x,k,O,g,14,o[30]),k=f(k,O=d(O,I,x,k,T,20,o[31]),I,x,b,4,o[32]),x=f(x,k,O,I,v,11,o[33]),I=f(I,x,k,O,E,16,o[34]),O=f(O,I,x,k,R,23,o[35]),k=f(k,O,I,x,c,4,o[36]),x=f(x,k,O,I,m,11,o[37]),I=f(I,x,k,O,g,16,o[38]),O=f(O,I,x,k,_,23,o[39]),k=f(k,O,I,x,A,4,o[40]),x=f(x,k,O,I,s,11,o[41]),I=f(I,x,k,O,p,16,o[42]),O=f(O,I,x,k,y,23,o[43]),k=f(k,O,I,x,w,4,o[44]),x=f(x,k,O,I,T,11,o[45]),I=f(I,x,k,O,S,16,o[46]),k=l(k,O=f(O,I,x,k,h,23,o[47]),I,x,s,6,o[48]),x=l(x,k,O,I,g,10,o[49]),I=l(I,x,k,O,R,15,o[50]),O=l(O,I,x,k,b,21,o[51]),k=l(k,O,I,x,T,6,o[52]),x=l(x,k,O,I,p,10,o[53]),I=l(I,x,k,O,_,15,o[54]),O=l(O,I,x,k,c,21,o[55]),k=l(k,O,I,x,v,6,o[56]),x=l(x,k,O,I,S,10,o[57]),I=l(I,x,k,O,y,15,o[58]),O=l(O,I,x,k,A,21,o[59]),k=l(k,O,I,x,m,6,o[60]),x=l(x,k,O,I,E,10,o[61]),I=l(I,x,k,O,h,15,o[62]),O=l(O,I,x,k,w,21,o[63]),a[0]=a[0]+k|0,a[1]=a[1]+O|0,a[2]=a[2]+I|0,a[3]=a[3]+x|0},_doFinalize:function(){var e=this._data,n=e.words,r=8*this._nDataBytes,i=8*e.sigBytes;n[i>>>5]|=128<<24-i%32;var a=t.floor(r/4294967296),s=r;n[15+(i+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),n[14+(i+64>>>9<<4)]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),e.sigBytes=4*(n.length+1),this._process();for(var o=this._hash,c=o.words,u=0;u<4;u++){var d=c[u];c[u]=16711935&(d<<8|d>>>24)|4278255360&(d<<24|d>>>8)}return o},clone:function(){var e=a.clone.call(this);return e._hash=this._hash.clone(),e}});function u(e,t,n,r,i,a,s){var o=e+(t&n|~t&r)+i+s;return(o<<a|o>>>32-a)+t}function d(e,t,n,r,i,a,s){var o=e+(t&r|n&~r)+i+s;return(o<<a|o>>>32-a)+t}function f(e,t,n,r,i,a,s){var o=e+(t^n^r)+i+s;return(o<<a|o>>>32-a)+t}function l(e,t,n,r,i,a,s){var o=e+(n^(t|~r))+i+s;return(o<<a|o>>>32-a)+t}n.MD5=a._createHelper(c),n.HmacMD5=a._createHmacHelper(c)}(Math),e.MD5}(aD)}(PW)),PW.exports}var BW,DW={exports:{}};function LW(){return BW||(BW=1,function(e,t){e.exports=function(e){return function(){var t=e,n=t.lib,r=n.WordArray,i=n.Hasher,a=t.algo,s=[],o=a.SHA1=i.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],a=n[2],o=n[3],c=n[4],u=0;u<80;u++){if(u<16)s[u]=0|e[t+u];else{var d=s[u-3]^s[u-8]^s[u-14]^s[u-16];s[u]=d<<1|d>>>31}var f=(r<<5|r>>>27)+c+s[u];f+=u<20?1518500249+(i&a|~i&o):u<40?1859775393+(i^a^o):u<60?(i&a|i&o|a&o)-1894007588:(i^a^o)-899497514,c=o,o=a,a=i<<30|i>>>2,i=r,r=f}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+a|0,n[3]=n[3]+o|0,n[4]=n[4]+c|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[14+(r+64>>>9<<4)]=Math.floor(n/4294967296),t[15+(r+64>>>9<<4)]=n,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA1=i._createHelper(o),t.HmacSHA1=i._createHmacHelper(o)}(),e.SHA1}(aD)}(DW)),DW.exports}var FW,UW={exports:{}};var jW,qW={exports:{}};function zW(){return jW||(jW=1,function(e,t){e.exports=function(e){return function(){var t=e,n=t.lib.Hasher,r=t.x64,i=r.Word,a=r.WordArray,s=t.algo;function o(){return i.create.apply(i,arguments)}var c=[o(1116352408,3609767458),o(1899447441,602891725),o(3049323471,3964484399),o(3921009573,2173295548),o(961987163,4081628472),o(1508970993,3053834265),o(2453635748,2937671579),o(2870763221,3664609560),o(3624381080,2734883394),o(310598401,1164996542),o(607225278,1323610764),o(1426881987,3590304994),o(1925078388,4068182383),o(2162078206,991336113),o(2614888103,633803317),o(3248222580,3479774868),o(3835390401,2666613458),o(4022224774,944711139),o(264347078,2341262773),o(604807628,2007800933),o(770255983,1495990901),o(1249150122,1856431235),o(1555081692,3175218132),o(1996064986,2198950837),o(2554220882,3999719339),o(2821834349,766784016),o(2952996808,2566594879),o(3210313671,3203337956),o(3336571891,1034457026),o(3584528711,2466948901),o(113926993,3758326383),o(338241895,168717936),o(666307205,1188179964),o(773529912,1546045734),o(1294757372,1522805485),o(1396182291,2643833823),o(1695183700,2343527390),o(1986661051,1014477480),o(2177026350,1206759142),o(2456956037,344077627),o(2730485921,1290863460),o(2820302411,3158454273),o(3259730800,3505952657),o(3345764771,106217008),o(3516065817,3606008344),o(3600352804,1432725776),o(4094571909,1467031594),o(275423344,851169720),o(430227734,3100823752),o(506948616,1363258195),o(659060556,3750685593),o(883997877,3785050280),o(958139571,3318307427),o(1322822218,3812723403),o(1537002063,2003034995),o(1747873779,3602036899),o(1955562222,1575990012),o(2024104815,1125592928),o(2227730452,2716904306),o(2361852424,442776044),o(2428436474,593698344),o(2756734187,3733110249),o(3204031479,2999351573),o(3329325298,3815920427),o(3391569614,3928383900),o(3515267271,566280711),o(3940187606,3454069534),o(4118630271,4000239992),o(116418474,1914138554),o(174292421,2731055270),o(289380356,3203993006),o(460393269,320620315),o(685471733,587496836),o(852142971,1086792851),o(1017036298,365543100),o(1126000580,2618297676),o(1288033470,3409855158),o(1501505948,4234509866),o(1607167915,987167468),o(1816402316,1246189591)],u=[];!function(){for(var e=0;e<80;e++)u[e]=o()}();var d=s.SHA512=n.extend({_doReset:function(){this._hash=new a.init([new i.init(1779033703,4089235720),new i.init(3144134277,2227873595),new i.init(1013904242,4271175723),new i.init(2773480762,1595750129),new i.init(1359893119,2917565137),new i.init(2600822924,725511199),new i.init(528734635,4215389547),new i.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],a=n[2],s=n[3],o=n[4],d=n[5],f=n[6],l=n[7],h=r.high,p=r.low,m=i.high,b=i.low,y=a.high,g=a.low,v=s.high,w=s.low,_=o.high,E=o.low,T=d.high,A=d.low,R=f.high,S=f.low,k=l.high,O=l.low,I=h,x=p,C=m,M=b,P=y,N=g,B=v,D=w,L=_,F=E,U=T,j=A,q=R,z=S,H=k,G=O,W=0;W<80;W++){var V,K,X=u[W];if(W<16)K=X.high=0|e[t+2*W],V=X.low=0|e[t+2*W+1];else{var $=u[W-15],J=$.high,Y=$.low,Q=(J>>>1|Y<<31)^(J>>>8|Y<<24)^J>>>7,Z=(Y>>>1|J<<31)^(Y>>>8|J<<24)^(Y>>>7|J<<25),ee=u[W-2],te=ee.high,ne=ee.low,re=(te>>>19|ne<<13)^(te<<3|ne>>>29)^te>>>6,ie=(ne>>>19|te<<13)^(ne<<3|te>>>29)^(ne>>>6|te<<26),ae=u[W-7],se=ae.high,oe=ae.low,ce=u[W-16],ue=ce.high,de=ce.low;K=(K=(K=Q+se+((V=Z+oe)>>>0<Z>>>0?1:0))+re+((V+=ie)>>>0<ie>>>0?1:0))+ue+((V+=de)>>>0<de>>>0?1:0),X.high=K,X.low=V}var fe,le=L&U^~L&q,he=F&j^~F&z,pe=I&C^I&P^C&P,me=x&M^x&N^M&N,be=(I>>>28|x<<4)^(I<<30|x>>>2)^(I<<25|x>>>7),ye=(x>>>28|I<<4)^(x<<30|I>>>2)^(x<<25|I>>>7),ge=(L>>>14|F<<18)^(L>>>18|F<<14)^(L<<23|F>>>9),ve=(F>>>14|L<<18)^(F>>>18|L<<14)^(F<<23|L>>>9),we=c[W],_e=we.high,Ee=we.low,Te=H+ge+((fe=G+ve)>>>0<G>>>0?1:0),Ae=ye+me;H=q,G=z,q=U,z=j,U=L,j=F,L=B+(Te=(Te=(Te=Te+le+((fe+=he)>>>0<he>>>0?1:0))+_e+((fe+=Ee)>>>0<Ee>>>0?1:0))+K+((fe+=V)>>>0<V>>>0?1:0))+((F=D+fe|0)>>>0<D>>>0?1:0)|0,B=P,D=N,P=C,N=M,C=I,M=x,I=Te+(be+pe+(Ae>>>0<ye>>>0?1:0))+((x=fe+Ae|0)>>>0<fe>>>0?1:0)|0}p=r.low=p+x,r.high=h+I+(p>>>0<x>>>0?1:0),b=i.low=b+M,i.high=m+C+(b>>>0<M>>>0?1:0),g=a.low=g+N,a.high=y+P+(g>>>0<N>>>0?1:0),w=s.low=w+D,s.high=v+B+(w>>>0<D>>>0?1:0),E=o.low=E+F,o.high=_+L+(E>>>0<F>>>0?1:0),A=d.low=A+j,d.high=T+U+(A>>>0<j>>>0?1:0),S=f.low=S+z,f.high=R+q+(S>>>0<z>>>0?1:0),O=l.low=O+G,l.high=k+H+(O>>>0<G>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[30+(r+128>>>10<<5)]=Math.floor(n/4294967296),t[31+(r+128>>>10<<5)]=n,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32});t.SHA512=n._createHelper(d),t.HmacSHA512=n._createHmacHelper(d)}(),e.SHA512}(aD,EW())}(qW)),qW.exports}var HW,GW={exports:{}};var WW,VW={exports:{}};function KW(){return WW||(WW=1,function(e,t){e.exports=function(e){return function(t){var n=e,r=n.lib,i=r.WordArray,a=r.Hasher,s=n.x64.Word,o=n.algo,c=[],u=[],d=[];!function(){for(var e=1,t=0,n=0;n<24;n++){c[e+5*t]=(n+1)*(n+2)/2%64;var r=(2*e+3*t)%5;e=t%5,t=r}for(e=0;e<5;e++)for(t=0;t<5;t++)u[e+5*t]=t+(2*e+3*t)%5*5;for(var i=1,a=0;a<24;a++){for(var o=0,f=0,l=0;l<7;l++){if(1&i){var h=(1<<l)-1;h<32?f^=1<<h:o^=1<<h-32}128&i?i=i<<1^113:i<<=1}d[a]=s.create(o,f)}}();var f=[];!function(){for(var e=0;e<25;e++)f[e]=s.create()}();var l=o.SHA3=a.extend({cfg:a.cfg.extend({outputLength:512}),_doReset:function(){for(var e=this._state=[],t=0;t<25;t++)e[t]=new s.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(e,t){for(var n=this._state,r=this.blockSize/2,i=0;i<r;i++){var a=e[t+2*i],s=e[t+2*i+1];a=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),s=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),(O=n[i]).high^=s,O.low^=a}for(var o=0;o<24;o++){for(var l=0;l<5;l++){for(var h=0,p=0,m=0;m<5;m++)h^=(O=n[l+5*m]).high,p^=O.low;var b=f[l];b.high=h,b.low=p}for(l=0;l<5;l++){var y=f[(l+4)%5],g=f[(l+1)%5],v=g.high,w=g.low;for(h=y.high^(v<<1|w>>>31),p=y.low^(w<<1|v>>>31),m=0;m<5;m++)(O=n[l+5*m]).high^=h,O.low^=p}for(var _=1;_<25;_++){var E=(O=n[_]).high,T=O.low,A=c[_];A<32?(h=E<<A|T>>>32-A,p=T<<A|E>>>32-A):(h=T<<A-32|E>>>64-A,p=E<<A-32|T>>>64-A);var R=f[u[_]];R.high=h,R.low=p}var S=f[0],k=n[0];for(S.high=k.high,S.low=k.low,l=0;l<5;l++)for(m=0;m<5;m++){var O=n[_=l+5*m],I=f[_],x=f[(l+1)%5+5*m],C=f[(l+2)%5+5*m];O.high=I.high^~x.high&C.high,O.low=I.low^~x.low&C.low}O=n[0];var M=d[o];O.high^=M.high,O.low^=M.low}},_doFinalize:function(){var e=this._data,n=e.words;this._nDataBytes;var r=8*e.sigBytes,a=32*this.blockSize;n[r>>>5]|=1<<24-r%32,n[(t.ceil((r+1)/a)*a>>>5)-1]|=128,e.sigBytes=4*n.length,this._process();for(var s=this._state,o=this.cfg.outputLength/8,c=o/8,u=[],d=0;d<c;d++){var f=s[d],l=f.high,h=f.low;l=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8),h=16711935&(h<<8|h>>>24)|4278255360&(h<<24|h>>>8),u.push(h),u.push(l)}return new i.init(u,o)},clone:function(){for(var e=a.clone.call(this),t=e._state=this._state.slice(0),n=0;n<25;n++)t[n]=t[n].clone();return e}});n.SHA3=a._createHelper(l),n.HmacSHA3=a._createHmacHelper(l)}(Math),e.SHA3}(aD,EW())}(VW)),VW.exports}var XW,$W={exports:{}};var JW,YW={exports:{}};function QW(){return JW||(JW=1,function(e,t){e.exports=function(e){!function(){var t=e,n=t.lib.Base,r=t.enc.Utf8;t.algo.HMAC=n.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=r.parse(t));var n=e.blockSize,i=4*n;t.sigBytes>i&&(t=e.finalize(t)),t.clamp();for(var a=this._oKey=t.clone(),s=this._iKey=t.clone(),o=a.words,c=s.words,u=0;u<n;u++)o[u]^=1549556828,c[u]^=909522486;a.sigBytes=s.sigBytes=i,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,n=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(n))}})}()}(aD)}(YW)),YW.exports}var ZW,eV={exports:{}};var tV,nV={exports:{}};function rV(){return tV||(tV=1,function(e,t){e.exports=function(e){return function(){var t=e,n=t.lib,r=n.Base,i=n.WordArray,a=t.algo,s=a.MD5,o=a.EvpKDF=r.extend({cfg:r.extend({keySize:4,hasher:s,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n,r=this.cfg,a=r.hasher.create(),s=i.create(),o=s.words,c=r.keySize,u=r.iterations;o.length<c;){n&&a.update(n),n=a.update(e).finalize(t),a.reset();for(var d=1;d<u;d++)n=a.finalize(n),a.reset();s.concat(n)}return s.sigBytes=4*c,s}});t.EvpKDF=function(e,t,n){return o.create(n).compute(e,t)}}(),e.EvpKDF}(aD,LW(),QW())}(nV)),nV.exports}var iV,aV={exports:{}};function sV(){return iV||(iV=1,function(e,t){e.exports=function(e){e.lib.Cipher||function(t){var n=e,r=n.lib,i=r.Base,a=r.WordArray,s=r.BufferedBlockAlgorithm,o=n.enc;o.Utf8;var c=o.Base64,u=n.algo.EvpKDF,d=r.Cipher=s.extend({cfg:i.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,n){this.cfg=this.cfg.extend(n),this._xformMode=e,this._key=t,this.reset()},reset:function(){s.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?v:y}return function(t){return{encrypt:function(n,r,i){return e(r).encrypt(t,n,r,i)},decrypt:function(n,r,i){return e(r).decrypt(t,n,r,i)}}}}()});r.StreamCipher=d.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var f=n.mode={},l=r.BlockCipherMode=i.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),h=f.CBC=function(){var e=l.extend();function n(e,n,r){var i,a=this._iv;a?(i=a,this._iv=t):i=this._prevBlock;for(var s=0;s<r;s++)e[n+s]^=i[s]}return e.Encryptor=e.extend({processBlock:function(e,t){var r=this._cipher,i=r.blockSize;n.call(this,e,t,i),r.encryptBlock(e,t),this._prevBlock=e.slice(t,t+i)}}),e.Decryptor=e.extend({processBlock:function(e,t){var r=this._cipher,i=r.blockSize,a=e.slice(t,t+i);r.decryptBlock(e,t),n.call(this,e,t,i),this._prevBlock=a}}),e}(),p=(n.pad={}).Pkcs7={pad:function(e,t){for(var n=4*t,r=n-e.sigBytes%n,i=r<<24|r<<16|r<<8|r,s=[],o=0;o<r;o+=4)s.push(i);var c=a.create(s,r);e.concat(c)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}};r.BlockCipher=d.extend({cfg:d.cfg.extend({mode:h,padding:p}),reset:function(){var e;d.reset.call(this);var t=this.cfg,n=t.iv,r=t.mode;this._xformMode==this._ENC_XFORM_MODE?e=r.createEncryptor:(e=r.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==e?this._mode.init(this,n&&n.words):(this._mode=e.call(r,this,n&&n.words),this._mode.__creator=e)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e,t=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(t.pad(this._data,this.blockSize),e=this._process(!0)):(e=this._process(!0),t.unpad(e)),e},blockSize:4});var m=r.CipherParams=i.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),b=(n.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,n=e.salt;return(n?a.create([1398893684,1701076831]).concat(n).concat(t):t).toString(c)},parse:function(e){var t,n=c.parse(e),r=n.words;return 1398893684==r[0]&&1701076831==r[1]&&(t=a.create(r.slice(2,4)),r.splice(0,4),n.sigBytes-=16),m.create({ciphertext:n,salt:t})}},y=r.SerializableCipher=i.extend({cfg:i.extend({format:b}),encrypt:function(e,t,n,r){r=this.cfg.extend(r);var i=e.createEncryptor(n,r),a=i.finalize(t),s=i.cfg;return m.create({ciphertext:a,key:n,iv:s.iv,algorithm:e,mode:s.mode,padding:s.padding,blockSize:e.blockSize,formatter:r.format})},decrypt:function(e,t,n,r){return r=this.cfg.extend(r),t=this._parse(t,r.format),e.createDecryptor(n,r).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),g=(n.kdf={}).OpenSSL={execute:function(e,t,n,r,i){if(r||(r=a.random(8)),i)s=u.create({keySize:t+n,hasher:i}).compute(e,r);else var s=u.create({keySize:t+n}).compute(e,r);var o=a.create(s.words.slice(t),4*n);return s.sigBytes=4*t,m.create({key:s,iv:o,salt:r})}},v=r.PasswordBasedCipher=y.extend({cfg:y.cfg.extend({kdf:g}),encrypt:function(e,t,n,r){var i=(r=this.cfg.extend(r)).kdf.execute(n,e.keySize,e.ivSize,r.salt,r.hasher);r.iv=i.iv;var a=y.encrypt.call(this,e,t,i.key,r);return a.mixIn(i),a},decrypt:function(e,t,n,r){r=this.cfg.extend(r),t=this._parse(t,r.format);var i=r.kdf.execute(n,e.keySize,e.ivSize,t.salt,r.hasher);return r.iv=i.iv,y.decrypt.call(this,e,t,i.key,r)}})}()}(aD,rV())}(aV)),aV.exports}var oV,cV={exports:{}};function uV(){return oV||(oV=1,function(e,t){e.exports=function(e){return e.mode.CFB=function(){var t=e.lib.BlockCipherMode.extend();function n(e,t,n,r){var i,a=this._iv;a?(i=a.slice(0),this._iv=void 0):i=this._prevBlock,r.encryptBlock(i,0);for(var s=0;s<n;s++)e[t+s]^=i[s]}return t.Encryptor=t.extend({processBlock:function(e,t){var r=this._cipher,i=r.blockSize;n.call(this,e,t,i,r),this._prevBlock=e.slice(t,t+i)}}),t.Decryptor=t.extend({processBlock:function(e,t){var r=this._cipher,i=r.blockSize,a=e.slice(t,t+i);n.call(this,e,t,i,r),this._prevBlock=a}}),t}(),e.mode.CFB}(aD,sV())}(cV)),cV.exports}var dV,fV={exports:{}};function lV(){return dV||(dV=1,function(e,t){e.exports=function(e){return e.mode.CTR=(t=e.lib.BlockCipherMode.extend(),n=t.Encryptor=t.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize,i=this._iv,a=this._counter;i&&(a=this._counter=i.slice(0),this._iv=void 0);var s=a.slice(0);n.encryptBlock(s,0),a[r-1]=a[r-1]+1|0;for(var o=0;o<r;o++)e[t+o]^=s[o]}}),t.Decryptor=n,t),e.mode.CTR;var t,n}(aD,sV())}(fV)),fV.exports}var hV,pV={exports:{}};function mV(){return hV||(hV=1,function(e,t){e.exports=function(e){
/** @preserve
  			 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
  			 * derived from CryptoJS.mode.CTR
  			 * Jan Hruby jhruby.web@gmail.com
  			 */
return e.mode.CTRGladman=function(){var t=e.lib.BlockCipherMode.extend();function n(e){if(255==(e>>24&255)){var t=e>>16&255,n=e>>8&255,r=255&e;255===t?(t=0,255===n?(n=0,255===r?r=0:++r):++n):++t,e=0,e+=t<<16,e+=n<<8,e+=r}else e+=1<<24;return e}function r(e){return 0===(e[0]=n(e[0]))&&(e[1]=n(e[1])),e}var i=t.Encryptor=t.extend({processBlock:function(e,t){var n=this._cipher,i=n.blockSize,a=this._iv,s=this._counter;a&&(s=this._counter=a.slice(0),this._iv=void 0),r(s);var o=s.slice(0);n.encryptBlock(o,0);for(var c=0;c<i;c++)e[t+c]^=o[c]}});return t.Decryptor=i,t}(),e.mode.CTRGladman}(aD,sV())}(pV)),pV.exports}var bV,yV={exports:{}};function gV(){return bV||(bV=1,function(e,t){e.exports=function(e){return e.mode.OFB=(t=e.lib.BlockCipherMode.extend(),n=t.Encryptor=t.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize,i=this._iv,a=this._keystream;i&&(a=this._keystream=i.slice(0),this._iv=void 0),n.encryptBlock(a,0);for(var s=0;s<r;s++)e[t+s]^=a[s]}}),t.Decryptor=n,t),e.mode.OFB;var t,n}(aD,sV())}(yV)),yV.exports}var vV,wV={exports:{}};var _V,EV={exports:{}};var TV,AV={exports:{}};var RV,SV={exports:{}};var kV,OV={exports:{}};var IV,xV={exports:{}};var CV,MV={exports:{}};var PV,NV={exports:{}};var BV,DV={exports:{}};function LV(){return BV||(BV=1,function(e,t){e.exports=function(e){return function(){var t=e,n=t.lib,r=n.WordArray,i=n.BlockCipher,a=t.algo,s=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],o=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],c=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],u=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],d=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],f=a.DES=i.extend({_doReset:function(){for(var e=this._key.words,t=[],n=0;n<56;n++){var r=s[n]-1;t[n]=e[r>>>5]>>>31-r%32&1}for(var i=this._subKeys=[],a=0;a<16;a++){var u=i[a]=[],d=c[a];for(n=0;n<24;n++)u[n/6|0]|=t[(o[n]-1+d)%28]<<31-n%6,u[4+(n/6|0)]|=t[28+(o[n+24]-1+d)%28]<<31-n%6;for(u[0]=u[0]<<1|u[0]>>>31,n=1;n<7;n++)u[n]=u[n]>>>4*(n-1)+3;u[7]=u[7]<<5|u[7]>>>27}var f=this._invSubKeys=[];for(n=0;n<16;n++)f[n]=i[15-n]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._subKeys)},decryptBlock:function(e,t){this._doCryptBlock(e,t,this._invSubKeys)},_doCryptBlock:function(e,t,n){this._lBlock=e[t],this._rBlock=e[t+1],l.call(this,4,252645135),l.call(this,16,65535),h.call(this,2,858993459),h.call(this,8,16711935),l.call(this,1,1431655765);for(var r=0;r<16;r++){for(var i=n[r],a=this._lBlock,s=this._rBlock,o=0,c=0;c<8;c++)o|=u[c][((s^i[c])&d[c])>>>0];this._lBlock=s,this._rBlock=a^o}var f=this._lBlock;this._lBlock=this._rBlock,this._rBlock=f,l.call(this,1,1431655765),h.call(this,8,16711935),h.call(this,2,858993459),l.call(this,16,65535),l.call(this,4,252645135),e[t]=this._lBlock,e[t+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function l(e,t){var n=(this._lBlock>>>e^this._rBlock)&t;this._rBlock^=n,this._lBlock^=n<<e}function h(e,t){var n=(this._rBlock>>>e^this._lBlock)&t;this._lBlock^=n,this._rBlock^=n<<e}t.DES=i._createHelper(f);var p=a.TripleDES=i.extend({_doReset:function(){var e=this._key.words;if(2!==e.length&&4!==e.length&&e.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var t=e.slice(0,2),n=e.length<4?e.slice(0,2):e.slice(2,4),i=e.length<6?e.slice(0,2):e.slice(4,6);this._des1=f.createEncryptor(r.create(t)),this._des2=f.createEncryptor(r.create(n)),this._des3=f.createEncryptor(r.create(i))},encryptBlock:function(e,t){this._des1.encryptBlock(e,t),this._des2.decryptBlock(e,t),this._des3.encryptBlock(e,t)},decryptBlock:function(e,t){this._des3.decryptBlock(e,t),this._des2.encryptBlock(e,t),this._des1.decryptBlock(e,t)},keySize:6,ivSize:2,blockSize:2});t.TripleDES=i._createHelper(p)}(),e.TripleDES}(aD,NW(),rV(),sV())}(DV)),DV.exports}var FV,UV={exports:{}};var jV,qV={exports:{}};var zV,HV={exports:{}};var GV,WV={exports:{}};function VV(){return GV||(GV=1,function(e,t){e.exports=function(e){return function(){var t=e,n=t.lib.BlockCipher,r=t.algo;const i=16,a=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],s=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var o={pbox:[],sbox:[]};function c(e,t){let n=t>>24&255,r=t>>16&255,i=t>>8&255,a=255&t,s=e.sbox[0][n]+e.sbox[1][r];return s^=e.sbox[2][i],s+=e.sbox[3][a],s}function u(e,t,n){let r,a=t,s=n;for(let t=0;t<i;++t)a^=e.pbox[t],s=c(e,a)^s,r=a,a=s,s=r;return r=a,a=s,s=r,s^=e.pbox[i],a^=e.pbox[i+1],{left:a,right:s}}function d(e,t,n){let r,a=t,s=n;for(let t=i+1;t>1;--t)a^=e.pbox[t],s=c(e,a)^s,r=a,a=s,s=r;return r=a,a=s,s=r,s^=e.pbox[1],a^=e.pbox[0],{left:a,right:s}}function f(e,t,n){for(let t=0;t<4;t++){e.sbox[t]=[];for(let n=0;n<256;n++)e.sbox[t][n]=s[t][n]}let r=0;for(let s=0;s<i+2;s++)e.pbox[s]=a[s]^t[r],r++,r>=n&&(r=0);let o=0,c=0,d=0;for(let t=0;t<i+2;t+=2)d=u(e,o,c),o=d.left,c=d.right,e.pbox[t]=o,e.pbox[t+1]=c;for(let t=0;t<4;t++)for(let n=0;n<256;n+=2)d=u(e,o,c),o=d.left,c=d.right,e.sbox[t][n]=o,e.sbox[t][n+1]=c;return!0}var l=r.Blowfish=n.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var e=this._keyPriorReset=this._key,t=e.words,n=e.sigBytes/4;f(o,t,n)}},encryptBlock:function(e,t){var n=u(o,e[t],e[t+1]);e[t]=n.left,e[t+1]=n.right},decryptBlock:function(e,t){var n=d(o,e[t],e[t+1]);e[t]=n.left,e[t+1]=n.right},blockSize:2,keySize:4,ivSize:2});t.Blowfish=n._createHelper(l)}(),e.Blowfish}(aD,NW(),rV(),sV())}(WV)),WV.exports}!function(e,t){e.exports=function(e){return e}(aD,EW(),RW(),OW(),CW(),NW(),LW(),FW||(FW=1,function(e,t){e.exports=function(e){return function(){var t=e,n=t.lib.WordArray,r=t.algo,i=r.SHA256,a=r.SHA224=i.extend({_doReset:function(){this._hash=new n.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var e=i._doFinalize.call(this);return e.sigBytes-=4,e}});t.SHA224=i._createHelper(a),t.HmacSHA224=i._createHmacHelper(a)}(),e.SHA224}(aD)}(UW)),zW(),HW||(HW=1,function(e,t){e.exports=function(e){return function(){var t=e,n=t.x64,r=n.Word,i=n.WordArray,a=t.algo,s=a.SHA512,o=a.SHA384=s.extend({_doReset:function(){this._hash=new i.init([new r.init(3418070365,3238371032),new r.init(1654270250,914150663),new r.init(2438529370,812702999),new r.init(355462360,4144912697),new r.init(1731405415,4290775857),new r.init(2394180231,1750603025),new r.init(3675008525,1694076839),new r.init(1203062813,3204075428)])},_doFinalize:function(){var e=s._doFinalize.call(this);return e.sigBytes-=16,e}});t.SHA384=s._createHelper(o),t.HmacSHA384=s._createHmacHelper(o)}(),e.SHA384}(aD,EW(),zW())}(GW)),KW(),XW||(XW=1,function(e,t){e.exports=function(e){
/** @preserve
  			(c) 2012 by Cdric Mesnil. All rights reserved.

  			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

  			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
  			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

  			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  			*/
return function(t){var n=e,r=n.lib,i=r.WordArray,a=r.Hasher,s=n.algo,o=i.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),c=i.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),u=i.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),d=i.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),f=i.create([0,1518500249,1859775393,2400959708,2840853838]),l=i.create([1352829926,1548603684,1836072691,2053994217,0]),h=s.RIPEMD160=a.extend({_doReset:function(){this._hash=i.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var r=t+n,i=e[r];e[r]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var a,s,h,w,_,E,T,A,R,S,k,O=this._hash.words,I=f.words,x=l.words,C=o.words,M=c.words,P=u.words,N=d.words;for(E=a=O[0],T=s=O[1],A=h=O[2],R=w=O[3],S=_=O[4],n=0;n<80;n+=1)k=a+e[t+C[n]]|0,k+=n<16?p(s,h,w)+I[0]:n<32?m(s,h,w)+I[1]:n<48?b(s,h,w)+I[2]:n<64?y(s,h,w)+I[3]:g(s,h,w)+I[4],k=(k=v(k|=0,P[n]))+_|0,a=_,_=w,w=v(h,10),h=s,s=k,k=E+e[t+M[n]]|0,k+=n<16?g(T,A,R)+x[0]:n<32?y(T,A,R)+x[1]:n<48?b(T,A,R)+x[2]:n<64?m(T,A,R)+x[3]:p(T,A,R)+x[4],k=(k=v(k|=0,N[n]))+S|0,E=S,S=R,R=v(A,10),A=T,T=k;k=O[1]+h+R|0,O[1]=O[2]+w+S|0,O[2]=O[3]+_+E|0,O[3]=O[4]+a+T|0,O[4]=O[0]+s+A|0,O[0]=k},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;t[r>>>5]|=128<<24-r%32,t[14+(r+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),e.sigBytes=4*(t.length+1),this._process();for(var i=this._hash,a=i.words,s=0;s<5;s++){var o=a[s];a[s]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8)}return i},clone:function(){var e=a.clone.call(this);return e._hash=this._hash.clone(),e}});function p(e,t,n){return e^t^n}function m(e,t,n){return e&t|~e&n}function b(e,t,n){return(e|~t)^n}function y(e,t,n){return e&n|t&~n}function g(e,t,n){return e^(t|~n)}function v(e,t){return e<<t|e>>>32-t}n.RIPEMD160=a._createHelper(h),n.HmacRIPEMD160=a._createHmacHelper(h)}(),e.RIPEMD160}(aD)}($W)),QW(),ZW||(ZW=1,function(e,t){e.exports=function(e){return function(){var t=e,n=t.lib,r=n.Base,i=n.WordArray,a=t.algo,s=a.SHA256,o=a.HMAC,c=a.PBKDF2=r.extend({cfg:r.extend({keySize:4,hasher:s,iterations:25e4}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n=this.cfg,r=o.create(n.hasher,e),a=i.create(),s=i.create([1]),c=a.words,u=s.words,d=n.keySize,f=n.iterations;c.length<d;){var l=r.update(t).finalize(s);r.reset();for(var h=l.words,p=h.length,m=l,b=1;b<f;b++){m=r.finalize(m),r.reset();for(var y=m.words,g=0;g<p;g++)h[g]^=y[g]}a.concat(l),u[0]++}return a.sigBytes=4*d,a}});t.PBKDF2=function(e,t,n){return c.create(n).compute(e,t)}}(),e.PBKDF2}(aD,QW())}(eV)),rV(),sV(),uV(),lV(),mV(),gV(),vV||(vV=1,function(e,t){e.exports=function(e){return e.mode.ECB=((t=e.lib.BlockCipherMode.extend()).Encryptor=t.extend({processBlock:function(e,t){this._cipher.encryptBlock(e,t)}}),t.Decryptor=t.extend({processBlock:function(e,t){this._cipher.decryptBlock(e,t)}}),t),e.mode.ECB;var t}(aD,sV())}(wV)),_V||(_V=1,function(e,t){e.exports=function(e){return e.pad.AnsiX923={pad:function(e,t){var n=e.sigBytes,r=4*t,i=r-n%r,a=n+i-1;e.clamp(),e.words[a>>>2]|=i<<24-a%4*8,e.sigBytes+=i},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},e.pad.Ansix923}(aD,sV())}(EV)),TV||(TV=1,function(e,t){e.exports=function(e){return e.pad.Iso10126={pad:function(t,n){var r=4*n,i=r-t.sigBytes%r;t.concat(e.lib.WordArray.random(i-1)).concat(e.lib.WordArray.create([i<<24],1))},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},e.pad.Iso10126}(aD,sV())}(AV)),RV||(RV=1,function(e,t){e.exports=function(e){return e.pad.Iso97971={pad:function(t,n){t.concat(e.lib.WordArray.create([2147483648],1)),e.pad.ZeroPadding.pad(t,n)},unpad:function(t){e.pad.ZeroPadding.unpad(t),t.sigBytes--}},e.pad.Iso97971}(aD,sV())}(SV)),kV||(kV=1,function(e,t){e.exports=function(e){return e.pad.ZeroPadding={pad:function(e,t){var n=4*t;e.clamp(),e.sigBytes+=n-(e.sigBytes%n||n)},unpad:function(e){var t=e.words,n=e.sigBytes-1;for(n=e.sigBytes-1;n>=0;n--)if(t[n>>>2]>>>24-n%4*8&255){e.sigBytes=n+1;break}}},e.pad.ZeroPadding}(aD,sV())}(OV)),IV||(IV=1,function(e,t){e.exports=function(e){return e.pad.NoPadding={pad:function(){},unpad:function(){}},e.pad.NoPadding}(aD,sV())}(xV)),CV||(CV=1,function(e,t){e.exports=function(e){return function(t){var n=e,r=n.lib.CipherParams,i=n.enc.Hex;n.format.Hex={stringify:function(e){return e.ciphertext.toString(i)},parse:function(e){var t=i.parse(e);return r.create({ciphertext:t})}}}(),e.format.Hex}(aD,sV())}(MV)),PV||(PV=1,function(e,t){e.exports=function(e){return function(){var t=e,n=t.lib.BlockCipher,r=t.algo,i=[],a=[],s=[],o=[],c=[],u=[],d=[],f=[],l=[],h=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var n=0,r=0;for(t=0;t<256;t++){var p=r^r<<1^r<<2^r<<3^r<<4;p=p>>>8^255&p^99,i[n]=p,a[p]=n;var m=e[n],b=e[m],y=e[b],g=257*e[p]^16843008*p;s[n]=g<<24|g>>>8,o[n]=g<<16|g>>>16,c[n]=g<<8|g>>>24,u[n]=g,g=16843009*y^65537*b^257*m^16843008*n,d[p]=g<<24|g>>>8,f[p]=g<<16|g>>>16,l[p]=g<<8|g>>>24,h[p]=g,n?(n=m^e[e[e[y^m]]],r^=e[e[r]]):n=r=1}}();var p=[0,1,2,4,8,16,32,64,128,27,54],m=r.AES=n.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,n=e.sigBytes/4,r=4*((this._nRounds=n+6)+1),a=this._keySchedule=[],s=0;s<r;s++)s<n?a[s]=t[s]:(u=a[s-1],s%n?n>6&&s%n==4&&(u=i[u>>>24]<<24|i[u>>>16&255]<<16|i[u>>>8&255]<<8|i[255&u]):(u=i[(u=u<<8|u>>>24)>>>24]<<24|i[u>>>16&255]<<16|i[u>>>8&255]<<8|i[255&u],u^=p[s/n|0]<<24),a[s]=a[s-n]^u);for(var o=this._invKeySchedule=[],c=0;c<r;c++){if(s=r-c,c%4)var u=a[s];else u=a[s-4];o[c]=c<4||s<=4?u:d[i[u>>>24]]^f[i[u>>>16&255]]^l[i[u>>>8&255]]^h[i[255&u]]}}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,s,o,c,u,i)},decryptBlock:function(e,t){var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n,this._doCryptBlock(e,t,this._invKeySchedule,d,f,l,h,a),n=e[t+1],e[t+1]=e[t+3],e[t+3]=n},_doCryptBlock:function(e,t,n,r,i,a,s,o){for(var c=this._nRounds,u=e[t]^n[0],d=e[t+1]^n[1],f=e[t+2]^n[2],l=e[t+3]^n[3],h=4,p=1;p<c;p++){var m=r[u>>>24]^i[d>>>16&255]^a[f>>>8&255]^s[255&l]^n[h++],b=r[d>>>24]^i[f>>>16&255]^a[l>>>8&255]^s[255&u]^n[h++],y=r[f>>>24]^i[l>>>16&255]^a[u>>>8&255]^s[255&d]^n[h++],g=r[l>>>24]^i[u>>>16&255]^a[d>>>8&255]^s[255&f]^n[h++];u=m,d=b,f=y,l=g}m=(o[u>>>24]<<24|o[d>>>16&255]<<16|o[f>>>8&255]<<8|o[255&l])^n[h++],b=(o[d>>>24]<<24|o[f>>>16&255]<<16|o[l>>>8&255]<<8|o[255&u])^n[h++],y=(o[f>>>24]<<24|o[l>>>16&255]<<16|o[u>>>8&255]<<8|o[255&d])^n[h++],g=(o[l>>>24]<<24|o[u>>>16&255]<<16|o[d>>>8&255]<<8|o[255&f])^n[h++],e[t]=m,e[t+1]=b,e[t+2]=y,e[t+3]=g},keySize:8});t.AES=n._createHelper(m)}(),e.AES}(aD,NW(),rV(),sV())}(NV)),LV(),FV||(FV=1,function(e,t){e.exports=function(e){return function(){var t=e,n=t.lib.StreamCipher,r=t.algo,i=r.RC4=n.extend({_doReset:function(){for(var e=this._key,t=e.words,n=e.sigBytes,r=this._S=[],i=0;i<256;i++)r[i]=i;i=0;for(var a=0;i<256;i++){var s=i%n,o=t[s>>>2]>>>24-s%4*8&255;a=(a+r[i]+o)%256;var c=r[i];r[i]=r[a],r[a]=c}this._i=this._j=0},_doProcessBlock:function(e,t){e[t]^=a.call(this)},keySize:8,ivSize:0});function a(){for(var e=this._S,t=this._i,n=this._j,r=0,i=0;i<4;i++){n=(n+e[t=(t+1)%256])%256;var a=e[t];e[t]=e[n],e[n]=a,r|=e[(e[t]+e[n])%256]<<24-8*i}return this._i=t,this._j=n,r}t.RC4=n._createHelper(i);var s=r.RC4Drop=i.extend({cfg:i.cfg.extend({drop:192}),_doReset:function(){i._doReset.call(this);for(var e=this.cfg.drop;e>0;e--)a.call(this)}});t.RC4Drop=n._createHelper(s)}(),e.RC4}(aD,NW(),rV(),sV())}(UV)),jV||(jV=1,function(e,t){e.exports=function(e){return function(){var t=e,n=t.lib.StreamCipher,r=t.algo,i=[],a=[],s=[],o=r.Rabbit=n.extend({_doReset:function(){for(var e=this._key.words,t=this.cfg.iv,n=0;n<4;n++)e[n]=16711935&(e[n]<<8|e[n]>>>24)|4278255360&(e[n]<<24|e[n]>>>8);var r=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],i=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];for(this._b=0,n=0;n<4;n++)c.call(this);for(n=0;n<8;n++)i[n]^=r[n+4&7];if(t){var a=t.words,s=a[0],o=a[1],u=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),d=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),f=u>>>16|4294901760&d,l=d<<16|65535&u;for(i[0]^=u,i[1]^=f,i[2]^=d,i[3]^=l,i[4]^=u,i[5]^=f,i[6]^=d,i[7]^=l,n=0;n<4;n++)c.call(this)}},_doProcessBlock:function(e,t){var n=this._X;c.call(this),i[0]=n[0]^n[5]>>>16^n[3]<<16,i[1]=n[2]^n[7]>>>16^n[5]<<16,i[2]=n[4]^n[1]>>>16^n[7]<<16,i[3]=n[6]^n[3]>>>16^n[1]<<16;for(var r=0;r<4;r++)i[r]=16711935&(i[r]<<8|i[r]>>>24)|4278255360&(i[r]<<24|i[r]>>>8),e[t+r]^=i[r]},blockSize:4,ivSize:2});function c(){for(var e=this._X,t=this._C,n=0;n<8;n++)a[n]=t[n];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<a[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<a[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<a[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<a[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<a[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<a[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<a[6]>>>0?1:0)|0,this._b=t[7]>>>0<a[7]>>>0?1:0,n=0;n<8;n++){var r=e[n]+t[n],i=65535&r,o=r>>>16,c=((i*i>>>17)+i*o>>>15)+o*o,u=((4294901760&r)*r|0)+((65535&r)*r|0);s[n]=c^u}e[0]=s[0]+(s[7]<<16|s[7]>>>16)+(s[6]<<16|s[6]>>>16)|0,e[1]=s[1]+(s[0]<<8|s[0]>>>24)+s[7]|0,e[2]=s[2]+(s[1]<<16|s[1]>>>16)+(s[0]<<16|s[0]>>>16)|0,e[3]=s[3]+(s[2]<<8|s[2]>>>24)+s[1]|0,e[4]=s[4]+(s[3]<<16|s[3]>>>16)+(s[2]<<16|s[2]>>>16)|0,e[5]=s[5]+(s[4]<<8|s[4]>>>24)+s[3]|0,e[6]=s[6]+(s[5]<<16|s[5]>>>16)+(s[4]<<16|s[4]>>>16)|0,e[7]=s[7]+(s[6]<<8|s[6]>>>24)+s[5]|0}t.Rabbit=n._createHelper(o)}(),e.Rabbit}(aD,NW(),rV(),sV())}(qV)),zV||(zV=1,function(e,t){e.exports=function(e){return function(){var t=e,n=t.lib.StreamCipher,r=t.algo,i=[],a=[],s=[],o=r.RabbitLegacy=n.extend({_doReset:function(){var e=this._key.words,t=this.cfg.iv,n=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],r=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];this._b=0;for(var i=0;i<4;i++)c.call(this);for(i=0;i<8;i++)r[i]^=n[i+4&7];if(t){var a=t.words,s=a[0],o=a[1],u=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),d=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),f=u>>>16|4294901760&d,l=d<<16|65535&u;for(r[0]^=u,r[1]^=f,r[2]^=d,r[3]^=l,r[4]^=u,r[5]^=f,r[6]^=d,r[7]^=l,i=0;i<4;i++)c.call(this)}},_doProcessBlock:function(e,t){var n=this._X;c.call(this),i[0]=n[0]^n[5]>>>16^n[3]<<16,i[1]=n[2]^n[7]>>>16^n[5]<<16,i[2]=n[4]^n[1]>>>16^n[7]<<16,i[3]=n[6]^n[3]>>>16^n[1]<<16;for(var r=0;r<4;r++)i[r]=16711935&(i[r]<<8|i[r]>>>24)|4278255360&(i[r]<<24|i[r]>>>8),e[t+r]^=i[r]},blockSize:4,ivSize:2});function c(){for(var e=this._X,t=this._C,n=0;n<8;n++)a[n]=t[n];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<a[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<a[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<a[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<a[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<a[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<a[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<a[6]>>>0?1:0)|0,this._b=t[7]>>>0<a[7]>>>0?1:0,n=0;n<8;n++){var r=e[n]+t[n],i=65535&r,o=r>>>16,c=((i*i>>>17)+i*o>>>15)+o*o,u=((4294901760&r)*r|0)+((65535&r)*r|0);s[n]=c^u}e[0]=s[0]+(s[7]<<16|s[7]>>>16)+(s[6]<<16|s[6]>>>16)|0,e[1]=s[1]+(s[0]<<8|s[0]>>>24)+s[7]|0,e[2]=s[2]+(s[1]<<16|s[1]>>>16)+(s[0]<<16|s[0]>>>16)|0,e[3]=s[3]+(s[2]<<8|s[2]>>>24)+s[1]|0,e[4]=s[4]+(s[3]<<16|s[3]>>>16)+(s[2]<<16|s[2]>>>16)|0,e[5]=s[5]+(s[4]<<8|s[4]>>>24)+s[3]|0,e[6]=s[6]+(s[5]<<16|s[5]>>>16)+(s[4]<<16|s[4]>>>16)|0,e[7]=s[7]+(s[6]<<8|s[6]>>>24)+s[5]|0}t.RabbitLegacy=n._createHelper(o)}(),e.RabbitLegacy}(aD,NW(),rV(),sV())}(HV)),VV())}(wW);var KV=wW.exports,XV=ir&&ir.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(vW,"__esModule",{value:!0}),vW.Base=void 0;const $V=ci,JV=XV(KV);class YV{print(){YV.print(this)}bufferIndexOf(e,t,n=!1){if(n)return this.binarySearch(e,t,$V.Buffer.compare);return this.linearSearch(e,t,((e,t)=>e.equals(t)))}static binarySearch(e,t,n){let r=0,i=e.length-1;for(;r<=i;){const a=Math.floor((r+i)/2),s=n(e[a],t);if(0===s){for(let r=a-1;r>=0;r--)if(0!==n(e[r],t))return r+1;return 0}s<0?r=a+1:i=a-1}return-1}binarySearch(e,t,n){return YV.binarySearch(e,t,n)}static linearSearch(e,t,n){for(let r=0;r<e.length;r++)if(n(e[r],t))return r;return-1}linearSearch(e,t,n){return YV.linearSearch(e,t,n)}static bufferify(e){if(!$V.Buffer.isBuffer(e)){if("object"==typeof e&&e.words)return $V.Buffer.from(e.toString(JV.default.enc.Hex),"hex");if(YV.isHexString(e))return $V.Buffer.from(e.replace(/^0x/,""),"hex");if("string"==typeof e)return $V.Buffer.from(e);if("bigint"==typeof e)return $V.Buffer.from(e.toString(16),"hex");if(e instanceof Uint8Array)return $V.Buffer.from(e.buffer);if("number"==typeof e){let t=e.toString();return t.length%2&&(t=`0${t}`),$V.Buffer.from(t,"hex")}if(ArrayBuffer.isView(e))return $V.Buffer.from(e.buffer,e.byteOffset,e.byteLength)}return e}bigNumberify(e){return YV.bigNumberify(e)}static bigNumberify(e){if("bigint"==typeof e)return e;if("string"==typeof e)return e.startsWith("0x")&&YV.isHexString(e)?BigInt("0x"+e.replace("0x","").toString()):BigInt(e);if($V.Buffer.isBuffer(e))return BigInt("0x"+e.toString("hex"));if(e instanceof Uint8Array)return BigInt(e);if("number"==typeof e)return BigInt(e);throw new Error("cannot bigNumberify")}static isHexString(e){return"string"==typeof e&&/^(0x)?[0-9A-Fa-f]*$/.test(e)}static print(e){console.log(e.toString())}bufferToHex(e,t=!0){return YV.bufferToHex(e,t)}static bufferToHex(e,t=!0){return`${t?"0x":""}${(e||$V.Buffer.alloc(0)).toString("hex")}`}bufferify(e){return YV.bufferify(e)}bufferifyFn(e){return t=>{const n=e(t);return $V.Buffer.isBuffer(n)?n:this.isHexString(n)?$V.Buffer.from(n.replace("0x",""),"hex"):"string"==typeof n?$V.Buffer.from(n):"bigint"==typeof n?$V.Buffer.from(t.toString(16),"hex"):ArrayBuffer.isView(n)?$V.Buffer.from(n.buffer,n.byteOffset,n.byteLength):$V.Buffer.from(e(JV.default.enc.Hex.parse(t.toString("hex"))).toString(JV.default.enc.Hex),"hex")}}isHexString(e){return YV.isHexString(e)}log2(e){return 1===e?0:1+this.log2(e/2|0)}zip(e,t){return e.map(((e,n)=>[e,t[n]]))}static hexZeroPad(e,t){return"0x"+e.replace("0x","").padStart(t,"0")}}vW.Base=YV,vW.default=YV;var QV=ir&&ir.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(mW,"__esModule",{value:!0}),mW.MerkleTree=void 0;const ZV=ci,eK=QV((function(e){for(var t=new Buffer(e.length),n=0,r=e.length-1;n<=r;++n,--r)t[n]=e[r],t[r]=e[n];return t})),tK=QV(cD),nK=QV(gW),rK=QV(vW);let iK=class e extends rK.default{constructor(e,t=tK.default,n={}){if(super(),this.duplicateOdd=!1,this.concatenator=ZV.Buffer.concat,this.hashLeaves=!1,this.isBitcoinTree=!1,this.leaves=[],this.layers=[],this.sortLeaves=!1,this.sortPairs=!1,this.sort=!1,this.fillDefaultHash=null,this.complete=!1,n.complete){if(n.isBitcoinTree)throw new Error('option "complete" is incompatible with "isBitcoinTree"');if(n.duplicateOdd)throw new Error('option "complete" is incompatible with "duplicateOdd"')}if(this.isBitcoinTree=!!n.isBitcoinTree,this.hashLeaves=!!n.hashLeaves,this.sortLeaves=!!n.sortLeaves,this.sortPairs=!!n.sortPairs,this.complete=!!n.complete,n.fillDefaultHash)if("function"==typeof n.fillDefaultHash)this.fillDefaultHash=n.fillDefaultHash;else{if(!ZV.Buffer.isBuffer(n.fillDefaultHash)&&"string"!=typeof n.fillDefaultHash)throw new Error('method "fillDefaultHash" must be a function, Buffer, or string');this.fillDefaultHash=(e,t)=>n.fillDefaultHash}this.sort=!!n.sort,this.sort&&(this.sortLeaves=!0,this.sortPairs=!0),this.duplicateOdd=!!n.duplicateOdd,n.concatenator&&(this.concatenator=n.concatenator),this.hashFn=this.bufferifyFn(t),this.processLeaves(e)}getOptions(){var e,t;return{complete:this.complete,isBitcoinTree:this.isBitcoinTree,hashLeaves:this.hashLeaves,sortLeaves:this.sortLeaves,sortPairs:this.sortPairs,sort:this.sort,fillDefaultHash:null!==(t=null===(e=this.fillDefaultHash)||void 0===e?void 0:e.toString())&&void 0!==t?t:null,duplicateOdd:this.duplicateOdd}}processLeaves(e){if(this.hashLeaves&&(e=e.map(this.hashFn)),this.leaves=e.map(this.bufferify),this.sortLeaves&&(this.leaves=this.leaves.sort(ZV.Buffer.compare)),this.fillDefaultHash)for(let e=this.leaves.length;e<Math.pow(2,Math.ceil(Math.log2(this.leaves.length)));e++)this.leaves.push(this.bufferify(this.fillDefaultHash(e,this.hashFn)));this.createHashes(this.leaves)}createHashes(e){for(this.layers=[e];e.length>1;){const t=this.layers.length;this.layers.push([]);const n=this.complete&&1===t&&!Number.isInteger(Math.log2(e.length))?2*e.length-Math.pow(2,Math.ceil(Math.log2(e.length))):e.length;for(let r=0;r<e.length;r+=2){if(r>=n){this.layers[t].push(...e.slice(n));break}if(r+1===e.length&&e.length%2==1){const n=e[e.length-1];let i=n;if(this.isBitcoinTree){i=this.hashFn(this.concatenator([eK.default(n),eK.default(n)])),i=eK.default(this.hashFn(i)),this.layers[t].push(i);continue}if(!this.duplicateOdd){this.layers[t].push(e[r]);continue}}const i=e[r],a=r+1===e.length?i:e[r+1];let s=null;s=this.isBitcoinTree?[eK.default(i),eK.default(a)]:[i,a],this.sortPairs&&s.sort(ZV.Buffer.compare);let o=this.hashFn(this.concatenator(s));this.isBitcoinTree&&(o=eK.default(this.hashFn(o))),this.layers[t].push(o)}e=this.layers[t]}}addLeaf(e,t=!1){t&&(e=this.hashFn(e)),this.processLeaves(this.leaves.concat(e))}addLeaves(e,t=!1){t&&(e=e.map(this.hashFn)),this.processLeaves(this.leaves.concat(e))}getLeaves(e){return Array.isArray(e)?(this.hashLeaves&&(e=e.map(this.hashFn),this.sortLeaves&&(e=e.sort(ZV.Buffer.compare))),this.leaves.filter((t=>-1!==this.bufferIndexOf(e,t,this.sortLeaves)))):this.leaves}getLeaf(e){return e<0||e>this.leaves.length-1?ZV.Buffer.from([]):this.leaves[e]}getLeafIndex(e){e=this.bufferify(e);const t=this.getLeaves();for(let n=0;n<t.length;n++){if(t[n].equals(e))return n}return-1}getLeafCount(){return this.leaves.length}getHexLeaves(){return this.leaves.map((e=>this.bufferToHex(e)))}static marshalLeaves(t){return JSON.stringify(t.map((t=>e.bufferToHex(t))),null,2)}static unmarshalLeaves(t){let n=null;if("string"==typeof t)n=JSON.parse(t);else{if(!(t instanceof Object))throw new Error("Expected type of string or object");n=t}if(!n)return[];if(!Array.isArray(n))throw new Error("Expected JSON string to be array");return n.map(e.bufferify)}getLayers(){return this.layers}getHexLayers(){return this.layers.reduce(((e,t)=>(Array.isArray(t)?e.push(t.map((e=>this.bufferToHex(e)))):e.push(t),e)),[])}getLayersFlat(){const e=this.layers.reduce(((e,t)=>(Array.isArray(t)?e.unshift(...t):e.unshift(t),e)),[]);return e.unshift(ZV.Buffer.from([0])),e}getHexLayersFlat(){return this.getLayersFlat().map((e=>this.bufferToHex(e)))}getLayerCount(){return this.getLayers().length}getRoot(){return 0===this.layers.length?ZV.Buffer.from([]):this.layers[this.layers.length-1][0]||ZV.Buffer.from([])}getHexRoot(){return this.bufferToHex(this.getRoot())}getProof(e,t){if(void 0===e)throw new Error("leaf is required");e=this.bufferify(e);const n=[];if(!Number.isInteger(t)){t=-1;for(let n=0;n<this.leaves.length;n++)0===ZV.Buffer.compare(e,this.leaves[n])&&(t=n)}if(t<=-1)return[];for(let e=0;e<this.layers.length;e++){const r=this.layers[e],i=t%2,a=i?t-1:this.isBitcoinTree&&t===r.length-1&&e<this.layers.length-1?t:t+1;a<r.length&&n.push({position:i?"left":"right",data:r[a]}),t=t/2|0}return n}getHexProof(e,t){return this.getProof(e,t).map((e=>this.bufferToHex(e.data)))}getProofs(){const e=[];return this.getProofsDFS(this.layers.length-1,0,[],e),e}getProofsDFS(e,t,n,r){const i=t%2;if(-1===e)return void(i||r.push([...n].reverse()));if(t>=this.layers[e].length)return;const a=this.layers[e],s=i?t-1:t+1;let o=!1;s<a.length&&(o=!0,n.push({position:i?"left":"right",data:a[s]}));const c=2*t,u=2*t+1;this.getProofsDFS(e-1,c,n,r),this.getProofsDFS(e-1,u,n,r),o&&n.splice(n.length-1,1)}getHexProofs(){return this.getProofs().map((e=>this.bufferToHex(e.data)))}getPositionalHexProof(e,t){return this.getProof(e,t).map((e=>["left"===e.position?0:1,this.bufferToHex(e.data)]))}static marshalProof(t){const n=t.map((t=>"string"==typeof t?t:ZV.Buffer.isBuffer(t)?e.bufferToHex(t):{position:t.position,data:e.bufferToHex(t.data)}));return JSON.stringify(n,null,2)}static unmarshalProof(t){let n=null;if("string"==typeof t)n=JSON.parse(t);else{if(!(t instanceof Object))throw new Error("Expected type of string or object");n=t}if(!n)return[];if(!Array.isArray(n))throw new Error("Expected JSON string to be array");return n.map((t=>{if("string"==typeof t)return e.bufferify(t);if(t instanceof Object)return{position:t.position,data:e.bufferify(t.data)};throw new Error("Expected item to be of type string or object")}))}static marshalTree(t){const n=t.getHexRoot(),r=t.leaves.map((t=>e.bufferToHex(t))),i=t.getHexLayers(),a=t.getOptions();return JSON.stringify({options:a,root:n,layers:i,leaves:r},null,2)}static unmarshalTree(t,n=tK.default,r={}){let i=null;if("string"==typeof t)i=JSON.parse(t);else{if(!(t instanceof Object))throw new Error("Expected type of string or object");i=t}if(!i)throw new Error("could not parse json");return r=Object.assign({},i.options||{},r),new e(i.leaves,n,r)}getProofIndices(e,t){const n=Math.pow(2,t);let r=new Set;for(const t of e){let e=n+t;for(;e>1;)r.add(1^e),e=e/2|0}const i=e.map((e=>n+e)),a=Array.from(r).sort(((e,t)=>e-t)).reverse();r=i.concat(a);const s=new Set,o=[];for(let e of r)if(!s.has(e))for(o.push(e);e>1&&(s.add(e),s.has(1^e));)e=e/2|0;return o.filter((t=>!e.includes(t-n)))}getProofIndicesForUnevenTree(e,t){const n=Math.ceil(Math.log2(t)),r=[];for(let e=0;e<n;e++){t%2!=0&&r.push({index:e,leavesCount:t}),t=Math.ceil(t/2)}const i=[];let a=e;for(let e=0;e<n;e++){const t=a.map((e=>e%2==0?e+1:e-1));let n=t.filter((e=>!a.includes(e)));const s=r.find((({index:t})=>t===e));s&&a.includes(s.leavesCount-1)&&(n=n.slice(0,-1)),i.push(n),a=[...new Set(a.map((e=>e%2==0?e/2:e%2==0?(e+1)/2:(e-1)/2)))]}return i}getMultiProof(e,t){this.complete||console.warn("Warning: For correct multiProofs it's strongly recommended to set complete: true"),t||(t=e,e=this.getLayersFlat());if(this.isUnevenTree()&&t.every(Number.isInteger))return this.getMultiProofForUnevenTree(t);if(!t.every(Number.isInteger)){let e=t;this.sortPairs&&(e=e.sort(ZV.Buffer.compare));let n=e.map((e=>this.bufferIndexOf(this.leaves,e,this.sortLeaves))).sort(((e,t)=>e===t?0:e>t?1:-1));if(!n.every((e=>-1!==e)))throw new Error("Element does not exist in Merkle tree");const r=[],i=[];let a=[];for(let e=0;e<this.layers.length;e++){const t=this.layers[e];for(let e=0;e<n.length;e++){const s=n[e],o=this.getPairNode(t,s);r.push(t[s]),o&&i.push(o),a.push(s/2|0)}n=a.filter(((e,t,n)=>n.indexOf(e)===t)),a=[]}return i.filter((e=>!r.includes(e)))}return this.getProofIndices(t,Math.log2(e.length/2|0)).map((t=>e[t]))}getMultiProofForUnevenTree(e,t){t||(t=e,e=this.getLayers());let n=[],r=t;for(const t of e){const e=[];for(const n of r){if(n%2==0){const i=n+1;if(!r.includes(i)&&t[i]){e.push(t[i]);continue}}const i=n-1;r.includes(i)||!t[i]||e.push(t[i])}n=n.concat(e);const i=new Set;for(const e of r)e%2!=0?e%2!=0?i.add((e-1)/2):i.add((e+1)/2):i.add(e/2);r=Array.from(i)}return n}getHexMultiProof(e,t){return this.getMultiProof(e,t).map((e=>this.bufferToHex(e)))}getProofFlags(e,t){if(!Array.isArray(e)||e.length<=0)throw new Error("Invalid Inputs!");let n;if(n=e.every(Number.isInteger)?[...e].sort(((e,t)=>e===t?0:e>t?1:-1)):e.map((e=>this.bufferIndexOf(this.leaves,e,this.sortLeaves))).sort(((e,t)=>e===t?0:e>t?1:-1)),!n.every((e=>-1!==e)))throw new Error("Element does not exist in Merkle tree");const r=t.map((e=>this.bufferify(e))),i=[],a=[];for(let e=0;e<this.layers.length;e++){const t=this.layers[e];n=n.reduce(((e,n)=>{if(!i.includes(t[n])){const e=this.getPairNode(t,n),s=r.includes(t[n])||r.includes(e);e&&a.push(!s),i.push(t[n]),i.push(e)}return e.push(n/2|0),e}),[])}return a}verify(e,t,n){let r=this.bufferify(t);if(n=this.bufferify(n),!Array.isArray(e)||!t||!n)return!1;for(let t=0;t<e.length;t++){const n=e[t];let i=null,a=null;if("string"==typeof n)i=this.bufferify(n),a=!0;else if(Array.isArray(n))a=0===n[0],i=this.bufferify(n[1]);else if(ZV.Buffer.isBuffer(n))i=n,a=!0;else{if(!(n instanceof Object))throw new Error("Expected node to be of type string or object");i=this.bufferify(n.data),a="left"===n.position}const s=[];this.isBitcoinTree?(s.push(eK.default(r)),s[a?"unshift":"push"](eK.default(i)),r=this.hashFn(this.concatenator(s)),r=eK.default(this.hashFn(r))):this.sortPairs?-1===ZV.Buffer.compare(r,i)?(s.push(r,i),r=this.hashFn(this.concatenator(s))):(s.push(i,r),r=this.hashFn(this.concatenator(s))):(s.push(r),s[a?"unshift":"push"](i),r=this.hashFn(this.concatenator(s)))}return 0===ZV.Buffer.compare(r,n)}verifyMultiProof(e,t,n,r,i){if(this.isUnevenTree())return this.verifyMultiProofForUnevenTree(e,t,n,r,i);const a=Math.ceil(Math.log2(r));e=this.bufferify(e),n=n.map((e=>this.bufferify(e))),i=i.map((e=>this.bufferify(e)));const s={};for(const[e,r]of this.zip(t,n))s[Math.pow(2,a)+e]=r;for(const[e,n]of this.zip(this.getProofIndices(t,a),i))s[e]=n;let o=Object.keys(s).map((e=>+e)).sort(((e,t)=>e-t));o=o.slice(0,o.length-1);let c=0;for(;c<o.length;){const e=o[c];if(e>=2&&{}.hasOwnProperty.call(s,1^e)){let t=[s[e-e%2],s[e-e%2+1]];this.sortPairs&&(t=t.sort(ZV.Buffer.compare));const n=t[1]?this.hashFn(this.concatenator(t)):t[0];s[e/2|0]=n,o.push(e/2|0)}c+=1}return!t.length||{}.hasOwnProperty.call(s,1)&&s[1].equals(e)}verifyMultiProofWithFlags(e,t,n,r){e=this.bufferify(e),t=t.map(this.bufferify),n=n.map(this.bufferify);const i=t.length,a=r.length,s=[];let o=0,c=0,u=0;for(let e=0;e<a;e++){const a=[r[e]?o<i?t[o++]:s[c++]:n[u++],o<i?t[o++]:s[c++]].sort(ZV.Buffer.compare);s[e]=this.hashFn(this.concatenator(a))}return 0===ZV.Buffer.compare(s[a-1],e)}verifyMultiProofForUnevenTree(e,t,n,r,i){e=this.bufferify(e),n=n.map((e=>this.bufferify(e))),i=i.map((e=>this.bufferify(e)));const a=this.calculateRootForUnevenTree(t,n,r,i);return e.equals(a)}getDepth(){return this.getLayers().length-1}getLayersAsObject(){const e=this.getLayers().map((e=>e.map((e=>this.bufferToHex(e,!1))))),t=[];for(let n=0;n<e.length;n++){const r=[];for(let i=0;i<e[n].length;i++){const a={[e[n][i]]:null};if(t.length){a[e[n][i]]={};const r=t.shift(),s=Object.keys(r)[0];if(a[e[n][i]][s]=r[s],t.length){const r=t.shift(),s=Object.keys(r)[0];a[e[n][i]][s]=r[s]}}r.push(a)}t.push(...r)}return t[0]}static verify(t,n,r,i=tK.default,a={}){return new e([],i,a).verify(t,n,r)}static getMultiProof(t,n){return new e([]).getMultiProof(t,n)}resetTree(){this.leaves=[],this.layers=[]}getPairNode(e,t){const n=t%2==0?t+1:t-1;return n<e.length?e[n]:null}toTreeString(){const e=this.getLayersAsObject();return nK.default.asTree(e,!0)}toString(){return this.toTreeString()}isUnevenTree(e){const t=(null==e?void 0:e.length)||this.getDepth();return!this.isPowOf2(t)}isPowOf2(e){return e&&!(e&e-1)}calculateRootForUnevenTree(e,t,n,r){const i=this.zip(e,t).sort((([e],[t])=>e-t)),a=i.map((([e])=>e)),s=this.getProofIndicesForUnevenTree(a,n);let o=0;const c=[];for(let e=0;e<s.length;e++){const t=s[e],n=o;o+=t.length,c[e]=this.zip(t,r.slice(n,o))}const u=[i];for(let e=0;e<c.length;e++){const t=c[e].concat(u[e]).sort((([e],[t])=>e-t)).map((([,e])=>e)),n=u[e].map((([e])=>e)),r=[...new Set(n.map((e=>e%2==0?e/2:e%2==0?(e+1)/2:(e-1)/2)))],i=[];for(let e=0;e<r.length;e++){const n=r[e],a=t[2*e],s=t[2*e+1],o=s?this.hashFn(this.concatenator([a,s])):a;i.push([n,o])}u.push(i)}return u[u.length-1][0][1]}};mW.MerkleTree=iK,"undefined"!=typeof window&&(window.MerkleTree=iK),mW.default=iK;var aK={},sK=ir&&ir.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(aK,"__esModule",{value:!0}),aK.MerkleMountainRange=void 0;const oK=ci,cK=sK(cD),uK=sK(vW);class dK extends uK.default{constructor(e=cK.default,t=[],n,r,i){super(),this.root=oK.Buffer.alloc(0),this.size=0,this.width=0,this.hashes={},this.data={},t=t.map(this.bufferify),this.hashFn=this.bufferifyFn(e),this.hashLeafFn=n,this.peakBaggingFn=r,this.hashBranchFn=i;for(const e of t)this.append(e)}append(e){e=this.bufferify(e);const t=this.hashFn(e),n=this.bufferToHex(t);this.data[n]&&this.bufferToHex(this.hashFn(this.data[n]))===n||(this.data[n]=e);const r=this.hashLeaf(this.size+1,t);this.hashes[this.size+1]=r,this.width+=1;const i=this.getPeakIndexes(this.width);this.size=this.getSize(this.width);const a=[];for(let e=0;e<i.length;e++)a[e]=this._getOrCreateNode(i[e]);this.root=this.peakBagging(this.width,a)}hashLeaf(e,t){return t=this.bufferify(t),this.hashLeafFn?this.bufferify(this.hashLeafFn(e,t)):this.hashFn(oK.Buffer.concat([this.bufferify(e),t]))}hashBranch(e,t,n){return this.hashBranchFn?this.bufferify(this.hashBranchFn(e,t,n)):this.hashFn(oK.Buffer.concat([this.bufferify(e),this.bufferify(t),this.bufferify(n)]))}getPeaks(){const e=this.getPeakIndexes(this.width),t=[];for(let n=0;n<e.length;n++)t[n]=this.hashes[e[n]];return t}getLeafIndex(e){return e%2==1?this.getSize(e):this.getSize(e-1)+1}getPeakIndexes(e){const t=this.numOfPeaks(e),n=[];let r=0,i=0;for(let a=255;a>0&&!(0!=(e&1<<a-1)&&(i=i+(1<<a)-1,n[r++]=i,n.length>=t));a--);if(r!==n.length)throw new Error("invalid bit calculation");return n}numOfPeaks(e){let t=e,n=0;for(;t>0;)t%2==1&&n++,t>>=1;return n}peakBagging(e,t){const n=this.getSize(e);if(this.numOfPeaks(e)!==t.length)throw new Error("received invalid number of peaks");return 0!==e||t.length?this.peakBaggingFn?this.bufferify(this.peakBaggingFn(n,t)):this.hashFn(oK.Buffer.concat([this.bufferify(n),...t.map(this.bufferify)])):oK.Buffer.alloc(0)}getSize(e){return(e<<1)-this.numOfPeaks(e)}getRoot(){return this.root}getHexRoot(){return this.bufferToHex(this.getRoot())}getNode(e){return this.hashes[e]}mountainHeight(e){let t=1;for(;1<<t<=e+t;)t++;return t-1}heightAt(e){let t=e,n=0,r=0;for(;t>n;)t-=(1<<r)-1,r=this.mountainHeight(t),n=(1<<r)-1;return r-(n-t)}isLeaf(e){return 1===this.heightAt(e)}getChildren(e){const t=e-(1<<this.heightAt(e)-1),n=e-1;if(t===n)throw new Error("not a parent");return[t,n]}getMerkleProof(e){if(e>this.size)throw new Error("out of range");if(!this.isLeaf(e))throw new Error("not a leaf");const t=this.root,n=this.width,r=this.getPeakIndexes(this.width),i=[];let a=0;for(let t=0;t<r.length;t++)i[t]=this.hashes[r[t]],r[t]>=e&&0===a&&(a=r[t]);let s=0,o=0,c=this.heightAt(a);const u=[];for(;a!==e;)c--,[s,o]=this.getChildren(a),a=e<=s?s:o,u[c-1]=this.hashes[e<=s?o:s];return{root:t,width:n,peakBagging:i,siblings:u}}verify(e,t,n,r,i,a){r=this.bufferify(r);if(this.getSize(t)<n)throw new Error("index is out of range");if(!e.equals(this.peakBagging(t,i)))throw new Error("invalid root hash from the peaks");let s,o=0;const c=this.getPeakIndexes(t);for(let e=0;e<c.length;e++)if(c[e]>=n){s=i[e],o=c[e];break}if(!s)throw new Error("target not found");let u=a.length+1;const d=new Array(u);let f,l=0,h=0;for(;u>0&&(d[--u]=o,o!==n);)[l,h]=this.getChildren(o),o=n>l?h:l;for(;u<d.length;)o=d[u],f=0===u?this.hashLeaf(o,this.hashFn(r)):o-1===d[u-1]?this.hashBranch(o,a[u-1],f):this.hashBranch(o,f,a[u-1]),u++;if(!f.equals(s))throw new Error("hashed peak is invalid");return!0}peaksToPeakMap(e,t){const n={};let r=0,i=0,a=t.length;for(let s=1;s<=32;s++)r=32-s,i=1<<s-1,n[r]=0!=(e&i)?t[--a]:0;if(0!==a)throw new Error("invalid number of peaks");return n}peakMapToPeaks(e,t){const n=this.numOfPeaks(e),r=new Array(n);let i=0;for(let e=0;e<32;e++)0!==t[e]&&(r[i++]=t[e]);if(i!==n)throw new Error("invalid number of peaks");return r}peakUpdate(e,t,n){const r={},i=e+1;let a=this.getLeafIndex(i),s=this.hashLeaf(a,n),o=0,c=0,u=!1,d=!1,f=!1;for(let n=1;n<=32;n++)o=32-n,f?r[o]=t[o]:(c=1<<n-1,u=0!=(e&c),d=0!=(i&c),a++,u&&(s=this.hashBranch(a,t[o],s)),d?(r[o]=u?t[o]:s,f=!0):r[o]=0);return r}rollUp(e,t,n,r){if(!e.equals(this.peakBagging(t,n)))throw new Error("invalid root hash from the peaks");let i=t,a=this.peaksToPeakMap(t,n);for(let e=0;e<r.length;e++)a=this.peakUpdate(i,a,r[e]),i++;return this.peakBagging(i,this.peakMapToPeaks(i,a))}_getOrCreateNode(e){if(e>this.size)throw new Error("out of range");if(!this.hashes[e]){const[t,n]=this.getChildren(e),r=this._getOrCreateNode(t),i=this._getOrCreateNode(n);this.hashes[e]=this.hashBranch(e,r,i)}return this.hashes[e]}}aK.MerkleMountainRange=dK,"undefined"!=typeof window&&(window.MerkleMountainRange=dK),aK.default=dK;var fK={},lK=ir&&ir.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(fK,"__esModule",{value:!0}),fK.IncrementalMerkleTree=void 0;const hK=lK(vW),pK=lK(gW);class mK extends hK.default{constructor(e,t){if(super(),this.hashFn=e,t.depth&&(this.depth=t.depth),t.arity&&(this.arity=t.arity),this.depth<1)throw new Error("depth must be greater than 0");if(this.arity<1)throw new Error("arity must be greater than 0");const n=[];let r=t.zeroValue;if(this.zeroValue=r,this.zeroes=[],this.depth)for(let e=0;e<this.depth;e++)this.zeroes.push(r),n[e]=[],r=this.hashFn(Array(this.arity).fill(r));this.nodes=n,this.root=r}getRoot(){return this.root}getHexRoot(){return this.bufferToHex(this.bufferify(this.getRoot()))}insert(e){if(this.depth&&this.arity&&this.nodes[0].length>=this.getMaxLeaves())throw new Error("tree is full");let t=e,n=this.nodes[0].length;for(let e=0;e<this.depth;e+=1){const r=n-n%this.arity,i=r+this.arity,a=[];this.nodes[e][n]=t;for(let t=r;t<i;t+=1)t<this.nodes[e].length?a.push(this.nodes[e][t]):a.push(this.zeroes[e]);t=this.hashFn(a),n=Math.floor(n/this.arity)}this.root=t}delete(e){this.update(e,this.zeroValue)}update(e,t){if(e<0||e>=this.nodes[0].length)throw new Error("out of bounds");let n=t;for(let t=0;t<this.depth;t+=1){const r=e-e%this.arity,i=r+this.arity,a=[];this.nodes[t][e]=n;for(let e=r;e<i;e+=1)e<this.nodes[t].length?a.push(this.nodes[t][e]):a.push(this.zeroes[t]);n=this.hashFn(a),e=Math.floor(e/this.arity)}this.root=n}getDepth(){return this.depth}getArity(){return this.arity}getMaxLeaves(){return Math.pow(this.depth,this.arity)}indexOf(e){return this.nodes[0].indexOf(e)}getLeaves(){const e=this.copyList(this.nodes[0]);for(let t=this.nodes[0].length;t<this.getMaxLeaves();t++)e[t]=this.zeroValue;return e}copyList(e){return e.map((e=>BigInt(e)))}getLayers(){const e=[];for(const t of this.nodes)e.push(this.copyList(t));if(e[0].length<this.getMaxLeaves()){let t=e[0].length;for(let n=t;n<this.getMaxLeaves();n++)e[0][n]=this.zeroValue;for(let n=0;n<this.depth;n++){const r=t-t%this.arity,i=r+this.arity;for(let t=r;t<i;t++)t>=e[n].length&&(e[n][t]=this.zeroes[n]);t=Math.floor(t/this.arity)}}return e.push([this.root]),e}getHexLayers(){return this.getLayers().reduce(((e,t)=>(Array.isArray(t)?e.push(t.map((e=>this.bufferToHex(this.bufferify(e))))):e.push(t),e)),[])}getLayersAsObject(){const e=this.getLayers().map((e=>e.map((e=>this.bufferToHex(this.bufferify(e),!1))))),t=[];for(let n=0;n<e.length;n++){const r=[];for(let i=0;i<e[n].length;i++){const a={[e[n][i]]:null};if(t.length){a[e[n][i]]={};const r=t.shift(),s=Object.keys(r)[0];if(a[e[n][i]][s]=r[s],t.length){const r=t.shift(),s=Object.keys(r)[0];a[e[n][i]][s]=r[s]}}r.push(a)}t.push(...r)}return t[0]}computeRoot(){let e,t=this.nodes[0].length;for(let n=0;n<this.depth;n+=1){const r=t-t%this.arity,i=r+this.arity,a=[];for(let e=r;e<i;e+=1)e<this.nodes[n].length?a.push(this.nodes[n][e]):a.push(this.zeroes[n]);e=this.hashFn(a),t=Math.floor(t/this.arity)}return e}getProof(e){if(e<0||e>=this.nodes[0].length)throw new Error("The leaf does not exist in this tree");const t=[],n=[],r=e;for(let r=0;r<this.depth;r+=1){const i=e%this.arity,a=e-i,s=a+this.arity;n[r]=i,t[r]=[];for(let n=a;n<s;n+=1)n!==e&&(n<this.nodes[r].length?t[r].push(this.nodes[r][n]):t[r].push(this.zeroes[r]));e=Math.floor(e/this.arity)}return{root:this.root,leaf:this.nodes[0][r],pathIndices:n,siblings:t}}verify(e){let t=e.leaf;for(let n=0;n<e.siblings.length;n+=1){const r=e.siblings[n].slice();r.splice(e.pathIndices[n],0,t),t=this.hashFn(r)}return e.root===t}toString(){return this.toTreeString()}toTreeString(){const e=this.getLayersAsObject();return pK.default.asTree(e,!0)}}fK.IncrementalMerkleTree=mK,"undefined"!=typeof window&&(window.IncrementalMerkleTree=mK),fK.default=mK;var bK={};Object.defineProperty(bK,"__esModule",{value:!0}),bK.MerkleSumTree=bK.ProofStep=bK.Leaf=bK.Bucket=void 0;const yK=vW;class gK{constructor(e,t){this.size=BigInt(e),this.hashed=t,this.parent=null,this.left=null,this.right=null}}bK.Bucket=gK;bK.Leaf=class{constructor(e,t,n){this.hashFn=e,this.rng=t.map((e=>BigInt(e))),this.data=n}getBucket(){let e;return e=this.data?this.hashFn(this.data):Buffer.alloc(32),new gK(BigInt(this.rng[1])-BigInt(this.rng[0]),e)}};class vK{constructor(e,t){this.bucket=e,this.right=t}}bK.ProofStep=vK;class wK extends yK.Base{constructor(e,t){super(),this.leaves=e,this.hashFn=t,wK.checkConsecutive(e),this.buckets=[];for(const t of e)this.buckets.push(t.getBucket());let n=[];for(const e of this.buckets)n.push(e);for(;1!==n.length;){const e=[];for(;n.length;)if(n.length>=2){const t=n.shift(),r=n.shift(),i=t.size+r.size,a=this.hashFn(Buffer.concat([this.sizeToBuffer(t.size),this.bufferify(t.hashed),this.sizeToBuffer(r.size),this.bufferify(r.hashed)])),s=new gK(i,a);r.parent=s,t.parent=r.parent,t.right=r,r.left=t,e.push(s)}else e.push(n.shift());n=e}this.root=n[0]}sizeToBuffer(e){const t=Buffer.alloc(8);return new DataView(t.buffer).setBigInt64(0,BigInt(e),!1),t}static checkConsecutive(e){let t=BigInt(0);for(const n of e){if(n.rng[0]!==t)throw new Error("leaf ranges are invalid");t=BigInt(n.rng[1])}}getProof(e){let t=this.buckets[Number(e)];const n=[];for(;t&&t.parent;){const e=!!t.right,r=t.right?t.right:t.left;t=t.parent,n.push(new vK(r,e))}return n}sum(e){let t=BigInt(0);for(const n of e)t+=BigInt(n);return t}verifyProof(e,t,n){const r=[this.sum(n.filter((e=>!e.right)).map((e=>e.bucket.size))),BigInt(e.size)-this.sum(n.filter((e=>e.right)).map((e=>e.bucket.size)))];if(r[0]!==t.rng[0]||r[1]!==t.rng[1])return!1;let i,a=t.getBucket();for(const e of n)i=e.right?this.hashFn(Buffer.concat([this.sizeToBuffer(a.size),this.bufferify(a.hashed),this.sizeToBuffer(e.bucket.size),this.bufferify(e.bucket.hashed)])):this.hashFn(Buffer.concat([this.sizeToBuffer(e.bucket.size),this.bufferify(e.bucket.hashed),this.sizeToBuffer(a.size),this.bufferify(a.hashed)])),a=new gK(BigInt(a.size)+BigInt(e.bucket.size),i);return a.size===e.size&&a.hashed.toString("hex")===e.hashed.toString("hex")}}bK.MerkleSumTree=wK,"undefined"!=typeof window&&(window.MerkleSumTree=wK),bK.default=wK,function(e){var t=ir&&ir.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.MerkleTree=void 0;const n=t(mW);e.MerkleTree=n.default;var r=aK;Object.defineProperty(e,"MerkleMountainRange",{enumerable:!0,get:function(){return r.MerkleMountainRange}});var i=fK;Object.defineProperty(e,"IncrementalMerkleTree",{enumerable:!0,get:function(){return i.IncrementalMerkleTree}});var a=bK;Object.defineProperty(e,"MerkleSumTree",{enumerable:!0,get:function(){return a.MerkleSumTree}}),e.default=n.default}(pW);var _K={};Object.defineProperty(_K,"__esModule",{value:!0}),_K.DefaultGetter=void 0;const EK=hG,TK=new TG.Logger("defaults"),AK={integer:0,address:(0,EK.hexZeroPad)("0x",20),bool:!1,bytes:"0x",string:""},RK=e=>void 0!==e&&(null!=e&&(["string","number"].includes(typeof e)&&BigInt(e)===BigInt(0)||Array.isArray(e)&&e.every(RK)||"object"==typeof e&&Object.values(e).every(RK)||"boolean"==typeof e&&!1===e));class SK{constructor(e){this.types=e,this.defaultValues={};for(const t in e){const e=this.getDefaultValue(t);this.defaultValues[t]=e,RK(e)||TK.throwError(`Got non-empty value for type ${t} in default generator: ${e}`)}}static from(e,t){const{defaultValues:n}=new SK(e);return t?n[t]:n}getDefaultValue(e){if(this.defaultValues[e])return this.defaultValues[e];const t=function(e){var t;const[,n]=null!==(t=e.match(/^bytes(\d+)$/))&&void 0!==t?t:[];return n?(0,EK.hexZeroPad)("0x",parseInt(n)):(e.match(/^(u?)int(\d*)$/)&&(e="integer"),AK[e])}(e);if(void 0!==t)return t;const n=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(n){const e=n[1],t=parseInt(n[3]);if(t>0){const n=this.getDefaultValue(e);return Array(t).fill(n)}return[]}const r=this.types[e];return r?r.reduce(((e,{name:t,type:n})=>Object.assign(Object.assign({},e),{[t]:this.getDefaultValue(n)})),{}):TK.throwArgumentError(`unknown type: ${e}`,"type",e)}}_K.DefaultGetter=SK;var kK={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getNextLayer=e.getRoot=e.fillArray=e.hashConcat=e.bufferKeccak=e.hexToBuffer=e.bufferToHex=e.chunk=e.makeArray=void 0;const t=hG;e.makeArray=(e,t)=>Array(e).fill(0).map(((e,n)=>t(n)));e.chunk=(t,n)=>(0,e.makeArray)(Math.ceil(t.length/n),(e=>t.slice(e*n,(e+1)*n)));e.bufferToHex=e=>(0,t.hexlify)(e);e.hexToBuffer=e=>Buffer.from(e.slice(2),"hex");e.bufferKeccak=n=>(0,e.hexToBuffer)((0,t.keccak256)(n));e.hashConcat=n=>(0,e.bufferKeccak)((0,t.hexConcat)(n));e.fillArray=(e,t,n)=>(t>e.length&&e.push(...Array(t-e.length).fill(n)),e);e.getRoot=(t,n=!0)=>{if(0===t.length)throw new Error("empty tree");const r=t.map((t=>{const r=Buffer.isBuffer(t)?t:(0,e.hexToBuffer)(t);return n?(0,e.bufferKeccak)(r):r})),i=[r];for(;i[i.length-1].length>1;)i.push((0,e.getNextLayer)(i[i.length-1]));return i[i.length-1][0]};e.getNextLayer=t=>(0,e.chunk)(t,2).map(e.hashConcat)}(kK),Object.defineProperty(hW,"__esModule",{value:!0}),hW.Eip712MerkleTree=void 0;const OK=vG,IK=hG,xK=pW,CK=_K,MK=kK;hW.Eip712MerkleTree=class{get completedSize(){return Math.pow(2,this.depth)}getCompleteElements(){const e=this.elements;return(0,MK.fillArray)([...e],this.completedSize,this.defaultNode)}getCompleteLeaves(){const e=this.elements.map(this.leafHasher);return(0,MK.fillArray)([...e],this.completedSize,this.defaultLeaf)}get root(){return this.tree.getHexRoot()}getProof(e){const t=this.getCompleteLeaves()[e];return{leaf:t,proof:this.tree.getHexProof(t,e),root:this.tree.getHexRoot()}}getEncodedProofAndSignature(e,t){const{proof:n}=this.getProof(e);return((e,t,n=`0x${"ff".repeat(64)}`)=>(0,IK.hexConcat)([n,`0x${e.toString(16).padStart(6,"0")}`,IK.defaultAbiCoder.encode([`uint256[${t.length}]`],[t])]))(e,n,t)}getDataToSign(){let e=this.getCompleteElements();for(;e.length>2;)e=(0,MK.chunk)(e,2);return e}add(e){this.elements.push(e)}getBulkOrderHash(){const e=this.encoder.hashStruct("BulkOrder",{tree:this.getDataToSign()}),t=this.getCompleteLeaves().map(MK.hexToBuffer),n=(0,MK.bufferToHex)((0,MK.getRoot)(t,!1)),r=(0,IK.keccak256)((0,IK.toUtf8Bytes)(this.encoder._types.BulkOrder));if((0,IK.keccak256)((0,IK.hexConcat)([r,n]))!==e)throw new Error("expected derived bulk order hash to match");return e}constructor(e,t,n,r,i){this.types=e,this.rootType=t,this.leafType=n,this.elements=r,this.depth=i;const a=OK._TypedDataEncoder.from(e);var s,o;this.encoder=a,this.leafHasher=e=>a.hashStruct(n,e),this.defaultNode=CK.DefaultGetter.from(e,n),this.defaultLeaf=this.leafHasher(this.defaultNode),this.tree=(s=this.getCompleteLeaves(),o=this.defaultLeaf,new xK.MerkleTree(s.map(MK.hexToBuffer),MK.bufferKeccak,{complete:!0,sort:!1,hashLeaves:!1,fillDefaultHash:(0,MK.hexToBuffer)(o)}))}},Object.defineProperty(lW,"__esModule",{value:!0}),lW.getBulkOrderTypeHashes=lW.getBulkOrderTypeHash=lW.getBulkOrderTree=lW.getBulkOrderTreeHeight=void 0;const PK=hG,NK=hW,BK=_K,DK=kK,LK=LG;function FK(e){const t=Object.assign({},LK.EIP_712_BULK_ORDER_TYPE);return t.BulkOrder=[{name:"tree",type:`OrderComponents${"[2]".repeat(e)}`}],t}function UK(e){return Math.max(Math.ceil(Math.log2(e)),1)}function jK(e){const t=FK(e),n=PK._TypedDataEncoder.from(t),r=(0,PK.toUtf8Bytes)(n._types.BulkOrder);return(0,PK.keccak256)(r)}lW.getBulkOrderTreeHeight=UK,lW.getBulkOrderTree=function(e,t=0,n=UK(e.length+t)){const r=FK(n),i=BK.DefaultGetter.from(r,"OrderComponents");let a=[...e];return t>0&&(a=[...(0,DK.fillArray)([],t,i),...e]),new NK.Eip712MerkleTree(r,"BulkOrder","OrderComponents",a,n)},lW.getBulkOrderTypeHash=jK,lW.getBulkOrderTypeHashes=function(e){const t=[];for(let n=0;n<e;n++)t.push(jK(n+1));return t};var qK={},zK={},HK={};Object.defineProperty(HK,"__esModule",{value:!0}),HK.MerkleTree=void 0;const GK=lG,WK=hG,VK=pW,KK=e=>(0,WK.keccak256)(Buffer.from(GK.BigNumber.from(e).toHexString().slice(2).padStart(64,"0"),"hex"));HK.MerkleTree=class{constructor(e){this.tree=new VK.default(e.map(KK),WK.keccak256,{sort:!0})}getProof(e){return this.tree.getHexProof(KK(e))}getRoot(){return this.tree.getRoot().toString("hex")?this.tree.getHexRoot():"0"}},Object.defineProperty(zK,"__esModule",{value:!0}),zK.shouldUseMatchForFulfill=zK.generateRandomSalt=zK.mapOrderAmountsFromUnitsToFill=zK.mapOrderAmountsFromFilledStatus=zK.totalItemsAmount=zK.areAllCurrenciesSame=zK.mapInputItemToOfferItem=zK.deductFees=zK.feeToConsiderationItem=void 0;const XK=lG,$K=hG,JK=LG,YK=KG(),QK=HK,ZK=(e,t)=>XK.BigNumber.from(e).mul(XK.BigNumber.from(t)).div(JK.ONE_HUNDRED_PERCENT_BP);zK.feeToConsiderationItem=({fee:e,token:t,baseAmount:n,baseEndAmount:r=n})=>({itemType:t===XK.ethers.constants.AddressZero?JK.ItemType.NATIVE:JK.ItemType.ERC20,token:t,identifierOrCriteria:"0",startAmount:ZK(n,e.basisPoints).toString(),endAmount:ZK(r,e.basisPoints).toString(),recipient:e.recipient});zK.deductFees=(e,t)=>{if(!t)return e;const n=t.reduce(((e,t)=>e+t.basisPoints),0);return e.map((e=>Object.assign(Object.assign({},e),{startAmount:(0,YK.isCurrencyItem)(e)?XK.BigNumber.from(e.startAmount).sub(ZK(e.startAmount,n)).toString():e.startAmount,endAmount:(0,YK.isCurrencyItem)(e)?XK.BigNumber.from(e.endAmount).sub(ZK(e.endAmount,n)).toString():e.endAmount})))};zK.mapInputItemToOfferItem=e=>{var t,n,r,i,a,s,o,c;if("itemType"in e){if("identifiers"in e||"criteria"in e){const i="criteria"in e?e.criteria:new QK.MerkleTree(e.identifiers).getRoot();return{itemType:e.itemType===JK.ItemType.ERC721?JK.ItemType.ERC721_WITH_CRITERIA:JK.ItemType.ERC1155_WITH_CRITERIA,token:e.token,identifierOrCriteria:i,startAmount:null!==(t=e.amount)&&void 0!==t?t:"1",endAmount:null!==(r=null!==(n=e.endAmount)&&void 0!==n?n:e.amount)&&void 0!==r?r:"1"}}return"amount"in e||"endAmount"in e?{itemType:e.itemType,token:e.token,identifierOrCriteria:null!==(i=e.identifier)&&void 0!==i?i:"0",startAmount:e.amount,endAmount:null!==(s=null!==(a=e.endAmount)&&void 0!==a?a:e.amount)&&void 0!==s?s:"1"}:{itemType:e.itemType,token:e.token,identifierOrCriteria:e.identifier,startAmount:"1",endAmount:"1"}}return{itemType:e.token&&e.token!==XK.ethers.constants.AddressZero?JK.ItemType.ERC20:JK.ItemType.NATIVE,token:null!==(o=e.token)&&void 0!==o?o:XK.ethers.constants.AddressZero,identifierOrCriteria:"0",startAmount:e.amount,endAmount:null!==(c=e.endAmount)&&void 0!==c?c:e.amount}};zK.areAllCurrenciesSame=({offer:e,consideration:t})=>{const n=[...e,...t].filter(YK.isCurrencyItem);return n.every((({itemType:e,token:t})=>e===n[0].itemType&&t.toLowerCase()===n[0].token.toLowerCase()))};zK.totalItemsAmount=e=>(XK.BigNumber.from(0),XK.BigNumber.from(0),e.map((({startAmount:e,endAmount:t})=>({startAmount:e,endAmount:t}))).reduce((({startAmount:e,endAmount:t},{startAmount:n,endAmount:r})=>({startAmount:e.add(n),endAmount:t.add(r)})),{startAmount:XK.BigNumber.from(0),endAmount:XK.BigNumber.from(0)}));zK.mapOrderAmountsFromFilledStatus=(e,{totalFilled:t,totalSize:n})=>{if(t.eq(0)||n.eq(0))return e;const r=n.sub(t).mul(JK.ONE_HUNDRED_PERCENT_BP).div(n);return{parameters:Object.assign(Object.assign({},e.parameters),{offer:e.parameters.offer.map((e=>Object.assign(Object.assign({},e),{startAmount:ZK(e.startAmount,r).toString(),endAmount:ZK(e.endAmount,r).toString()}))),consideration:e.parameters.consideration.map((e=>Object.assign(Object.assign({},e),{startAmount:ZK(e.startAmount,r).toString(),endAmount:ZK(e.endAmount,r).toString()})))}),signature:e.signature}};const eX=(e,t,n)=>XK.BigNumber.from(e).mul(XK.BigNumber.from(t)).div(n);zK.mapOrderAmountsFromUnitsToFill=(e,{unitsToFill:t,totalSize:n})=>{const r=XK.BigNumber.from(t);if(r.lte(0))throw new Error("Units to fill must be greater than 1");const i=(0,YK.getMaximumSizeForOrder)(e);return n.eq(0)&&(n=i),{parameters:Object.assign(Object.assign({},e.parameters),{offer:e.parameters.offer.map((e=>Object.assign(Object.assign({},e),{startAmount:eX(e.startAmount,r,n).toString(),endAmount:eX(e.endAmount,r,n).toString()}))),consideration:e.parameters.consideration.map((e=>Object.assign(Object.assign({},e),{startAmount:eX(e.startAmount,r,n).toString(),endAmount:eX(e.endAmount,r,n).toString()})))}),signature:e.signature}};zK.generateRandomSalt=e=>e?`0x${Buffer.from((0,$K.concat)([(0,$K.keccak256)((0,$K.toUtf8Bytes)(e)).slice(0,10),Uint8Array.from(Array(20).fill(0)),(0,$K.randomBytes)(8)])).toString("hex")}`:`0x${Buffer.from((0,$K.randomBytes)(8)).toString("hex").padStart(64,"0")}`;zK.shouldUseMatchForFulfill=()=>!0,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getAdvancedOrderNumeratorDenominator=e.generateFulfillOrdersFulfillments=e.fulfillAvailableOrders=e.validateAndSanitizeFromOrderStatus=e.fulfillStandardOrder=e.fulfillBasicOrder=e.shouldUseBasicFulfill=void 0;const t=lG,n=LG,r=FG,i=nW,a=GG(),s=VG,o=KG(),c=zK,u=XG;e.shouldUseBasicFulfill=({offer:e,consideration:r,offerer:i},a)=>{if(!a.eq(0))return!1;if(e.length>1||0===r.length)return!1;const s=[...e,...r],u=s.filter((({itemType:e})=>[n.ItemType.ERC721,n.ItemType.ERC1155].includes(e))),d=s.filter((({itemType:e})=>(0,o.isCriteriaItem)(e)));if((0,o.isNativeCurrencyItem)(e[0]))return!1;if(1!==u.length||0!==d.length)return!1;if(!(0,c.areAllCurrenciesSame)({offer:e,consideration:r}))return!1;if(s.some((({startAmount:e,endAmount:t})=>e!==t)))return!1;const[f,...l]=r;if(f.recipient.toLowerCase()!==i.toLowerCase())return!1;if(r.length>1&&l.every((t=>t.itemType===e[0].itemType))&&(0,c.totalItemsAmount)(l).endAmount.gt(e[0].endAmount))return!1;const h=s.filter(o.isCurrencyItem),p=h.filter((({itemType:e})=>e===n.ItemType.NATIVE)).every((({token:e})=>e===t.ethers.constants.AddressZero)),m=h.every((({identifierOrCriteria:e})=>t.BigNumber.from(e).eq(0))),b=u.filter((({itemType:e})=>e===n.ItemType.ERC721)).every((({endAmount:e})=>"1"===e));return p&&m&&b};const d={[n.ItemType.ERC20]:{[n.ItemType.ERC721]:n.BasicOrderRouteType.ERC721_TO_ERC20,[n.ItemType.ERC1155]:n.BasicOrderRouteType.ERC1155_TO_ERC20},[n.ItemType.ERC721]:{[n.ItemType.NATIVE]:n.BasicOrderRouteType.ETH_TO_ERC721,[n.ItemType.ERC20]:n.BasicOrderRouteType.ERC20_TO_ERC721},[n.ItemType.ERC1155]:{[n.ItemType.NATIVE]:n.BasicOrderRouteType.ETH_TO_ERC1155,[n.ItemType.ERC20]:n.BasicOrderRouteType.ERC20_TO_ERC1155}};function f(e,t){const{isValidated:n,isCancelled:r,totalFilled:i,totalSize:a}=t;if(a.gt(0)&&i.div(a).eq(1))throw new Error("The order you are trying to fulfill is already filled");if(r)throw new Error("The order you are trying to fulfill is cancelled");return n?{parameters:Object.assign({},e.parameters),signature:"0x"}:e}function l(e){const t=({sourceOrDestination:e,operator:t="",token:n,identifier:r})=>`${e}-${t}-${n}-${r}`,n={},r={};return e.forEach((({order:e,offererOperator:r,offerCriteria:i},s)=>{const c=(0,a.getItemToCriteriaMap)(e.parameters.offer,i);return e.parameters.offer.forEach(((i,a)=>{var u,d,f;const l=`${t({sourceOrDestination:e.parameters.offerer,operator:r,token:i.token,identifier:null!==(d=null===(u=c.get(i))||void 0===u?void 0:u.identifier)&&void 0!==d?d:i.identifierOrCriteria})}${(0,o.isErc721Item)(i.itemType)?a:""}`;n[l]=[...null!==(f=n[l])&&void 0!==f?f:[],{orderIndex:s,itemIndex:a}]}))})),e.forEach((({order:e,considerationCriteria:n,tips:i},s)=>{const c=(0,a.getItemToCriteriaMap)(e.parameters.consideration,n);return[...e.parameters.consideration,...i].forEach(((e,n)=>{var i,a,u;const d=`${t({sourceOrDestination:e.recipient,token:e.token,identifier:null!==(a=null===(i=c.get(e))||void 0===i?void 0:i.identifier)&&void 0!==a?a:e.identifierOrCriteria})}${(0,o.isErc721Item)(e.itemType)?n:""}`;r[d]=[...null!==(u=r[d])&&void 0!==u?u:[],{orderIndex:s,itemIndex:n}]}))})),{offerFulfillments:Object.values(n),considerationFulfillments:Object.values(r)}}e.fulfillBasicOrder=function({order:e,seaportContract:a,offererBalancesAndApprovals:s,fulfillerBalancesAndApprovals:c,timeBasedItemParams:f,offererOperator:l,fulfillerOperator:h,signer:p,tips:m=[],conduitKey:b=n.NO_CONDUIT,domain:y},g){var v,w;const{offer:_,consideration:E}=e.parameters,T=[...E,...m],A=_[0],[R,...S]=T,k=null===(v=d[A.itemType])||void 0===v?void 0:v[R.itemType];if(void 0===k)throw new Error("Order parameters did not result in a valid basic fulfillment");const O=S.map((({startAmount:e,recipient:t})=>({amount:e,recipient:t}))),I=T.filter((e=>e.itemType!==_[0].itemType)),x=null===(w=(0,o.getSummedTokenAndIdentifierAmounts)({items:I,criterias:[],timeBasedItemParams:Object.assign(Object.assign({},f),{isConsiderationItem:!0})})[t.ethers.constants.AddressZero])||void 0===w?void 0:w[0],C=(0,i.validateBasicFulfillBalancesAndApprovals)({offer:_,consideration:T,offererBalancesAndApprovals:s,fulfillerBalancesAndApprovals:c,timeBasedItemParams:f,offererOperator:l,fulfillerOperator:h}),M={offerer:e.parameters.offerer,offererConduitKey:e.parameters.conduitKey,zone:e.parameters.zone,basicOrderType:e.parameters.orderType+4*k,offerToken:A.token,offerIdentifier:A.identifierOrCriteria,offerAmount:A.endAmount,considerationToken:R.token,considerationIdentifier:R.identifierOrCriteria,considerationAmount:R.endAmount,startTime:e.parameters.startTime,endTime:e.parameters.endTime,salt:e.parameters.salt,totalOriginalAdditionalRecipients:e.parameters.consideration.length-1,signature:e.signature,fulfillerConduitKey:b,additionalRecipients:O,zoneHash:e.parameters.zoneHash},P={value:x},N=[...(0,r.getApprovalActions)(C,g,p),{type:"exchange",transactionMethods:(0,u.getTransactionMethods)(a.connect(p),"fulfillBasicOrder",[M,P],y)}];return{actions:N,executeAllActions:()=>(0,u.executeAllActions)(N)}},e.fulfillStandardOrder=function({order:n,unitsToFill:s=0,totalSize:d,totalFilled:f,offerCriteria:l,considerationCriteria:h,tips:p=[],extraData:m,seaportContract:b,offererBalancesAndApprovals:y,fulfillerBalancesAndApprovals:g,offererOperator:v,fulfillerOperator:w,timeBasedItemParams:_,conduitKey:E,recipientAddress:T,signer:A,domain:R},S){var k;const O=s?(0,c.mapOrderAmountsFromUnitsToFill)(n,{unitsToFill:s,totalSize:d}):(0,c.mapOrderAmountsFromFilledStatus)(n,{totalFilled:f,totalSize:d}),{parameters:{offer:I,consideration:x}}=O,C=[...x,...p],M=I.filter((({itemType:e})=>(0,o.isCriteriaItem)(e))),P=C.filter((({itemType:e})=>(0,o.isCriteriaItem)(e))),N=M.length>0||P.length>0;if(M.length!==l.length||P.length!==h.length)throw new Error("You must supply the appropriate criterias for criteria based items");const B=null===(k=(0,o.getSummedTokenAndIdentifierAmounts)({items:C,criterias:h,timeBasedItemParams:Object.assign(Object.assign({},_),{isConsiderationItem:!0})})[t.ethers.constants.AddressZero])||void 0===k?void 0:k[0],D=(0,i.validateStandardFulfillBalancesAndApprovals)({offer:I,consideration:C,offerCriteria:l,considerationCriteria:h,offererBalancesAndApprovals:y,fulfillerBalancesAndApprovals:g,timeBasedItemParams:_,offererOperator:v,fulfillerOperator:w}),L={value:B},F=(0,r.getApprovalActions)(D,S,A),U=T!==t.ethers.constants.AddressZero,j=Boolean(s)||N||U,q=Object.assign(Object.assign({},n),{parameters:Object.assign(Object.assign({},n.parameters),{consideration:[...n.parameters.consideration,...p],totalOriginalConsiderationItems:x.length})}),{numerator:z,denominator:H}=(0,e.getAdvancedOrderNumeratorDenominator)(n,s),G=[...F,{type:"exchange",transactionMethods:j?(0,u.getTransactionMethods)(b.connect(A),"fulfillAdvancedOrder",[Object.assign(Object.assign({},q),{numerator:z,denominator:H,extraData:null!=m?m:"0x"}),N?(0,a.generateCriteriaResolvers)({orders:[n],offerCriterias:[l],considerationCriterias:[h]}):[],E,T,L],R):(0,u.getTransactionMethods)(b.connect(A),"fulfillOrder",[q,E,L],R)}];return{actions:G,executeAllActions:()=>(0,u.executeAllActions)(G)}},e.validateAndSanitizeFromOrderStatus=f,e.fulfillAvailableOrders=function({ordersMetadata:n,seaportContract:s,fulfillerBalancesAndApprovals:d,fulfillerOperator:h,currentBlockTimestamp:p,ascendingAmountTimestampBuffer:m,conduitKey:b,signer:y,recipientAddress:g,exactApproval:v,domain:w}){const _=n.map((e=>Object.assign(Object.assign({},e),{order:f(e.order,e.orderStatus)}))),E=_.map((e=>Object.assign(Object.assign({},e),{order:e.unitsToFill?(0,c.mapOrderAmountsFromUnitsToFill)(e.order,{unitsToFill:e.unitsToFill,totalSize:e.orderStatus.totalSize}):(0,c.mapOrderAmountsFromFilledStatus)(e.order,{totalFilled:e.orderStatus.totalFilled,totalSize:e.orderStatus.totalSize})})));let T=t.BigNumber.from(0);const A=[],R=_.flatMap((e=>[e.order.parameters.offer,e.order.parameters.consideration])).flat().filter((({itemType:e})=>(0,o.isCriteriaItem)(e))).length>0;E.forEach((({order:e,tips:n,offerCriteria:r,considerationCriteria:a,offererBalancesAndApprovals:s,offererOperator:c})=>{var u,f;const l=[...e.parameters.consideration,...n],b={startTime:e.parameters.startTime,endTime:e.parameters.endTime,currentBlockTimestamp:p,ascendingAmountTimestampBuffer:m,isConsiderationItem:!0};T=T.add(null!==(f=null===(u=(0,o.getSummedTokenAndIdentifierAmounts)({items:l,criterias:a,timeBasedItemParams:b})[t.ethers.constants.AddressZero])||void 0===u?void 0:u[0])&&void 0!==f?f:t.BigNumber.from(0));const y=(0,i.validateStandardFulfillBalancesAndApprovals)({offer:e.parameters.offer,consideration:l,offerCriteria:r,considerationCriteria:a,offererBalancesAndApprovals:s,fulfillerBalancesAndApprovals:d,timeBasedItemParams:b,offererOperator:c,fulfillerOperator:h}),g=e.parameters.offer.filter((({itemType:e})=>(0,o.isCriteriaItem)(e))),v=l.filter((({itemType:e})=>(0,o.isCriteriaItem)(e)));if(g.length!==r.length||v.length!==a.length)throw new Error("You must supply the appropriate criterias for criteria based items");y.forEach((e=>{A.find((t=>t.token===e.token))||A.push(e)}))}));const S={value:T},k=(0,r.getApprovalActions)(A,v,y),O=_.map((({order:t,unitsToFill:n=0,tips:r,extraData:i})=>{const{numerator:a,denominator:s}=(0,e.getAdvancedOrderNumeratorDenominator)(t,n),o=[...t.parameters.consideration,...r];return Object.assign(Object.assign({},t),{parameters:Object.assign(Object.assign({},t.parameters),{consideration:o,totalOriginalConsiderationItems:t.parameters.consideration.length}),numerator:a,denominator:s,extraData:i})})),{offerFulfillments:I,considerationFulfillments:x}=l(n),C={type:"exchange",transactionMethods:(0,u.getTransactionMethods)(s.connect(y),"fulfillAvailableAdvancedOrders",[O,R?(0,a.generateCriteriaResolvers)({orders:n.map((({order:e})=>e)),offerCriterias:n.map((({offerCriteria:e})=>e)),considerationCriterias:n.map((({considerationCriteria:e})=>e))}):[],I,x,b,g,O.length,S],w)},M=[...k,C];return{actions:M,executeAllActions:()=>(0,u.executeAllActions)(M)}},e.generateFulfillOrdersFulfillments=l;e.getAdvancedOrderNumeratorDenominator=(e,n)=>{const r=(0,o.getMaximumSizeForOrder)(e),i=t.BigNumber.from(n),a=(0,s.gcd)(i,r);return{numerator:n?i.div(a):t.BigNumber.from(1),denominator:n?r.div(a):t.BigNumber.from(1)}}}(qK);var tX=ir&&ir.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function s(e){try{c(r.next(e))}catch(e){a(e)}}function o(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(qH,"__esModule",{value:!0}),qH.Seaport=void 0;const nX=fG,rX=lG,iX=hG,aX=BG,sX=DG,oX=LG,cX=FG,uX=nW,dX=lW,fX=qK,lX=KG(),hX=zK,pX=XG;qH.Seaport=class{constructor(e,{overrides:t,ascendingAmountFulfillmentBuffer:n=300,balanceAndApprovalChecksOnOrderCreation:r=!0,conduitKeyToConduit:i,seaportVersion:a="1.5"}={}){var s,o,c;this.OPENSEA_CONDUIT_KEY=oX.OPENSEA_CONDUIT_KEY,this.getOrderHash=e=>{const t="OfferItem(uint8 itemType,address token,uint256 identifierOrCriteria,uint256 startAmount,uint256 endAmount)",n="ConsiderationItem(uint8 itemType,address token,uint256 identifierOrCriteria,uint256 startAmount,uint256 endAmount,address recipient)",r=`OrderComponents(address offerer,address zone,OfferItem[] offer,ConsiderationItem[] consideration,uint8 orderType,uint256 startTime,uint256 endTime,bytes32 zoneHash,uint256 salt,bytes32 conduitKey,uint256 counter)${n}${t}`,i=rX.ethers.utils.keccak256(rX.ethers.utils.toUtf8Bytes(t)),a=rX.ethers.utils.keccak256(rX.ethers.utils.toUtf8Bytes(n)),s=rX.ethers.utils.keccak256(rX.ethers.utils.toUtf8Bytes(r)),o=rX.ethers.utils.keccak256("0x"+e.offer.map((e=>rX.ethers.utils.keccak256("0x"+[i.slice(2),e.itemType.toString().padStart(64,"0"),e.token.slice(2).padStart(64,"0"),rX.ethers.BigNumber.from(e.identifierOrCriteria).toHexString().slice(2).padStart(64,"0"),rX.ethers.BigNumber.from(e.startAmount).toHexString().slice(2).padStart(64,"0"),rX.ethers.BigNumber.from(e.endAmount).toHexString().slice(2).padStart(64,"0")].join("")).slice(2))).join("")),c=rX.ethers.utils.keccak256("0x"+e.consideration.map((e=>rX.ethers.utils.keccak256("0x"+[a.slice(2),e.itemType.toString().padStart(64,"0"),e.token.slice(2).padStart(64,"0"),rX.ethers.BigNumber.from(e.identifierOrCriteria).toHexString().slice(2).padStart(64,"0"),rX.ethers.BigNumber.from(e.startAmount).toHexString().slice(2).padStart(64,"0"),rX.ethers.BigNumber.from(e.endAmount).toHexString().slice(2).padStart(64,"0"),e.recipient.slice(2).padStart(64,"0")].join("")).slice(2))).join(""));return rX.ethers.utils.keccak256("0x"+[s.slice(2),e.offerer.slice(2).padStart(64,"0"),e.zone.slice(2).padStart(64,"0"),o.slice(2),c.slice(2),e.orderType.toString().padStart(64,"0"),rX.ethers.BigNumber.from(e.startTime).toHexString().slice(2).padStart(64,"0"),rX.ethers.BigNumber.from(e.endTime).toHexString().slice(2).padStart(64,"0"),e.zoneHash.slice(2),rX.BigNumber.from(e.salt).toHexString().slice(2).padStart(64,"0"),e.conduitKey.slice(2).padStart(64,"0"),rX.ethers.BigNumber.from(e.counter).toHexString().slice(2).padStart(64,"0")].join(""))};const u=e instanceof rX.providers.Provider?e:e.provider;if(this.signer=e._isSigner?e:void 0,!u)throw new Error("Either a provider or custom signer with provider must be provided");this.provider=u,this.multicallProvider=new nX.providers.MulticallProvider(this.provider),this.contract=new rX.Contract(null!==(s=null==t?void 0:t.contractAddress)&&void 0!==s?s:"1.5"===a?oX.CROSS_CHAIN_SEAPORT_V1_5_ADDRESS:oX.CROSS_CHAIN_SEAPORT_V1_4_ADDRESS,sX.SeaportABIv14,this.multicallProvider),this.domainRegistry=new rX.Contract(null!==(o=null==t?void 0:t.domainRegistryAddress)&&void 0!==o?o:oX.DOMAIN_REGISTRY_ADDRESS,aX.DomainRegistryABI,this.multicallProvider),this.config={ascendingAmountFulfillmentBuffer:n,balanceAndApprovalChecksOnOrderCreation:r,conduitKeyToConduit:Object.assign(Object.assign(Object.assign({},oX.KNOWN_CONDUIT_KEYS_TO_CONDUIT),{[oX.NO_CONDUIT]:this.contract.address}),i),seaportVersion:a},this.defaultConduitKey=null!==(c=null==t?void 0:t.defaultConduitKey)&&void 0!==c?c:oX.NO_CONDUIT}createOrder(e,t,n){return tX(this,void 0,void 0,(function*(){const r=this._getSigner(t),i=null!=t?t:yield r.getAddress(),{orderComponents:a,approvalActions:s}=yield this._formatOrder(r,i,Boolean(n),e),o={type:"create",getMessageToSign:()=>this._getMessageToSign(a),createOrder:()=>tX(this,void 0,void 0,(function*(){const e=yield this.signOrder(a,i);return{parameters:a,signature:e}}))},c=[...s,o];return{actions:c,executeAllActions:()=>(0,pX.executeAllActions)(c)}}))}createBulkOrders(e,t,n){var r;return tX(this,void 0,void 0,(function*(){const i=this._getSigner(t),a=yield i.getAddress(),s=yield this.getCounter(a),o=[],c=[];for(const t of e){null!==(r=t.counter)&&void 0!==r||(t.counter=s);const{orderComponents:e,approvalActions:u}=yield this._formatOrder(i,a,Boolean(n),t);c.push(e);for(const e of u)void 0===o.find((t=>t.token===e.token))&&o.push(e)}const u={type:"createBulk",getMessageToSign:()=>this._getBulkMessageToSign(c),createBulkOrders:()=>tX(this,void 0,void 0,(function*(){return yield this.signBulkOrder(c,a)}))},d=[...o,u];return{actions:d,executeAllActions:()=>(0,pX.executeAllActions)(d)}}))}_formatOrder(e,t,n,{conduitKey:r=this.defaultConduitKey,zone:i=rX.ethers.constants.AddressZero,zoneHash:a=rX.ethers.constants.HashZero,startTime:s=Math.floor(Date.now()/1e3).toString(),endTime:o=oX.MAX_INT.toString(),offer:c,consideration:u,counter:d,allowPartialFills:f,restrictedByZone:l,fees:h,domain:p,salt:m}){var b;return tX(this,void 0,void 0,(function*(){const y=c.map(hX.mapInputItemToOfferItem),g=[...u.map((e=>{var n;return Object.assign(Object.assign({},(0,hX.mapInputItemToOfferItem)(e)),{recipient:null!==(n=e.recipient)&&void 0!==n?n:t})}))];if((null==h?void 0:h.length)&&!(0,hX.areAllCurrenciesSame)({offer:y,consideration:g}))throw new Error("All currency tokens in the order must be the same token when applying fees");const v=[...y,...g].filter(lX.isCurrencyItem),w=(0,hX.totalItemsAmount)(v),_=this.config.conduitKeyToConduit[r],E=this._getOrderTypeFromOrderOptions({allowPartialFills:f,restrictedByZone:l}),T=[...(0,hX.deductFees)(g,h),...v.length&&null!==(b=null==h?void 0:h.map((e=>(0,hX.feeToConsiderationItem)({fee:e,token:v[0].token,baseAmount:w.startAmount,baseEndAmount:w.endAmount}))))&&void 0!==b?b:[]],A=void 0!==m?`0x${rX.BigNumber.from(m).toHexString().slice(2).padStart(64,"0")}`:(0,hX.generateRandomSalt)(p),R={offerer:t,zone:i,zoneHash:a,startTime:s,endTime:o,orderType:E,offer:y,consideration:T,totalOriginalConsiderationItems:T.length,salt:A,conduitKey:r,counter:(null!=d?d:yield this.getCounter(t)).toString()},S=[];if(this.config.balanceAndApprovalChecksOnOrderCreation){const r=yield(0,uX.getBalancesAndApprovals)({owner:t,items:y,criterias:[],multicallProvider:this.multicallProvider,operator:_}),i=(0,uX.validateOfferBalancesAndApprovals)({offer:y,criterias:[],balancesAndApprovals:r,throwOnInsufficientBalances:!0,operator:_}),a=(0,cX.getApprovalActions)(i,n,e);S.push(...a)}return{orderComponents:R,approvalActions:S}}))}_getSigner(e){if(this.signer)return this.signer;if(!(this.provider instanceof rX.providers.JsonRpcProvider))throw new Error("Either signer or a JsonRpcProvider must be provided");return this.provider.getSigner(e)}_getOrderTypeFromOrderOptions({allowPartialFills:e,restrictedByZone:t}){return e?t?oX.OrderType.PARTIAL_RESTRICTED:oX.OrderType.PARTIAL_OPEN:t?oX.OrderType.FULL_RESTRICTED:oX.OrderType.FULL_OPEN}_getDomainData(){return tX(this,void 0,void 0,(function*(){const{chainId:e}=yield this.provider.getNetwork();return{name:oX.SEAPORT_CONTRACT_NAME,version:"1.5"===this.config.seaportVersion?oX.SEAPORT_CONTRACT_VERSION_V1_5:oX.SEAPORT_CONTRACT_VERSION_V1_4,chainId:e,verifyingContract:this.contract.address}}))}_getMessageToSign(e){return tX(this,void 0,void 0,(function*(){const t=yield this._getDomainData();return JSON.stringify(iX._TypedDataEncoder.getPayload(t,oX.EIP_712_ORDER_TYPE,e))}))}_getBulkMessageToSign(e){return tX(this,void 0,void 0,(function*(){const t=yield this._getDomainData(),n=(0,dX.getBulkOrderTree)(e),r=n.types,i=n.getDataToSign();return JSON.stringify(iX._TypedDataEncoder.getPayload(t,r,{tree:i}))}))}signOrder(e,t){return tX(this,void 0,void 0,(function*(){const n=this._getSigner(t),r=yield this._getDomainData();let i=yield n._signTypedData(r,oX.EIP_712_ORDER_TYPE,e);return 132===i.length&&(i=rX.ethers.utils.splitSignature(i).compact),i}))}signBulkOrder(e,t){return tX(this,void 0,void 0,(function*(){const n=this._getSigner(t),r=yield this._getDomainData(),i=(0,dX.getBulkOrderTree)(e),a=i.types,s={tree:i.getDataToSign()};let o=yield n._signTypedData(r,a,s);132===o.length&&(o=rX.ethers.utils.splitSignature(o).compact);const c=e.map(((e,t)=>({parameters:e,signature:i.getEncodedProofAndSignature(t,o)})));return c}))}cancelOrders(e,t,n){const r=this._getSigner(t);return(0,pX.getTransactionMethods)(this.contract.connect(r),"cancel",[e],n)}bulkCancelOrders(e,t){const n=this._getSigner(e);return(0,pX.getTransactionMethods)(this.contract.connect(n),"incrementCounter",[],t)}validate(e,t,n){const r=this._getSigner(t);return(0,pX.getTransactionMethods)(this.contract.connect(r),"validate",[e],n)}getOrderStatus(e){return this.contract.getOrderStatus(e)}getCounter(e){return this.contract.getCounter(e)}fulfillOrder({order:e,unitsToFill:t,offerCriteria:n=[],considerationCriteria:r=[],tips:i=[],extraData:a="0x",accountAddress:s,conduitKey:o=this.defaultConduitKey,recipientAddress:c=rX.ethers.constants.AddressZero,domain:u,exactApproval:d=!1}){return tX(this,void 0,void 0,(function*(){if(!e.signature)throw new Error("Order is missing signature");const{parameters:f}=e,{offerer:l,offer:h,consideration:p}=f,m=this._getSigner(s),b=yield m.getAddress(),y=this.config.conduitKeyToConduit[f.conduitKey],g=this.config.conduitKeyToConduit[o],[v,w,_,E]=yield Promise.all([(0,uX.getBalancesAndApprovals)({owner:l,items:h,criterias:n,multicallProvider:this.multicallProvider,operator:y}),(0,uX.getBalancesAndApprovals)({owner:b,items:[...h,...p],criterias:[...n,...r],multicallProvider:this.multicallProvider,operator:g}),this.multicallProvider.getBlock("latest"),this.getOrderStatus(this.getOrderHash(f))]),T=_.timestamp,{totalFilled:A,totalSize:R}=E,S=(0,fX.validateAndSanitizeFromOrderStatus)(e,E),k={startTime:S.parameters.startTime,endTime:S.parameters.endTime,currentBlockTimestamp:T,ascendingAmountTimestampBuffer:this.config.ascendingAmountFulfillmentBuffer},O=i.map((e=>Object.assign(Object.assign({},(0,hX.mapInputItemToOfferItem)(e)),{recipient:e.recipient}))),I=c===rX.ethers.constants.AddressZero;return!t&&I&&(0,fX.shouldUseBasicFulfill)(S.parameters,A)?(0,fX.fulfillBasicOrder)({order:S,seaportContract:this.contract,offererBalancesAndApprovals:v,fulfillerBalancesAndApprovals:w,timeBasedItemParams:k,conduitKey:o,offererOperator:y,fulfillerOperator:g,signer:m,tips:O,domain:u},d):(0,fX.fulfillStandardOrder)({order:S,unitsToFill:t,totalFilled:A,totalSize:R.eq(0)?(0,lX.getMaximumSizeForOrder)(S):R,offerCriteria:n,considerationCriteria:r,tips:O,extraData:a,seaportContract:this.contract,offererBalancesAndApprovals:v,fulfillerBalancesAndApprovals:w,timeBasedItemParams:k,conduitKey:o,signer:m,offererOperator:y,fulfillerOperator:g,recipientAddress:c,domain:u},d)}))}fulfillOrders({fulfillOrderDetails:e,accountAddress:t,conduitKey:n=this.defaultConduitKey,recipientAddress:r=rX.ethers.constants.AddressZero,domain:i,exactApproval:a=!1}){return tX(this,void 0,void 0,(function*(){if(e.some((e=>!e.order.signature)))throw new Error("All orders must include signatures");const s=this._getSigner(t),o=yield s.getAddress(),c=e.map((({order:e})=>this.config.conduitKeyToConduit[e.parameters.conduitKey])),u=this.config.conduitKeyToConduit[n],d=e.flatMap((({order:e})=>e.parameters.offer)),f=e.flatMap((({order:e})=>e.parameters.consideration)),l=e.flatMap((({offerCriteria:e=[]})=>e)),h=e.flatMap((({considerationCriteria:e=[]})=>e)),[p,m,b,y]=yield Promise.all([Promise.all(e.map((({order:e,offerCriteria:t=[]},n)=>(0,uX.getBalancesAndApprovals)({owner:e.parameters.offerer,items:e.parameters.offer,criterias:t,operator:c[n],multicallProvider:this.multicallProvider})))),(0,uX.getBalancesAndApprovals)({owner:o,items:[...d,...f],criterias:[...l,...h],operator:u,multicallProvider:this.multicallProvider}),this.multicallProvider.getBlock("latest"),Promise.all(e.map((({order:e})=>this.getOrderStatus(this.getOrderHash(e.parameters)))))]),g=e.map(((e,t)=>{var n,r,i,a,s;return{order:e.order,unitsToFill:e.unitsToFill,orderStatus:y[t],offerCriteria:null!==(n=e.offerCriteria)&&void 0!==n?n:[],considerationCriteria:null!==(r=e.considerationCriteria)&&void 0!==r?r:[],tips:null!==(a=null===(i=e.tips)||void 0===i?void 0:i.map((e=>Object.assign(Object.assign({},(0,hX.mapInputItemToOfferItem)(e)),{recipient:e.recipient}))))&&void 0!==a?a:[],extraData:null!==(s=e.extraData)&&void 0!==s?s:"0x",offererBalancesAndApprovals:p[t],offererOperator:c[t]}}));return(0,fX.fulfillAvailableOrders)({ordersMetadata:g,seaportContract:this.contract,fulfillerBalancesAndApprovals:m,currentBlockTimestamp:b.timestamp,ascendingAmountTimestampBuffer:this.config.ascendingAmountFulfillmentBuffer,fulfillerOperator:u,signer:s,conduitKey:n,recipientAddress:r,domain:i,exactApproval:a})}))}matchOrders({orders:e,fulfillments:t,overrides:n,accountAddress:r,domain:i}){const a=this._getSigner(r);return(0,pX.getTransactionMethods)(this.contract.connect(a),"matchOrders",[e,t,n],i)}setDomain(e,t){const n=this._getSigner(t);return(0,pX.getTransactionMethods)(this.domainRegistry.connect(n),"setDomain",[e])}getNumberOfDomains(e){return tX(this,void 0,void 0,(function*(){return this.domainRegistry.getNumberOfDomains(e)}))}getDomain(e,t){return this.domainRegistry.getDomain(e,t)}getDomains(e,t){return tX(this,void 0,void 0,(function*(){try{if(t)throw Error;return this.domainRegistry.getDomains(e)}catch(t){const n=(yield this.domainRegistry.getNumberOfDomains(e)).toNumber(),r=Promise.all([...Array(n).keys()].map((t=>this.domainRegistry.getDomain(e,t))));return r}}))}},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Seaport=void 0;const t=qH;Object.defineProperty(e,"Seaport",{enumerable:!0,get:function(){return t.Seaport}})}(jH);class mX{config;constructor(e){this.config=e}}class bX extends Error{url;status;statusText;body;request;constructor(e,t,n){super(n),this.name="ApiError",this.url=t.url,this.status=t.status,this.statusText=t.statusText,this.body=t.body,this.request=e}}class yX extends Error{constructor(e){super(e),this.name="CancelError"}get isCancelled(){return!0}}class gX{[Symbol.toStringTag];_isResolved;_isRejected;_isCancelled;_cancelHandlers;_promise;_resolve;_reject;constructor(e){this._isResolved=!1,this._isRejected=!1,this._isCancelled=!1,this._cancelHandlers=[],this._promise=new Promise(((t,n)=>{this._resolve=t,this._reject=n;const r=e=>{this._isResolved||this._isRejected||this._isCancelled||this._cancelHandlers.push(e)};return Object.defineProperty(r,"isResolved",{get:()=>this._isResolved}),Object.defineProperty(r,"isRejected",{get:()=>this._isRejected}),Object.defineProperty(r,"isCancelled",{get:()=>this._isCancelled}),e((e=>{this._isResolved||this._isRejected||this._isCancelled||(this._isResolved=!0,this._resolve?.(e))}),(e=>{this._isResolved||this._isRejected||this._isCancelled||(this._isRejected=!0,this._reject?.(e))}),r)}))}then(e,t){return this._promise.then(e,t)}catch(e){return this._promise.catch(e)}finally(e){return this._promise.finally(e)}cancel(){if(!(this._isResolved||this._isRejected||this._isCancelled)){if(this._isCancelled=!0,this._cancelHandlers.length)try{for(const e of this._cancelHandlers)e()}catch(e){return void console.warn("Cancellation threw an error",e)}this._cancelHandlers.length=0,this._reject?.(new yX("Request aborted"))}}get isCancelled(){return this._isCancelled}}const vX=e=>null!=e,wX=e=>"string"==typeof e,_X=e=>wX(e)&&""!==e,EX=e=>"object"==typeof e&&"string"==typeof e.type&&"function"==typeof e.stream&&"function"==typeof e.arrayBuffer&&"function"==typeof e.constructor&&"string"==typeof e.constructor.name&&/^(Blob|File)$/.test(e.constructor.name)&&/^(Blob|File)$/.test(e[Symbol.toStringTag]),TX=e=>{const t=[],n=(e,r)=>{vX(r)&&(Array.isArray(r)?r.forEach((t=>{n(e,t)})):"object"==typeof r?Object.entries(r).forEach((([t,r])=>{n(`${e}[${t}]`,r)})):((e,n)=>{t.push(`${encodeURIComponent(e)}=${encodeURIComponent(String(n))}`)})(e,r))};return Object.entries(e).forEach((([e,t])=>{n(e,t)})),t.length>0?`?${t.join("&")}`:""},AX=async(e,t)=>"function"==typeof t?t(e):t,RX=async(e,t,n)=>{const r=await AX(t,e.TOKEN),i=await AX(t,e.USERNAME),a=await AX(t,e.PASSWORD),s=await AX(t,e.HEADERS),o="function"==typeof n?.getHeaders&&n?.getHeaders()||{},c=Object.entries({Accept:"application/json",...s,...t.headers,...o}).filter((([e,t])=>vX(t))).reduce(((e,[t,n])=>({...e,[t]:String(n)})),{});if(_X(r)&&(c.Authorization=`Bearer ${r}`),_X(i)&&_X(a)){const e=(e=>{try{return btoa(e)}catch(t){return Buffer.from(e).toString("base64")}})(`${i}:${a}`);c.Authorization=`Basic ${e}`}return t.body&&(t.mediaType?c["Content-Type"]=t.mediaType:EX(t.body)?c["Content-Type"]=t.body.type||"application/octet-stream":wX(t.body)?c["Content-Type"]="text/plain":t.body instanceof UH||(c["Content-Type"]="application/json")),c},SX=(e,t)=>new gX((async(n,r,i)=>{try{const r=((e,t)=>{const n=e.ENCODE_PATH||encodeURI,r=t.url.replace("{api-version}",e.VERSION).replace(/{(.*?)}/g,((e,r)=>t.path?.hasOwnProperty(r)?n(String(t.path[r])):e)),i=`${e.BASE}${r}`;return t.query?`${i}${TX(t.query)}`:i})(e,t),s=(e=>{if(e.formData){const t=new UH,n=(e,n)=>{wX(n)||EX(n)?t.append(e,n):t.append(e,JSON.stringify(n))};return Object.entries(e.formData).filter((([e,t])=>vX(t))).forEach((([e,t])=>{Array.isArray(t)?t.forEach((t=>n(e,t))):n(e,t)})),t}})(t),o=(e=>{if(e.body)return e.body})(t),c=await RX(e,t,s);if(!i.isCancelled){const u=await(async(e,t,n,r,i,a,s)=>{const o=je.CancelToken.source(),c={url:n,headers:a,data:r??i,method:t.method,withCredentials:e.WITH_CREDENTIALS,cancelToken:o.token};s((()=>o.cancel("The user aborted a request.")));try{return await je.request(c)}catch(e){const t=e;if(t.response)return t.response;throw e}})(e,t,r,o,s,c,i),d=(e=>{if(204!==e.status)return e.data})(u),f=((e,t)=>{if(t){const n=e.headers[t];if(wX(n))return n}})(u,t.responseHeader),l={url:r,ok:(a=u.status,a>=200&&a<300),status:u.status,statusText:u.statusText,body:f??d};((e,t)=>{const n={400:"Bad Request",401:"Unauthorized",403:"Forbidden",404:"Not Found",500:"Internal Server Error",502:"Bad Gateway",503:"Service Unavailable",...e.errors}[t.status];if(n)throw new bX(e,t,n);if(!t.ok)throw new bX(e,t,"Generic Error")})(t,l),n(l.body)}}catch(e){r(e)}var a}));class kX extends mX{constructor(e){super(e)}request(e){return SX(this.config,e)}}class OX{httpRequest;constructor(e){this.httpRequest=e}cancelOrders({chainName:e,requestBody:t}){return this.httpRequest.request({method:"POST",url:"/v1/chains/{chain_name}/orders/cancel",path:{chain_name:e},body:t,mediaType:"application/json",errors:{400:"Bad Request (400)",401:"Unauthorised Request (401)",404:"The specified resource was not found (404)",429:"Too Many Requests (429)",500:"Internal Server Error (500)",501:"Not Implemented Error (501)"}})}listListings({chainName:e,status:t,sellItemContractAddress:n,buyItemContractAddress:r,accountAddress:i,sellItemMetadataId:a,sellItemTokenId:s,fromUpdatedAt:o,pageSize:c,sortBy:u,sortDirection:d,pageCursor:f}){return this.httpRequest.request({method:"GET",url:"/v1/chains/{chain_name}/orders/listings",path:{chain_name:e},query:{status:t,sell_item_contract_address:n,buy_item_contract_address:r,account_address:i,sell_item_metadata_id:a,sell_item_token_id:s,from_updated_at:o,page_size:c,sort_by:u,sort_direction:d,page_cursor:f},errors:{400:"Bad Request (400)",404:"The specified resource was not found (404)",500:"Internal Server Error (500)"}})}createListing({chainName:e,requestBody:t}){return this.httpRequest.request({method:"POST",url:"/v1/chains/{chain_name}/orders/listings",path:{chain_name:e},body:t,mediaType:"application/json",errors:{400:"Bad Request (400)",404:"The specified resource was not found (404)",500:"Internal Server Error (500)"}})}getListing({chainName:e,listingId:t}){return this.httpRequest.request({method:"GET",url:"/v1/chains/{chain_name}/orders/listings/{listing_id}",path:{chain_name:e,listing_id:t},errors:{400:"Bad Request (400)",404:"The specified resource was not found (404)",500:"Internal Server Error (500)"}})}fulfillmentData({chainName:e,requestBody:t}){return this.httpRequest.request({method:"POST",url:"/v1/chains/{chain_name}/orders/fulfillment-data",path:{chain_name:e},body:t,mediaType:"application/json",errors:{400:"Bad Request (400)",404:"The specified resource was not found (404)",500:"Internal Server Error (500)"}})}listTrades({chainName:e,accountAddress:t,fromIndexedAt:n,pageSize:r,sortBy:i,sortDirection:a,pageCursor:s}){return this.httpRequest.request({method:"GET",url:"/v1/chains/{chain_name}/trades",path:{chain_name:e},query:{account_address:t,from_indexed_at:n,page_size:r,sort_by:i,sort_direction:a,page_cursor:s},errors:{400:"Bad Request (400)",404:"The specified resource was not found (404)",500:"Internal Server Error (500)"}})}getTrade({chainName:e,tradeId:t}){return this.httpRequest.request({method:"GET",url:"/v1/chains/{chain_name}/trades/{trade_id}",path:{chain_name:e,trade_id:t},errors:{400:"Bad Request (400)",404:"The specified resource was not found (404)",500:"Internal Server Error (500)"}})}}class IX{orders;request;constructor(e,t=kX){this.request=new t({BASE:e?.BASE??"https://api.sandbox.immutable.com",VERSION:e?.VERSION??"1.0.0",WITH_CREDENTIALS:e?.WITH_CREDENTIALS??!1,CREDENTIALS:e?.CREDENTIALS??"include",TOKEN:e?.TOKEN,USERNAME:e?.USERNAME,PASSWORD:e?.PASSWORD,HEADERS:e?.HEADERS,ENCODE_PATH:e?.ENCODE_PATH}),this.orders=new OX(this.request)}}var xX,CX,MX,PX,NX,BX,DX,LX,FX,UX;function jX(e){const t=e.buy.map((e=>{if("ERC20"===e.type)return{type:"ERC20",contractAddress:e.contract_address,amount:e.amount};if("NATIVE"===e.type)return{type:"NATIVE",amount:e.amount};throw new Error("Buy items must be either ERC20 or NATIVE")})),n=e.sell.map((e=>{if("ERC721"===e.type)return{type:"ERC721",contractAddress:e.contract_address,tokenId:e.token_id};throw new Error("Sell items must ERC721")}));return{id:e.id,type:e.type,accountAddress:e.account_address,buy:t,sell:n,fees:e.fees.map((e=>({amount:e.amount,recipientAddress:e.recipient_address,type:e.type}))),chain:e.chain,createdAt:e.created_at,endAt:e.end_at,orderHash:e.order_hash,protocolData:{orderType:e.protocol_data.order_type,counter:e.protocol_data.counter,seaportAddress:e.protocol_data.seaport_address,seaportVersion:e.protocol_data.seaport_version,zoneAddress:e.protocol_data.zone_address},salt:e.salt,signature:e.signature,startAt:e.start_at,status:e.status,updatedAt:e.updated_at}}function qX(e){const t=e.buy.map((e=>{if("ERC20"===e.type)return{type:"ERC20",contractAddress:e.contract_address,amount:e.amount};if("NATIVE"===e.type)return{type:"NATIVE",amount:e.amount};throw new Error("Buy items must be either ERC20 or NATIVE")})),n=e.sell.map((e=>{if("ERC721"===e.type)return{type:"ERC721",contractAddress:e.contract_address,tokenId:e.token_id};throw new Error("Sell items must ERC721")}));return{id:e.id,orderId:e.order_id,buy:t,sell:n,buyerFees:e.buyer_fees.map((e=>({amount:e.amount,recipientAddress:e.recipient_address,type:e.type}))),chain:e.chain,indexedAt:e.indexed_at,blockchainMetadata:{blockNumber:e.blockchain_metadata.block_number,logIndex:e.blockchain_metadata.log_index,transactionHash:e.blockchain_metadata.transaction_hash,transactionIndex:e.blockchain_metadata.transaction_index},buyerAddress:e.buyer_address,makerAddress:e.maker_address,sellerAddress:e.seller_address,takerAddress:e.taker_address}}function zX(e){return{nextCursor:e.next_cursor,previousCursor:e.previous_cursor}}!function(e){var t;(t=e.cancellation_type||(e.cancellation_type={})).ON_CHAIN="ON_CHAIN",t.OFF_CHAIN="OFF_CHAIN"}(xX||(xX={})),function(e){(e.reason_code||(e.reason_code={})).FILLED="FILLED"}(CX||(CX={})),function(e){var t;(t=e.type||(e.type={})).ROYALTY="ROYALTY",t.MAKER_ECOSYSTEM="MAKER_ECOSYSTEM",t.TAKER_ECOSYSTEM="TAKER_ECOSYSTEM",t.PROTOCOL="PROTOCOL"}(MX||(MX={})),function(e){(e.type||(e.type={})).LISTING="LISTING"}(PX||(PX={})),function(e){e.PENDING="PENDING",e.ACTIVE="ACTIVE",e.INACTIVE="INACTIVE",e.FILLED="FILLED",e.EXPIRED="EXPIRED",e.CANCELLED="CANCELLED"}(NX||(NX={})),function(e){(e.order_type||(e.order_type={})).FULL_RESTRICTED="FULL_RESTRICTED"}(BX||(BX={})),function(e){e.MAKER_ECOSYSTEM="MAKER_ECOSYSTEM",e.TAKER_ECOSYSTEM="TAKER_ECOSYSTEM",e.PROTOCOL="PROTOCOL",e.ROYALTY="ROYALTY"}(DX||(DX={})),function(e){e.APPROVAL="APPROVAL",e.FULFILL_ORDER="FULFILL_ORDER",e.CANCEL="CANCEL"}(LX||(LX={})),function(e){e.CREATE_LISTING="CREATE_LISTING",e.OFF_CHAIN_CANCELLATION="OFF_CHAIN_CANCELLATION"}(FX||(FX={})),function(e){e.TRANSACTION="TRANSACTION",e.SIGNABLE="SIGNABLE"}(UX||(UX={}));const HX="1.5",GX={OrderComponents:[{name:"offerer",type:"address"},{name:"zone",type:"address"},{name:"offer",type:"OfferItem[]"},{name:"consideration",type:"ConsiderationItem[]"},{name:"orderType",type:"uint8"},{name:"startTime",type:"uint256"},{name:"endTime",type:"uint256"},{name:"zoneHash",type:"bytes32"},{name:"salt",type:"uint256"},{name:"conduitKey",type:"bytes32"},{name:"counter",type:"uint256"}],OfferItem:[{name:"itemType",type:"uint8"},{name:"token",type:"address"},{name:"identifierOrCriteria",type:"uint256"},{name:"startAmount",type:"uint256"},{name:"endAmount",type:"uint256"}],ConsiderationItem:[{name:"itemType",type:"uint8"},{name:"token",type:"address"},{name:"identifierOrCriteria",type:"uint256"},{name:"startAmount",type:"uint256"},{name:"endAmount",type:"uint256"},{name:"recipient",type:"address"}]};var WX,VX,KX,XX;function $X(e,t){return async()=>{const n=await e.buildTransaction();return n.gasLimit=await e.estimateGas(),n.gasLimit=n.gasLimit.add(n.gasLimit.div(5)),n.chainId=t,n}}!function(e){e[e.FULL_OPEN=0]="FULL_OPEN",e[e.PARTIAL_OPEN=1]="PARTIAL_OPEN",e[e.FULL_RESTRICTED=2]="FULL_RESTRICTED",e[e.PARTIAL_RESTRICTED=3]="PARTIAL_RESTRICTED"}(WX||(WX={})),function(e){e[e.NATIVE=0]="NATIVE",e[e.ERC20=1]="ERC20",e[e.ERC721=2]="ERC721",e[e.ERC1155=3]="ERC1155",e[e.ERC721_WITH_CRITERIA=4]="ERC721_WITH_CRITERIA",e[e.ERC1155_WITH_CRITERIA=5]="ERC1155_WITH_CRITERIA"}(VX||(VX={})),function(e){e[e.OFFER=0]="OFFER",e[e.CONSIDERATION=1]="CONSIDERATION"}(KX||(KX={})),function(e){e[e.ETH_TO_ERC721=0]="ETH_TO_ERC721",e[e.ETH_TO_ERC1155=1]="ETH_TO_ERC1155",e[e.ERC20_TO_ERC721=2]="ERC20_TO_ERC721",e[e.ERC20_TO_ERC1155=3]="ERC20_TO_ERC1155",e[e.ERC721_TO_ERC20=4]="ERC721_TO_ERC20",e[e.ERC1155_TO_ERC20=5]="ERC1155_TO_ERC20"}(XX||(XX={}));class JX{seaportLibFactory;provider;seaportContractAddress;zoneContractAddress;constructor(e,t,n,r){this.seaportLibFactory=e,this.provider=t,this.seaportContractAddress=n,this.zoneContractAddress=r}async prepareSeaportOrder(e,t,n,r,i){const{actions:a}=await this.createSeaportOrder(e,t,n,r,i),s=[],o=a.find((e=>"approval"===e.type));o&&s.push({type:UX.TRANSACTION,purpose:LX.APPROVAL,buildTransaction:$X(o.transactionMethods,(await this.provider.getNetwork()).chainId)});const c=a.find((e=>"create"===e.type));if(!c)throw new Error("No create order action found");const u=function(e){const t=JSON.parse(e).message;return t.salt=Ji.from(t.salt).toHexString(),t}(await c.getMessageToSign());return s.push({type:UX.SIGNABLE,purpose:FX.CREATE_LISTING,message:await this.getTypedDataFromOrderComponents(u)}),{actions:s,orderComponents:u,orderHash:this.getSeaportLib().getOrderHash(u)}}async fulfillOrder(e,t,n){const{orderComponents:r,tips:i}=this.mapImmutableOrderToSeaportOrderComponents(e),a=this.getSeaportLib(e),{actions:s}=await a.fulfillOrders({accountAddress:t,fulfillOrderDetails:[{order:{parameters:r,signature:e.signature},extraData:n,tips:i}]}),o=[],c=s.find((e=>"approval"===e.type));c&&o.push({type:UX.TRANSACTION,buildTransaction:$X(c.transactionMethods,(await this.provider.getNetwork()).chainId),purpose:LX.APPROVAL});const u=s.find((e=>"exchange"===e.type));if(!u)throw new Error("No exchange action found");return o.push({type:UX.TRANSACTION,buildTransaction:$X(u.transactionMethods,(await this.provider.getNetwork()).chainId),purpose:LX.FULFILL_ORDER}),{actions:o,expiration:JX.getExpirationISOTimeFromExtraData(n),order:jX(e)}}async fulfillBulkOrders(e,t){const n=e.map((e=>{const{orderComponents:t,tips:n}=this.mapImmutableOrderToSeaportOrderComponents(e.order);return{order:{parameters:t,signature:e.order.signature},extraData:e.extra_data,tips:n}})),{actions:r}=await this.getSeaportLib().fulfillOrders({fulfillOrderDetails:n,accountAddress:t}),i=[],a=r.find((e=>"approval"===e.type));a&&i.push({type:UX.TRANSACTION,buildTransaction:$X(a.transactionMethods,(await this.provider.getNetwork()).chainId),purpose:LX.APPROVAL});const s=r.find((e=>"exchange"===e.type));if(!s)throw new Error("No exchange action found");return i.push({type:UX.TRANSACTION,buildTransaction:$X(s.transactionMethods,(await this.provider.getNetwork()).chainId),purpose:LX.FULFILL_ORDER}),{actions:i,expiration:n.map((e=>JX.getExpirationISOTimeFromExtraData(e.extraData))).reduce(((e,t)=>new Date(e)<new Date(t)?e:t))}}async cancelOrders(e,t){const n=e.map((e=>this.mapImmutableOrderToSeaportOrderComponents(e).orderComponents)),r=this.getSeaportLib(e[0]),i=await r.cancelOrders(n,t);return{type:UX.TRANSACTION,buildTransaction:$X(i,(await this.provider.getNetwork()).chainId),purpose:LX.CANCEL}}mapImmutableOrderToSeaportOrderComponents(e){return function(e,t,n){const r=e.buy.map((t=>{switch(t.type){case"NATIVE":return{startAmount:t.amount,endAmount:t.amount,itemType:VX.NATIVE,recipient:e.account_address,token:Ds,identifierOrCriteria:"0"};case"ERC20":return{startAmount:t.amount,endAmount:t.amount,itemType:VX.ERC20,recipient:e.account_address,token:t.contract_address||Ds,identifierOrCriteria:"0"};default:return{startAmount:"1",endAmount:"1",itemType:VX.ERC721,recipient:e.account_address,token:t.contract_address||Ds,identifierOrCriteria:"0"}}})),i=e.fees.map((t=>({amount:t.amount,itemType:"ERC20"===e.buy[0].type?VX.ERC20:VX.NATIVE,recipient:t.recipient_address,token:"ERC20"===e.buy[0].type?e.buy[0].contract_address:Ds,identifierOrCriteria:"0"})));return{orderComponents:{conduitKey:Ws,consideration:[...r],offer:e.sell.map((e=>{const t=e;return{startAmount:"1",endAmount:"1",itemType:VX.ERC721,token:t.contract_address,identifierOrCriteria:t.token_id}})),counter:t,endTime:Math.round(new Date(e.end_at).getTime()/1e3).toString(),startTime:Math.round(new Date(e.start_at).getTime()/1e3).toString(),salt:e.salt,offerer:e.account_address,zone:n,totalOriginalConsiderationItems:r.length,orderType:WX.FULL_RESTRICTED,zoneHash:Ws},tips:i}}(e,e.protocol_data.counter,this.zoneContractAddress)}createSeaportOrder(e,t,n,r,i){return this.getSeaportLib().createOrder({allowPartialFills:!1,offer:[{itemType:VX.ERC721,token:t.contractAddress,identifier:t.tokenId}],consideration:[{token:"ERC20"===n.type?n.contractAddress:void 0,amount:n.amount,recipient:e}],startTime:(r.getTime()/1e3).toFixed(0),endTime:(i.getTime()/1e3).toFixed(0),zone:this.zoneContractAddress,restrictedByZone:!0},e)}async getTypedDataFromOrderComponents(e){const{chainId:t}=await this.provider.getNetwork();return{domain:{name:"ImmutableSeaport",version:HX,chainId:t,verifyingContract:this.seaportContractAddress},types:GX,value:e}}getSeaportLib(e){const t=e?.protocol_data?.seaport_address??this.seaportContractAddress,n=HX;return this.seaportLibFactory.create(n,t)}static getExpirationISOTimeFromExtraData(e){const t=e.slice(44,60),n=parseInt(t,16);return new Date(1e3*n).toISOString()}}class YX{orderbookService;chainName;seaportAddress;constructor(e,t,n){this.orderbookService=e,this.chainName=t,this.seaportAddress=n}async fulfillmentData(e){return this.orderbookService.fulfillmentData({chainName:this.chainName,requestBody:e})}async getListing(e){return this.orderbookService.getListing({chainName:this.chainName,listingId:e})}async getTrade(e){return this.orderbookService.getTrade({chainName:this.chainName,tradeId:e})}async listListings(e){return this.orderbookService.listListings({chainName:this.chainName,...e})}async listTrades(e){return this.orderbookService.listTrades({chainName:this.chainName,...e})}async cancelOrders(e,t,n){return this.orderbookService.cancelOrders({chainName:this.chainName,requestBody:{account_address:t,orders:e,signature:n}})}async createListing({orderHash:e,orderComponents:t,orderSignature:n,makerFees:r}){if(1!==t.offer.length)throw new Error("Only one item can be listed at a time");if(Number(t.offer[0].itemType)!==VX.ERC721)throw new Error("Only ERC721 tokens can be listed");const i=[...t.consideration.map((e=>e.itemType))];if(!(1===new Set(i).size))throw new Error("All consideration items must be of the same type");return this.orderbookService.createListing({chainName:this.chainName,requestBody:{account_address:t.offerer,buy:[{type:Number(t.consideration[0].itemType)===VX.NATIVE?"NATIVE":"ERC20",amount:t.consideration[0].startAmount,contract_address:t.consideration[0].token}],fees:r.map((e=>({amount:e.amount,type:DX.MAKER_ECOSYSTEM,recipient_address:e.recipientAddress}))),end_at:new Date(parseInt(`${t.endTime.toString()}000`,10)).toISOString(),order_hash:e,protocol_data:{order_type:BX.order_type.FULL_RESTRICTED,zone_address:t.zone,seaport_address:this.seaportAddress,seaport_version:HX,counter:t.counter.toString()},salt:t.salt,sell:[{contract_address:t.offer[0].token,token_id:t.offer[0].identifierOrCriteria,type:"ERC721"}],signature:n,start_at:new Date(parseInt(`${t.startTime.toString()}000`,10)).toISOString()}})}}class QX{chainName;seaportAddress;orderbookClient;constructor(e,t,n){this.chainName=t,this.seaportAddress=n,this.orderbookClient=new IX({BASE:e})}create(){return new YX(this.orderbookClient.orders,this.chainName,this.seaportAddress)}}class ZX{defaultSeaportContractAddress;provider;constructor(e,t){this.defaultSeaportContractAddress=e,this.provider=t}create(e,t){const n=e??HX,r=t??this.defaultSeaportContractAddress;return new jH.Seaport(this.provider,{seaportVersion:n,balanceAndApprovalChecksOnOrderCreation:!0,overrides:{contractAddress:r}})}}class e${apiClient;seaport;orderbookConfig;constructor(e){const t={...function(e){switch(e){case rt.SANDBOX:return{seaportContractAddress:"0x7d117aA8BD6D31c4fa91722f246388f38ab1942c",zoneContractAddress:"0x8831867E347AB87FA30199C5B695F0A31604Bb52",apiEndpoint:"https://api.sandbox.immutable.com",chainName:"imtbl-zkevm-testnet",provider:new im("https://rpc.testnet.immutable.com")};case rt.PRODUCTION:return{seaportContractAddress:"0x6c12aD6F0bD274191075Eb2E78D7dA5ba6453424",zoneContractAddress:"0x00338b92Bec262078B3e49BF12bbEA058916BF91",apiEndpoint:"https://api.immutable.com",chainName:"imtbl-zkevm-mainnet",provider:new im("https://rpc.immutable.com")};default:return null}}(e.baseConfig.environment),...e.overrides};if(!t)throw new Error("Orderbook configuration not passed, please specify the environment under config.baseConfig.environment");this.orderbookConfig=t;const{apiEndpoint:n,chainName:r}=this.orderbookConfig;if(!n)throw new Error("API endpoint must be provided");this.apiClient=new QX(n,r,this.orderbookConfig.seaportContractAddress).create();const i=new ZX(this.orderbookConfig.seaportContractAddress,this.orderbookConfig.provider);this.seaport=new JX(i,this.orderbookConfig.provider,this.orderbookConfig.seaportContractAddress,this.orderbookConfig.zoneContractAddress)}config(){return this.orderbookConfig}async getListing(e){return{result:jX((await this.apiClient.getListing(e)).result)}}async getTrade(e){return{result:qX((await this.apiClient.getTrade(e)).result)}}async listListings(e){const t=await this.apiClient.listListings(e);return{page:zX(t.page),result:t.result.map(jX)}}async listTrades(e){const t=await this.apiClient.listTrades(e);return{page:zX(t.page),result:t.result.map(qX)}}async prepareListing({makerAddress:e,sell:t,buy:n,orderExpiry:r}){return this.seaport.prepareSeaportOrder(e,t,n,new Date,r||new Date(Date.now()+63072e6))}async createListing(e){return{result:jX((await this.apiClient.createListing({...e})).result)}}async fulfillOrder(e,t,n){const r=await this.apiClient.fulfillmentData([{order_id:e,taker_address:t,fees:n.map((e=>({amount:e.amount,type:DX.TAKER_ECOSYSTEM,recipient_address:e.recipientAddress})))}]);if(r.result.unfulfillable_orders?.length>0)throw new Error(`Unable to prepare fulfillment date: ${r.result.unfulfillable_orders[0].reason}`);if(1!==r.result.fulfillable_orders?.length)throw new Error("unexpected fulfillable order result length");const i=r.result.fulfillable_orders[0].extra_data,a=r.result.fulfillable_orders[0].order;if(a.status.name!==NX.ACTIVE)throw new Error(`Cannot fulfil order that is not active. Current status: ${a.status}`);return this.seaport.fulfillOrder(a,t,i)}async fulfillBulkOrders(e,t){const n=await this.apiClient.fulfillmentData(e.map((e=>({order_id:e.listingId,taker_address:t,fees:e.takerFees.map((e=>({amount:e.amount,type:DX.TAKER_ECOSYSTEM,recipient_address:e.recipientAddress})))}))));try{return{...await this.seaport.fulfillBulkOrders(n.result.fulfillable_orders,t),fulfillableOrders:n.result.fulfillable_orders.map((e=>jX(e.order))),unfulfillableOrders:n.result.unfulfillable_orders.map((e=>({orderId:e.order_id,reason:e.reason}))),sufficientBalance:!0}}catch(e){if(String(e).includes("The fulfiller does not have the balances needed to fulfill."))return{fulfillableOrders:n.result.fulfillable_orders.map((e=>jX(e.order))),unfulfillableOrders:n.result.unfulfillable_orders.map((e=>({orderId:e.order_id,reason:e.reason}))),sufficientBalance:!1};throw e}}async prepareOrderCancellations(e){const t={name:"imtbl-order-book",chainId:(await this.orderbookConfig.provider.getNetwork()).chainId,verifyingContract:this.orderbookConfig.seaportContractAddress},n={orders:e.map((e=>({id:e})))};return{signableAction:{purpose:FX.OFF_CHAIN_CANCELLATION,type:UX.SIGNABLE,message:{domain:t,types:{CancelPayload:[{name:"orders",type:"Order[]"}],Order:[{name:"id",type:"string"}]},value:n}}}}async cancelOrders(e,t,n){return this.apiClient.cancelOrders(e,t,n)}async cancelOrdersOnChain(e,t){const n=await Promise.all(e.map((e=>this.apiClient.getListing(e))));for(const e of n){if(e.result.status.name!==NX.ACTIVE&&e.result.status.name!==NX.INACTIVE&&e.result.status.name!==NX.PENDING)throw new Error(`Cannot cancel order with status ${e.result.status}`);if(e.result.account_address!==t.toLowerCase())throw new Error(`Only account ${e.result.account_address} can cancel order ${e.result.id}`)}const r=n.map((e=>e.result)),i=r.map((e=>e.protocol_data.seaport_address));if(1!==new Set(...[i]).size)throw new Error("Cannot cancel multiple orders from different seaport contracts. Please group your orderIds accordingly");return{cancellationAction:await this.seaport.cancelOrders(r,t)}}}const t$={estimatedFulfillmentGasGwei:4e5};var n$=Object.freeze({__proto__:null,get ActionType(){return UX},get FeeType(){return DX},get OrderStatusName(){return NX},Orderbook:e$,get SignablePurpose(){return FX},get TransactionPurpose(){return LX},constants:t$});var r$=function({mustBeMetaMask:e=!1,silent:t=!1,timeout:n=3e3}={}){!function(){if("boolean"!=typeof e)throw new Error("@metamask/detect-provider: Expected option 'mustBeMetaMask' to be a boolean.");if("boolean"!=typeof t)throw new Error("@metamask/detect-provider: Expected option 'silent' to be a boolean.");if("number"!=typeof n)throw new Error("@metamask/detect-provider: Expected option 'timeout' to be a number.")}();let r=!1;return new Promise((i=>{function a(){if(r)return;r=!0,window.removeEventListener("ethereum#initialized",a);const{ethereum:n}=window;if(!n||e&&!n.isMetaMask){const r=e&&n?"Non-MetaMask window.ethereum detected.":"Unable to detect window.ethereum.";!t&&console.error("@metamask/detect-provider:",r),i(null)}else i(n)}window.ethereum?a():(window.addEventListener("ethereum#initialized",a,{once:!0}),setTimeout((()=>{a()}),n))}))},i$=ar(r$);async function a$(e,t){if(!function(e,t){return e===t.ethConfiguration.chainID}(await e.getChainId(),t))throw new Error("The wallet used for this operation is not connected to the correct network.")}async function s$(e,t,n){await a$(t,n.immutableXConfig);const r=aC.Registration.connect(n.immutableXConfig.ethConfiguration.registrationContractAddress,t);try{return await r.isRegistered(e)}catch(e){if("USER_UNREGISTERED"===e.reason)return!1;throw e}}async function o$(e,t,n){const r=await n.getSignableRegistration({getSignableRegistrationRequest:{ether_key:e,stark_key:t}});return{operator_signature:r.data.operator_signature,payload_hash:r.data.payload_hash,readable_transaction:r.data.readable_transaction,verification_signature:r.data.verification_signature}}const c$=e=>{if(void 0!==e)return e;throw new Error("undefined field exception")};async function u$(e){const{signers:{ethSigner:t,starkSigner:n},type:r,config:i}=e;await a$(t,e.config);const a=new uP(i.apiConfiguration),s="ERC721"===r?"1":e.amount,o=await a.getSignableWithdrawal({getSignableWithdrawalRequest:{user:await t.getAddress(),token:vz(e),amount:s}}),{signable_message:c,payload_hash:u}=o.data,d=await n.signMessage(u),{ethAddress:f,ethSignature:l}=await async function(e,t){return{message:e,ethAddress:await t.getAddress(),ethSignature:await gz(e,t)}}(c,t);return(await a.createWithdrawal({createWithdrawalRequest:{stark_key:c$(o.data.stark_key),amount:s,asset_id:c$(o.data.asset_id),vault_id:c$(o.data.vault_id),nonce:c$(o.data.nonce),stark_signature:d},xImxEthAddress:f,xImxEthSignature:l})).data}async function d$(e,t,n,r){const i=new mM(n.apiConfiguration);return(await i.encodeAsset({assetType:e,encodeAssetRequest:{token:{type:t,...r&&{data:r}}}})).data}async function f$({ethSigner:e,starkPublicKey:t,token:n,config:r}){await a$(e,r.immutableXConfig);const i=r.immutableXConfig,a=await d$("asset","ERC20",i,{token_address:n.tokenAddress});return await s$(t,e,r)?async function(e,t,n,r){const i=aC.Core.connect(r.ethConfiguration.coreContractAddress,e),a=await i.populateTransaction.withdraw(n,t);return e.sendTransaction(a)}(e,a.asset_type,t,i):async function({ethSigner:e,assetType:t,starkPublicKey:n,config:r}){const i=await e.getAddress(),a=r.immutableXConfig,s=new aP(a.apiConfiguration),o=await o$(i,n,s),c=aC.Registration.connect(r.immutableXConfig.ethConfiguration.registrationContractAddress,e),u=await c.populateTransaction.registerAndWithdraw(i,n,o.operator_signature,t);return e.sendTransaction(u)}({ethSigner:e,assetType:a.asset_type,starkPublicKey:t,config:r})}async function l$(e,t,n,r){const i=r.immutableXConfig,a=await d$("mintable-asset","ERC721",i,{id:n.data.id,token_address:n.data.tokenAddress,...n.data.blueprint&&{blueprint:n.data.blueprint}}),s=function(e){const{id:t}=e.data,n=e.data.blueprint||"";return Py(dy(`{${t}}:{${n}}`))}(n);return await s$(t,e,r)?async function(e,t,n,r,i){const a=aC.Core.connect(i.ethConfiguration.coreContractAddress,e),s=await a.populateTransaction.withdrawAndMint(n,t,r);return e.sendTransaction(s)}(e,a.asset_type,t,s,i):async function(e,t,n,r,i){const a=await e.getAddress(),s=new aP(i.apiConfiguration),o=await o$(a,n,s),c=aC.Registration.connect(i.ethConfiguration.registrationContractAddress,e),u=await c.populateTransaction.regsiterAndWithdrawAndMint(a,n,o.operator_signature,t,r);return e.sendTransaction(u)}(e,a.asset_type,t,s,i)}async function h$(e,t,n,r){const i=r.immutableXConfig,a=await d$("asset","ERC721",i,{token_id:n.tokenId,token_address:n.tokenAddress});return await s$(t,e,r)?async function(e,t,n,r,i){const a=aC.Core.connect(i.ethConfiguration.coreContractAddress,e),s=await a.populateTransaction.withdrawNft(n,t,r);return e.sendTransaction(s)}(e,a.asset_type,t,n.tokenId,i):async function(e,t,n,r,i){const a=await e.getAddress(),s=new aP(i.apiConfiguration),o=await o$(a,n,s),c=aC.Registration.connect(i.ethConfiguration.registrationContractAddress,e),u=await c.populateTransaction.registerAndWithdrawNft(a,n,o.operator_signature,t,r);return e.sendTransaction(u)}(e,a.asset_type,t,n.tokenId,i)}async function p$({ethSigner:e,starkPublicKey:t,config:n}){await a$(e,n.immutableXConfig);const r=n.immutableXConfig,i=await d$("asset","ETH",r);return await s$(t,e,n)?async function(e,t,n,r){const i=aC.Core.connect(r.ethConfiguration.coreContractAddress,e),a=await i.populateTransaction.withdraw(n,t);return e.sendTransaction(a)}(e,i.asset_type,t,r):async function(e,t,n,r){const i=await e.getAddress(),a=new aP(r.apiConfiguration),s=await o$(i,n,a),o=aC.Registration.connect(r.ethConfiguration.registrationContractAddress,e),c=await o.populateTransaction.registerAndWithdraw(i,n,s.operator_signature,t);return e.sendTransaction(c)}(e,i.asset_type,t,r)}async function m$({signers:{ethSigner:e},starkPublicKey:t,token:n,config:r}){switch(n.type){case"ETH":return p$({ethSigner:e,starkPublicKey:t,config:r});case"ERC20":return f$({ethSigner:e,starkPublicKey:t,token:n,config:r});case"ERC721":return async function({ethSigner:e,starkPublicKey:t,token:n,config:r}){await a$(e,r.immutableXConfig);const{tokenAddress:i}=n,{tokenId:a}=n,s=r.immutableXConfig,o=new CM(s.apiConfiguration);return await o.getMintableTokenDetailsByClientTokenId({tokenAddress:i,tokenId:a}).then((n=>l$(e,t,{type:"ERC721",data:{id:a,tokenAddress:i,blueprint:n.data.blueprint}},r))).catch((i=>{if(404===i.response?.status)return h$(e,t,n,r);throw i}))}({ethSigner:e,starkPublicKey:t,token:n,config:r})}}async function b$({signers:{ethSigner:e},deposit:t,config:n}){await a$(e,n.immutableXConfig);const r=await e.getAddress(),i=Rb(t.amount,"wei"),a=n.immutableXConfig,s=new fM(a.apiConfiguration),o=new mM(a.apiConfiguration),c=new aP(a.apiConfiguration),u={user:r,token:{type:t.type,data:{decimals:18}},amount:i.toString()},d=await s.getSignableDeposit({getSignableDepositRequest:u}),f=(await o.encodeAsset({assetType:"asset",encodeAssetRequest:{token:{type:t.type}}})).data.asset_type,l=d.data.stark_key,h=d.data.vault_id;return await s$(l,e,n)?async function(e,t,n,r,i,a){const s=aC.Core.connect(a.ethConfiguration.coreContractAddress,e),o=await s.populateTransaction["deposit(uint256,uint256,uint256)"](r,n,i);return e.sendTransaction({...o,value:t})}(e,i,f,l,h,a):async function(e,t,n,r,i,a,s){const o=await e.getAddress(),c=aC.Core.connect(a.ethConfiguration.coreContractAddress,e),u=await o$(o,r,s),d=await c.populateTransaction.registerAndDepositEth(o,r,u.operator_signature,n,i);return e.sendTransaction({...d,value:t})}(e,i,f,l,h,a,c)}async function y$({signers:{ethSigner:e},deposit:t,config:n}){await a$(e,n.immutableXConfig);const{apiConfiguration:r,ethConfiguration:i}=n.immutableXConfig,a=await e.getAddress(),s=new KM(r),o=new fM(r),c=new mM(r),u=new aP(r),d=await s.getToken({address:t.tokenAddress}),f={decimals:parseInt(d.data.decimals),token_address:t.tokenAddress},l=Rb(t.amount,0),h=aC.IERC20.connect(t.tokenAddress,e),p=await h.populateTransaction.approve(i.coreContractAddress,l);await e.sendTransaction(p);const m={user:a,token:{type:t.type,data:f},amount:l.toString()},b=await o.getSignableDeposit({getSignableDepositRequest:m}),y=(await c.encodeAsset({assetType:"asset",encodeAssetRequest:{token:{type:t.type,data:{token_address:t.tokenAddress}}}})).data.asset_type,g=b.data.stark_key,v=b.data.vault_id,w=Ji.from(b.data.amount);return await s$(g,e,n)?async function(e,t,n,r,i,a){const s=aC.Core.connect(a.coreContractAddress,e),o=await s.populateTransaction.depositERC20(r,n,i,t);return e.sendTransaction(o)}(e,w,y,g,v,i):async function(e,t,n,r,i,a,s){const o=await e.getAddress(),c=aC.Core.connect(a.coreContractAddress,e),u=await o$(o,r,s),d=await c.populateTransaction.registerAndDepositERC20(o,r,u.operator_signature,n,i,t);return e.sendTransaction(d)}(e,w,y,g,v,i,u)}async function g$({signers:{ethSigner:e},deposit:t,config:n}){await a$(e,n.immutableXConfig);const r=await e.getAddress(),{immutableXConfig:i}=n,a=new fM(i.apiConfiguration),s=new mM(i.apiConfiguration),o=new aP(i.apiConfiguration),c={token_address:t.tokenAddress,token_id:t.tokenId},u={user:r,token:{type:t.type,data:c},amount:"1".toString()},d=await a.getSignableDeposit({getSignableDepositRequest:u}),f=(await s.encodeAsset({assetType:"asset",encodeAssetRequest:{token:{type:t.type,data:{token_address:t.tokenAddress,token_id:t.tokenId}}}})).data.asset_type,l=d.data.stark_key,h=d.data.vault_id,p=await s$(l,e,n),m=aC.IERC721.connect(t.tokenAddress,e),b=i.ethConfiguration.coreContractAddress;if(await m.isApprovedForAll(r,b)||await m.setApprovalForAll(b,!0),!p){const t=await o$(r,l,o),n=aC.Core.connect(i.ethConfiguration.coreContractAddress,e);await n.registerUser(r,l,t.operator_signature)}return async function(e,t,n,r,i,a){const s=aC.Core.connect(a.ethConfiguration.coreContractAddress,e),o=await s.populateTransaction.depositNft(r,n,i,t);return e.sendTransaction(o)}(e,t.tokenId,f,l,h,i)}class v${config;signers;constructor(e,t,n){this.config=e,this.signers={ethSigner:t,starkSigner:n}}async getAddress(){return this.signers.ethSigner.getAddress()}async isRegisteredOffchain(){return async function(e,t){try{const n=new aP(t.immutableXConfig.apiConfiguration),r=await n.getUsers({user:e}),{accounts:i}=r.data;return i?.length>0}catch(e){if(e instanceof ze&&404===e.response?.status)return!1;throw e}}(await this.getAddress(),this.config)}registerOffchain(){return async function(e,t){await a$(e.ethSigner,t.immutableXConfig);const n=new aP(t.immutableXConfig.apiConfiguration),r=await e.ethSigner.getAddress(),i=await e.starkSigner.getAddress(),a=await n.getSignableRegistrationOffchain({getSignableRegistrationRequest:{ether_key:r,stark_key:i}}),{signable_message:s,payload_hash:o}=a.data,c=await gz(s,e.ethSigner),u=await e.starkSigner.signMessage(o);return(await n.registerUser({registerUserRequest:{eth_signature:c,ether_key:r,stark_signature:u,stark_key:i}})).data}(this.signers,this.config)}batchNftTransfer(e){return async function({signers:{ethSigner:e,starkSigner:t},request:n,config:r}){await a$(e,r.immutableXConfig);const i=await e.getAddress(),a=new tP(r.immutableXConfig.apiConfiguration),s=n.map((e=>({amount:"1",token:vz({type:"ERC721",tokenId:e.tokenId,tokenAddress:e.tokenAddress}),receiver:e.receiver}))),o=await a.getSignableTransfer({getSignableTransferRequestV2:{sender_ether_key:i,signable_requests:s}}),c=o.data.signable_message;if(void 0===c)throw new Error("Invalid response from Signable registration offchain");const u=await gz(c,e),d=[];for(const e of o.data.signable_responses){const n=await t.signMessage(e.payload_hash),r={sender_vault_id:e.sender_vault_id,receiver_stark_key:e.receiver_stark_key,receiver_vault_id:e.receiver_vault_id,asset_id:e.asset_id,amount:e.amount,nonce:e.nonce,expiration_timestamp:e.expiration_timestamp,stark_signature:n};d.push(r)}const f={sender_stark_key:o.data.sender_stark_key,requests:d},l=await a.createTransfer({createTransferRequestV2:f,xImxEthAddress:i,xImxEthSignature:u});return{transfer_ids:l?.data.transfer_ids}}({signers:this.signers,request:e,config:this.config})}cancelOrder(e){return async function({signers:e,request:t,config:n}){const r=new UM(n.immutableXConfig.apiConfiguration),i=await r.getSignableCancelOrderV3({getSignableCancelOrderRequest:{order_id:t.order_id}}),{signable_message:a,payload_hash:s}=i.data,o=await gz(a,e.ethSigner),c=await e.starkSigner.signMessage(s),u=await e.ethSigner.getAddress(),d=await r.cancelOrderV3({id:t.order_id.toString(),cancelOrderRequest:{order_id:t.order_id,stark_signature:c},xImxEthAddress:u,xImxEthSignature:o});return{order_id:d.data.order_id,status:d.data.status}}({signers:this.signers,request:e,config:this.config})}completeWithdrawal(e,t){return m$({config:this.config,signers:this.signers,token:t,starkPublicKey:e})}createOrder(e){return async function({signers:e,request:t,config:n}){await a$(e.ethSigner,n.immutableXConfig);const r=await e.ethSigner.getAddress(),i=new UM(n.immutableXConfig.apiConfiguration),a="ERC721"===t.sell.type?"1":t.sell.amount,s={user:r,amount_buy:"ERC721"===t.buy.type?"1":t.buy.amount,token_buy:vz(t.buy),amount_sell:a,token_sell:vz(t.sell),fees:t.fees,expiration_timestamp:t.expiration_timestamp},o=await i.getSignableOrder({getSignableOrderRequestV3:s}),{signable_message:c,payload_hash:u}=o.data,d=await gz(c,e.ethSigner),f=await e.starkSigner.signMessage(u),l=o.data,h={createOrderRequest:{amount_buy:l.amount_buy,amount_sell:l.amount_sell,asset_id_buy:l.asset_id_buy,asset_id_sell:l.asset_id_sell,expiration_timestamp:l.expiration_timestamp,fees:t.fees,nonce:l.nonce,stark_key:l.stark_key,stark_signature:f,vault_id_buy:l.vault_id_buy,vault_id_sell:l.vault_id_sell},xImxEthAddress:r,xImxEthSignature:d};return{...(await i.createOrderV3(h)).data}}({signers:this.signers,request:e,config:this.config})}createTrade(e){return async function({signers:{ethSigner:e,starkSigner:t},request:n,config:r}){await a$(e,r.immutableXConfig);const i=await e.getAddress(),a=new YM(r.immutableXConfig.apiConfiguration),s=await a.getSignableTrade({getSignableTradeRequest:{user:i,order_id:n.order_id,fees:n.fees}}),{signable_message:o,payload_hash:c}=s.data,u=await gz(o,e),d=await t.signMessage(c);return(await a.createTradeV3({createTradeRequest:{amount_buy:s.data.amount_buy,amount_sell:s.data.amount_sell,asset_id_buy:s.data.asset_id_buy,asset_id_sell:s.data.asset_id_sell,expiration_timestamp:s.data.expiration_timestamp,fee_info:s.data.fee_info,fees:n.fees,include_fees:!0,nonce:s.data.nonce,order_id:n.order_id,stark_key:s.data.stark_key,vault_id_buy:s.data.vault_id_buy,vault_id_sell:s.data.vault_id_sell,stark_signature:d},xImxEthAddress:i,xImxEthSignature:u})).data}({signers:this.signers,request:e,config:this.config})}deposit(e){return async function({signers:e,deposit:t,config:n}){switch(t.type){case"ETH":return b$({signers:e,deposit:t,config:n});case"ERC20":return y$({signers:e,deposit:t,config:n});case"ERC721":return g$({signers:e,deposit:t,config:n})}}({signers:this.signers,deposit:e,config:this.config})}exchangeTransfer(e){return async function({signers:e,request:t,config:n}){await a$(e.ethSigner,n.immutableXConfig);const r=new vM(n.immutableXConfig.apiConfiguration),i=await e.ethSigner.getAddress(),a=t.amount,s=await r.getExchangeSignableTransfer({id:t.transactionID,getSignableTransferRequest:{sender:i,token:vz(t),amount:a,receiver:t.receiver}}),{signable_message:o,payload_hash:c}=s.data,u=await gz(o,e.ethSigner),d=await e.starkSigner.signMessage(c),f={sender_stark_key:s.data.sender_stark_key,sender_vault_id:s.data.sender_vault_id,receiver_stark_key:s.data.receiver_stark_key,receiver_vault_id:s.data.receiver_vault_id,asset_id:s.data.asset_id,amount:s.data.amount,nonce:s.data.nonce,expiration_timestamp:s.data.expiration_timestamp,stark_signature:d},l=await r.createExchangeTransfer({id:t.transactionID,createTransferRequest:f,xImxEthAddress:i,xImxEthSignature:u});return{sent_signature:l?.data.sent_signature,status:l?.data.status?.toString(),time:l?.data.time,transfer_id:l?.data.transfer_id}}({signers:this.signers,request:e,config:this.config})}async isRegisteredOnchain(){return s$(await this.signers.starkSigner.getAddress(),this.signers.ethSigner,this.config)}prepareWithdrawal(e){return async function({signers:e,withdrawal:t,config:n}){return u$({signers:e,config:n.immutableXConfig,...t})}({signers:this.signers,withdrawal:e,config:this.config})}transfer(e){return async function({signers:{ethSigner:e,starkSigner:t},request:n,config:r}){await a$(e,r.immutableXConfig);const i=await e.getAddress(),a=new tP(r.immutableXConfig.apiConfiguration),s="ERC721"===n.type?"1":n.amount,o=await a.getSignableTransferV1({getSignableTransferRequest:{sender:i,token:vz(n),amount:s,receiver:n.receiver}}),{signable_message:c,payload_hash:u}=o.data,d=await gz(c,e),f=await t.signMessage(u),l={sender_stark_key:o.data.sender_stark_key,sender_vault_id:o.data.sender_vault_id,receiver_stark_key:o.data.receiver_stark_key,receiver_vault_id:o.data.receiver_vault_id,asset_id:o.data.asset_id,amount:o.data.amount,nonce:o.data.nonce,expiration_timestamp:o.data.expiration_timestamp,stark_signature:f},h=await a.createTransferV1({createTransferRequest:l,xImxEthAddress:i,xImxEthSignature:d});return{sent_signature:h?.data.sent_signature,status:h?.data.status?.toString(),time:h?.data.time,transfer_id:h?.data.transfer_id}}({signers:this.signers,request:e,config:this.config})}}const w$={SWITCH_CHAIN:"wallet_switchEthereumChain",CONNECT:"eth_requestAccounts"};const _$="The Metamask provider was not found";async function E$({chainID:e}){const t=await i$();if(!function(e){return!!e?.request}(t))throw new Error(_$);return await async function(e,t){await e.request({method:w$.CONNECT}),t&&await e.request({method:w$.SWITCH_CHAIN,params:[{chainId:`0x${t.toString(16)}`}]})}(t,e),new ob(t)}const T$="message";var A$,R$;function S$(e,t){e&&e.contentWindow&&e.contentWindow.postMessage(t,new URL(e.src).origin)}function k$(e,t,n,r){if(e&&t.source!==e.contentWindow)return;const i=t.data;i.type===n&&r(i.details)}!function(e){e.GET_CONNECTION_REQUEST="GET_CONNECTION_REQUEST",e.CONNECT_WALLET_REQUEST="CONNECT_WALLET_REQUEST",e.SIGN_MESSAGE_REQUEST="SIGN_MESSAGE_REQUEST",e.DISCONNECT_WALLET_REQUEST="DISCONNECT_WALLET_REQUEST"}(A$||(A$={})),function(e){e.CONNECT_WALLET_RESPONSE="CONNECT_WALLET_RESPONSE",e.SIGN_MESSAGE_RESPONSE="SIGN_MESSAGE_RESPONSE",e.GET_CONNECTION_RESPONSE="GET_CONNECTION_RESPONSE",e.DISCONNECT_WALLET_RESPONSE="DISCONNECT_WALLET_RESPONSE"}(R$||(R$={}));class O${publicAddress;iframe;constructor(e,t){this.publicAddress=e,this.iframe=t}getAddress(){return this.publicAddress}signMessage(e){return new Promise(((t,n)=>{const r=e=>{k$(this.iframe,e,R$.SIGN_MESSAGE_RESPONSE,(e=>{window.removeEventListener(T$,r),e.success||n(new Error(e.error?.message)),t(e.data.signedMessage)}))};window.addEventListener(T$,r),S$(this.iframe,{type:A$.SIGN_MESSAGE_REQUEST,details:{starkPublicKey:this.publicAddress,message:e}})}))}getIFrame(){return this.iframe}}const I$="imx-wallet-app",x$={[rt.SANDBOX]:"https://wallets.sandbox.immutable.com",[rt.PRODUCTION]:"https://wallets.immutable.com"},C$="display: none;";async function M$(e){const t=document.querySelector(`iframe#${I$}`);return t||await async function(e){return new Promise((t=>{const n=document.createElement("iframe");n.setAttribute("id",I$),n.setAttribute("src",x$[e]),n.setAttribute("style",C$),document.body.appendChild(n),n.onload=()=>t(n)}))}(e)}var P$;!function(e){e.PROVIDER_CONNECTION_ERROR="PROVIDER_CONNECTION_ERROR",e.WALLET_CONNECTION_ERROR="WALLET_CONNECTION_ERROR"}(P$||(P$={}));class N$ extends Error{type;constructor(e,t){super(e),this.type=t}}const B$=async(e,t)=>{try{return await e()}catch(e){const n=t.message||`${e.message}`||"UnknownError";throw new N$(n,t.type)}};class D$ extends v${static imxSigner;static async connect(e){return await B$((async()=>{const t=await E$({chainID:e.immutableXConfig.ethConfiguration.chainID});return this.imxSigner=await async function(e,t){const n=e.getSigner(),r=await n.getAddress(),i=await n.signMessage("Only sign this request if youve initiated an action with Immutable X."),a=await M$(t);return new Promise(((e,t)=>{const n=r=>{k$(a,r,R$.CONNECT_WALLET_RESPONSE,(r=>{window.removeEventListener(T$,n),r.success||t(new Error("The L2 IMX Wallet connection has failed")),e(new O$(r.data.starkPublicKey,a))}))};window.addEventListener(T$,n),S$(a,{type:A$.CONNECT_WALLET_REQUEST,details:{ethAddress:r,signature:i}})}))}(t,e.baseConfig.environment),new D$(e,t.getSigner(),this.imxSigner)}),{type:P$.WALLET_CONNECTION_ERROR})}static async disconnect(){if(!this.imxSigner)throw new N$("Attempted to disconnect from the MetaMask IMX provider without an established connection",P$.PROVIDER_CONNECTION_ERROR);return B$((async()=>{await async function(e){const t=e.getIFrame();return new Promise(((n,r)=>{const i=e=>{k$(t,e,R$.DISCONNECT_WALLET_RESPONSE,(e=>{window.removeEventListener(T$,i),!e.success&&e.error&&r(e.error),t.remove(),n()}))};window.addEventListener(T$,i),S$(t,{type:A$.DISCONNECT_WALLET_REQUEST,details:{starkPublicKey:e.getAddress()}})}))}(this.imxSigner)}),{type:P$.PROVIDER_CONNECTION_ERROR})}static async signMessage(e){if(!this.imxSigner)throw new N$("Attempted to sign a message with the MetaMask IMX provider without an established connection",P$.PROVIDER_CONNECTION_ERROR);return B$((async()=>await this.imxSigner.signMessage(e)),{type:P$.PROVIDER_CONNECTION_ERROR})}}var L$=Object.freeze({__proto__:null,GenericIMXProvider:v$,MetaMaskIMXProvider:D$,ProviderConfiguration:class{immutableXConfig;baseConfig;constructor({baseConfig:e,overrides:t}){if(this.baseConfig=e,t)this.immutableXConfig=t.immutableXConfig;else switch(e.environment){case rt.SANDBOX:this.immutableXConfig=UB.SANDBOX;break;case rt.PRODUCTION:this.immutableXConfig=UB.PRODUCTION}}}});function F$(e,t){return function(){return e.apply(t,arguments)}}const{toString:U$}=Object.prototype,{getPrototypeOf:j$}=Object,q$=(e=>t=>{const n=U$.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),z$=e=>(e=e.toLowerCase(),t=>q$(t)===e),H$=e=>t=>typeof t===e,{isArray:G$}=Array,W$=H$("undefined");const V$=z$("ArrayBuffer");const K$=H$("string"),X$=H$("function"),$$=H$("number"),J$=e=>null!==e&&"object"==typeof e,Y$=e=>{if("object"!==q$(e))return!1;const t=j$(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)},Q$=z$("Date"),Z$=z$("File"),eJ=z$("Blob"),tJ=z$("FileList"),nJ=z$("URLSearchParams");function rJ(e,t,{allOwnKeys:n=!1}={}){if(null==e)return;let r,i;if("object"!=typeof e&&(e=[e]),G$(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{const i=n?Object.getOwnPropertyNames(e):Object.keys(e),a=i.length;let s;for(r=0;r<a;r++)s=i[r],t.call(null,e[s],s,e)}}function iJ(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,i=n.length;for(;i-- >0;)if(r=n[i],t===r.toLowerCase())return r;return null}const aJ="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,sJ=e=>!W$(e)&&e!==aJ;const oJ=(e=>t=>e&&t instanceof e)("undefined"!=typeof Uint8Array&&j$(Uint8Array)),cJ=z$("HTMLFormElement"),uJ=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),dJ=z$("RegExp"),fJ=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};rJ(n,((n,i)=>{let a;!1!==(a=t(n,i,e))&&(r[i]=a||n)})),Object.defineProperties(e,r)},lJ="abcdefghijklmnopqrstuvwxyz",hJ="0123456789",pJ={DIGIT:hJ,ALPHA:lJ,ALPHA_DIGIT:lJ+lJ.toUpperCase()+hJ};const mJ=z$("AsyncFunction");var bJ={isArray:G$,isArrayBuffer:V$,isBuffer:function(e){return null!==e&&!W$(e)&&null!==e.constructor&&!W$(e.constructor)&&X$(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||X$(e.append)&&("formdata"===(t=q$(e))||"object"===t&&X$(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&V$(e.buffer),t},isString:K$,isNumber:$$,isBoolean:e=>!0===e||!1===e,isObject:J$,isPlainObject:Y$,isUndefined:W$,isDate:Q$,isFile:Z$,isBlob:eJ,isRegExp:dJ,isFunction:X$,isStream:e=>J$(e)&&X$(e.pipe),isURLSearchParams:nJ,isTypedArray:oJ,isFileList:tJ,forEach:rJ,merge:function e(){const{caseless:t}=sJ(this)&&this||{},n={},r=(r,i)=>{const a=t&&iJ(n,i)||i;Y$(n[a])&&Y$(r)?n[a]=e(n[a],r):Y$(r)?n[a]=e({},r):G$(r)?n[a]=r.slice():n[a]=r};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&rJ(arguments[e],r);return n},extend:(e,t,n,{allOwnKeys:r}={})=>(rJ(t,((t,r)=>{n&&X$(t)?e[r]=F$(t,n):e[r]=t}),{allOwnKeys:r}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let i,a,s;const o={};if(t=t||{},null==e)return t;do{for(i=Object.getOwnPropertyNames(e),a=i.length;a-- >0;)s=i[a],r&&!r(s,e,t)||o[s]||(t[s]=e[s],o[s]=!0);e=!1!==n&&j$(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:q$,kindOfTest:z$,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(G$(e))return e;let t=e.length;if(!$$(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:cJ,hasOwnProperty:uJ,hasOwnProp:uJ,reduceDescriptors:fJ,freezeMethods:e=>{fJ(e,((t,n)=>{if(X$(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];X$(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return G$(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>(e=+e,Number.isFinite(e)?e:t),findKey:iJ,global:aJ,isContextDefined:sJ,ALPHABET:pJ,generateString:(e=16,t=pJ.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&X$(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(J$(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const i=G$(e)?[]:{};return rJ(e,((e,t)=>{const a=n(e,r+1);!W$(a)&&(i[t]=a)})),t[r]=void 0,i}}return e};return n(e,0)},isAsyncFn:mJ,isThenable:e=>e&&(J$(e)||X$(e))&&X$(e.then)&&X$(e.catch)};function yJ(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}bJ.inherits(yJ,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:bJ.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const gJ=yJ.prototype,vJ={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{vJ[e]={value:e}})),Object.defineProperties(yJ,vJ),Object.defineProperty(gJ,"isAxiosError",{value:!0}),yJ.from=(e,t,n,r,i,a)=>{const s=Object.create(gJ);return bJ.toFlatObject(e,s,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),yJ.call(s,e.message,t,n,r,i),s.cause=e,s.name=e.name,a&&Object.assign(s,a),s};function wJ(e){return bJ.isPlainObject(e)||bJ.isArray(e)}function _J(e){return bJ.endsWith(e,"[]")?e.slice(0,-2):e}function EJ(e,t,n){return e?e.concat(t).map((function(e,t){return e=_J(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const TJ=bJ.toFlatObject(bJ,{},null,(function(e){return/^is[A-Z]/.test(e)}));function AJ(e,t,n){if(!bJ.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=bJ.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!bJ.isUndefined(t[e])}))).metaTokens,i=n.visitor||u,a=n.dots,s=n.indexes,o=(n.Blob||"undefined"!=typeof Blob&&Blob)&&bJ.isSpecCompliantForm(t);if(!bJ.isFunction(i))throw new TypeError("visitor must be a function");function c(e){if(null===e)return"";if(bJ.isDate(e))return e.toISOString();if(!o&&bJ.isBlob(e))throw new yJ("Blob is not supported. Use a Buffer instead.");return bJ.isArrayBuffer(e)||bJ.isTypedArray(e)?o&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function u(e,n,i){let o=e;if(e&&!i&&"object"==typeof e)if(bJ.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(bJ.isArray(e)&&function(e){return bJ.isArray(e)&&!e.some(wJ)}(e)||(bJ.isFileList(e)||bJ.endsWith(n,"[]"))&&(o=bJ.toArray(e)))return n=_J(n),o.forEach((function(e,r){!bJ.isUndefined(e)&&null!==e&&t.append(!0===s?EJ([n],r,a):null===s?n:n+"[]",c(e))})),!1;return!!wJ(e)||(t.append(EJ(i,n,a),c(e)),!1)}const d=[],f=Object.assign(TJ,{defaultVisitor:u,convertValue:c,isVisitable:wJ});if(!bJ.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!bJ.isUndefined(n)){if(-1!==d.indexOf(n))throw Error("Circular reference detected in "+r.join("."));d.push(n),bJ.forEach(n,(function(n,a){!0===(!(bJ.isUndefined(n)||null===n)&&i.call(t,n,bJ.isString(a)?a.trim():a,r,f))&&e(n,r?r.concat(a):[a])})),d.pop()}}(e),t}function RJ(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function SJ(e,t){this._pairs=[],e&&AJ(e,this,t)}const kJ=SJ.prototype;function OJ(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function IJ(e,t,n){if(!t)return e;const r=n&&n.encode||OJ,i=n&&n.serialize;let a;if(a=i?i(t,n):bJ.isURLSearchParams(t)?t.toString():new SJ(t,n).toString(r),a){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}kJ.append=function(e,t){this._pairs.push([e,t])},kJ.toString=function(e){const t=e?function(t){return e.call(this,t,RJ)}:RJ;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var xJ=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){bJ.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},CJ={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},MJ={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:SJ,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]};const PJ="undefined"!=typeof window&&"undefined"!=typeof document,NJ=(e=>PJ&&["ReactNative","NativeScript","NS"].indexOf(e)<0)("undefined"!=typeof navigator&&navigator.product),BJ="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts;var DJ={...Object.freeze({__proto__:null,hasBrowserEnv:PJ,hasStandardBrowserEnv:NJ,hasStandardBrowserWebWorkerEnv:BJ}),...MJ};function LJ(e){function t(e,n,r,i){let a=e[i++];if("__proto__"===a)return!0;const s=Number.isFinite(+a),o=i>=e.length;if(a=!a&&bJ.isArray(r)?r.length:a,o)return bJ.hasOwnProp(r,a)?r[a]=[r[a],n]:r[a]=n,!s;r[a]&&bJ.isObject(r[a])||(r[a]=[]);return t(e,n,r[a],i)&&bJ.isArray(r[a])&&(r[a]=function(e){const t={},n=Object.keys(e);let r;const i=n.length;let a;for(r=0;r<i;r++)a=n[r],t[a]=e[a];return t}(r[a])),!s}if(bJ.isFormData(e)&&bJ.isFunction(e.entries)){const n={};return bJ.forEachEntry(e,((e,r)=>{t(function(e){return bJ.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null}const FJ={transitional:CJ,adapter:["xhr","http"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,i=bJ.isObject(e);i&&bJ.isHTMLForm(e)&&(e=new FormData(e));if(bJ.isFormData(e))return r&&r?JSON.stringify(LJ(e)):e;if(bJ.isArrayBuffer(e)||bJ.isBuffer(e)||bJ.isStream(e)||bJ.isFile(e)||bJ.isBlob(e))return e;if(bJ.isArrayBufferView(e))return e.buffer;if(bJ.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return AJ(e,new DJ.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return DJ.isNode&&bJ.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((a=bJ.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return AJ(a?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||r?(t.setContentType("application/json",!1),function(e,t,n){if(bJ.isString(e))try{return(t||JSON.parse)(e),bJ.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||FJ.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(e&&bJ.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(e){if(n){if("SyntaxError"===e.name)throw yJ.from(e,yJ.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:DJ.classes.FormData,Blob:DJ.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};bJ.forEach(["delete","get","head","post","put","patch"],(e=>{FJ.headers[e]={}}));var UJ=FJ;const jJ=bJ.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);const qJ=Symbol("internals");function zJ(e){return e&&String(e).trim().toLowerCase()}function HJ(e){return!1===e||null==e?e:bJ.isArray(e)?e.map(HJ):String(e)}function GJ(e,t,n,r,i){return bJ.isFunction(r)?r.call(this,t,n):(i&&(t=n),bJ.isString(t)?bJ.isString(r)?-1!==t.indexOf(r):bJ.isRegExp(r)?r.test(t):void 0:void 0)}class WJ{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function i(e,t,n){const i=zJ(t);if(!i)throw new Error("header name must be a non-empty string");const a=bJ.findKey(r,i);(!a||void 0===r[a]||!0===n||void 0===n&&!1!==r[a])&&(r[a||t]=HJ(e))}const a=(e,t)=>bJ.forEach(e,((e,n)=>i(e,n,t)));return bJ.isPlainObject(e)||e instanceof this.constructor?a(e,t):bJ.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim())?a((e=>{const t={};let n,r,i;return e&&e.split("\n").forEach((function(e){i=e.indexOf(":"),n=e.substring(0,i).trim().toLowerCase(),r=e.substring(i+1).trim(),!n||t[n]&&jJ[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t):null!=e&&i(t,e,n),this}get(e,t){if(e=zJ(e)){const n=bJ.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(bJ.isFunction(t))return t.call(this,e,n);if(bJ.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=zJ(e)){const n=bJ.findKey(this,e);return!(!n||void 0===this[n]||t&&!GJ(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function i(e){if(e=zJ(e)){const i=bJ.findKey(n,e);!i||t&&!GJ(0,n[i],i,t)||(delete n[i],r=!0)}}return bJ.isArray(e)?e.forEach(i):i(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const i=t[n];e&&!GJ(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}normalize(e){const t=this,n={};return bJ.forEach(this,((r,i)=>{const a=bJ.findKey(n,i);if(a)return t[a]=HJ(r),void delete t[i];const s=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(i):String(i).trim();s!==i&&delete t[i],t[s]=HJ(r),n[s]=!0})),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return bJ.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&bJ.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([e,t])=>e+": "+t)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach((e=>n.set(e))),n}static accessor(e){const t=(this[qJ]=this[qJ]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=zJ(e);t[r]||(!function(e,t){const n=bJ.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return bJ.isArray(e)?e.forEach(r):r(e),this}}WJ.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),bJ.reduceDescriptors(WJ.prototype,(({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[n]=e}}})),bJ.freezeMethods(WJ);var VJ=WJ;function KJ(e,t){const n=this||UJ,r=t||n,i=VJ.from(r.headers);let a=r.data;return bJ.forEach(e,(function(e){a=e.call(n,a,i.normalize(),t?t.status:void 0)})),i.normalize(),a}function XJ(e){return!(!e||!e.__CANCEL__)}function $J(e,t,n){yJ.call(this,null==e?"canceled":e,yJ.ERR_CANCELED,t,n),this.name="CanceledError"}bJ.inherits($J,yJ,{__CANCEL__:!0});var JJ=DJ.hasStandardBrowserEnv?{write(e,t,n,r,i,a){const s=[e+"="+encodeURIComponent(t)];bJ.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),bJ.isString(r)&&s.push("path="+r),bJ.isString(i)&&s.push("domain="+i),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function YJ(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}var QJ=DJ.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let n;function r(n){let r=n;return e&&(t.setAttribute("href",r),r=t.href),t.setAttribute("href",r),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return n=r(window.location.href),function(e){const t=bJ.isString(e)?r(e):e;return t.protocol===n.protocol&&t.host===n.host}}():function(){return!0};function ZJ(e,t){let n=0;const r=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i,a=0,s=0;return t=void 0!==t?t:1e3,function(o){const c=Date.now(),u=r[s];i||(i=c),n[a]=o,r[a]=c;let d=s,f=0;for(;d!==a;)f+=n[d++],d%=e;if(a=(a+1)%e,a===s&&(s=(s+1)%e),c-i<t)return;const l=u&&c-u;return l?Math.round(1e3*f/l):void 0}}(50,250);return i=>{const a=i.loaded,s=i.lengthComputable?i.total:void 0,o=a-n,c=r(o);n=a;const u={loaded:a,total:s,progress:s?a/s:void 0,bytes:o,rate:c||void 0,estimated:c&&s&&a<=s?(s-a)/c:void 0,event:i};u[t?"download":"upload"]=!0,e(u)}}var eY="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){let r=e.data;const i=VJ.from(e.headers).normalize();let a,s,{responseType:o,withXSRFToken:c}=e;function u(){e.cancelToken&&e.cancelToken.unsubscribe(a),e.signal&&e.signal.removeEventListener("abort",a)}if(bJ.isFormData(r))if(DJ.hasStandardBrowserEnv||DJ.hasStandardBrowserWebWorkerEnv)i.setContentType(!1);else if(!1!==(s=i.getContentType())){const[e,...t]=s?s.split(";").map((e=>e.trim())).filter(Boolean):[];i.setContentType([e||"multipart/form-data",...t].join("; "))}let d=new XMLHttpRequest;if(e.auth){const t=e.auth.username||"",n=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";i.set("Authorization","Basic "+btoa(t+":"+n))}const f=YJ(e.baseURL,e.url);function l(){if(!d)return;const r=VJ.from("getAllResponseHeaders"in d&&d.getAllResponseHeaders());!function(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new yJ("Request failed with status code "+n.status,[yJ.ERR_BAD_REQUEST,yJ.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}((function(e){t(e),u()}),(function(e){n(e),u()}),{data:o&&"text"!==o&&"json"!==o?d.response:d.responseText,status:d.status,statusText:d.statusText,headers:r,config:e,request:d}),d=null}if(d.open(e.method.toUpperCase(),IJ(f,e.params,e.paramsSerializer),!0),d.timeout=e.timeout,"onloadend"in d?d.onloadend=l:d.onreadystatechange=function(){d&&4===d.readyState&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))&&setTimeout(l)},d.onabort=function(){d&&(n(new yJ("Request aborted",yJ.ECONNABORTED,e,d)),d=null)},d.onerror=function(){n(new yJ("Network Error",yJ.ERR_NETWORK,e,d)),d=null},d.ontimeout=function(){let t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const r=e.transitional||CJ;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new yJ(t,r.clarifyTimeoutError?yJ.ETIMEDOUT:yJ.ECONNABORTED,e,d)),d=null},DJ.hasStandardBrowserEnv&&(c&&bJ.isFunction(c)&&(c=c(e)),c||!1!==c&&QJ(f))){const t=e.xsrfHeaderName&&e.xsrfCookieName&&JJ.read(e.xsrfCookieName);t&&i.set(e.xsrfHeaderName,t)}void 0===r&&i.setContentType(null),"setRequestHeader"in d&&bJ.forEach(i.toJSON(),(function(e,t){d.setRequestHeader(t,e)})),bJ.isUndefined(e.withCredentials)||(d.withCredentials=!!e.withCredentials),o&&"json"!==o&&(d.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&d.addEventListener("progress",ZJ(e.onDownloadProgress,!0)),"function"==typeof e.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",ZJ(e.onUploadProgress)),(e.cancelToken||e.signal)&&(a=t=>{d&&(n(!t||t.type?new $J(null,e,d):t),d.abort(),d=null)},e.cancelToken&&e.cancelToken.subscribe(a),e.signal&&(e.signal.aborted?a():e.signal.addEventListener("abort",a)));const h=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(f);h&&-1===DJ.protocols.indexOf(h)?n(new yJ("Unsupported protocol "+h+":",yJ.ERR_BAD_REQUEST,e)):d.send(r||null)}))};const tY={http:null,xhr:eY};bJ.forEach(tY,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}}));const nY=e=>`- ${e}`,rY=e=>bJ.isFunction(e)||null===e||!1===e;var iY=e=>{e=bJ.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let a=0;a<t;a++){let t;if(n=e[a],r=n,!rY(n)&&(r=tY[(t=String(n)).toLowerCase()],void 0===r))throw new yJ(`Unknown adapter '${t}'`);if(r)break;i[t||"#"+a]=r}if(!r){const e=Object.entries(i).map((([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build")));throw new yJ("There is no suitable adapter to dispatch the request "+(t?e.length>1?"since :\n"+e.map(nY).join("\n"):" "+nY(e[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return r};function aY(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new $J(null,e)}function sY(e){aY(e),e.headers=VJ.from(e.headers),e.data=KJ.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return iY(e.adapter||UJ.adapter)(e).then((function(t){return aY(e),t.data=KJ.call(e,e.transformResponse,t),t.headers=VJ.from(t.headers),t}),(function(t){return XJ(t)||(aY(e),t&&t.response&&(t.response.data=KJ.call(e,e.transformResponse,t.response),t.response.headers=VJ.from(t.response.headers))),Promise.reject(t)}))}const oY=e=>e instanceof VJ?e.toJSON():e;function cY(e,t){t=t||{};const n={};function r(e,t,n){return bJ.isPlainObject(e)&&bJ.isPlainObject(t)?bJ.merge.call({caseless:n},e,t):bJ.isPlainObject(t)?bJ.merge({},t):bJ.isArray(t)?t.slice():t}function i(e,t,n){return bJ.isUndefined(t)?bJ.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function a(e,t){if(!bJ.isUndefined(t))return r(void 0,t)}function s(e,t){return bJ.isUndefined(t)?bJ.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function o(n,i,a){return a in t?r(n,i):a in e?r(void 0,n):void 0}const c={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:o,headers:(e,t)=>i(oY(e),oY(t),!0)};return bJ.forEach(Object.keys(Object.assign({},e,t)),(function(r){const a=c[r]||i,s=a(e[r],t[r],r);bJ.isUndefined(s)&&a!==o||(n[r]=s)})),n}const uY="1.6.5",dY={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{dY[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const fY={};dY.transitional=function(e,t,n){function r(e,t){return"[Axios v1.6.5] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,i,a)=>{if(!1===e)throw new yJ(r(i," has been removed"+(t?" in "+t:"")),yJ.ERR_DEPRECATED);return t&&!fY[i]&&(fY[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,a)}};var lY={assertOptions:function(e,t,n){if("object"!=typeof e)throw new yJ("options must be an object",yJ.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const a=r[i],s=t[a];if(s){const t=e[a],n=void 0===t||s(t,a,e);if(!0!==n)throw new yJ("option "+a+" must be "+n,yJ.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new yJ("Unknown option "+a,yJ.ERR_BAD_OPTION)}},validators:dY};const hY=lY.validators;class pY{constructor(e){this.defaults=e,this.interceptors={request:new xJ,response:new xJ}}request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=cY(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:i}=t;void 0!==n&&lY.assertOptions(n,{silentJSONParsing:hY.transitional(hY.boolean),forcedJSONParsing:hY.transitional(hY.boolean),clarifyTimeoutError:hY.transitional(hY.boolean)},!1),null!=r&&(bJ.isFunction(r)?t.paramsSerializer={serialize:r}:lY.assertOptions(r,{encode:hY.function,serialize:hY.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=i&&bJ.merge(i.common,i[t.method]);i&&bJ.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete i[e]})),t.headers=VJ.concat(a,i);const s=[];let o=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,s.unshift(e.fulfilled,e.rejected))}));const c=[];let u;this.interceptors.response.forEach((function(e){c.push(e.fulfilled,e.rejected)}));let d,f=0;if(!o){const e=[sY.bind(this),void 0];for(e.unshift.apply(e,s),e.push.apply(e,c),d=e.length,u=Promise.resolve(t);f<d;)u=u.then(e[f++],e[f++]);return u}d=s.length;let l=t;for(f=0;f<d;){const e=s[f++],t=s[f++];try{l=e(l)}catch(e){t.call(this,e);break}}try{u=sY.call(this,l)}catch(e){return Promise.reject(e)}for(f=0,d=c.length;f<d;)u=u.then(c[f++],c[f++]);return u}getUri(e){return IJ(YJ((e=cY(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}bJ.forEach(["delete","get","head","options"],(function(e){pY.prototype[e]=function(t,n){return this.request(cY(n||{},{method:e,url:t,data:(n||{}).data}))}})),bJ.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(cY(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}pY.prototype[e]=t(),pY.prototype[e+"Form"]=t(!0)}));var mY=pY;class bY{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,i){n.reason||(n.reason=new $J(e,r,i),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;const t=new bY((function(t){e=t}));return{token:t,cancel:e}}}var yY=bY;const gY={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(gY).forEach((([e,t])=>{gY[t]=e}));var vY=gY;const wY=function e(t){const n=new mY(t),r=F$(mY.prototype.request,n);return bJ.extend(r,mY.prototype,n,{allOwnKeys:!0}),bJ.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(cY(t,n))},r}(UJ);wY.Axios=mY,wY.CanceledError=$J,wY.CancelToken=yY,wY.isCancel=XJ,wY.VERSION=uY,wY.toFormData=AJ,wY.AxiosError=yJ,wY.Cancel=wY.CanceledError,wY.all=function(e){return Promise.all(e)},wY.spread=function(e){return function(t){return e.apply(null,t)}},wY.isAxiosError=function(e){return bJ.isObject(e)&&!0===e.isAxiosError},wY.mergeConfig=cY,wY.AxiosHeaders=VJ,wY.formToJSON=e=>LJ(bJ.isHTMLForm(e)?new FormData(e):e),wY.getAdapter=iY,wY.HttpStatusCode=vY,wY.default=wY;var _Y=wY,EY="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function TY(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function AY(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var n=function e(){if(this instanceof e){var n=[null];return n.push.apply(n,arguments),new(Function.bind.apply(t,n))}return t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach((function(t){var r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,r.get?r:{enumerable:!0,get:function(){return e[t]}})})),n}var RY={exports:{}},SY=AY(Object.freeze({__proto__:null,default:{}}));!function(e){!function(e,t){function n(e,t){if(!e)throw new Error(t||"Assertion failed")}function r(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}function i(e,t,n){if(i.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(n=t,t=10),this._init(e||0,t||10,n||"be"))}var a;"object"==typeof e?e.exports=i:t.BN=i,i.BN=i,i.wordSize=26;try{a="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:SY.Buffer}catch(e){}function s(e,t){var r=e.charCodeAt(t);return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:void n(!1,"Invalid character in "+e)}function o(e,t,n){var r=s(e,n);return n-1>=t&&(r|=s(e,n-1)<<4),r}function c(e,t,r,i){for(var a=0,s=0,o=Math.min(e.length,r),c=t;c<o;c++){var u=e.charCodeAt(c)-48;a*=i,s=u>=49?u-49+10:u>=17?u-17+10:u,n(u>=0&&s<i,"Invalid character"),a+=s}return a}function u(e,t){e.words=t.words,e.length=t.length,e.negative=t.negative,e.red=t.red}if(i.isBN=function(e){return e instanceof i||null!==e&&"object"==typeof e&&e.constructor.wordSize===i.wordSize&&Array.isArray(e.words)},i.max=function(e,t){return e.cmp(t)>0?e:t},i.min=function(e,t){return e.cmp(t)<0?e:t},i.prototype._init=function(e,t,r){if("number"==typeof e)return this._initNumber(e,t,r);if("object"==typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,r):(this._parseBase(e,t,i),"le"===r&&this._initArray(this.toArray(),t,r)))},i.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},i.prototype._initArray=function(e,t,r){if(n("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var a,s,o=0;if("be"===r)for(i=e.length-1,a=0;i>=0;i-=3)s=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[a]|=s<<o&67108863,this.words[a+1]=s>>>26-o&67108863,(o+=24)>=26&&(o-=26,a++);else if("le"===r)for(i=0,a=0;i<e.length;i+=3)s=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[a]|=s<<o&67108863,this.words[a+1]=s>>>26-o&67108863,(o+=24)>=26&&(o-=26,a++);return this._strip()},i.prototype._parseHex=function(e,t,n){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var i,a=0,s=0;if("be"===n)for(r=e.length-1;r>=t;r-=2)i=o(e,t,r)<<a,this.words[s]|=67108863&i,a>=18?(a-=18,s+=1,this.words[s]|=i>>>26):a+=8;else for(r=(e.length-t)%2==0?t+1:t;r<e.length;r+=2)i=o(e,t,r)<<a,this.words[s]|=67108863&i,a>=18?(a-=18,s+=1,this.words[s]|=i>>>26):a+=8;this._strip()},i.prototype._parseBase=function(e,t,n){this.words=[0],this.length=1;for(var r=0,i=1;i<=67108863;i*=t)r++;r--,i=i/t|0;for(var a=e.length-n,s=a%r,o=Math.min(a,a-s)+n,u=0,d=n;d<o;d+=r)u=c(e,d,d+r,t),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==s){var f=1;for(u=c(e,d,e.length,t),d=0;d<s;d++)f*=t;this.imuln(f),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this._strip()},i.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},i.prototype._move=function(e){u(e,this)},i.prototype.clone=function(){var e=new i(null);return this.copy(e),e},i.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},i.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=d}catch(e){i.prototype.inspect=d}else i.prototype.inspect=d;function d(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(e,t){var r;if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var i=0,a=0,s=0;s<this.length;s++){var o=this.words[s],c=(16777215&(o<<i|a)).toString(16);a=o>>>24-i&16777215,(i+=2)>=26&&(i-=26,s--),r=0!==a||s!==this.length-1?f[6-c.length]+c+r:c+r}for(0!==a&&(r=a.toString(16)+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var u=l[e],d=h[e];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modrn(d).toString(e);r=(p=p.idivn(d)).isZero()?m+r:f[u-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},i.prototype.toJSON=function(){return this.toString(16,2)},a&&(i.prototype.toBuffer=function(e,t){return this.toArrayLike(a,e,t)}),i.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)};function p(e,t,n){n.negative=t.negative^e.negative;var r=e.length+t.length|0;n.length=r,r=r-1|0;var i=0|e.words[0],a=0|t.words[0],s=i*a,o=67108863&s,c=s/67108864|0;n.words[0]=o;for(var u=1;u<r;u++){for(var d=c>>>26,f=67108863&c,l=Math.min(u,t.length-1),h=Math.max(0,u-e.length+1);h<=l;h++){var p=u-h|0;d+=(s=(i=0|e.words[p])*(a=0|t.words[h])+f)/67108864|0,f=67108863&s}n.words[u]=0|f,c=0|d}return 0!==c?n.words[u]=0|c:n.length--,n._strip()}i.prototype.toArrayLike=function(e,t,r){this._strip();var i=this.byteLength(),a=r||Math.max(1,i);n(i<=a,"byte array longer than desired length"),n(a>0,"Requested array length <= 0");var s=function(e,t){return e.allocUnsafe?e.allocUnsafe(t):new e(t)}(e,a);return this["_toArrayLike"+("le"===t?"LE":"BE")](s,i),s},i.prototype._toArrayLikeLE=function(e,t){for(var n=0,r=0,i=0,a=0;i<this.length;i++){var s=this.words[i]<<a|r;e[n++]=255&s,n<e.length&&(e[n++]=s>>8&255),n<e.length&&(e[n++]=s>>16&255),6===a?(n<e.length&&(e[n++]=s>>24&255),r=0,a=0):(r=s>>>24,a+=2)}if(n<e.length)for(e[n++]=r;n<e.length;)e[n++]=0},i.prototype._toArrayLikeBE=function(e,t){for(var n=e.length-1,r=0,i=0,a=0;i<this.length;i++){var s=this.words[i]<<a|r;e[n--]=255&s,n>=0&&(e[n--]=s>>8&255),n>=0&&(e[n--]=s>>16&255),6===a?(n>=0&&(e[n--]=s>>24&255),r=0,a=0):(r=s>>>24,a+=2)}if(n>=0)for(e[n--]=r;n>=0;)e[n--]=0},Math.clz32?i.prototype._countBits=function(e){return 32-Math.clz32(e)}:i.prototype._countBits=function(e){var t=e,n=0;return t>=4096&&(n+=13,t>>>=13),t>=64&&(n+=7,t>>>=7),t>=8&&(n+=4,t>>>=4),t>=2&&(n+=2,t>>>=2),n+t},i.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,n=0;return 0==(8191&t)&&(n+=13,t>>>=13),0==(127&t)&&(n+=7,t>>>=7),0==(15&t)&&(n+=4,t>>>=4),0==(3&t)&&(n+=2,t>>>=2),0==(1&t)&&n++,n},i.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var n=this._zeroBits(this.words[t]);if(e+=n,26!==n)break}return e},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},i.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return 0!==this.negative},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},i.prototype.ior=function(e){return n(0==(this.negative|e.negative)),this.iuor(e)},i.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},i.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},i.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var n=0;n<t.length;n++)this.words[n]=this.words[n]&e.words[n];return this.length=t.length,this._strip()},i.prototype.iand=function(e){return n(0==(this.negative|e.negative)),this.iuand(e)},i.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},i.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},i.prototype.iuxor=function(e){var t,n;this.length>e.length?(t=this,n=e):(t=e,n=this);for(var r=0;r<n.length;r++)this.words[r]=t.words[r]^n.words[r];if(this!==t)for(;r<t.length;r++)this.words[r]=t.words[r];return this.length=t.length,this._strip()},i.prototype.ixor=function(e){return n(0==(this.negative|e.negative)),this.iuxor(e)},i.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},i.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},i.prototype.inotn=function(e){n("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this._strip()},i.prototype.notn=function(e){return this.clone().inotn(e)},i.prototype.setn=function(e,t){n("number"==typeof e&&e>=0);var r=e/26|0,i=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<i:this.words[r]&~(1<<i),this._strip()},i.prototype.iadd=function(e){var t,n,r;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(n=this,r=e):(n=e,r=this);for(var i=0,a=0;a<r.length;a++)t=(0|n.words[a])+(0|r.words[a])+i,this.words[a]=67108863&t,i=t>>>26;for(;0!==i&&a<n.length;a++)t=(0|n.words[a])+i,this.words[a]=67108863&t,i=t>>>26;if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;a<n.length;a++)this.words[a]=n.words[a];return this},i.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},i.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var n,r,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(n=this,r=e):(n=e,r=this);for(var a=0,s=0;s<r.length;s++)a=(t=(0|n.words[s])-(0|r.words[s])+a)>>26,this.words[s]=67108863&t;for(;0!==a&&s<n.length;s++)a=(t=(0|n.words[s])+a)>>26,this.words[s]=67108863&t;if(0===a&&s<n.length&&n!==this)for(;s<n.length;s++)this.words[s]=n.words[s];return this.length=Math.max(this.length,s),n!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(e){return this.clone().isub(e)};var m=function(e,t,n){var r,i,a,s=e.words,o=t.words,c=n.words,u=0,d=0|s[0],f=8191&d,l=d>>>13,h=0|s[1],p=8191&h,m=h>>>13,b=0|s[2],y=8191&b,g=b>>>13,v=0|s[3],w=8191&v,_=v>>>13,E=0|s[4],T=8191&E,A=E>>>13,R=0|s[5],S=8191&R,k=R>>>13,O=0|s[6],I=8191&O,x=O>>>13,C=0|s[7],M=8191&C,P=C>>>13,N=0|s[8],B=8191&N,D=N>>>13,L=0|s[9],F=8191&L,U=L>>>13,j=0|o[0],q=8191&j,z=j>>>13,H=0|o[1],G=8191&H,W=H>>>13,V=0|o[2],K=8191&V,X=V>>>13,$=0|o[3],J=8191&$,Y=$>>>13,Q=0|o[4],Z=8191&Q,ee=Q>>>13,te=0|o[5],ne=8191&te,re=te>>>13,ie=0|o[6],ae=8191&ie,se=ie>>>13,oe=0|o[7],ce=8191&oe,ue=oe>>>13,de=0|o[8],fe=8191&de,le=de>>>13,he=0|o[9],pe=8191&he,me=he>>>13;n.negative=e.negative^t.negative,n.length=19;var be=(u+(r=Math.imul(f,q))|0)+((8191&(i=(i=Math.imul(f,z))+Math.imul(l,q)|0))<<13)|0;u=((a=Math.imul(l,z))+(i>>>13)|0)+(be>>>26)|0,be&=67108863,r=Math.imul(p,q),i=(i=Math.imul(p,z))+Math.imul(m,q)|0,a=Math.imul(m,z);var ye=(u+(r=r+Math.imul(f,G)|0)|0)+((8191&(i=(i=i+Math.imul(f,W)|0)+Math.imul(l,G)|0))<<13)|0;u=((a=a+Math.imul(l,W)|0)+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,r=Math.imul(y,q),i=(i=Math.imul(y,z))+Math.imul(g,q)|0,a=Math.imul(g,z),r=r+Math.imul(p,G)|0,i=(i=i+Math.imul(p,W)|0)+Math.imul(m,G)|0,a=a+Math.imul(m,W)|0;var ge=(u+(r=r+Math.imul(f,K)|0)|0)+((8191&(i=(i=i+Math.imul(f,X)|0)+Math.imul(l,K)|0))<<13)|0;u=((a=a+Math.imul(l,X)|0)+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,r=Math.imul(w,q),i=(i=Math.imul(w,z))+Math.imul(_,q)|0,a=Math.imul(_,z),r=r+Math.imul(y,G)|0,i=(i=i+Math.imul(y,W)|0)+Math.imul(g,G)|0,a=a+Math.imul(g,W)|0,r=r+Math.imul(p,K)|0,i=(i=i+Math.imul(p,X)|0)+Math.imul(m,K)|0,a=a+Math.imul(m,X)|0;var ve=(u+(r=r+Math.imul(f,J)|0)|0)+((8191&(i=(i=i+Math.imul(f,Y)|0)+Math.imul(l,J)|0))<<13)|0;u=((a=a+Math.imul(l,Y)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,r=Math.imul(T,q),i=(i=Math.imul(T,z))+Math.imul(A,q)|0,a=Math.imul(A,z),r=r+Math.imul(w,G)|0,i=(i=i+Math.imul(w,W)|0)+Math.imul(_,G)|0,a=a+Math.imul(_,W)|0,r=r+Math.imul(y,K)|0,i=(i=i+Math.imul(y,X)|0)+Math.imul(g,K)|0,a=a+Math.imul(g,X)|0,r=r+Math.imul(p,J)|0,i=(i=i+Math.imul(p,Y)|0)+Math.imul(m,J)|0,a=a+Math.imul(m,Y)|0;var we=(u+(r=r+Math.imul(f,Z)|0)|0)+((8191&(i=(i=i+Math.imul(f,ee)|0)+Math.imul(l,Z)|0))<<13)|0;u=((a=a+Math.imul(l,ee)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,r=Math.imul(S,q),i=(i=Math.imul(S,z))+Math.imul(k,q)|0,a=Math.imul(k,z),r=r+Math.imul(T,G)|0,i=(i=i+Math.imul(T,W)|0)+Math.imul(A,G)|0,a=a+Math.imul(A,W)|0,r=r+Math.imul(w,K)|0,i=(i=i+Math.imul(w,X)|0)+Math.imul(_,K)|0,a=a+Math.imul(_,X)|0,r=r+Math.imul(y,J)|0,i=(i=i+Math.imul(y,Y)|0)+Math.imul(g,J)|0,a=a+Math.imul(g,Y)|0,r=r+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(m,Z)|0,a=a+Math.imul(m,ee)|0;var _e=(u+(r=r+Math.imul(f,ne)|0)|0)+((8191&(i=(i=i+Math.imul(f,re)|0)+Math.imul(l,ne)|0))<<13)|0;u=((a=a+Math.imul(l,re)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,r=Math.imul(I,q),i=(i=Math.imul(I,z))+Math.imul(x,q)|0,a=Math.imul(x,z),r=r+Math.imul(S,G)|0,i=(i=i+Math.imul(S,W)|0)+Math.imul(k,G)|0,a=a+Math.imul(k,W)|0,r=r+Math.imul(T,K)|0,i=(i=i+Math.imul(T,X)|0)+Math.imul(A,K)|0,a=a+Math.imul(A,X)|0,r=r+Math.imul(w,J)|0,i=(i=i+Math.imul(w,Y)|0)+Math.imul(_,J)|0,a=a+Math.imul(_,Y)|0,r=r+Math.imul(y,Z)|0,i=(i=i+Math.imul(y,ee)|0)+Math.imul(g,Z)|0,a=a+Math.imul(g,ee)|0,r=r+Math.imul(p,ne)|0,i=(i=i+Math.imul(p,re)|0)+Math.imul(m,ne)|0,a=a+Math.imul(m,re)|0;var Ee=(u+(r=r+Math.imul(f,ae)|0)|0)+((8191&(i=(i=i+Math.imul(f,se)|0)+Math.imul(l,ae)|0))<<13)|0;u=((a=a+Math.imul(l,se)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,r=Math.imul(M,q),i=(i=Math.imul(M,z))+Math.imul(P,q)|0,a=Math.imul(P,z),r=r+Math.imul(I,G)|0,i=(i=i+Math.imul(I,W)|0)+Math.imul(x,G)|0,a=a+Math.imul(x,W)|0,r=r+Math.imul(S,K)|0,i=(i=i+Math.imul(S,X)|0)+Math.imul(k,K)|0,a=a+Math.imul(k,X)|0,r=r+Math.imul(T,J)|0,i=(i=i+Math.imul(T,Y)|0)+Math.imul(A,J)|0,a=a+Math.imul(A,Y)|0,r=r+Math.imul(w,Z)|0,i=(i=i+Math.imul(w,ee)|0)+Math.imul(_,Z)|0,a=a+Math.imul(_,ee)|0,r=r+Math.imul(y,ne)|0,i=(i=i+Math.imul(y,re)|0)+Math.imul(g,ne)|0,a=a+Math.imul(g,re)|0,r=r+Math.imul(p,ae)|0,i=(i=i+Math.imul(p,se)|0)+Math.imul(m,ae)|0,a=a+Math.imul(m,se)|0;var Te=(u+(r=r+Math.imul(f,ce)|0)|0)+((8191&(i=(i=i+Math.imul(f,ue)|0)+Math.imul(l,ce)|0))<<13)|0;u=((a=a+Math.imul(l,ue)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,r=Math.imul(B,q),i=(i=Math.imul(B,z))+Math.imul(D,q)|0,a=Math.imul(D,z),r=r+Math.imul(M,G)|0,i=(i=i+Math.imul(M,W)|0)+Math.imul(P,G)|0,a=a+Math.imul(P,W)|0,r=r+Math.imul(I,K)|0,i=(i=i+Math.imul(I,X)|0)+Math.imul(x,K)|0,a=a+Math.imul(x,X)|0,r=r+Math.imul(S,J)|0,i=(i=i+Math.imul(S,Y)|0)+Math.imul(k,J)|0,a=a+Math.imul(k,Y)|0,r=r+Math.imul(T,Z)|0,i=(i=i+Math.imul(T,ee)|0)+Math.imul(A,Z)|0,a=a+Math.imul(A,ee)|0,r=r+Math.imul(w,ne)|0,i=(i=i+Math.imul(w,re)|0)+Math.imul(_,ne)|0,a=a+Math.imul(_,re)|0,r=r+Math.imul(y,ae)|0,i=(i=i+Math.imul(y,se)|0)+Math.imul(g,ae)|0,a=a+Math.imul(g,se)|0,r=r+Math.imul(p,ce)|0,i=(i=i+Math.imul(p,ue)|0)+Math.imul(m,ce)|0,a=a+Math.imul(m,ue)|0;var Ae=(u+(r=r+Math.imul(f,fe)|0)|0)+((8191&(i=(i=i+Math.imul(f,le)|0)+Math.imul(l,fe)|0))<<13)|0;u=((a=a+Math.imul(l,le)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,r=Math.imul(F,q),i=(i=Math.imul(F,z))+Math.imul(U,q)|0,a=Math.imul(U,z),r=r+Math.imul(B,G)|0,i=(i=i+Math.imul(B,W)|0)+Math.imul(D,G)|0,a=a+Math.imul(D,W)|0,r=r+Math.imul(M,K)|0,i=(i=i+Math.imul(M,X)|0)+Math.imul(P,K)|0,a=a+Math.imul(P,X)|0,r=r+Math.imul(I,J)|0,i=(i=i+Math.imul(I,Y)|0)+Math.imul(x,J)|0,a=a+Math.imul(x,Y)|0,r=r+Math.imul(S,Z)|0,i=(i=i+Math.imul(S,ee)|0)+Math.imul(k,Z)|0,a=a+Math.imul(k,ee)|0,r=r+Math.imul(T,ne)|0,i=(i=i+Math.imul(T,re)|0)+Math.imul(A,ne)|0,a=a+Math.imul(A,re)|0,r=r+Math.imul(w,ae)|0,i=(i=i+Math.imul(w,se)|0)+Math.imul(_,ae)|0,a=a+Math.imul(_,se)|0,r=r+Math.imul(y,ce)|0,i=(i=i+Math.imul(y,ue)|0)+Math.imul(g,ce)|0,a=a+Math.imul(g,ue)|0,r=r+Math.imul(p,fe)|0,i=(i=i+Math.imul(p,le)|0)+Math.imul(m,fe)|0,a=a+Math.imul(m,le)|0;var Re=(u+(r=r+Math.imul(f,pe)|0)|0)+((8191&(i=(i=i+Math.imul(f,me)|0)+Math.imul(l,pe)|0))<<13)|0;u=((a=a+Math.imul(l,me)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,r=Math.imul(F,G),i=(i=Math.imul(F,W))+Math.imul(U,G)|0,a=Math.imul(U,W),r=r+Math.imul(B,K)|0,i=(i=i+Math.imul(B,X)|0)+Math.imul(D,K)|0,a=a+Math.imul(D,X)|0,r=r+Math.imul(M,J)|0,i=(i=i+Math.imul(M,Y)|0)+Math.imul(P,J)|0,a=a+Math.imul(P,Y)|0,r=r+Math.imul(I,Z)|0,i=(i=i+Math.imul(I,ee)|0)+Math.imul(x,Z)|0,a=a+Math.imul(x,ee)|0,r=r+Math.imul(S,ne)|0,i=(i=i+Math.imul(S,re)|0)+Math.imul(k,ne)|0,a=a+Math.imul(k,re)|0,r=r+Math.imul(T,ae)|0,i=(i=i+Math.imul(T,se)|0)+Math.imul(A,ae)|0,a=a+Math.imul(A,se)|0,r=r+Math.imul(w,ce)|0,i=(i=i+Math.imul(w,ue)|0)+Math.imul(_,ce)|0,a=a+Math.imul(_,ue)|0,r=r+Math.imul(y,fe)|0,i=(i=i+Math.imul(y,le)|0)+Math.imul(g,fe)|0,a=a+Math.imul(g,le)|0;var Se=(u+(r=r+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,me)|0)+Math.imul(m,pe)|0))<<13)|0;u=((a=a+Math.imul(m,me)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,r=Math.imul(F,K),i=(i=Math.imul(F,X))+Math.imul(U,K)|0,a=Math.imul(U,X),r=r+Math.imul(B,J)|0,i=(i=i+Math.imul(B,Y)|0)+Math.imul(D,J)|0,a=a+Math.imul(D,Y)|0,r=r+Math.imul(M,Z)|0,i=(i=i+Math.imul(M,ee)|0)+Math.imul(P,Z)|0,a=a+Math.imul(P,ee)|0,r=r+Math.imul(I,ne)|0,i=(i=i+Math.imul(I,re)|0)+Math.imul(x,ne)|0,a=a+Math.imul(x,re)|0,r=r+Math.imul(S,ae)|0,i=(i=i+Math.imul(S,se)|0)+Math.imul(k,ae)|0,a=a+Math.imul(k,se)|0,r=r+Math.imul(T,ce)|0,i=(i=i+Math.imul(T,ue)|0)+Math.imul(A,ce)|0,a=a+Math.imul(A,ue)|0,r=r+Math.imul(w,fe)|0,i=(i=i+Math.imul(w,le)|0)+Math.imul(_,fe)|0,a=a+Math.imul(_,le)|0;var ke=(u+(r=r+Math.imul(y,pe)|0)|0)+((8191&(i=(i=i+Math.imul(y,me)|0)+Math.imul(g,pe)|0))<<13)|0;u=((a=a+Math.imul(g,me)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,r=Math.imul(F,J),i=(i=Math.imul(F,Y))+Math.imul(U,J)|0,a=Math.imul(U,Y),r=r+Math.imul(B,Z)|0,i=(i=i+Math.imul(B,ee)|0)+Math.imul(D,Z)|0,a=a+Math.imul(D,ee)|0,r=r+Math.imul(M,ne)|0,i=(i=i+Math.imul(M,re)|0)+Math.imul(P,ne)|0,a=a+Math.imul(P,re)|0,r=r+Math.imul(I,ae)|0,i=(i=i+Math.imul(I,se)|0)+Math.imul(x,ae)|0,a=a+Math.imul(x,se)|0,r=r+Math.imul(S,ce)|0,i=(i=i+Math.imul(S,ue)|0)+Math.imul(k,ce)|0,a=a+Math.imul(k,ue)|0,r=r+Math.imul(T,fe)|0,i=(i=i+Math.imul(T,le)|0)+Math.imul(A,fe)|0,a=a+Math.imul(A,le)|0;var Oe=(u+(r=r+Math.imul(w,pe)|0)|0)+((8191&(i=(i=i+Math.imul(w,me)|0)+Math.imul(_,pe)|0))<<13)|0;u=((a=a+Math.imul(_,me)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,r=Math.imul(F,Z),i=(i=Math.imul(F,ee))+Math.imul(U,Z)|0,a=Math.imul(U,ee),r=r+Math.imul(B,ne)|0,i=(i=i+Math.imul(B,re)|0)+Math.imul(D,ne)|0,a=a+Math.imul(D,re)|0,r=r+Math.imul(M,ae)|0,i=(i=i+Math.imul(M,se)|0)+Math.imul(P,ae)|0,a=a+Math.imul(P,se)|0,r=r+Math.imul(I,ce)|0,i=(i=i+Math.imul(I,ue)|0)+Math.imul(x,ce)|0,a=a+Math.imul(x,ue)|0,r=r+Math.imul(S,fe)|0,i=(i=i+Math.imul(S,le)|0)+Math.imul(k,fe)|0,a=a+Math.imul(k,le)|0;var Ie=(u+(r=r+Math.imul(T,pe)|0)|0)+((8191&(i=(i=i+Math.imul(T,me)|0)+Math.imul(A,pe)|0))<<13)|0;u=((a=a+Math.imul(A,me)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,r=Math.imul(F,ne),i=(i=Math.imul(F,re))+Math.imul(U,ne)|0,a=Math.imul(U,re),r=r+Math.imul(B,ae)|0,i=(i=i+Math.imul(B,se)|0)+Math.imul(D,ae)|0,a=a+Math.imul(D,se)|0,r=r+Math.imul(M,ce)|0,i=(i=i+Math.imul(M,ue)|0)+Math.imul(P,ce)|0,a=a+Math.imul(P,ue)|0,r=r+Math.imul(I,fe)|0,i=(i=i+Math.imul(I,le)|0)+Math.imul(x,fe)|0,a=a+Math.imul(x,le)|0;var xe=(u+(r=r+Math.imul(S,pe)|0)|0)+((8191&(i=(i=i+Math.imul(S,me)|0)+Math.imul(k,pe)|0))<<13)|0;u=((a=a+Math.imul(k,me)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,r=Math.imul(F,ae),i=(i=Math.imul(F,se))+Math.imul(U,ae)|0,a=Math.imul(U,se),r=r+Math.imul(B,ce)|0,i=(i=i+Math.imul(B,ue)|0)+Math.imul(D,ce)|0,a=a+Math.imul(D,ue)|0,r=r+Math.imul(M,fe)|0,i=(i=i+Math.imul(M,le)|0)+Math.imul(P,fe)|0,a=a+Math.imul(P,le)|0;var Ce=(u+(r=r+Math.imul(I,pe)|0)|0)+((8191&(i=(i=i+Math.imul(I,me)|0)+Math.imul(x,pe)|0))<<13)|0;u=((a=a+Math.imul(x,me)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,r=Math.imul(F,ce),i=(i=Math.imul(F,ue))+Math.imul(U,ce)|0,a=Math.imul(U,ue),r=r+Math.imul(B,fe)|0,i=(i=i+Math.imul(B,le)|0)+Math.imul(D,fe)|0,a=a+Math.imul(D,le)|0;var Me=(u+(r=r+Math.imul(M,pe)|0)|0)+((8191&(i=(i=i+Math.imul(M,me)|0)+Math.imul(P,pe)|0))<<13)|0;u=((a=a+Math.imul(P,me)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,r=Math.imul(F,fe),i=(i=Math.imul(F,le))+Math.imul(U,fe)|0,a=Math.imul(U,le);var Pe=(u+(r=r+Math.imul(B,pe)|0)|0)+((8191&(i=(i=i+Math.imul(B,me)|0)+Math.imul(D,pe)|0))<<13)|0;u=((a=a+Math.imul(D,me)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863;var Ne=(u+(r=Math.imul(F,pe))|0)+((8191&(i=(i=Math.imul(F,me))+Math.imul(U,pe)|0))<<13)|0;return u=((a=Math.imul(U,me))+(i>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,c[0]=be,c[1]=ye,c[2]=ge,c[3]=ve,c[4]=we,c[5]=_e,c[6]=Ee,c[7]=Te,c[8]=Ae,c[9]=Re,c[10]=Se,c[11]=ke,c[12]=Oe,c[13]=Ie,c[14]=xe,c[15]=Ce,c[16]=Me,c[17]=Pe,c[18]=Ne,0!==u&&(c[19]=u,n.length++),n};function b(e,t,n){n.negative=t.negative^e.negative,n.length=e.length+t.length;for(var r=0,i=0,a=0;a<n.length-1;a++){var s=i;i=0;for(var o=67108863&r,c=Math.min(a,t.length-1),u=Math.max(0,a-e.length+1);u<=c;u++){var d=a-u,f=(0|e.words[d])*(0|t.words[u]),l=67108863&f;o=67108863&(l=l+o|0),i+=(s=(s=s+(f/67108864|0)|0)+(l>>>26)|0)>>>26,s&=67108863}n.words[a]=o,r=s,s=i}return 0!==r?n.words[a]=r:n.length--,n._strip()}function y(e,t,n){return b(e,t,n)}Math.imul||(m=p),i.prototype.mulTo=function(e,t){var n=this.length+e.length;return 10===this.length&&10===e.length?m(this,e,t):n<63?p(this,e,t):n<1024?b(this,e,t):y(this,e,t)},i.prototype.mul=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},i.prototype.mulf=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),y(this,e,t)},i.prototype.imul=function(e){return this.clone().mulTo(e,this)},i.prototype.imuln=function(e){var t=e<0;t&&(e=-e),n("number"==typeof e),n(e<67108864);for(var r=0,i=0;i<this.length;i++){var a=(0|this.words[i])*e,s=(67108863&a)+(67108863&r);r>>=26,r+=a/67108864|0,r+=s>>>26,this.words[i]=67108863&s}return 0!==r&&(this.words[i]=r,this.length++),t?this.ineg():this},i.prototype.muln=function(e){return this.clone().imuln(e)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),n=0;n<t.length;n++){var r=n/26|0,i=n%26;t[n]=e.words[r]>>>i&1}return t}(e);if(0===t.length)return new i(1);for(var n=this,r=0;r<t.length&&0===t[r];r++,n=n.sqr());if(++r<t.length)for(var a=n.sqr();r<t.length;r++,a=a.sqr())0!==t[r]&&(n=n.mul(a));return n},i.prototype.iushln=function(e){n("number"==typeof e&&e>=0);var t,r=e%26,i=(e-r)/26,a=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(t=0;t<this.length;t++){var o=this.words[t]&a,c=(0|this.words[t])-o<<r;this.words[t]=c|s,s=o>>>26-r}s&&(this.words[t]=s,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this._strip()},i.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},i.prototype.iushrn=function(e,t,r){var i;n("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var a=e%26,s=Math.min((e-a)/26,this.length),o=67108863^67108863>>>a<<a,c=r;if(i-=s,i=Math.max(0,i),c){for(var u=0;u<s;u++)c.words[u]=this.words[u];c.length=s}if(0===s);else if(this.length>s)for(this.length-=s,u=0;u<this.length;u++)this.words[u]=this.words[u+s];else this.words[0]=0,this.length=1;var d=0;for(u=this.length-1;u>=0&&(0!==d||u>=i);u--){var f=0|this.words[u];this.words[u]=d<<26-a|f>>>a,d=f&o}return c&&0!==d&&(c.words[c.length++]=d),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(e,t,r){return n(0===this.negative),this.iushrn(e,t,r)},i.prototype.shln=function(e){return this.clone().ishln(e)},i.prototype.ushln=function(e){return this.clone().iushln(e)},i.prototype.shrn=function(e){return this.clone().ishrn(e)},i.prototype.ushrn=function(e){return this.clone().iushrn(e)},i.prototype.testn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26,i=1<<t;return!(this.length<=r)&&!!(this.words[r]&i)},i.prototype.imaskn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this._strip()},i.prototype.maskn=function(e){return this.clone().imaskn(e)},i.prototype.iaddn=function(e){return n("number"==typeof e),n(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},i.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},i.prototype.isubn=function(e){if(n("number"==typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this._strip()},i.prototype.addn=function(e){return this.clone().iaddn(e)},i.prototype.subn=function(e){return this.clone().isubn(e)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(e,t,r){var i,a,s=e.length+r;this._expand(s);var o=0;for(i=0;i<e.length;i++){a=(0|this.words[i+r])+o;var c=(0|e.words[i])*t;o=((a-=67108863&c)>>26)-(c/67108864|0),this.words[i+r]=67108863&a}for(;i<this.length-r;i++)o=(a=(0|this.words[i+r])+o)>>26,this.words[i+r]=67108863&a;if(0===o)return this._strip();for(n(-1===o),o=0,i=0;i<this.length;i++)o=(a=-(0|this.words[i])+o)>>26,this.words[i]=67108863&a;return this.negative=1,this._strip()},i.prototype._wordDiv=function(e,t){var n=(this.length,e.length),r=this.clone(),a=e,s=0|a.words[a.length-1];0!==(n=26-this._countBits(s))&&(a=a.ushln(n),r.iushln(n),s=0|a.words[a.length-1]);var o,c=r.length-a.length;if("mod"!==t){(o=new i(null)).length=c+1,o.words=new Array(o.length);for(var u=0;u<o.length;u++)o.words[u]=0}var d=r.clone()._ishlnsubmul(a,1,c);0===d.negative&&(r=d,o&&(o.words[c]=1));for(var f=c-1;f>=0;f--){var l=67108864*(0|r.words[a.length+f])+(0|r.words[a.length+f-1]);for(l=Math.min(l/s|0,67108863),r._ishlnsubmul(a,l,f);0!==r.negative;)l--,r.negative=0,r._ishlnsubmul(a,1,f),r.isZero()||(r.negative^=1);o&&(o.words[f]=l)}return o&&o._strip(),r._strip(),"div"!==t&&0!==n&&r.iushrn(n),{div:o||null,mod:r}},i.prototype.divmod=function(e,t,r){return n(!e.isZero()),this.isZero()?{div:new i(0),mod:new i(0)}:0!==this.negative&&0===e.negative?(o=this.neg().divmod(e,t),"mod"!==t&&(a=o.div.neg()),"div"!==t&&(s=o.mod.neg(),r&&0!==s.negative&&s.iadd(e)),{div:a,mod:s}):0===this.negative&&0!==e.negative?(o=this.divmod(e.neg(),t),"mod"!==t&&(a=o.div.neg()),{div:a,mod:o.mod}):0!=(this.negative&e.negative)?(o=this.neg().divmod(e.neg(),t),"div"!==t&&(s=o.mod.neg(),r&&0!==s.negative&&s.isub(e)),{div:o.div,mod:s}):e.length>this.length||this.cmp(e)<0?{div:new i(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new i(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new i(this.modrn(e.words[0]))}:this._wordDiv(e,t);var a,s,o},i.prototype.div=function(e){return this.divmod(e,"div",!1).div},i.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},i.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},i.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var n=0!==t.div.negative?t.mod.isub(e):t.mod,r=e.ushrn(1),i=e.andln(1),a=n.cmp(r);return a<0||1===i&&0===a?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},i.prototype.modrn=function(e){var t=e<0;t&&(e=-e),n(e<=67108863);for(var r=(1<<26)%e,i=0,a=this.length-1;a>=0;a--)i=(r*i+(0|this.words[a]))%e;return t?-i:i},i.prototype.modn=function(e){return this.modrn(e)},i.prototype.idivn=function(e){var t=e<0;t&&(e=-e),n(e<=67108863);for(var r=0,i=this.length-1;i>=0;i--){var a=(0|this.words[i])+67108864*r;this.words[i]=a/e|0,r=a%e}return this._strip(),t?this.ineg():this},i.prototype.divn=function(e){return this.clone().idivn(e)},i.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var a=new i(1),s=new i(0),o=new i(0),c=new i(1),u=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++u;for(var d=r.clone(),f=t.clone();!t.isZero();){for(var l=0,h=1;0==(t.words[0]&h)&&l<26;++l,h<<=1);if(l>0)for(t.iushrn(l);l-- >0;)(a.isOdd()||s.isOdd())&&(a.iadd(d),s.isub(f)),a.iushrn(1),s.iushrn(1);for(var p=0,m=1;0==(r.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(o.isOdd()||c.isOdd())&&(o.iadd(d),c.isub(f)),o.iushrn(1),c.iushrn(1);t.cmp(r)>=0?(t.isub(r),a.isub(o),s.isub(c)):(r.isub(t),o.isub(a),c.isub(s))}return{a:o,b:c,gcd:r.iushln(u)}},i.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var a,s=new i(1),o=new i(0),c=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var u=0,d=1;0==(t.words[0]&d)&&u<26;++u,d<<=1);if(u>0)for(t.iushrn(u);u-- >0;)s.isOdd()&&s.iadd(c),s.iushrn(1);for(var f=0,l=1;0==(r.words[0]&l)&&f<26;++f,l<<=1);if(f>0)for(r.iushrn(f);f-- >0;)o.isOdd()&&o.iadd(c),o.iushrn(1);t.cmp(r)>=0?(t.isub(r),s.isub(o)):(r.isub(t),o.isub(s))}return(a=0===t.cmpn(1)?s:o).cmpn(0)<0&&a.iadd(e),a},i.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),n=e.clone();t.negative=0,n.negative=0;for(var r=0;t.isEven()&&n.isEven();r++)t.iushrn(1),n.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;n.isEven();)n.iushrn(1);var i=t.cmp(n);if(i<0){var a=t;t=n,n=a}else if(0===i||0===n.cmpn(1))break;t.isub(n)}return n.iushln(r)},i.prototype.invm=function(e){return this.egcd(e).a.umod(e)},i.prototype.isEven=function(){return 0==(1&this.words[0])},i.prototype.isOdd=function(){return 1==(1&this.words[0])},i.prototype.andln=function(e){return this.words[0]&e},i.prototype.bincn=function(e){n("number"==typeof e);var t=e%26,r=(e-t)/26,i=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var a=i,s=r;0!==a&&s<this.length;s++){var o=0|this.words[s];a=(o+=a)>>>26,o&=67108863,this.words[s]=o}return 0!==a&&(this.words[s]=a,this.length++),this},i.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},i.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)t=1;else{r&&(e=-e),n(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},i.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},i.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],i=0|e.words[n];if(r!==i){r<i?t=-1:r>i&&(t=1);break}}return t},i.prototype.gtn=function(e){return 1===this.cmpn(e)},i.prototype.gt=function(e){return 1===this.cmp(e)},i.prototype.gten=function(e){return this.cmpn(e)>=0},i.prototype.gte=function(e){return this.cmp(e)>=0},i.prototype.ltn=function(e){return-1===this.cmpn(e)},i.prototype.lt=function(e){return-1===this.cmp(e)},i.prototype.lten=function(e){return this.cmpn(e)<=0},i.prototype.lte=function(e){return this.cmp(e)<=0},i.prototype.eqn=function(e){return 0===this.cmpn(e)},i.prototype.eq=function(e){return 0===this.cmp(e)},i.red=function(e){return new A(e)},i.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(e){return this.red=e,this},i.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},i.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},i.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},i.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},i.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},i.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},i.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},i.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var g={k256:null,p224:null,p192:null,p25519:null};function v(e,t){this.name=e,this.p=new i(t,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function w(){v.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function _(){v.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function E(){v.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function T(){v.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function A(e){if("string"==typeof e){var t=i._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function R(e){A.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}v.prototype._tmp=function(){var e=new i(null);return e.words=new Array(Math.ceil(this.n/13)),e},v.prototype.ireduce=function(e){var t,n=e;do{this.split(n,this.tmp),t=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(t>this.n);var r=t<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},v.prototype.split=function(e,t){e.iushrn(this.n,0,t)},v.prototype.imulK=function(e){return e.imul(this.k)},r(w,v),w.prototype.split=function(e,t){for(var n=4194303,r=Math.min(e.length,9),i=0;i<r;i++)t.words[i]=e.words[i];if(t.length=r,e.length<=9)return e.words[0]=0,void(e.length=1);var a=e.words[9];for(t.words[t.length++]=a&n,i=10;i<e.length;i++){var s=0|e.words[i];e.words[i-10]=(s&n)<<4|a>>>22,a=s}a>>>=22,e.words[i-10]=a,0===a&&e.length>10?e.length-=10:e.length-=9},w.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,n=0;n<e.length;n++){var r=0|e.words[n];t+=977*r,e.words[n]=67108863&t,t=64*r+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},r(_,v),r(E,v),r(T,v),T.prototype.imulK=function(e){for(var t=0,n=0;n<e.length;n++){var r=19*(0|e.words[n])+t,i=67108863&r;r>>>=26,e.words[n]=i,t=r}return 0!==t&&(e.words[e.length++]=t),e},i._prime=function(e){if(g[e])return g[e];var t;if("k256"===e)t=new w;else if("p224"===e)t=new _;else if("p192"===e)t=new E;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new T}return g[e]=t,t},A.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},A.prototype._verify2=function(e,t){n(0==(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},A.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(u(e,e.umod(this.m)._forceRed(this)),e)},A.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},A.prototype.add=function(e,t){this._verify2(e,t);var n=e.add(t);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},A.prototype.iadd=function(e,t){this._verify2(e,t);var n=e.iadd(t);return n.cmp(this.m)>=0&&n.isub(this.m),n},A.prototype.sub=function(e,t){this._verify2(e,t);var n=e.sub(t);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},A.prototype.isub=function(e,t){this._verify2(e,t);var n=e.isub(t);return n.cmpn(0)<0&&n.iadd(this.m),n},A.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},A.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},A.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},A.prototype.isqr=function(e){return this.imul(e,e.clone())},A.prototype.sqr=function(e){return this.mul(e,e)},A.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2==1),3===t){var r=this.m.add(new i(1)).iushrn(2);return this.pow(e,r)}for(var a=this.m.subn(1),s=0;!a.isZero()&&0===a.andln(1);)s++,a.iushrn(1);n(!a.isZero());var o=new i(1).toRed(this),c=o.redNeg(),u=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new i(2*d*d).toRed(this);0!==this.pow(d,u).cmp(c);)d.redIAdd(c);for(var f=this.pow(d,a),l=this.pow(e,a.addn(1).iushrn(1)),h=this.pow(e,a),p=s;0!==h.cmp(o);){for(var m=h,b=0;0!==m.cmp(o);b++)m=m.redSqr();n(b<p);var y=this.pow(f,new i(1).iushln(p-b-1));l=l.redMul(y),f=y.redSqr(),h=h.redMul(f),p=b}return l},A.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},A.prototype.pow=function(e,t){if(t.isZero())return new i(1).toRed(this);if(0===t.cmpn(1))return e.clone();var n=new Array(16);n[0]=new i(1).toRed(this),n[1]=e;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],e);var a=n[0],s=0,o=0,c=t.bitLength()%26;for(0===c&&(c=26),r=t.length-1;r>=0;r--){for(var u=t.words[r],d=c-1;d>=0;d--){var f=u>>d&1;a!==n[0]&&(a=this.sqr(a)),0!==f||0!==s?(s<<=1,s|=f,(4===++o||0===r&&0===d)&&(a=this.mul(a,n[s]),o=0,s=0)):o=0}c=26}return a},A.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},A.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},i.mont=function(e){return new R(e)},r(R,A),R.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},R.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},R.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var n=e.imul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},R.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new i(0)._forceRed(this);var n=e.mul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),a=n.isub(r).iushrn(this.shift),s=a;return a.cmp(this.m)>=0?s=a.isub(this.m):a.cmpn(0)<0&&(s=a.iadd(this.m)),s._forceRed(this)},R.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e,EY)}(RY);var kY=TY(RY.exports);let OY=!1,IY=!1;const xY={debug:1,default:2,info:2,warning:3,error:4,off:5};let CY=xY.default,MY=null;const PY=function(){try{const e=[];if(["NFD","NFC","NFKD","NFKC"].forEach((t=>{try{if("test"!=="test".normalize(t))throw new Error("bad normalize")}catch(n){e.push(t)}})),e.length)throw new Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(e){return e.message}return null}();var NY,BY;!function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"}(NY||(NY={})),function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED",e.ACTION_REJECTED="ACTION_REJECTED"}(BY||(BY={}));const DY="0123456789abcdef";class LY{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){const n=e.toLowerCase();null==xY[n]&&this.throwArgumentError("invalid log level name","logLevel",e),CY>xY[n]||console.log.apply(console,t)}debug(...e){this._log(LY.levels.DEBUG,e)}info(...e){this._log(LY.levels.INFO,e)}warn(...e){this._log(LY.levels.WARNING,e)}makeError(e,t,n){if(IY)return this.makeError("censored error",t,{});t||(t=LY.errors.UNKNOWN_ERROR),n||(n={});const r=[];Object.keys(n).forEach((e=>{const t=n[e];try{if(t instanceof Uint8Array){let n="";for(let e=0;e<t.length;e++)n+=DY[t[e]>>4],n+=DY[15&t[e]];r.push(e+"=Uint8Array(0x"+n+")")}else r.push(e+"="+JSON.stringify(t))}catch(t){r.push(e+"="+JSON.stringify(n[e].toString()))}})),r.push(`code=${t}`),r.push(`version=${this.version}`);const i=e;let a="";switch(t){case BY.NUMERIC_FAULT:{a="NUMERIC_FAULT";const t=e;switch(t){case"overflow":case"underflow":case"division-by-zero":a+="-"+t;break;case"negative-power":case"negative-width":a+="-unsupported";break;case"unbound-bitwise-result":a+="-unbound-result"}break}case BY.CALL_EXCEPTION:case BY.INSUFFICIENT_FUNDS:case BY.MISSING_NEW:case BY.NONCE_EXPIRED:case BY.REPLACEMENT_UNDERPRICED:case BY.TRANSACTION_REPLACED:case BY.UNPREDICTABLE_GAS_LIMIT:a=t}a&&(e+=" [ See: https://links.ethers.org/v5-errors-"+a+" ]"),r.length&&(e+=" ("+r.join(", ")+")");const s=new Error(e);return s.reason=i,s.code=t,Object.keys(n).forEach((function(e){s[e]=n[e]})),s}throwError(e,t,n){throw this.makeError(e,t,n)}throwArgumentError(e,t,n){return this.throwError(e,LY.errors.INVALID_ARGUMENT,{argument:t,value:n})}assert(e,t,n,r){e||this.throwError(t,n,r)}assertArgument(e,t,n,r){e||this.throwArgumentError(t,n,r)}checkNormalize(e){PY&&this.throwError("platform missing String.prototype.normalize",LY.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:PY})}checkSafeUint53(e,t){"number"==typeof e&&(null==t&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,LY.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,LY.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,n){n=n?": "+n:"",e<t&&this.throwError("missing argument"+n,LY.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+n,LY.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){e!==Object&&null!=e||this.throwError("missing new",LY.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",LY.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):e!==Object&&null!=e||this.throwError("missing new",LY.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return MY||(MY=new LY("logger/5.7.0")),MY}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",LY.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),OY){if(!e)return;this.globalLogger().throwError("error censorship permanent",LY.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}IY=!!e,OY=!!t}static setLogLevel(e){const t=xY[e.toLowerCase()];null!=t?CY=t:LY.globalLogger().warn("invalid log level - "+e)}static from(e){return new LY(e)}}LY.errors=BY,LY.levels=NY;const FY=new LY("bytes/5.7.0");function UY(e){return!!e.toHexString}function jY(e){return e.slice||(e.slice=function(){const t=Array.prototype.slice.call(arguments);return jY(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function qY(e){return"number"==typeof e&&e==e&&e%1==0}function zY(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"==typeof e)return!1;if(!qY(e.length)||e.length<0)return!1;for(let t=0;t<e.length;t++){const n=e[t];if(!qY(n)||n<0||n>=256)return!1}return!0}function HY(e,t){if(t||(t={}),"number"==typeof e){FY.checkSafeUint53(e,"invalid arrayify value");const t=[];for(;e;)t.unshift(255&e),e=parseInt(String(e/256));return 0===t.length&&t.push(0),jY(new Uint8Array(t))}if(t.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),UY(e)&&(e=e.toHexString()),WY(e)){let n=e.substring(2);n.length%2&&("left"===t.hexPad?n="0"+n:"right"===t.hexPad?n+="0":FY.throwArgumentError("hex data is odd-length","value",e));const r=[];for(let e=0;e<n.length;e+=2)r.push(parseInt(n.substring(e,e+2),16));return jY(new Uint8Array(r))}return zY(e)?jY(new Uint8Array(e)):FY.throwArgumentError("invalid arrayify value","value",e)}function GY(e){const t=e.map((e=>HY(e))),n=t.reduce(((e,t)=>e+t.length),0),r=new Uint8Array(n);return t.reduce(((e,t)=>(r.set(t,e),e+t.length)),0),jY(r)}function WY(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!t||e.length===2+2*t)}const VY="0123456789abcdef";function KY(e,t){if(t||(t={}),"number"==typeof e){FY.checkSafeUint53(e,"invalid hexlify value");let t="";for(;e;)t=VY[15&e]+t,e=Math.floor(e/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if("bigint"==typeof e)return(e=e.toString(16)).length%2?"0x0"+e:"0x"+e;if(t.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),UY(e))return e.toHexString();if(WY(e))return e.length%2&&("left"===t.hexPad?e="0x0"+e.substring(2):"right"===t.hexPad?e+="0":FY.throwArgumentError("hex data is odd-length","value",e)),e.toLowerCase();if(zY(e)){let t="0x";for(let n=0;n<e.length;n++){let r=e[n];t+=VY[(240&r)>>4]+VY[15&r]}return t}return FY.throwArgumentError("invalid hexlify value","value",e)}function XY(e,t,n){return"string"!=typeof e?e=KY(e):(!WY(e)||e.length%2)&&FY.throwArgumentError("invalid hexData","value",e),t=2+2*t,null!=n?"0x"+e.substring(t,2+2*n):"0x"+e.substring(t)}function $Y(e,t){for("string"!=typeof e?e=KY(e):WY(e)||FY.throwArgumentError("invalid hex string","value",e),e.length>2*t+2&&FY.throwArgumentError("value out of range","value",arguments[1]);e.length<2*t+2;)e="0x0"+e.substring(2);return e}var JY=kY.BN;const YY=new LY("bignumber/5.7.0"),QY={},ZY=9007199254740991;let eQ=!1;class tQ{constructor(e,t){e!==QY&&YY.throwError("cannot call constructor directly; use BigNumber.from",LY.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=t,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return rQ(iQ(this).fromTwos(e))}toTwos(e){return rQ(iQ(this).toTwos(e))}abs(){return"-"===this._hex[0]?tQ.from(this._hex.substring(1)):this}add(e){return rQ(iQ(this).add(iQ(e)))}sub(e){return rQ(iQ(this).sub(iQ(e)))}div(e){return tQ.from(e).isZero()&&aQ("division-by-zero","div"),rQ(iQ(this).div(iQ(e)))}mul(e){return rQ(iQ(this).mul(iQ(e)))}mod(e){const t=iQ(e);return t.isNeg()&&aQ("division-by-zero","mod"),rQ(iQ(this).umod(t))}pow(e){const t=iQ(e);return t.isNeg()&&aQ("negative-power","pow"),rQ(iQ(this).pow(t))}and(e){const t=iQ(e);return(this.isNegative()||t.isNeg())&&aQ("unbound-bitwise-result","and"),rQ(iQ(this).and(t))}or(e){const t=iQ(e);return(this.isNegative()||t.isNeg())&&aQ("unbound-bitwise-result","or"),rQ(iQ(this).or(t))}xor(e){const t=iQ(e);return(this.isNegative()||t.isNeg())&&aQ("unbound-bitwise-result","xor"),rQ(iQ(this).xor(t))}mask(e){return(this.isNegative()||e<0)&&aQ("negative-width","mask"),rQ(iQ(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&aQ("negative-width","shl"),rQ(iQ(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&aQ("negative-width","shr"),rQ(iQ(this).shrn(e))}eq(e){return iQ(this).eq(iQ(e))}lt(e){return iQ(this).lt(iQ(e))}lte(e){return iQ(this).lte(iQ(e))}gt(e){return iQ(this).gt(iQ(e))}gte(e){return iQ(this).gte(iQ(e))}isNegative(){return"-"===this._hex[0]}isZero(){return iQ(this).isZero()}toNumber(){try{return iQ(this).toNumber()}catch(e){aQ("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch(e){}return YY.throwError("this platform does not support BigInt",LY.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(10===arguments[0]?eQ||(eQ=!0,YY.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?YY.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",LY.errors.UNEXPECTED_ARGUMENT,{}):YY.throwError("BigNumber.toString does not accept parameters",LY.errors.UNEXPECTED_ARGUMENT,{})),iQ(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof tQ)return e;if("string"==typeof e)return e.match(/^-?0x[0-9a-f]+$/i)?new tQ(QY,nQ(e)):e.match(/^-?[0-9]+$/)?new tQ(QY,nQ(new JY(e))):YY.throwArgumentError("invalid BigNumber string","value",e);if("number"==typeof e)return e%1&&aQ("underflow","BigNumber.from",e),(e>=ZY||e<=-ZY)&&aQ("overflow","BigNumber.from",e),tQ.from(String(e));const t=e;if("bigint"==typeof t)return tQ.from(t.toString());if(zY(t))return tQ.from(KY(t));if(t)if(t.toHexString){const e=t.toHexString();if("string"==typeof e)return tQ.from(e)}else{let e=t._hex;if(null==e&&"BigNumber"===t.type&&(e=t.hex),"string"==typeof e&&(WY(e)||"-"===e[0]&&WY(e.substring(1))))return tQ.from(e)}return YY.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!(!e||!e._isBigNumber)}}function nQ(e){if("string"!=typeof e)return nQ(e.toString(16));if("-"===e[0])return"-"===(e=e.substring(1))[0]&&YY.throwArgumentError("invalid hex","value",e),"0x00"===(e=nQ(e))?e:"-"+e;if("0x"!==e.substring(0,2)&&(e="0x"+e),"0x"===e)return"0x00";for(e.length%2&&(e="0x0"+e.substring(2));e.length>4&&"0x00"===e.substring(0,4);)e="0x"+e.substring(4);return e}function rQ(e){return tQ.from(nQ(e))}function iQ(e){const t=tQ.from(e).toHexString();return"-"===t[0]?new JY("-"+t.substring(3),16):new JY(t.substring(2),16)}function aQ(e,t,n){const r={fault:e,operation:t};return null!=n&&(r.value=n),YY.throwError(e,LY.errors.NUMERIC_FAULT,r)}var sQ=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function s(e){try{c(r.next(e))}catch(e){a(e)}}function o(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}c((r=r.apply(e,t||[])).next())}))};const oQ=new LY("properties/5.7.0");function cQ(e,t,n){Object.defineProperty(e,t,{enumerable:!0,value:n,writable:!1})}function uQ(e,t){for(let n=0;n<32;n++){if(e[t])return e[t];if(!e.prototype||"object"!=typeof e.prototype)break;e=Object.getPrototypeOf(e.prototype).constructor}return null}function dQ(e){return sQ(this,void 0,void 0,(function*(){const t=Object.keys(e).map((t=>{const n=e[t];return Promise.resolve(n).then((e=>({key:t,value:e})))}));return(yield Promise.all(t)).reduce(((e,t)=>(e[t.key]=t.value,e)),{})}))}function fQ(e){const t={};for(const n in e)t[n]=e[n];return t}const lQ={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function hQ(e){if(null==e||lQ[typeof e])return!0;if(Array.isArray(e)||"object"==typeof e){if(!Object.isFrozen(e))return!1;const t=Object.keys(e);for(let n=0;n<t.length;n++){let r=null;try{r=e[t[n]]}catch(e){continue}if(!hQ(r))return!1}return!0}return oQ.throwArgumentError("Cannot deepCopy "+typeof e,"object",e)}function pQ(e){if(hQ(e))return e;if(Array.isArray(e))return Object.freeze(e.map((e=>mQ(e))));if("object"==typeof e){const t={};for(const n in e){const r=e[n];void 0!==r&&cQ(t,n,mQ(r))}return t}return oQ.throwArgumentError("Cannot deepCopy "+typeof e,"object",e)}function mQ(e){return pQ(e)}class bQ{constructor(e){for(const t in e)this[t]=mQ(e[t])}}const yQ="abi/5.7.0",gQ=new LY(yQ),vQ={};let wQ={calldata:!0,memory:!0,storage:!0},_Q={calldata:!0,memory:!0};function EQ(e,t){if("bytes"===e||"string"===e){if(wQ[t])return!0}else if("address"===e){if("payable"===t)return!0}else if((e.indexOf("[")>=0||"tuple"===e)&&_Q[t])return!0;return(wQ[t]||"payable"===t)&&gQ.throwArgumentError("invalid modifier","name",t),!1}function TQ(e,t){for(let n in t)cQ(e,n,t[n])}const AQ=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),RQ=new RegExp(/^(.*)\[([0-9]*)\]$/);class SQ{constructor(e,t){e!==vQ&&gQ.throwError("use fromString",LY.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),TQ(this,t);let n=this.type.match(RQ);TQ(this,n?{arrayLength:parseInt(n[2]||"-1"),arrayChildren:SQ.fromObject({type:n[1],components:this.components}),baseType:"array"}:{arrayLength:null,arrayChildren:null,baseType:null!=this.components?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=AQ.sighash),AQ[e]||gQ.throwArgumentError("invalid format type","format",e),e===AQ.json){let t={type:"tuple"===this.baseType?"tuple":this.type,name:this.name||void 0};return"boolean"==typeof this.indexed&&(t.indexed=this.indexed),this.components&&(t.components=this.components.map((t=>JSON.parse(t.format(e))))),JSON.stringify(t)}let t="";return"array"===this.baseType?(t+=this.arrayChildren.format(e),t+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):"tuple"===this.baseType?(e!==AQ.sighash&&(t+=this.type),t+="("+this.components.map((t=>t.format(e))).join(e===AQ.full?", ":",")+")"):t+=this.type,e!==AQ.sighash&&(!0===this.indexed&&(t+=" indexed"),e===AQ.full&&this.name&&(t+=" "+this.name)),t}static from(e,t){return"string"==typeof e?SQ.fromString(e,t):SQ.fromObject(e)}static fromObject(e){return SQ.isParamType(e)?e:new SQ(vQ,{name:e.name||null,type:LQ(e.type),indexed:null==e.indexed?null:!!e.indexed,components:e.components?e.components.map(SQ.fromObject):null})}static fromString(e,t){return n=function(e,t){let n=e;function r(t){gQ.throwArgumentError(`unexpected character at position ${t}`,"param",e)}function i(e){let n={type:"",name:"",parent:e,state:{allowType:!0}};return t&&(n.indexed=!1),n}e=e.replace(/\s/g," ");let a={type:"",name:"",state:{allowType:!0}},s=a;for(let n=0;n<e.length;n++){let a=e[n];switch(a){case"(":s.state.allowType&&""===s.type?s.type="tuple":s.state.allowParams||r(n),s.state.allowType=!1,s.type=LQ(s.type),s.components=[i(s)],s=s.components[0];break;case")":delete s.state,"indexed"===s.name&&(t||r(n),s.indexed=!0,s.name=""),EQ(s.type,s.name)&&(s.name=""),s.type=LQ(s.type);let e=s;s=s.parent,s||r(n),delete e.parent,s.state.allowParams=!1,s.state.allowName=!0,s.state.allowArray=!0;break;case",":delete s.state,"indexed"===s.name&&(t||r(n),s.indexed=!0,s.name=""),EQ(s.type,s.name)&&(s.name=""),s.type=LQ(s.type);let o=i(s.parent);s.parent.components.push(o),delete s.parent,s=o;break;case" ":s.state.allowType&&""!==s.type&&(s.type=LQ(s.type),delete s.state.allowType,s.state.allowName=!0,s.state.allowParams=!0),s.state.allowName&&""!==s.name&&("indexed"===s.name?(t||r(n),s.indexed&&r(n),s.indexed=!0,s.name=""):EQ(s.type,s.name)?s.name="":s.state.allowName=!1);break;case"[":s.state.allowArray||r(n),s.type+=a,s.state.allowArray=!1,s.state.allowName=!1,s.state.readArray=!0;break;case"]":s.state.readArray||r(n),s.type+=a,s.state.readArray=!1,s.state.allowArray=!0,s.state.allowName=!0;break;default:s.state.allowType?(s.type+=a,s.state.allowParams=!0,s.state.allowArray=!0):s.state.allowName?(s.name+=a,delete s.state.allowArray):s.state.readArray?s.type+=a:r(n)}}return s.parent&&gQ.throwArgumentError("unexpected eof","param",e),delete a.state,"indexed"===s.name?(t||r(n.length-7),s.indexed&&r(n.length-7),s.indexed=!0,s.name=""):EQ(s.type,s.name)&&(s.name=""),a.type=LQ(a.type),a}(e,!!t),SQ.fromObject({name:n.name,type:n.type,indexed:n.indexed,components:n.components});var n}static isParamType(e){return!(null==e||!e._isParamType)}}function kQ(e,t){return function(e){e=e.trim();let t=[],n="",r=0;for(let i=0;i<e.length;i++){let a=e[i];","===a&&0===r?(t.push(n),n=""):(n+=a,"("===a?r++:")"===a&&(r--,-1===r&&gQ.throwArgumentError("unbalanced parenthesis","value",e)))}n&&t.push(n);return t}(e).map((e=>SQ.fromString(e,t)))}class OQ{constructor(e,t){e!==vQ&&gQ.throwError("use a static from method",LY.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),TQ(this,t),this._isFragment=!0,Object.freeze(this)}static from(e){return OQ.isFragment(e)?e:"string"==typeof e?OQ.fromString(e):OQ.fromObject(e)}static fromObject(e){if(OQ.isFragment(e))return e;switch(e.type){case"function":return NQ.fromObject(e);case"event":return IQ.fromObject(e);case"constructor":return PQ.fromObject(e);case"error":return DQ.fromObject(e);case"fallback":case"receive":return null}return gQ.throwArgumentError("invalid fragment object","value",e)}static fromString(e){return"event"===(e=(e=(e=e.replace(/\s/g," ")).replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," ")).trim()).split(" ")[0]?IQ.fromString(e.substring(5).trim()):"function"===e.split(" ")[0]?NQ.fromString(e.substring(8).trim()):"constructor"===e.split("(")[0].trim()?PQ.fromString(e.trim()):"error"===e.split(" ")[0]?DQ.fromString(e.substring(5).trim()):gQ.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!(!e||!e._isFragment)}}class IQ extends OQ{format(e){if(e||(e=AQ.sighash),AQ[e]||gQ.throwArgumentError("invalid format type","format",e),e===AQ.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map((t=>JSON.parse(t.format(e))))});let t="";return e!==AQ.sighash&&(t+="event "),t+=this.name+"("+this.inputs.map((t=>t.format(e))).join(e===AQ.full?", ":",")+") ",e!==AQ.sighash&&this.anonymous&&(t+="anonymous "),t.trim()}static from(e){return"string"==typeof e?IQ.fromString(e):IQ.fromObject(e)}static fromObject(e){if(IQ.isEventFragment(e))return e;"event"!==e.type&&gQ.throwArgumentError("invalid event object","value",e);const t={name:UQ(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(SQ.fromObject):[],type:"event"};return new IQ(vQ,t)}static fromString(e){let t=e.match(jQ);t||gQ.throwArgumentError("invalid event string","value",e);let n=!1;return t[3].split(" ").forEach((e=>{switch(e.trim()){case"anonymous":n=!0;break;case"":break;default:gQ.warn("unknown modifier: "+e)}})),IQ.fromObject({name:t[1].trim(),anonymous:n,inputs:kQ(t[2],!0),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&"event"===e.type}}function xQ(e,t){t.gas=null;let n=e.split("@");return 1!==n.length?(n.length>2&&gQ.throwArgumentError("invalid human-readable ABI signature","value",e),n[1].match(/^[0-9]+$/)||gQ.throwArgumentError("invalid human-readable ABI signature gas","value",e),t.gas=tQ.from(n[1]),n[0]):e}function CQ(e,t){t.constant=!1,t.payable=!1,t.stateMutability="nonpayable",e.split(" ").forEach((e=>{switch(e.trim()){case"constant":t.constant=!0;break;case"payable":t.payable=!0,t.stateMutability="payable";break;case"nonpayable":t.payable=!1,t.stateMutability="nonpayable";break;case"pure":t.constant=!0,t.stateMutability="pure";break;case"view":t.constant=!0,t.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+e)}}))}function MQ(e){let t={constant:!1,payable:!0,stateMutability:"payable"};return null!=e.stateMutability?(t.stateMutability=e.stateMutability,t.constant="view"===t.stateMutability||"pure"===t.stateMutability,null!=e.constant&&!!e.constant!==t.constant&&gQ.throwArgumentError("cannot have constant function with mutability "+t.stateMutability,"value",e),t.payable="payable"===t.stateMutability,null!=e.payable&&!!e.payable!==t.payable&&gQ.throwArgumentError("cannot have payable function with mutability "+t.stateMutability,"value",e)):null!=e.payable?(t.payable=!!e.payable,null!=e.constant||t.payable||"constructor"===e.type||gQ.throwArgumentError("unable to determine stateMutability","value",e),t.constant=!!e.constant,t.constant?t.stateMutability="view":t.stateMutability=t.payable?"payable":"nonpayable",t.payable&&t.constant&&gQ.throwArgumentError("cannot have constant payable function","value",e)):null!=e.constant?(t.constant=!!e.constant,t.payable=!t.constant,t.stateMutability=t.constant?"view":"payable"):"constructor"!==e.type&&gQ.throwArgumentError("unable to determine stateMutability","value",e),t}class PQ extends OQ{format(e){if(e||(e=AQ.sighash),AQ[e]||gQ.throwArgumentError("invalid format type","format",e),e===AQ.json)return JSON.stringify({type:"constructor",stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map((t=>JSON.parse(t.format(e))))});e===AQ.sighash&&gQ.throwError("cannot format a constructor for sighash",LY.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let t="constructor("+this.inputs.map((t=>t.format(e))).join(e===AQ.full?", ":",")+") ";return this.stateMutability&&"nonpayable"!==this.stateMutability&&(t+=this.stateMutability+" "),t.trim()}static from(e){return"string"==typeof e?PQ.fromString(e):PQ.fromObject(e)}static fromObject(e){if(PQ.isConstructorFragment(e))return e;"constructor"!==e.type&&gQ.throwArgumentError("invalid constructor object","value",e);let t=MQ(e);t.constant&&gQ.throwArgumentError("constructor cannot be constant","value",e);const n={name:null,type:e.type,inputs:e.inputs?e.inputs.map(SQ.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?tQ.from(e.gas):null};return new PQ(vQ,n)}static fromString(e){let t={type:"constructor"},n=(e=xQ(e,t)).match(jQ);return n&&"constructor"===n[1].trim()||gQ.throwArgumentError("invalid constructor string","value",e),t.inputs=kQ(n[2].trim(),!1),CQ(n[3].trim(),t),PQ.fromObject(t)}static isConstructorFragment(e){return e&&e._isFragment&&"constructor"===e.type}}class NQ extends PQ{format(e){if(e||(e=AQ.sighash),AQ[e]||gQ.throwArgumentError("invalid format type","format",e),e===AQ.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map((t=>JSON.parse(t.format(e)))),outputs:this.outputs.map((t=>JSON.parse(t.format(e))))});let t="";return e!==AQ.sighash&&(t+="function "),t+=this.name+"("+this.inputs.map((t=>t.format(e))).join(e===AQ.full?", ":",")+") ",e!==AQ.sighash&&(this.stateMutability?"nonpayable"!==this.stateMutability&&(t+=this.stateMutability+" "):this.constant&&(t+="view "),this.outputs&&this.outputs.length&&(t+="returns ("+this.outputs.map((t=>t.format(e))).join(", ")+") "),null!=this.gas&&(t+="@"+this.gas.toString()+" ")),t.trim()}static from(e){return"string"==typeof e?NQ.fromString(e):NQ.fromObject(e)}static fromObject(e){if(NQ.isFunctionFragment(e))return e;"function"!==e.type&&gQ.throwArgumentError("invalid function object","value",e);let t=MQ(e);const n={type:e.type,name:UQ(e.name),constant:t.constant,inputs:e.inputs?e.inputs.map(SQ.fromObject):[],outputs:e.outputs?e.outputs.map(SQ.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?tQ.from(e.gas):null};return new NQ(vQ,n)}static fromString(e){let t={type:"function"},n=(e=xQ(e,t)).split(" returns ");n.length>2&&gQ.throwArgumentError("invalid function string","value",e);let r=n[0].match(jQ);if(r||gQ.throwArgumentError("invalid function signature","value",e),t.name=r[1].trim(),t.name&&UQ(t.name),t.inputs=kQ(r[2],!1),CQ(r[3].trim(),t),n.length>1){let r=n[1].match(jQ);""==r[1].trim()&&""==r[3].trim()||gQ.throwArgumentError("unexpected tokens","value",e),t.outputs=kQ(r[2],!1)}else t.outputs=[];return NQ.fromObject(t)}static isFunctionFragment(e){return e&&e._isFragment&&"function"===e.type}}function BQ(e){const t=e.format();return"Error(string)"!==t&&"Panic(uint256)"!==t||gQ.throwArgumentError(`cannot specify user defined ${t} error`,"fragment",e),e}class DQ extends OQ{format(e){if(e||(e=AQ.sighash),AQ[e]||gQ.throwArgumentError("invalid format type","format",e),e===AQ.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map((t=>JSON.parse(t.format(e))))});let t="";return e!==AQ.sighash&&(t+="error "),t+=this.name+"("+this.inputs.map((t=>t.format(e))).join(e===AQ.full?", ":",")+") ",t.trim()}static from(e){return"string"==typeof e?DQ.fromString(e):DQ.fromObject(e)}static fromObject(e){if(DQ.isErrorFragment(e))return e;"error"!==e.type&&gQ.throwArgumentError("invalid error object","value",e);const t={type:e.type,name:UQ(e.name),inputs:e.inputs?e.inputs.map(SQ.fromObject):[]};return BQ(new DQ(vQ,t))}static fromString(e){let t={type:"error"},n=e.match(jQ);return n||gQ.throwArgumentError("invalid error signature","value",e),t.name=n[1].trim(),t.name&&UQ(t.name),t.inputs=kQ(n[2],!1),BQ(DQ.fromObject(t))}static isErrorFragment(e){return e&&e._isFragment&&"error"===e.type}}function LQ(e){return e.match(/^uint($|[^1-9])/)?e="uint256"+e.substring(4):e.match(/^int($|[^1-9])/)&&(e="int256"+e.substring(3)),e}const FQ=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function UQ(e){return e&&e.match(FQ)||gQ.throwArgumentError(`invalid identifier "${e}"`,"value",e),e}const jQ=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");const qQ=new LY(yQ);class zQ{constructor(e,t,n,r){this.name=e,this.type=t,this.localName=n,this.dynamic=r}_throwError(e,t){qQ.throwArgumentError(e,this.localName,t)}}class HQ{constructor(e){cQ(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){return function(e){let t="0x";return e.forEach((e=>{t+=KY(e).substring(2)})),t}(this._data)}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData(GY(e._data))}writeBytes(e){let t=HY(e);const n=t.length%this.wordSize;return n&&(t=GY([t,this._padding.slice(n)])),this._writeData(t)}_getValue(e){let t=HY(tQ.from(e));return t.length>this.wordSize&&qQ.throwError("value out-of-bounds",LY.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:t.length}),t.length%this.wordSize&&(t=GY([this._padding.slice(t.length%this.wordSize),t])),t}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){const e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,t=>{this._data[e]=this._getValue(t)}}}class GQ{constructor(e,t,n,r){cQ(this,"_data",HY(e)),cQ(this,"wordSize",t||32),cQ(this,"_coerceFunc",n),cQ(this,"allowLoose",r),this._offset=0}get data(){return KY(this._data)}get consumed(){return this._offset}static coerce(e,t){let n=e.match("^u?int([0-9]+)$");return n&&parseInt(n[1])<=48&&(t=t.toNumber()),t}coerce(e,t){return this._coerceFunc?this._coerceFunc(e,t):GQ.coerce(e,t)}_peekBytes(e,t,n){let r=Math.ceil(t/this.wordSize)*this.wordSize;return this._offset+r>this._data.length&&(this.allowLoose&&n&&this._offset+t<=this._data.length?r=t:qQ.throwError("data out-of-bounds",LY.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+r})),this._data.slice(this._offset,this._offset+r)}subReader(e){return new GQ(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,t){let n=this._peekBytes(0,e,!!t);return this._offset+=n.length,n.slice(0,e)}readValue(){return tQ.from(this.readBytes(this.wordSize))}}var WQ={exports:{}};
/**
   * [js-sha3]{@link https://github.com/emn178/js-sha3}
   *
   * @version 0.8.0
   * @author Chen, Yi-Cyuan [emn178@gmail.com]
   * @copyright Chen, Yi-Cyuan 2015-2018
   * @license MIT
   */!function(e){!function(){var t="input is invalid type",n="object"==typeof window,r=n?window:{};r.JS_SHA3_NO_WINDOW&&(n=!1);var i=!n&&"object"==typeof self;!r.JS_SHA3_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node?r=EY:i&&(r=self);var a=!r.JS_SHA3_NO_COMMON_JS&&e.exports,s=!r.JS_SHA3_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,o="0123456789abcdef".split(""),c=[4,1024,262144,67108864],u=[0,8,16,24],d=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],f=[224,256,384,512],l=[128,256],h=["hex","buffer","arrayBuffer","array","digest"],p={128:168,256:136};!r.JS_SHA3_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!s||!r.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"==typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});for(var m=function(e,t,n){return function(r){return new x(e,t,e).update(r)[n]()}},b=function(e,t,n){return function(r,i){return new x(e,t,i).update(r)[n]()}},y=function(e,t,n){return function(t,r,i,a){return E["cshake"+e].update(t,r,i,a)[n]()}},g=function(e,t,n){return function(t,r,i,a){return E["kmac"+e].update(t,r,i,a)[n]()}},v=function(e,t,n,r){for(var i=0;i<h.length;++i){var a=h[i];e[a]=t(n,r,a)}return e},w=function(e,t){var n=m(e,t,"hex");return n.create=function(){return new x(e,t,e)},n.update=function(e){return n.create().update(e)},v(n,m,e,t)},_=[{name:"keccak",padding:[1,256,65536,16777216],bits:f,createMethod:w},{name:"sha3",padding:[6,1536,393216,100663296],bits:f,createMethod:w},{name:"shake",padding:[31,7936,2031616,520093696],bits:l,createMethod:function(e,t){var n=b(e,t,"hex");return n.create=function(n){return new x(e,t,n)},n.update=function(e,t){return n.create(t).update(e)},v(n,b,e,t)}},{name:"cshake",padding:c,bits:l,createMethod:function(e,t){var n=p[e],r=y(e,0,"hex");return r.create=function(r,i,a){return i||a?new x(e,t,r).bytepad([i,a],n):E["shake"+e].create(r)},r.update=function(e,t,n,i){return r.create(t,n,i).update(e)},v(r,y,e,t)}},{name:"kmac",padding:c,bits:l,createMethod:function(e,t){var n=p[e],r=g(e,0,"hex");return r.create=function(r,i,a){return new C(e,t,i).bytepad(["KMAC",a],n).bytepad([r],n)},r.update=function(e,t,n,i){return r.create(e,n,i).update(t)},v(r,g,e,t)}}],E={},T=[],A=0;A<_.length;++A)for(var R=_[A],S=R.bits,k=0;k<S.length;++k){var O=R.name+"_"+S[k];if(T.push(O),E[O]=R.createMethod(S[k],R.padding),"sha3"!==R.name){var I=R.name+S[k];T.push(I),E[I]=E[O]}}function x(e,t,n){this.blocks=[],this.s=[],this.padding=t,this.outputBits=n,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(e<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=n>>5,this.extraBytes=(31&n)>>3;for(var r=0;r<50;++r)this.s[r]=0}function C(e,t,n){x.call(this,e,t,n)}x.prototype.update=function(e){if(this.finalized)throw new Error("finalize already called");var n,r=typeof e;if("string"!==r){if("object"!==r)throw new Error(t);if(null===e)throw new Error(t);if(s&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||s&&ArrayBuffer.isView(e)))throw new Error(t);n=!0}for(var i,a,o=this.blocks,c=this.byteCount,d=e.length,f=this.blockCount,l=0,h=this.s;l<d;){if(this.reset)for(this.reset=!1,o[0]=this.block,i=1;i<f+1;++i)o[i]=0;if(n)for(i=this.start;l<d&&i<c;++l)o[i>>2]|=e[l]<<u[3&i++];else for(i=this.start;l<d&&i<c;++l)(a=e.charCodeAt(l))<128?o[i>>2]|=a<<u[3&i++]:a<2048?(o[i>>2]|=(192|a>>6)<<u[3&i++],o[i>>2]|=(128|63&a)<<u[3&i++]):a<55296||a>=57344?(o[i>>2]|=(224|a>>12)<<u[3&i++],o[i>>2]|=(128|a>>6&63)<<u[3&i++],o[i>>2]|=(128|63&a)<<u[3&i++]):(a=65536+((1023&a)<<10|1023&e.charCodeAt(++l)),o[i>>2]|=(240|a>>18)<<u[3&i++],o[i>>2]|=(128|a>>12&63)<<u[3&i++],o[i>>2]|=(128|a>>6&63)<<u[3&i++],o[i>>2]|=(128|63&a)<<u[3&i++]);if(this.lastByteIndex=i,i>=c){for(this.start=i-c,this.block=o[f],i=0;i<f;++i)h[i]^=o[i];M(h),this.reset=!0}else this.start=i}return this},x.prototype.encode=function(e,t){var n=255&e,r=1,i=[n];for(n=255&(e>>=8);n>0;)i.unshift(n),n=255&(e>>=8),++r;return t?i.push(r):i.unshift(r),this.update(i),i.length},x.prototype.encodeString=function(e){var n,r=typeof e;if("string"!==r){if("object"!==r)throw new Error(t);if(null===e)throw new Error(t);if(s&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||s&&ArrayBuffer.isView(e)))throw new Error(t);n=!0}var i=0,a=e.length;if(n)i=a;else for(var o=0;o<e.length;++o){var c=e.charCodeAt(o);c<128?i+=1:c<2048?i+=2:c<55296||c>=57344?i+=3:(c=65536+((1023&c)<<10|1023&e.charCodeAt(++o)),i+=4)}return i+=this.encode(8*i),this.update(e),i},x.prototype.bytepad=function(e,t){for(var n=this.encode(t),r=0;r<e.length;++r)n+=this.encodeString(e[r]);var i=t-n%t,a=[];return a.length=i,this.update(a),this},x.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex,n=this.blockCount,r=this.s;if(e[t>>2]|=this.padding[3&t],this.lastByteIndex===this.byteCount)for(e[0]=e[n],t=1;t<n+1;++t)e[t]=0;for(e[n-1]|=2147483648,t=0;t<n;++t)r[t]^=e[t];M(r)}},x.prototype.toString=x.prototype.hex=function(){this.finalize();for(var e,t=this.blockCount,n=this.s,r=this.outputBlocks,i=this.extraBytes,a=0,s=0,c="";s<r;){for(a=0;a<t&&s<r;++a,++s)e=n[a],c+=o[e>>4&15]+o[15&e]+o[e>>12&15]+o[e>>8&15]+o[e>>20&15]+o[e>>16&15]+o[e>>28&15]+o[e>>24&15];s%t==0&&(M(n),a=0)}return i&&(e=n[a],c+=o[e>>4&15]+o[15&e],i>1&&(c+=o[e>>12&15]+o[e>>8&15]),i>2&&(c+=o[e>>20&15]+o[e>>16&15])),c},x.prototype.arrayBuffer=function(){this.finalize();var e,t=this.blockCount,n=this.s,r=this.outputBlocks,i=this.extraBytes,a=0,s=0,o=this.outputBits>>3;e=i?new ArrayBuffer(r+1<<2):new ArrayBuffer(o);for(var c=new Uint32Array(e);s<r;){for(a=0;a<t&&s<r;++a,++s)c[s]=n[a];s%t==0&&M(n)}return i&&(c[a]=n[a],e=e.slice(0,o)),e},x.prototype.buffer=x.prototype.arrayBuffer,x.prototype.digest=x.prototype.array=function(){this.finalize();for(var e,t,n=this.blockCount,r=this.s,i=this.outputBlocks,a=this.extraBytes,s=0,o=0,c=[];o<i;){for(s=0;s<n&&o<i;++s,++o)e=o<<2,t=r[s],c[e]=255&t,c[e+1]=t>>8&255,c[e+2]=t>>16&255,c[e+3]=t>>24&255;o%n==0&&M(r)}return a&&(e=o<<2,t=r[s],c[e]=255&t,a>1&&(c[e+1]=t>>8&255),a>2&&(c[e+2]=t>>16&255)),c},C.prototype=new x,C.prototype.finalize=function(){return this.encode(this.outputBits,!0),x.prototype.finalize.call(this)};var M=function(e){var t,n,r,i,a,s,o,c,u,f,l,h,p,m,b,y,g,v,w,_,E,T,A,R,S,k,O,I,x,C,M,P,N,B,D,L,F,U,j,q,z,H,G,W,V,K,X,$,J,Y,Q,Z,ee,te,ne,re,ie,ae,se,oe,ce,ue,de;for(r=0;r<48;r+=2)i=e[0]^e[10]^e[20]^e[30]^e[40],a=e[1]^e[11]^e[21]^e[31]^e[41],s=e[2]^e[12]^e[22]^e[32]^e[42],o=e[3]^e[13]^e[23]^e[33]^e[43],c=e[4]^e[14]^e[24]^e[34]^e[44],u=e[5]^e[15]^e[25]^e[35]^e[45],f=e[6]^e[16]^e[26]^e[36]^e[46],l=e[7]^e[17]^e[27]^e[37]^e[47],t=(h=e[8]^e[18]^e[28]^e[38]^e[48])^(s<<1|o>>>31),n=(p=e[9]^e[19]^e[29]^e[39]^e[49])^(o<<1|s>>>31),e[0]^=t,e[1]^=n,e[10]^=t,e[11]^=n,e[20]^=t,e[21]^=n,e[30]^=t,e[31]^=n,e[40]^=t,e[41]^=n,t=i^(c<<1|u>>>31),n=a^(u<<1|c>>>31),e[2]^=t,e[3]^=n,e[12]^=t,e[13]^=n,e[22]^=t,e[23]^=n,e[32]^=t,e[33]^=n,e[42]^=t,e[43]^=n,t=s^(f<<1|l>>>31),n=o^(l<<1|f>>>31),e[4]^=t,e[5]^=n,e[14]^=t,e[15]^=n,e[24]^=t,e[25]^=n,e[34]^=t,e[35]^=n,e[44]^=t,e[45]^=n,t=c^(h<<1|p>>>31),n=u^(p<<1|h>>>31),e[6]^=t,e[7]^=n,e[16]^=t,e[17]^=n,e[26]^=t,e[27]^=n,e[36]^=t,e[37]^=n,e[46]^=t,e[47]^=n,t=f^(i<<1|a>>>31),n=l^(a<<1|i>>>31),e[8]^=t,e[9]^=n,e[18]^=t,e[19]^=n,e[28]^=t,e[29]^=n,e[38]^=t,e[39]^=n,e[48]^=t,e[49]^=n,m=e[0],b=e[1],K=e[11]<<4|e[10]>>>28,X=e[10]<<4|e[11]>>>28,I=e[20]<<3|e[21]>>>29,x=e[21]<<3|e[20]>>>29,oe=e[31]<<9|e[30]>>>23,ce=e[30]<<9|e[31]>>>23,H=e[40]<<18|e[41]>>>14,G=e[41]<<18|e[40]>>>14,B=e[2]<<1|e[3]>>>31,D=e[3]<<1|e[2]>>>31,y=e[13]<<12|e[12]>>>20,g=e[12]<<12|e[13]>>>20,$=e[22]<<10|e[23]>>>22,J=e[23]<<10|e[22]>>>22,C=e[33]<<13|e[32]>>>19,M=e[32]<<13|e[33]>>>19,ue=e[42]<<2|e[43]>>>30,de=e[43]<<2|e[42]>>>30,te=e[5]<<30|e[4]>>>2,ne=e[4]<<30|e[5]>>>2,L=e[14]<<6|e[15]>>>26,F=e[15]<<6|e[14]>>>26,v=e[25]<<11|e[24]>>>21,w=e[24]<<11|e[25]>>>21,Y=e[34]<<15|e[35]>>>17,Q=e[35]<<15|e[34]>>>17,P=e[45]<<29|e[44]>>>3,N=e[44]<<29|e[45]>>>3,R=e[6]<<28|e[7]>>>4,S=e[7]<<28|e[6]>>>4,re=e[17]<<23|e[16]>>>9,ie=e[16]<<23|e[17]>>>9,U=e[26]<<25|e[27]>>>7,j=e[27]<<25|e[26]>>>7,_=e[36]<<21|e[37]>>>11,E=e[37]<<21|e[36]>>>11,Z=e[47]<<24|e[46]>>>8,ee=e[46]<<24|e[47]>>>8,W=e[8]<<27|e[9]>>>5,V=e[9]<<27|e[8]>>>5,k=e[18]<<20|e[19]>>>12,O=e[19]<<20|e[18]>>>12,ae=e[29]<<7|e[28]>>>25,se=e[28]<<7|e[29]>>>25,q=e[38]<<8|e[39]>>>24,z=e[39]<<8|e[38]>>>24,T=e[48]<<14|e[49]>>>18,A=e[49]<<14|e[48]>>>18,e[0]=m^~y&v,e[1]=b^~g&w,e[10]=R^~k&I,e[11]=S^~O&x,e[20]=B^~L&U,e[21]=D^~F&j,e[30]=W^~K&$,e[31]=V^~X&J,e[40]=te^~re&ae,e[41]=ne^~ie&se,e[2]=y^~v&_,e[3]=g^~w&E,e[12]=k^~I&C,e[13]=O^~x&M,e[22]=L^~U&q,e[23]=F^~j&z,e[32]=K^~$&Y,e[33]=X^~J&Q,e[42]=re^~ae&oe,e[43]=ie^~se&ce,e[4]=v^~_&T,e[5]=w^~E&A,e[14]=I^~C&P,e[15]=x^~M&N,e[24]=U^~q&H,e[25]=j^~z&G,e[34]=$^~Y&Z,e[35]=J^~Q&ee,e[44]=ae^~oe&ue,e[45]=se^~ce&de,e[6]=_^~T&m,e[7]=E^~A&b,e[16]=C^~P&R,e[17]=M^~N&S,e[26]=q^~H&B,e[27]=z^~G&D,e[36]=Y^~Z&W,e[37]=Q^~ee&V,e[46]=oe^~ue&te,e[47]=ce^~de&ne,e[8]=T^~m&y,e[9]=A^~b&g,e[18]=P^~R&k,e[19]=N^~S&O,e[28]=H^~B&L,e[29]=G^~D&F,e[38]=Z^~W&K,e[39]=ee^~V&X,e[48]=ue^~te&re,e[49]=de^~ne&ie,e[0]^=d[r],e[1]^=d[r+1]};if(a)e.exports=E;else for(A=0;A<T.length;++A)r[T[A]]=E[T[A]]}()}(WQ);var VQ=TY(WQ.exports);function KQ(e){return"0x"+VQ.keccak_256(HY(e))}const XQ=new LY("rlp/5.7.0");function $Q(e){const t=[];for(;e;)t.unshift(255&e),e>>=8;return t}function JQ(e){if(Array.isArray(e)){let t=[];if(e.forEach((function(e){t=t.concat(JQ(e))})),t.length<=55)return t.unshift(192+t.length),t;const n=$Q(t.length);return n.unshift(247+n.length),n.concat(t)}var t;WY(t=e)&&!(t.length%2)||zY(t)||XQ.throwArgumentError("RLP object must be BytesLike","object",e);const n=Array.prototype.slice.call(HY(e));if(1===n.length&&n[0]<=127)return n;if(n.length<=55)return n.unshift(128+n.length),n;const r=$Q(n.length);return r.unshift(183+r.length),r.concat(n)}const YQ=new LY("address/5.7.0");function QQ(e){WY(e,20)||YQ.throwArgumentError("invalid address","address",e);const t=(e=e.toLowerCase()).substring(2).split(""),n=new Uint8Array(40);for(let e=0;e<40;e++)n[e]=t[e].charCodeAt(0);const r=HY(KQ(n));for(let e=0;e<40;e+=2)r[e>>1]>>4>=8&&(t[e]=t[e].toUpperCase()),(15&r[e>>1])>=8&&(t[e+1]=t[e+1].toUpperCase());return"0x"+t.join("")}const ZQ={};for(let e=0;e<10;e++)ZQ[String(e)]=String(e);for(let e=0;e<26;e++)ZQ[String.fromCharCode(65+e)]=String(10+e);const eZ=Math.floor(function(e){return Math.log10?Math.log10(e):Math.log(e)/Math.LN10}(9007199254740991));function tZ(e){let t=null;if("string"!=typeof e&&YQ.throwArgumentError("invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==e.substring(0,2)&&(e="0x"+e),t=QQ(e),e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&t!==e&&YQ.throwArgumentError("bad address checksum","address",e);else if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(e.substring(2,4)!==function(e){let t=(e=(e=e.toUpperCase()).substring(4)+e.substring(0,2)+"00").split("").map((e=>ZQ[e])).join("");for(;t.length>=eZ;){let e=t.substring(0,eZ);t=parseInt(e,10)%97+t.substring(e.length)}let n=String(98-parseInt(t,10)%97);for(;n.length<2;)n="0"+n;return n}(e)&&YQ.throwArgumentError("bad icap checksum","address",e),n=e.substring(4),t=new JY(n,36).toString(16);t.length<40;)t="0"+t;t=QQ("0x"+t)}else YQ.throwArgumentError("invalid address","address",e);var n;return t}function nZ(e){try{return tZ(e),!0}catch(e){}return!1}function rZ(e){let t=null;try{t=tZ(e.from)}catch(t){YQ.throwArgumentError("missing from address","transaction",e)}return tZ(XY(KQ(function(e){return KY(JQ(e))}([t,function(e){let t=HY(e);if(0===t.length)return t;let n=0;for(;n<t.length&&0===t[n];)n++;return n&&(t=t.slice(n)),t}(HY(tQ.from(e.nonce).toHexString()))])),12))}class iZ extends zQ{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){try{t=tZ(t)}catch(e){this._throwError(e.message,t)}return e.writeValue(t)}decode(e){return tZ($Y(e.readValue().toHexString(),20))}}class aZ extends zQ{constructor(e){super(e.name,e.type,void 0,e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,t){return this.coder.encode(e,t)}decode(e){return this.coder.decode(e)}}const sZ=new LY(yQ);function oZ(e,t,n){let r=null;if(Array.isArray(n))r=n;else if(n&&"object"==typeof n){let e={};r=t.map((t=>{const r=t.localName;return r||sZ.throwError("cannot encode object for signature with missing names",LY.errors.INVALID_ARGUMENT,{argument:"values",coder:t,value:n}),e[r]&&sZ.throwError("cannot encode object for signature with duplicate names",LY.errors.INVALID_ARGUMENT,{argument:"values",coder:t,value:n}),e[r]=!0,n[r]}))}else sZ.throwArgumentError("invalid tuple value","tuple",n);t.length!==r.length&&sZ.throwArgumentError("types/value length mismatch","tuple",n);let i=new HQ(e.wordSize),a=new HQ(e.wordSize),s=[];t.forEach(((e,t)=>{let n=r[t];if(e.dynamic){let t=a.length;e.encode(a,n);let r=i.writeUpdatableValue();s.push((e=>{r(e+t)}))}else e.encode(i,n)})),s.forEach((e=>{e(i.length)}));let o=e.appendWriter(i);return o+=e.appendWriter(a),o}function cZ(e,t){let n=[],r=e.subReader(0);t.forEach((t=>{let i=null;if(t.dynamic){let n=e.readValue(),a=r.subReader(n.toNumber());try{i=t.decode(a)}catch(e){if(e.code===LY.errors.BUFFER_OVERRUN)throw e;i=e,i.baseType=t.name,i.name=t.localName,i.type=t.type}}else try{i=t.decode(e)}catch(e){if(e.code===LY.errors.BUFFER_OVERRUN)throw e;i=e,i.baseType=t.name,i.name=t.localName,i.type=t.type}null!=i&&n.push(i)}));const i=t.reduce(((e,t)=>{const n=t.localName;return n&&(e[n]||(e[n]=0),e[n]++),e}),{});t.forEach(((e,t)=>{let r=e.localName;if(!r||1!==i[r])return;if("length"===r&&(r="_length"),null!=n[r])return;const a=n[t];a instanceof Error?Object.defineProperty(n,r,{enumerable:!0,get:()=>{throw a}}):n[r]=a}));for(let e=0;e<n.length;e++){const t=n[e];t instanceof Error&&Object.defineProperty(n,e,{enumerable:!0,get:()=>{throw t}})}return Object.freeze(n)}class uZ extends zQ{constructor(e,t,n){super("array",e.type+"["+(t>=0?t:"")+"]",n,-1===t||e.dynamic),this.coder=e,this.length=t}defaultValue(){const e=this.coder.defaultValue(),t=[];for(let n=0;n<this.length;n++)t.push(e);return t}encode(e,t){Array.isArray(t)||this._throwError("expected array value",t);let n=this.length;-1===n&&(n=t.length,e.writeValue(t.length)),sZ.checkArgumentCount(t.length,n,"coder array"+(this.localName?" "+this.localName:""));let r=[];for(let e=0;e<t.length;e++)r.push(this.coder);return oZ(e,r,t)}decode(e){let t=this.length;-1===t&&(t=e.readValue().toNumber(),32*t>e._data.length&&sZ.throwError("insufficient data length",LY.errors.BUFFER_OVERRUN,{length:e._data.length,count:t}));let n=[];for(let e=0;e<t;e++)n.push(new aZ(this.coder));return e.coerce(this.name,cZ(e,n))}}class dZ extends zQ{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){return e.writeValue(t?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}}class fZ extends zQ{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){t=HY(t);let n=e.writeValue(t.length);return n+=e.writeBytes(t),n}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}}class lZ extends fZ{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,KY(super.decode(e)))}}class hZ extends zQ{constructor(e,t){let n="bytes"+String(e);super(n,n,t,!1),this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+2*this.size)}encode(e,t){let n=HY(t);return n.length!==this.size&&this._throwError("incorrect data length",t),e.writeBytes(n)}decode(e){return e.coerce(this.name,KY(e.readBytes(this.size)))}}class pZ extends zQ{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return null!=t&&this._throwError("not null",t),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}}const mZ="0x0000000000000000000000000000000000000000",bZ=tQ.from(-1),yZ=tQ.from(0),gZ=tQ.from(1),vZ=tQ.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class wZ extends zQ{constructor(e,t,n){const r=(t?"int":"uint")+8*e;super(r,r,n,!1),this.size=e,this.signed=t}defaultValue(){return 0}encode(e,t){let n=tQ.from(t),r=vZ.mask(8*e.wordSize);if(this.signed){let e=r.mask(8*this.size-1);(n.gt(e)||n.lt(e.add(gZ).mul(bZ)))&&this._throwError("value out-of-bounds",t)}else(n.lt(yZ)||n.gt(r.mask(8*this.size)))&&this._throwError("value out-of-bounds",t);return n=n.toTwos(8*this.size).mask(8*this.size),this.signed&&(n=n.fromTwos(8*this.size).toTwos(8*e.wordSize)),e.writeValue(n)}decode(e){let t=e.readValue().mask(8*this.size);return this.signed&&(t=t.fromTwos(8*this.size)),e.coerce(this.name,t)}}const _Z=new LY("strings/5.7.0");var EZ,TZ;function AZ(e,t,n,r,i){if(e===TZ.BAD_PREFIX||e===TZ.UNEXPECTED_CONTINUE){let e=0;for(let r=t+1;r<n.length&&n[r]>>6==2;r++)e++;return e}return e===TZ.OVERRUN?n.length-t-1:0}!function(e){e.current="",e.NFC="NFC",e.NFD="NFD",e.NFKC="NFKC",e.NFKD="NFKD"}(EZ||(EZ={})),function(e){e.UNEXPECTED_CONTINUE="unexpected continuation byte",e.BAD_PREFIX="bad codepoint prefix",e.OVERRUN="string overrun",e.MISSING_CONTINUE="missing continuation byte",e.OUT_OF_RANGE="out of UTF-8 range",e.UTF16_SURROGATE="UTF-16 surrogate",e.OVERLONG="overlong representation"}(TZ||(TZ={}));const RZ=Object.freeze({error:function(e,t,n,r,i){return _Z.throwArgumentError(`invalid codepoint at offset ${t}; ${e}`,"bytes",n)},ignore:AZ,replace:function(e,t,n,r,i){return e===TZ.OVERLONG?(r.push(i),0):(r.push(65533),AZ(e,t,n))}});function SZ(e,t=EZ.current){t!=EZ.current&&(_Z.checkNormalize(),e=e.normalize(t));let n=[];for(let t=0;t<e.length;t++){const r=e.charCodeAt(t);if(r<128)n.push(r);else if(r<2048)n.push(r>>6|192),n.push(63&r|128);else if(55296==(64512&r)){t++;const i=e.charCodeAt(t);if(t>=e.length||56320!=(64512&i))throw new Error("invalid utf-8 string");const a=65536+((1023&r)<<10)+(1023&i);n.push(a>>18|240),n.push(a>>12&63|128),n.push(a>>6&63|128),n.push(63&a|128)}else n.push(r>>12|224),n.push(r>>6&63|128),n.push(63&r|128)}return HY(n)}function kZ(e,t){return n=function(e,t){null==t&&(t=RZ.error),e=HY(e);const n=[];let r=0;for(;r<e.length;){const i=e[r++];if(i>>7==0){n.push(i);continue}let a=null,s=null;if(192==(224&i))a=1,s=127;else if(224==(240&i))a=2,s=2047;else{if(240!=(248&i)){r+=t(128==(192&i)?TZ.UNEXPECTED_CONTINUE:TZ.BAD_PREFIX,r-1,e,n);continue}a=3,s=65535}if(r-1+a>=e.length){r+=t(TZ.OVERRUN,r-1,e,n);continue}let o=i&(1<<8-a-1)-1;for(let i=0;i<a;i++){let i=e[r];if(128!=(192&i)){r+=t(TZ.MISSING_CONTINUE,r,e,n),o=null;break}o=o<<6|63&i,r++}null!==o&&(o>1114111?r+=t(TZ.OUT_OF_RANGE,r-1-a,e,n,o):o>=55296&&o<=57343?r+=t(TZ.UTF16_SURROGATE,r-1-a,e,n,o):o<=s?r+=t(TZ.OVERLONG,r-1-a,e,n,o):n.push(o))}return n}(e,t),n.map((e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10&1023),56320+(1023&e))))).join("");var n}class OZ extends fZ{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,SZ(t))}decode(e){return kZ(super.decode(e))}}class IZ extends zQ{constructor(e,t){let n=!1;const r=[];e.forEach((e=>{e.dynamic&&(n=!0),r.push(e.type)}));super("tuple","tuple("+r.join(",")+")",t,n),this.coders=e}defaultValue(){const e=[];this.coders.forEach((t=>{e.push(t.defaultValue())}));const t=this.coders.reduce(((e,t)=>{const n=t.localName;return n&&(e[n]||(e[n]=0),e[n]++),e}),{});return this.coders.forEach(((n,r)=>{let i=n.localName;i&&1===t[i]&&("length"===i&&(i="_length"),null==e[i]&&(e[i]=e[r]))})),Object.freeze(e)}encode(e,t){return oZ(e,this.coders,t)}decode(e){return e.coerce(this.name,cZ(e,this.coders))}}const xZ=new LY(yQ),CZ=new RegExp(/^bytes([0-9]*)$/),MZ=new RegExp(/^(u?int)([0-9]*)$/);class PZ{constructor(e){cQ(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new iZ(e.name);case"bool":return new dZ(e.name);case"string":return new OZ(e.name);case"bytes":return new lZ(e.name);case"array":return new uZ(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new IZ((e.components||[]).map((e=>this._getCoder(e))),e.name);case"":return new pZ(e.name)}let t=e.type.match(MZ);if(t){let n=parseInt(t[2]||"256");return(0===n||n>256||n%8!=0)&&xZ.throwArgumentError("invalid "+t[1]+" bit length","param",e),new wZ(n/8,"int"===t[1],e.name)}if(t=e.type.match(CZ),t){let n=parseInt(t[1]);return(0===n||n>32)&&xZ.throwArgumentError("invalid bytes length","param",e),new hZ(n,e.name)}return xZ.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,t){return new GQ(e,this._getWordSize(),this.coerceFunc,t)}_getWriter(){return new HQ(this._getWordSize())}getDefaultValue(e){const t=e.map((e=>this._getCoder(SQ.from(e))));return new IZ(t,"_").defaultValue()}encode(e,t){e.length!==t.length&&xZ.throwError("types/values length mismatch",LY.errors.INVALID_ARGUMENT,{count:{types:e.length,values:t.length},value:{types:e,values:t}});const n=e.map((e=>this._getCoder(SQ.from(e)))),r=new IZ(n,"_"),i=this._getWriter();return r.encode(i,t),i.data}decode(e,t,n){const r=e.map((e=>this._getCoder(SQ.from(e))));return new IZ(r,"_").decode(this._getReader(HY(t),n))}}const NZ=new PZ;function BZ(e){return KQ(SZ(e))}const DZ=new LY(yQ);class LZ extends bQ{}class FZ extends bQ{}class UZ extends bQ{}class jZ extends bQ{static isIndexed(e){return!(!e||!e._isIndexed)}}const qZ={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function zZ(e,t){const n=new Error(`deferred error during ABI decoding triggered accessing ${e}`);return n.error=t,n}class HZ{constructor(e){let t=[];t="string"==typeof e?JSON.parse(e):e,cQ(this,"fragments",t.map((e=>OQ.from(e))).filter((e=>null!=e))),cQ(this,"_abiCoder",uQ(new.target,"getAbiCoder")()),cQ(this,"functions",{}),cQ(this,"errors",{}),cQ(this,"events",{}),cQ(this,"structs",{}),this.fragments.forEach((e=>{let t=null;switch(e.type){case"constructor":return this.deploy?void DZ.warn("duplicate definition - constructor"):void cQ(this,"deploy",e);case"function":t=this.functions;break;case"event":t=this.events;break;case"error":t=this.errors;break;default:return}let n=e.format();t[n]?DZ.warn("duplicate definition - "+n):t[n]=e})),this.deploy||cQ(this,"deploy",PQ.from({payable:!1,type:"constructor"})),cQ(this,"_isInterface",!0)}format(e){e||(e=AQ.full),e===AQ.sighash&&DZ.throwArgumentError("interface does not support formatting sighash","format",e);const t=this.fragments.map((t=>t.format(e)));return e===AQ.json?JSON.stringify(t.map((e=>JSON.parse(e)))):t}static getAbiCoder(){return NZ}static getAddress(e){return tZ(e)}static getSighash(e){return XY(BZ(e.format()),0,4)}static getEventTopic(e){return BZ(e.format())}getFunction(e){if(WY(e)){for(const t in this.functions)if(e===this.getSighash(t))return this.functions[t];DZ.throwArgumentError("no matching function","sighash",e)}if(-1===e.indexOf("(")){const t=e.trim(),n=Object.keys(this.functions).filter((e=>e.split("(")[0]===t));return 0===n.length?DZ.throwArgumentError("no matching function","name",t):n.length>1&&DZ.throwArgumentError("multiple matching functions","name",t),this.functions[n[0]]}const t=this.functions[NQ.fromString(e).format()];return t||DZ.throwArgumentError("no matching function","signature",e),t}getEvent(e){if(WY(e)){const t=e.toLowerCase();for(const e in this.events)if(t===this.getEventTopic(e))return this.events[e];DZ.throwArgumentError("no matching event","topichash",t)}if(-1===e.indexOf("(")){const t=e.trim(),n=Object.keys(this.events).filter((e=>e.split("(")[0]===t));return 0===n.length?DZ.throwArgumentError("no matching event","name",t):n.length>1&&DZ.throwArgumentError("multiple matching events","name",t),this.events[n[0]]}const t=this.events[IQ.fromString(e).format()];return t||DZ.throwArgumentError("no matching event","signature",e),t}getError(e){if(WY(e)){const t=uQ(this.constructor,"getSighash");for(const n in this.errors){if(e===t(this.errors[n]))return this.errors[n]}DZ.throwArgumentError("no matching error","sighash",e)}if(-1===e.indexOf("(")){const t=e.trim(),n=Object.keys(this.errors).filter((e=>e.split("(")[0]===t));return 0===n.length?DZ.throwArgumentError("no matching error","name",t):n.length>1&&DZ.throwArgumentError("multiple matching errors","name",t),this.errors[n[0]]}const t=this.errors[NQ.fromString(e).format()];return t||DZ.throwArgumentError("no matching error","signature",e),t}getSighash(e){if("string"==typeof e)try{e=this.getFunction(e)}catch(t){try{e=this.getError(e)}catch(e){throw t}}return uQ(this.constructor,"getSighash")(e)}getEventTopic(e){return"string"==typeof e&&(e=this.getEvent(e)),uQ(this.constructor,"getEventTopic")(e)}_decodeParams(e,t){return this._abiCoder.decode(e,t)}_encodeParams(e,t){return this._abiCoder.encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){"string"==typeof e&&(e=this.getError(e));const n=HY(t);return KY(n.slice(0,4))!==this.getSighash(e)&&DZ.throwArgumentError(`data signature does not match error ${e.name}.`,"data",KY(n)),this._decodeParams(e.inputs,n.slice(4))}encodeErrorResult(e,t){return"string"==typeof e&&(e=this.getError(e)),KY(GY([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}decodeFunctionData(e,t){"string"==typeof e&&(e=this.getFunction(e));const n=HY(t);return KY(n.slice(0,4))!==this.getSighash(e)&&DZ.throwArgumentError(`data signature does not match function ${e.name}.`,"data",KY(n)),this._decodeParams(e.inputs,n.slice(4))}encodeFunctionData(e,t){return"string"==typeof e&&(e=this.getFunction(e)),KY(GY([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}decodeFunctionResult(e,t){"string"==typeof e&&(e=this.getFunction(e));let n=HY(t),r=null,i="",a=null,s=null,o=null;switch(n.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,n)}catch(e){}break;case 4:{const e=KY(n.slice(0,4)),t=qZ[e];if(t)a=this._abiCoder.decode(t.inputs,n.slice(4)),s=t.name,o=t.signature,t.reason&&(r=a[0]),"Error"===s?i=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(a[0])}`:"Panic"===s&&(i=`; VM Exception while processing transaction: reverted with panic code ${a[0]}`);else try{const t=this.getError(e);a=this._abiCoder.decode(t.inputs,n.slice(4)),s=t.name,o=t.format()}catch(e){}break}}return DZ.throwError("call revert exception"+i,LY.errors.CALL_EXCEPTION,{method:e.format(),data:KY(t),errorArgs:a,errorName:s,errorSignature:o,reason:r})}encodeFunctionResult(e,t){return"string"==typeof e&&(e=this.getFunction(e)),KY(this._abiCoder.encode(e.outputs,t||[]))}encodeFilterTopics(e,t){"string"==typeof e&&(e=this.getEvent(e)),t.length>e.inputs.length&&DZ.throwError("too many arguments for "+e.format(),LY.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:t});let n=[];e.anonymous||n.push(this.getEventTopic(e));const r=(e,t)=>"string"===e.type?BZ(t):"bytes"===e.type?KQ(KY(t)):("bool"===e.type&&"boolean"==typeof t&&(t=t?"0x01":"0x00"),e.type.match(/^u?int/)&&(t=tQ.from(t).toHexString()),"address"===e.type&&this._abiCoder.encode(["address"],[t]),$Y(KY(t),32));for(t.forEach(((t,i)=>{let a=e.inputs[i];a.indexed?null==t?n.push(null):"array"===a.baseType||"tuple"===a.baseType?DZ.throwArgumentError("filtering with tuples or arrays not supported","contract."+a.name,t):Array.isArray(t)?n.push(t.map((e=>r(a,e)))):n.push(r(a,t)):null!=t&&DZ.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+a.name,t)}));n.length&&null===n[n.length-1];)n.pop();return n}encodeEventLog(e,t){"string"==typeof e&&(e=this.getEvent(e));const n=[],r=[],i=[];return e.anonymous||n.push(this.getEventTopic(e)),t.length!==e.inputs.length&&DZ.throwArgumentError("event arguments/values mismatch","values",t),e.inputs.forEach(((e,a)=>{const s=t[a];if(e.indexed)if("string"===e.type)n.push(BZ(s));else if("bytes"===e.type)n.push(KQ(s));else{if("tuple"===e.baseType||"array"===e.baseType)throw new Error("not implemented");n.push(this._abiCoder.encode([e.type],[s]))}else r.push(e),i.push(s)})),{data:this._abiCoder.encode(r,i),topics:n}}decodeEventLog(e,t,n){if("string"==typeof e&&(e=this.getEvent(e)),null!=n&&!e.anonymous){let t=this.getEventTopic(e);WY(n[0],32)&&n[0].toLowerCase()===t||DZ.throwError("fragment/topic mismatch",LY.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:t,value:n[0]}),n=n.slice(1)}let r=[],i=[],a=[];e.inputs.forEach(((e,t)=>{e.indexed?"string"===e.type||"bytes"===e.type||"tuple"===e.baseType||"array"===e.baseType?(r.push(SQ.fromObject({type:"bytes32",name:e.name})),a.push(!0)):(r.push(e),a.push(!1)):(i.push(e),a.push(!1))}));let s=null!=n?this._abiCoder.decode(r,GY(n)):null,o=this._abiCoder.decode(i,t,!0),c=[],u=0,d=0;e.inputs.forEach(((e,t)=>{if(e.indexed)if(null==s)c[t]=new jZ({_isIndexed:!0,hash:null});else if(a[t])c[t]=new jZ({_isIndexed:!0,hash:s[d++]});else try{c[t]=s[d++]}catch(e){c[t]=e}else try{c[t]=o[u++]}catch(e){c[t]=e}if(e.name&&null==c[e.name]){const n=c[t];n instanceof Error?Object.defineProperty(c,e.name,{enumerable:!0,get:()=>{throw zZ(`property ${JSON.stringify(e.name)}`,n)}}):c[e.name]=n}}));for(let e=0;e<c.length;e++){const t=c[e];t instanceof Error&&Object.defineProperty(c,e,{enumerable:!0,get:()=>{throw zZ(`index ${e}`,t)}})}return Object.freeze(c)}parseTransaction(e){let t=this.getFunction(e.data.substring(0,10).toLowerCase());return t?new FZ({args:this._abiCoder.decode(t.inputs,"0x"+e.data.substring(10)),functionFragment:t,name:t.name,signature:t.format(),sighash:this.getSighash(t),value:tQ.from(e.value||"0")}):null}parseLog(e){let t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new LZ({eventFragment:t,name:t.name,signature:t.format(),topic:this.getEventTopic(t),args:this.decodeEventLog(t,e.data,e.topics)})}parseError(e){const t=KY(e);let n=this.getError(t.substring(0,10).toLowerCase());return n?new UZ({args:this._abiCoder.decode(n.inputs,"0x"+t.substring(10)),errorFragment:n,name:n.name,signature:n.format(),sighash:this.getSighash(n)}):null}static isInterface(e){return!(!e||!e._isInterface)}}var GZ=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function s(e){try{c(r.next(e))}catch(e){a(e)}}function o(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}c((r=r.apply(e,t||[])).next())}))};const WZ=new LY("abstract-provider/5.7.0");class VZ{constructor(){WZ.checkAbstract(new.target,VZ),cQ(this,"_isProvider",!0)}getFeeData(){return GZ(this,void 0,void 0,(function*(){const{block:e,gasPrice:t}=yield dQ({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch((e=>null))});let n=null,r=null,i=null;return e&&e.baseFeePerGas&&(n=e.baseFeePerGas,i=tQ.from("1500000000"),r=e.baseFeePerGas.mul(2).add(i)),{lastBaseFeePerGas:n,maxFeePerGas:r,maxPriorityFeePerGas:i,gasPrice:t}}))}addListener(e,t){return this.on(e,t)}removeListener(e,t){return this.off(e,t)}static isProvider(e){return!(!e||!e._isProvider)}}var KZ=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function s(e){try{c(r.next(e))}catch(e){a(e)}}function o(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}c((r=r.apply(e,t||[])).next())}))};const XZ=new LY("abstract-signer/5.7.0"),$Z=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],JZ=[LY.errors.INSUFFICIENT_FUNDS,LY.errors.NONCE_EXPIRED,LY.errors.REPLACEMENT_UNDERPRICED];class YZ{constructor(){XZ.checkAbstract(new.target,YZ),cQ(this,"_isSigner",!0)}getBalance(e){return KZ(this,void 0,void 0,(function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)}))}getTransactionCount(e){return KZ(this,void 0,void 0,(function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)}))}estimateGas(e){return KZ(this,void 0,void 0,(function*(){this._checkProvider("estimateGas");const t=yield dQ(this.checkTransaction(e));return yield this.provider.estimateGas(t)}))}call(e,t){return KZ(this,void 0,void 0,(function*(){this._checkProvider("call");const n=yield dQ(this.checkTransaction(e));return yield this.provider.call(n,t)}))}sendTransaction(e){return KZ(this,void 0,void 0,(function*(){this._checkProvider("sendTransaction");const t=yield this.populateTransaction(e),n=yield this.signTransaction(t);return yield this.provider.sendTransaction(n)}))}getChainId(){return KZ(this,void 0,void 0,(function*(){this._checkProvider("getChainId");return(yield this.provider.getNetwork()).chainId}))}getGasPrice(){return KZ(this,void 0,void 0,(function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()}))}getFeeData(){return KZ(this,void 0,void 0,(function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()}))}resolveName(e){return KZ(this,void 0,void 0,(function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)}))}checkTransaction(e){for(const t in e)-1===$Z.indexOf(t)&&XZ.throwArgumentError("invalid transaction key: "+t,"transaction",e);const t=fQ(e);return null==t.from?t.from=this.getAddress():t.from=Promise.all([Promise.resolve(t.from),this.getAddress()]).then((t=>(t[0].toLowerCase()!==t[1].toLowerCase()&&XZ.throwArgumentError("from address mismatch","transaction",e),t[0]))),t}populateTransaction(e){return KZ(this,void 0,void 0,(function*(){const t=yield dQ(this.checkTransaction(e));null!=t.to&&(t.to=Promise.resolve(t.to).then((e=>KZ(this,void 0,void 0,(function*(){if(null==e)return null;const t=yield this.resolveName(e);return null==t&&XZ.throwArgumentError("provided ENS name resolves to null","tx.to",e),t})))),t.to.catch((e=>{})));const n=null!=t.maxFeePerGas||null!=t.maxPriorityFeePerGas;if(null==t.gasPrice||2!==t.type&&!n?0!==t.type&&1!==t.type||!n||XZ.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e):XZ.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e),2!==t.type&&null!=t.type||null==t.maxFeePerGas||null==t.maxPriorityFeePerGas)if(0===t.type||1===t.type)null==t.gasPrice&&(t.gasPrice=this.getGasPrice());else{const e=yield this.getFeeData();if(null==t.type)if(null!=e.maxFeePerGas&&null!=e.maxPriorityFeePerGas)if(t.type=2,null!=t.gasPrice){const e=t.gasPrice;delete t.gasPrice,t.maxFeePerGas=e,t.maxPriorityFeePerGas=e}else null==t.maxFeePerGas&&(t.maxFeePerGas=e.maxFeePerGas),null==t.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas);else null!=e.gasPrice?(n&&XZ.throwError("network does not support EIP-1559",LY.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),null==t.gasPrice&&(t.gasPrice=e.gasPrice),t.type=0):XZ.throwError("failed to get consistent fee data",LY.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else 2===t.type&&(null==t.maxFeePerGas&&(t.maxFeePerGas=e.maxFeePerGas),null==t.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas))}else t.type=2;return null==t.nonce&&(t.nonce=this.getTransactionCount("pending")),null==t.gasLimit&&(t.gasLimit=this.estimateGas(t).catch((e=>{if(JZ.indexOf(e.code)>=0)throw e;return XZ.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",LY.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,tx:t})}))),null==t.chainId?t.chainId=this.getChainId():t.chainId=Promise.all([Promise.resolve(t.chainId),this.getChainId()]).then((t=>(0!==t[1]&&t[0]!==t[1]&&XZ.throwArgumentError("chainId address mismatch","transaction",e),t[0]))),yield dQ(t)}))}_checkProvider(e){this.provider||XZ.throwError("missing provider",LY.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!(!e||!e._isSigner)}}class QZ extends YZ{constructor(e,t){super(),cQ(this,"address",e),cQ(this,"provider",t||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,t){return Promise.resolve().then((()=>{XZ.throwError(e,LY.errors.UNSUPPORTED_OPERATION,{operation:t})}))}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,t,n){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new QZ(this.address,e)}}const ZZ=new LY("transactions/5.7.0");var e0;function t0(e,t){return{address:tZ(e),storageKeys:(t||[]).map(((t,n)=>(32!==function(e){if("string"!=typeof e)e=KY(e);else if(!WY(e)||e.length%2)return null;return(e.length-2)/2}(t)&&ZZ.throwArgumentError("invalid access list storageKey",`accessList[${e}:${n}]`,t),t.toLowerCase())))}}!function(e){e[e.legacy=0]="legacy",e[e.eip2930=1]="eip2930",e[e.eip1559=2]="eip1559"}(e0||(e0={}));var n0=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function s(e){try{c(r.next(e))}catch(e){a(e)}}function o(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}c((r=r.apply(e,t||[])).next())}))};const r0=new LY("contracts/5.7.0");function i0(e,t){return n0(this,void 0,void 0,(function*(){const n=yield t;"string"!=typeof n&&r0.throwArgumentError("invalid address or ENS name","name",n);try{return tZ(n)}catch(e){}e||r0.throwError("a provider or signer is needed to resolve ENS names",LY.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const r=yield e.resolveName(n);return null==r&&r0.throwArgumentError("resolver or addr is not configured for ENS name","name",n),r}))}function a0(e,t,n){return n0(this,void 0,void 0,(function*(){return Array.isArray(n)?yield Promise.all(n.map(((n,r)=>a0(e,Array.isArray(t)?t[r]:t[n.name],n)))):"address"===n.type?yield i0(e,t):"tuple"===n.type?yield a0(e,t,n.components):"array"===n.baseType?Array.isArray(t)?yield Promise.all(t.map((t=>a0(e,t,n.arrayChildren)))):Promise.reject(r0.makeError("invalid value for array",LY.errors.INVALID_ARGUMENT,{argument:"value",value:t})):t}))}function s0(e,t,n){return n0(this,void 0,void 0,(function*(){let r={};n.length===t.inputs.length+1&&"object"==typeof n[n.length-1]&&(r=fQ(n.pop())),r0.checkArgumentCount(n.length,t.inputs.length,"passed to contract"),e.signer?r.from?r.from=dQ({override:i0(e.signer,r.from),signer:e.signer.getAddress()}).then((e=>n0(this,void 0,void 0,(function*(){return tZ(e.signer)!==e.override&&r0.throwError("Contract with a Signer cannot override from",LY.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),e.override})))):r.from=e.signer.getAddress():r.from&&(r.from=i0(e.provider,r.from));const i=yield dQ({args:a0(e.signer||e.provider,n,t.inputs),address:e.resolvedAddress,overrides:dQ(r)||{}}),a=e.interface.encodeFunctionData(t,i.args),s={data:a,to:i.address},o=i.overrides;if(null!=o.nonce&&(s.nonce=tQ.from(o.nonce).toNumber()),null!=o.gasLimit&&(s.gasLimit=tQ.from(o.gasLimit)),null!=o.gasPrice&&(s.gasPrice=tQ.from(o.gasPrice)),null!=o.maxFeePerGas&&(s.maxFeePerGas=tQ.from(o.maxFeePerGas)),null!=o.maxPriorityFeePerGas&&(s.maxPriorityFeePerGas=tQ.from(o.maxPriorityFeePerGas)),null!=o.from&&(s.from=o.from),null!=o.type&&(s.type=o.type),null!=o.accessList&&(s.accessList=function(e){if(Array.isArray(e))return e.map(((e,t)=>Array.isArray(e)?(e.length>2&&ZZ.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${t}]`,e),t0(e[0],e[1])):t0(e.address,e.storageKeys)));const t=Object.keys(e).map((t=>{const n=e[t].reduce(((e,t)=>(e[t]=!0,e)),{});return t0(t,Object.keys(n).sort())}));return t.sort(((e,t)=>e.address.localeCompare(t.address))),t}(o.accessList)),null==s.gasLimit&&null!=t.gas){let e=21e3;const n=HY(a);for(let t=0;t<n.length;t++)e+=4,n[t]&&(e+=64);s.gasLimit=tQ.from(t.gas).add(e)}if(o.value){const e=tQ.from(o.value);e.isZero()||t.payable||r0.throwError("non-payable method cannot override value",LY.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:r.value}),s.value=e}o.customData&&(s.customData=fQ(o.customData)),o.ccipReadEnabled&&(s.ccipReadEnabled=!!o.ccipReadEnabled),delete r.nonce,delete r.gasLimit,delete r.gasPrice,delete r.from,delete r.value,delete r.type,delete r.accessList,delete r.maxFeePerGas,delete r.maxPriorityFeePerGas,delete r.customData,delete r.ccipReadEnabled;const c=Object.keys(r).filter((e=>null!=r[e]));return c.length&&r0.throwError(`cannot override ${c.map((e=>JSON.stringify(e))).join(",")}`,LY.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:c}),s}))}function o0(e,t,n){const r=e.signer||e.provider;return function(...i){return n0(this,void 0,void 0,(function*(){let a;if(i.length===t.inputs.length+1&&"object"==typeof i[i.length-1]){const e=fQ(i.pop());null!=e.blockTag&&(a=yield e.blockTag),delete e.blockTag,i.push(e)}null!=e.deployTransaction&&(yield e._deployed(a));const s=yield s0(e,t,i),o=yield r.call(s,a);try{let r=e.interface.decodeFunctionResult(t,o);return n&&1===t.outputs.length&&(r=r[0]),r}catch(t){throw t.code===LY.errors.CALL_EXCEPTION&&(t.address=e.address,t.args=i,t.transaction=s),t}}))}}function c0(e,t){return function(...n){return n0(this,void 0,void 0,(function*(){e.signer||r0.throwError("sending a transaction requires a signer",LY.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),null!=e.deployTransaction&&(yield e._deployed());const r=yield s0(e,t,n),i=yield e.signer.sendTransaction(r);return function(e,t){const n=t.wait.bind(t);t.wait=t=>n(t).then((t=>(t.events=t.logs.map((n=>{let r=mQ(n),i=null;try{i=e.interface.parseLog(n)}catch(e){}return i&&(r.args=i.args,r.decode=(t,n)=>e.interface.decodeEventLog(i.eventFragment,t,n),r.event=i.name,r.eventSignature=i.signature),r.removeListener=()=>e.provider,r.getBlock=()=>e.provider.getBlock(t.blockHash),r.getTransaction=()=>e.provider.getTransaction(t.transactionHash),r.getTransactionReceipt=()=>Promise.resolve(t),r})),t)))}(e,i),i}))}}function u0(e,t,n){return t.constant?o0(e,t,n):c0(e,t)}function d0(e){return!e.address||null!=e.topics&&0!==e.topics.length?(e.address||"*")+"@"+(e.topics?e.topics.map((e=>Array.isArray(e)?e.join("|"):e)).join(":"):""):"*"}class f0{constructor(e,t){cQ(this,"tag",e),cQ(this,"filter",t),this._listeners=[]}addListener(e,t){this._listeners.push({listener:e,once:t})}removeListener(e){let t=!1;this._listeners=this._listeners.filter((n=>!(!t&&n.listener===e)||(t=!0,!1)))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map((e=>e.listener))}listenerCount(){return this._listeners.length}run(e){const t=this.listenerCount();return this._listeners=this._listeners.filter((t=>{const n=e.slice();return setTimeout((()=>{t.listener.apply(this,n)}),0),!t.once})),t}prepareEvent(e){}getEmit(e){return[e]}}class l0 extends f0{constructor(){super("error",null)}}class h0 extends f0{constructor(e,t,n,r){const i={address:e};let a=t.getEventTopic(n);r?(a!==r[0]&&r0.throwArgumentError("topic mismatch","topics",r),i.topics=r.slice()):i.topics=[a],super(d0(i),i),cQ(this,"address",e),cQ(this,"interface",t),cQ(this,"fragment",n)}prepareEvent(e){super.prepareEvent(e),e.event=this.fragment.name,e.eventSignature=this.fragment.format(),e.decode=(e,t)=>this.interface.decodeEventLog(this.fragment,e,t);try{e.args=this.interface.decodeEventLog(this.fragment,e.data,e.topics)}catch(t){e.args=null,e.decodeError=t}}getEmit(e){const t=function(e){const t=[],n=function(e,r){if(Array.isArray(r))for(let i in r){const a=e.slice();a.push(i);try{n(a,r[i])}catch(e){t.push({path:a,error:e})}}};return n([],e),t}(e.args);if(t.length)throw t[0].error;const n=(e.args||[]).slice();return n.push(e),n}}class p0 extends f0{constructor(e,t){super("*",{address:e}),cQ(this,"address",e),cQ(this,"interface",t)}prepareEvent(e){super.prepareEvent(e);try{const t=this.interface.parseLog(e);e.event=t.name,e.eventSignature=t.signature,e.decode=(e,n)=>this.interface.decodeEventLog(t.eventFragment,e,n),e.args=t.args}catch(e){}}}class m0{constructor(e,t,n){cQ(this,"interface",uQ(new.target,"getInterface")(t)),null==n?(cQ(this,"provider",null),cQ(this,"signer",null)):YZ.isSigner(n)?(cQ(this,"provider",n.provider||null),cQ(this,"signer",n)):VZ.isProvider(n)?(cQ(this,"provider",n),cQ(this,"signer",null)):r0.throwArgumentError("invalid signer or provider","signerOrProvider",n),cQ(this,"callStatic",{}),cQ(this,"estimateGas",{}),cQ(this,"functions",{}),cQ(this,"populateTransaction",{}),cQ(this,"filters",{});{const e={};Object.keys(this.interface.events).forEach((t=>{const n=this.interface.events[t];cQ(this.filters,t,((...e)=>({address:this.address,topics:this.interface.encodeFilterTopics(n,e)}))),e[n.name]||(e[n.name]=[]),e[n.name].push(t)})),Object.keys(e).forEach((t=>{const n=e[t];1===n.length?cQ(this.filters,t,this.filters[n[0]]):r0.warn(`Duplicate definition of ${t} (${n.join(", ")})`)}))}if(cQ(this,"_runningEvents",{}),cQ(this,"_wrappedEmits",{}),null==e&&r0.throwArgumentError("invalid contract address or ENS name","addressOrName",e),cQ(this,"address",e),this.provider)cQ(this,"resolvedAddress",i0(this.provider,e));else try{cQ(this,"resolvedAddress",Promise.resolve(tZ(e)))}catch(e){r0.throwError("provider is required to use ENS name as contract address",LY.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch((e=>{}));const r={},i={};Object.keys(this.interface.functions).forEach((e=>{const t=this.interface.functions[e];if(i[e])r0.warn(`Duplicate ABI entry for ${JSON.stringify(e)}`);else{i[e]=!0;{const n=t.name;r[`%${n}`]||(r[`%${n}`]=[]),r[`%${n}`].push(e)}null==this[e]&&cQ(this,e,u0(this,t,!0)),null==this.functions[e]&&cQ(this.functions,e,u0(this,t,!1)),null==this.callStatic[e]&&cQ(this.callStatic,e,o0(this,t,!0)),null==this.populateTransaction[e]&&cQ(this.populateTransaction,e,function(e,t){return function(...n){return s0(e,t,n)}}(this,t)),null==this.estimateGas[e]&&cQ(this.estimateGas,e,function(e,t){const n=e.signer||e.provider;return function(...r){return n0(this,void 0,void 0,(function*(){n||r0.throwError("estimate require a provider or signer",LY.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const i=yield s0(e,t,r);return yield n.estimateGas(i)}))}}(this,t))}})),Object.keys(r).forEach((e=>{const t=r[e];if(t.length>1)return;e=e.substring(1);const n=t[0];try{null==this[e]&&cQ(this,e,this[n])}catch(e){}null==this.functions[e]&&cQ(this.functions,e,this.functions[n]),null==this.callStatic[e]&&cQ(this.callStatic,e,this.callStatic[n]),null==this.populateTransaction[e]&&cQ(this.populateTransaction,e,this.populateTransaction[n]),null==this.estimateGas[e]&&cQ(this.estimateGas,e,this.estimateGas[n])}))}static getContractAddress(e){return rZ(e)}static getInterface(e){return HZ.isInterface(e)?e:new HZ(e)}deployed(){return this._deployed()}_deployed(e){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then((()=>this)):this._deployedPromise=this.provider.getCode(this.address,e).then((e=>("0x"===e&&r0.throwError("contract not deployed",LY.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this)))),this._deployedPromise}fallback(e){this.signer||r0.throwError("sending a transactions require a signer",LY.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const t=fQ(e||{});return["from","to"].forEach((function(e){null!=t[e]&&r0.throwError("cannot override "+e,LY.errors.UNSUPPORTED_OPERATION,{operation:e})})),t.to=this.resolvedAddress,this.deployed().then((()=>this.signer.sendTransaction(t)))}connect(e){"string"==typeof e&&(e=new QZ(e,this.provider));const t=new this.constructor(this.address,this.interface,e);return this.deployTransaction&&cQ(t,"deployTransaction",this.deployTransaction),t}attach(e){return new this.constructor(e,this.interface,this.signer||this.provider)}static isIndexed(e){return jZ.isIndexed(e)}_normalizeRunningEvent(e){return this._runningEvents[e.tag]?this._runningEvents[e.tag]:e}_getRunningEvent(e){if("string"==typeof e){if("error"===e)return this._normalizeRunningEvent(new l0);if("event"===e)return this._normalizeRunningEvent(new f0("event",null));if("*"===e)return this._normalizeRunningEvent(new p0(this.address,this.interface));const t=this.interface.getEvent(e);return this._normalizeRunningEvent(new h0(this.address,this.interface,t))}if(e.topics&&e.topics.length>0){try{const t=e.topics[0];if("string"!=typeof t)throw new Error("invalid topic");const n=this.interface.getEvent(t);return this._normalizeRunningEvent(new h0(this.address,this.interface,n,e.topics))}catch(e){}const t={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new f0(d0(t),t))}return this._normalizeRunningEvent(new p0(this.address,this.interface))}_checkRunningEvents(e){if(0===e.listenerCount()){delete this._runningEvents[e.tag];const t=this._wrappedEmits[e.tag];t&&e.filter&&(this.provider.off(e.filter,t),delete this._wrappedEmits[e.tag])}}_wrapEvent(e,t,n){const r=mQ(t);return r.removeListener=()=>{n&&(e.removeListener(n),this._checkRunningEvents(e))},r.getBlock=()=>this.provider.getBlock(t.blockHash),r.getTransaction=()=>this.provider.getTransaction(t.transactionHash),r.getTransactionReceipt=()=>this.provider.getTransactionReceipt(t.transactionHash),e.prepareEvent(r),r}_addEventListener(e,t,n){if(this.provider||r0.throwError("events require a provider or a signer with a provider",LY.errors.UNSUPPORTED_OPERATION,{operation:"once"}),e.addListener(t,n),this._runningEvents[e.tag]=e,!this._wrappedEmits[e.tag]){const n=n=>{let r=this._wrapEvent(e,n,t);if(null==r.decodeError)try{const t=e.getEmit(r);this.emit(e.filter,...t)}catch(e){r.decodeError=e.error}null!=e.filter&&this.emit("event",r),null!=r.decodeError&&this.emit("error",r.decodeError,r)};this._wrappedEmits[e.tag]=n,null!=e.filter&&this.provider.on(e.filter,n)}}queryFilter(e,t,n){const r=this._getRunningEvent(e),i=fQ(r.filter);return"string"==typeof t&&WY(t,32)?(null!=n&&r0.throwArgumentError("cannot specify toBlock with blockhash","toBlock",n),i.blockHash=t):(i.fromBlock=null!=t?t:0,i.toBlock=null!=n?n:"latest"),this.provider.getLogs(i).then((e=>e.map((e=>this._wrapEvent(r,e,null)))))}on(e,t){return this._addEventListener(this._getRunningEvent(e),t,!1),this}once(e,t){return this._addEventListener(this._getRunningEvent(e),t,!0),this}emit(e,...t){if(!this.provider)return!1;const n=this._getRunningEvent(e),r=n.run(t)>0;return this._checkRunningEvents(n),r}listenerCount(e){return this.provider?null==e?Object.keys(this._runningEvents).reduce(((e,t)=>e+this._runningEvents[t].listenerCount()),0):this._getRunningEvent(e).listenerCount():0}listeners(e){if(!this.provider)return[];if(null==e){const e=[];for(let t in this._runningEvents)this._runningEvents[t].listeners().forEach((t=>{e.push(t)}));return e}return this._getRunningEvent(e).listeners()}removeAllListeners(e){if(!this.provider)return this;if(null==e){for(const e in this._runningEvents){const t=this._runningEvents[e];t.removeAllListeners(),this._checkRunningEvents(t)}return this}const t=this._getRunningEvent(e);return t.removeAllListeners(),this._checkRunningEvents(t),this}off(e,t){if(!this.provider)return this;const n=this._getRunningEvent(e);return n.removeListener(t),this._checkRunningEvents(n),this}removeListener(e,t){return this.off(e,t)}}class b0 extends m0{}const y0="11155111",g0="15003",v0="13473",w0="13371",_0={rootChainID:y0,childChainID:g0},E0={rootChainID:y0,childChainID:v0},T0={rootChainID:"1",childChainID:w0},A0="https://testnet.api.gmp.axelarscan.io",R0="https://api.gmp.axelarscan.io",S0="",k0={11155111:{id:"ethereum-sepolia",symbol:"ETH"},1:{id:"ethereum",symbol:"ETH"},15003:{id:"immutable",symbol:"IMX"},13473:{id:"immutable",symbol:"IMX"},13371:{id:"immutable",symbol:"IMX"}},O0={token:"deposit",tokenTo:"depositTo",native:"depositETH",nativeTo:"depositToETH"},I0={token:"withdraw",tokenTo:"withdrawTo",native:"withdrawIMX",nativeTo:"withdrawIMXTo"},x0=[{inputs:[{internalType:"address",name:"_initializerAddress",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"AlreadyMapped",type:"error"},{inputs:[{internalType:"uint256",name:"actualBalance",type:"uint256"},{internalType:"uint256",name:"expectedBalance",type:"uint256"}],name:"BalanceInvariantCheckFailed",type:"error"},{inputs:[],name:"CantMapETH",type:"error"},{inputs:[],name:"CantMapIMX",type:"error"},{inputs:[],name:"CantMapWETH",type:"error"},{inputs:[],name:"ImxDepositLimitExceeded",type:"error"},{inputs:[],name:"ImxDepositLimitTooLow",type:"error"},{inputs:[{internalType:"uint256",name:"lengthOfQueue",type:"uint256"},{internalType:"uint256",name:"requestedIndex",type:"uint256"}],name:"IndexOutsideWithdrawalQueue",type:"error"},{inputs:[],name:"InsufficientValue",type:"error"},{inputs:[],name:"InvalidCapacity",type:"error"},{inputs:[],name:"InvalidChildChain",type:"error"},{inputs:[{internalType:"string",name:"reason",type:"string"}],name:"InvalidData",type:"error"},{inputs:[],name:"InvalidRefillRate",type:"error"},{inputs:[],name:"InvalidToken",type:"error"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"actualToken",type:"address"}],name:"MixedTokens",type:"error"},{inputs:[],name:"NoGas",type:"error"},{inputs:[],name:"NonWrappedNativeTransfer",type:"error"},{inputs:[],name:"NotBridgeAdaptor",type:"error"},{inputs:[],name:"NotMapped",type:"error"},{inputs:[],name:"ProvideAtLeastOneIndex",type:"error"},{inputs:[{internalType:"address",name:"receiver",type:"address"}],name:"TokenIsZero",type:"error"},{inputs:[],name:"TokenNotSupported",type:"error"},{inputs:[],name:"UnauthorizedInitializer",type:"error"},{inputs:[{internalType:"address",name:"receiver",type:"address"},{internalType:"uint256",name:"index",type:"uint256"}],name:"WithdrawalAlreadyProcessed",type:"error"},{inputs:[{internalType:"uint256",name:"timeNow",type:"uint256"},{internalType:"uint256",name:"currentWithdrawalTime",type:"uint256"}],name:"WithdrawalRequestTooEarly",type:"error"},{inputs:[],name:"WrongInitializer",type:"error"},{inputs:[],name:"ZeroAddress",type:"error"},{inputs:[],name:"ZeroAmount",type:"error"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"who",type:"address"}],name:"ActivatedWithdrawalQueue",type:"event"},{anonymous:!1,inputs:[],name:"AutoActivatedWithdrawalQueue",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"rootToken",type:"address"},{indexed:!0,internalType:"address",name:"childToken",type:"address"},{indexed:!1,internalType:"address",name:"depositor",type:"address"},{indexed:!0,internalType:"address",name:"receiver",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"ChildChainERC20Deposit",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"who",type:"address"}],name:"DeactivatedWithdrawalQueue",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"token",type:"address"},{indexed:!0,internalType:"address",name:"withdrawer",type:"address"},{indexed:!0,internalType:"address",name:"receiver",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"},{indexed:!1,internalType:"uint256",name:"index",type:"uint256"}],name:"EnQueuedWithdrawal",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"rootToken",type:"address"},{indexed:!1,internalType:"address",name:"depositor",type:"address"},{indexed:!0,internalType:"address",name:"receiver",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"IMXDeposit",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint8",name:"version",type:"uint8"}],name:"Initialized",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"rootToken",type:"address"},{indexed:!0,internalType:"address",name:"childToken",type:"address"}],name:"L1TokenMapped",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"rootToken",type:"address"},{indexed:!0,internalType:"address",name:"childToken",type:"address"},{indexed:!1,internalType:"address",name:"depositor",type:"address"},{indexed:!0,internalType:"address",name:"receiver",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"NativeEthDeposit",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"oldImxDepositLimit",type:"uint256"},{indexed:!1,internalType:"uint256",name:"newImxDepositLimit",type:"uint256"}],name:"NewImxDepositLimit",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"token",type:"address"},{indexed:!0,internalType:"address",name:"withdrawer",type:"address"},{indexed:!0,internalType:"address",name:"receiver",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"},{indexed:!1,internalType:"uint256",name:"index",type:"uint256"}],name:"ProcessedWithdrawal",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"token",type:"address"},{indexed:!0,internalType:"address",name:"withdrawer",type:"address"},{indexed:!0,internalType:"address",name:"receiver",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"bool",name:"delayWithdrawalLargeAmount",type:"bool"},{indexed:!1,internalType:"bool",name:"delayWithdrawalUnknownToken",type:"bool"},{indexed:!1,internalType:"bool",name:"withdrawalQueueActivated",type:"bool"}],name:"QueuedWithdrawal",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"token",type:"address"},{indexed:!1,internalType:"uint256",name:"capacity",type:"uint256"},{indexed:!1,internalType:"uint256",name:"refillRate",type:"uint256"},{indexed:!1,internalType:"uint256",name:"largeTransferThreshold",type:"uint256"},{indexed:!1,internalType:"uint256",name:"previousCapacity",type:"uint256"},{indexed:!1,internalType:"uint256",name:"previousRefillRate",type:"uint256"},{indexed:!1,internalType:"uint256",name:"previousLargeTransferThreshold",type:"uint256"}],name:"RateControlThresholdSet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"oldRootBridgeAdaptor",type:"address"},{indexed:!1,internalType:"address",name:"newRootBridgeAdaptor",type:"address"}],name:"RootBridgeAdaptorUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"rootToken",type:"address"},{indexed:!0,internalType:"address",name:"childToken",type:"address"},{indexed:!1,internalType:"address",name:"withdrawer",type:"address"},{indexed:!0,internalType:"address",name:"receiver",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"RootChainERC20Withdraw",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"rootToken",type:"address"},{indexed:!0,internalType:"address",name:"childToken",type:"address"},{indexed:!1,internalType:"address",name:"withdrawer",type:"address"},{indexed:!0,internalType:"address",name:"receiver",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"RootChainETHWithdraw",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Unpaused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"rootToken",type:"address"},{indexed:!0,internalType:"address",name:"childToken",type:"address"},{indexed:!1,internalType:"address",name:"depositor",type:"address"},{indexed:!0,internalType:"address",name:"receiver",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"WETHDeposit",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"delay",type:"uint256"},{indexed:!1,internalType:"uint256",name:"previousDelay",type:"uint256"}],name:"WithdrawalDelayUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"token",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"WithdrawalForNonFlowRatedToken",type:"event"},{inputs:[],name:"ADAPTOR_MANAGER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"DEPOSIT_SIG",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"MAP_TOKEN_SIG",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"NATIVE_ETH",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"NATIVE_IMX",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"PAUSER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"UNLIMITED_DEPOSIT",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"UNPAUSER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"VARIABLE_MANAGER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"WITHDRAW_SIG",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"activateWithdrawalQueue",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"childERC20Bridge",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"childETHToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"childTokenTemplate",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"deactivateWithdrawalQueue",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IERC20Metadata",name:"rootToken",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"deposit",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"depositETH",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"contract IERC20Metadata",name:"rootToken",type:"address"},{internalType:"address",name:"receiver",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"depositTo",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"receiver",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"depositToETH",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"receiver",type:"address"},{internalType:"uint256",name:"index",type:"uint256"}],name:"finaliseQueuedWithdrawal",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"receiver",type:"address"},{internalType:"address",name:"token",type:"address"},{internalType:"uint256[]",name:"indices",type:"uint256[]"}],name:"finaliseQueuedWithdrawalsAggregated",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"receiver",type:"address"},{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"startIndex",type:"uint256"},{internalType:"uint256",name:"stopIndex",type:"uint256"},{internalType:"uint256",name:"maxFind",type:"uint256"}],name:"findPendingWithdrawals",outputs:[{components:[{internalType:"uint256",name:"index",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"timestamp",type:"uint256"}],internalType:"struct FlowRateWithdrawalQueue.FindPendingWithdrawal[]",name:"found",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"flowRateBuckets",outputs:[{internalType:"uint256",name:"capacity",type:"uint256"},{internalType:"uint256",name:"depth",type:"uint256"},{internalType:"uint256",name:"refillTime",type:"uint256"},{internalType:"uint256",name:"refillRate",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"receiver",type:"address"},{internalType:"uint256[]",name:"indices",type:"uint256[]"}],name:"getPendingWithdrawals",outputs:[{components:[{internalType:"address",name:"withdrawer",type:"address"},{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"timestamp",type:"uint256"}],internalType:"struct FlowRateWithdrawalQueue.PendingWithdrawal[]",name:"pending",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"receiver",type:"address"}],name:"getPendingWithdrawalsLength",outputs:[{internalType:"uint256",name:"length",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"grantAdaptorManagerRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"grantPauserRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"grantUnpauserRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"grantVariableManagerRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"imxCumulativeDepositLimit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"address",name:"defaultAdmin",type:"address"},{internalType:"address",name:"pauser",type:"address"},{internalType:"address",name:"unpauser",type:"address"},{internalType:"address",name:"variableManager",type:"address"},{internalType:"address",name:"adaptorManager",type:"address"}],internalType:"struct IRootERC20Bridge.InitializationRoles",name:"newRoles",type:"tuple"},{internalType:"address",name:"newRootBridgeAdaptor",type:"address"},{internalType:"address",name:"newChildERC20Bridge",type:"address"},{internalType:"address",name:"newChildTokenTemplate",type:"address"},{internalType:"address",name:"newRootIMXToken",type:"address"},{internalType:"address",name:"newRootWETHToken",type:"address"},{internalType:"uint256",name:"newImxCumulativeDepositLimit",type:"uint256"},{internalType:"address",name:"rateAdmin",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"defaultAdmin",type:"address"},{internalType:"address",name:"pauser",type:"address"},{internalType:"address",name:"unpauser",type:"address"},{internalType:"address",name:"variableManager",type:"address"},{internalType:"address",name:"adaptorManager",type:"address"}],internalType:"struct IRootERC20Bridge.InitializationRoles",name:"",type:"tuple"},{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"initialize",outputs:[],stateMutability:"pure",type:"function"},{inputs:[],name:"initializerAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"largeTransferThresholds",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IERC20Metadata",name:"rootToken",type:"address"}],name:"mapToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes",name:"data",type:"bytes"}],name:"onMessageReceive",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"revokeAdaptorManagerRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"revokePauserRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"revokeUnpauserRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"revokeVariableManagerRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"rootBridgeAdaptor",outputs:[{internalType:"contract IRootBridgeAdaptor",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"rootIMXToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"rootTokenToChildToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"rootWETHToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"capacity",type:"uint256"},{internalType:"uint256",name:"refillRate",type:"uint256"},{internalType:"uint256",name:"largeTransferThreshold",type:"uint256"}],name:"setRateControlThreshold",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"delay",type:"uint256"}],name:"setWithdrawalDelay",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"newImxCumulativeDepositLimit",type:"uint256"}],name:"updateImxCumulativeDepositLimit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newRootBridgeAdaptor",type:"address"}],name:"updateRootBridgeAdaptor",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdrawalDelay",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"withdrawalQueueActivated",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{stateMutability:"payable",type:"receive"}],C0=[{inputs:[{internalType:"string",name:"name_",type:"string"},{internalType:"string",name:"symbol_",type:"string"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}];var M0;!function(e){e.UNSUPPORTED_ERROR="UNSUPPORTED_ERROR",e.INVALID_ADDRESS="INVALID_ADDRESS",e.INVALID_AMOUNT="INVALID_AMOUNT",e.INTERNAL_ERROR="INTERNAL_ERROR",e.PROVIDER_ERROR="PROVIDER_ERROR",e.ROOT_PROVIDER_ERROR="ROOT_PROVIDER_ERROR",e.CHILD_PROVIDER_ERROR="CHILD_PROVIDER_ERROR",e.TRANSACTION_REVERTED="TRANSACTION_REVERTED",e.INVALID_TOKEN="INVALID_TOKEN",e.INVALID_TRANSACTION="INVALID_TRANSACTION",e.INVALID_SOURCE_CHAIN_ID="INVALID_SOURCE_CHAIN_ID",e.INVALID_DESTINATION_CHAIN_ID="INVALID_DESTINATION_CHAIN_ID",e.CHAIN_IDS_MATCH="CHAIN_IDS_MATCH",e.AXELAR_CHAIN_NOT_FOUND="AXELAR_CHAIN_NOT_FOUND",e.AXELAR_GAS_ESTIMATE_FAILED="AXELAR_GAS_ESTIMATE_FAILED",e.INVALID_RECIPIENT="INVALID_RECIPIENT",e.FLOW_RATE_ERROR="FLOW_RATE_ERROR",e.INVALID_FLOWRATE_INDEX="INVALID_FLOWRATE_INDEX"}(M0||(M0={}));class P0 extends Error{type;constructor(e,t){super(e),this.type=t}}const N0=async(e,t,n)=>{try{return await e()}catch(e){let r=`${t}: ${e.message}`||"UnknownError";throw n&&(r=`${n}: ${r}`),new P0(r,t)}},B0=[{inputs:[{internalType:"address",name:"_initializerAddress",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"AlreadyMapped",type:"error"},{inputs:[{internalType:"uint256",name:"actualBalance",type:"uint256"},{internalType:"uint256",name:"expectedBalance",type:"uint256"}],name:"BalanceInvariantCheckFailed",type:"error"},{inputs:[],name:"BridgeNotSet",type:"error"},{inputs:[],name:"BurnFailed",type:"error"},{inputs:[],name:"CantMapETH",type:"error"},{inputs:[],name:"CantMapIMX",type:"error"},{inputs:[],name:"EmptyTokenContract",type:"error"},{inputs:[],name:"IncorrectBridgeAddress",type:"error"},{inputs:[],name:"InsufficientIMX",type:"error"},{inputs:[],name:"InsufficientValue",type:"error"},{inputs:[{internalType:"string",name:"reason",type:"string"}],name:"InvalidData",type:"error"},{inputs:[],name:"MintFailed",type:"error"},{inputs:[],name:"NoGas",type:"error"},{inputs:[],name:"NonWrappedNativeTransfer",type:"error"},{inputs:[],name:"NotBridgeAdaptor",type:"error"},{inputs:[],name:"NotMapped",type:"error"},{inputs:[],name:"TransferWIMXFailed",type:"error"},{inputs:[],name:"UnauthorizedInitializer",type:"error"},{inputs:[],name:"ZeroAddress",type:"error"},{inputs:[],name:"ZeroAddressRootToken",type:"error"},{inputs:[],name:"ZeroAmount",type:"error"},{inputs:[],name:"ZeroValue",type:"error"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"oldChildBridgeAdaptor",type:"address"},{indexed:!1,internalType:"address",name:"newChildBridgeAdaptor",type:"address"}],name:"ChildBridgeAdaptorUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"rootToken",type:"address"},{indexed:!0,internalType:"address",name:"childToken",type:"address"},{indexed:!1,internalType:"address",name:"depositor",type:"address"},{indexed:!0,internalType:"address",name:"receiver",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"ChildChainERC20Deposit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"rootToken",type:"address"},{indexed:!0,internalType:"address",name:"childToken",type:"address"},{indexed:!1,internalType:"address",name:"depositor",type:"address"},{indexed:!0,internalType:"address",name:"receiver",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"ChildChainERC20Withdraw",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"depositor",type:"address"},{indexed:!0,internalType:"address",name:"receiver",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"ChildChainEthWithdraw",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"rootToken",type:"address"},{indexed:!0,internalType:"address",name:"depositor",type:"address"},{indexed:!0,internalType:"address",name:"receiver",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"ChildChainNativeIMXWithdraw",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"rootToken",type:"address"},{indexed:!0,internalType:"address",name:"depositor",type:"address"},{indexed:!0,internalType:"address",name:"receiver",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"ChildChainWrappedIMXWithdraw",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"rootToken",type:"address"},{indexed:!0,internalType:"address",name:"depositor",type:"address"},{indexed:!0,internalType:"address",name:"receiver",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"IMXDeposit",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint8",name:"version",type:"uint8"}],name:"Initialized",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"rootToken",type:"address"},{indexed:!1,internalType:"address",name:"childToken",type:"address"}],name:"L2TokenMapped",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"rootToken",type:"address"},{indexed:!0,internalType:"address",name:"childToken",type:"address"},{indexed:!1,internalType:"address",name:"depositor",type:"address"},{indexed:!0,internalType:"address",name:"receiver",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"NativeEthDeposit",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"depositor",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"PrivilegedDeposit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Unpaused",type:"event"},{inputs:[],name:"ADAPTOR_MANAGER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"DEPOSIT_SIG",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"MAP_TOKEN_SIG",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"NATIVE_ETH",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"NATIVE_IMX",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"PAUSER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"PRIVILEGED_DEPOSITOR_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"UNPAUSER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"WITHDRAW_SIG",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"childBridgeAdaptor",outputs:[{internalType:"contract IChildBridgeAdaptor",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"childETHToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"childTokenTemplate",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"grantAdaptorManagerRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"grantPauserRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"grantUnpauserRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"address",name:"defaultAdmin",type:"address"},{internalType:"address",name:"pauser",type:"address"},{internalType:"address",name:"unpauser",type:"address"},{internalType:"address",name:"adaptorManager",type:"address"},{internalType:"address",name:"initialDepositor",type:"address"},{internalType:"address",name:"treasuryManager",type:"address"}],internalType:"struct IChildERC20Bridge.InitializationRoles",name:"newRoles",type:"tuple"},{internalType:"address",name:"newBridgeAdaptor",type:"address"},{internalType:"address",name:"newChildTokenTemplate",type:"address"},{internalType:"address",name:"newRootIMXToken",type:"address"},{internalType:"address",name:"newWIMXToken",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"initializerAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"data",type:"bytes"}],name:"onMessageReceive",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"privilegedDeposit",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"revokeAdaptorManagerRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"revokePauserRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"revokeUnpauserRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"rootIMXToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"rootTokenToChildToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newBridgeAdaptor",type:"address"}],name:"updateChildBridgeAdaptor",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"wIMXToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IChildERC20",name:"childToken",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"withdraw",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"withdrawETH",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"receiver",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"withdrawETHTo",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"withdrawIMX",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"receiver",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"withdrawIMXTo",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"contract IChildERC20",name:"childToken",type:"address"},{internalType:"address",name:"receiver",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"withdrawTo",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"withdrawWIMX",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"receiver",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"withdrawWIMXTo",outputs:[],stateMutability:"payable",type:"function"},{stateMutability:"payable",type:"receive"}];var D0,L0,F0,U0,j0,q0;!function(e){e.SUCCESS="SUCCESS",e.PENDING="PENDING",e.FAILED="FAILED"}(D0||(D0={})),function(e){e.DEPOSIT="DEPOSIT",e.WITHDRAW="WITHDRAW",e.FINALISE_WITHDRAWAL="FINALISE_WITHDRAWAL"}(L0||(L0={})),function(e){e[e.DEPOSIT_SOURCE=2e5]="DEPOSIT_SOURCE",e[e.DEPOSIT_DESTINATION=2e5]="DEPOSIT_DESTINATION",e[e.WITHDRAW_SOURCE=2e5]="WITHDRAW_SOURCE",e[e.WITHDRAW_DESTINATION=25e4]="WITHDRAW_DESTINATION",e[e.MAP_TOKEN_SOURCE=2e5]="MAP_TOKEN_SOURCE",e[e.MAP_TOKEN_DESTINATION=2e5]="MAP_TOKEN_DESTINATION",e[e.FINALISE_WITHDRAWAL=2e5]="FINALISE_WITHDRAWAL"}(F0||(F0={})),function(e){e.PENDING="PENDING",e.PROCESSING="PROCESSING",e.COMPLETE="COMPLETE",e.RETRY="RETRY",e.ERROR="ERROR",e.NOT_ENOUGH_GAS="NOT_ENOUGH_GAS",e.FLOW_RATE_CONTROLLED="FLOW_RATE_CONTROLLED"}(U0||(U0={})),function(e){e.SRC_GATEWAY_CALLED="source_gateway_called",e.DEST_GATEWAY_APPROVED="destination_gateway_approved",e.DEST_EXECUTED="destination_executed",e.EXPRESS_EXECUTED="express_executed",e.DEST_EXECUTE_ERROR="error",e.DEST_EXECUTING="executing",e.APPROVING="approving",e.FORECALLED="forecalled",e.FORECALLED_WITHOUT_GAS_PAID="forecalled_without_gas_paid",e.NOT_EXECUTED="not_executed",e.NOT_EXECUTED_WITHOUT_GAS_PAID="not_executed_without_gas_paid",e.INSUFFICIENT_FEE="insufficient_fee",e.UNKNOWN_ERROR="unknown_error",e.CANNOT_FETCH_STATUS="cannot_fetch_status",e.SRC_GATEWAY_CONFIRMED="confirmed"}(j0||(j0={})),function(e){e.GAS_UNPAID="gas_unpaid",e.GAS_PAID="gas_paid",e.GAS_PAID_NOT_ENOUGH_GAS="gas_paid_not_enough_gas",e.GAS_PAID_ENOUGH_GAS="gas_paid_enough_gas"}(q0||(q0={}));const z0=e=>{const{error:t,status:n}=e;return"error"===n&&t?j0.DEST_EXECUTE_ERROR:"executed"===n?j0.DEST_EXECUTED:"approved"===n?j0.DEST_GATEWAY_APPROVED:"called"===n?j0.SRC_GATEWAY_CALLED:"executing"===n?j0.DEST_EXECUTING:n},H0=async(e,t,n)=>(async(e,t)=>fetch(`${e}?${new URLSearchParams(t).toString()}`,{method:"GET",headers:{"Content-Type":"application/json"},cache:"no-store"}).then((e=>e.json())).then((e=>e.data)))(e,{method:"searchGMP",txHash:t,txLogIndex:n}).then((e=>e.find((e=>e.id.indexOf(t)>-1||e.call.transactionHash.indexOf(t)>-1)))).catch((()=>{})),G0=async(e,t,n)=>{const r=await H0(e,t,n);if(!r)return{status:j0.CANNOT_FETCH_STATUS};const{call:i,gas_status:a,gas_paid:s,executed:o,express_executed:c,approved:u,callback:d}=r,f={status:a,details:s},l=r.time_spent;return l&&(l.total=l.total||Object.values(l).reduce(((e,t)=>e+t),0)),{status:z0(r),error:(h=r,h.error?{message:h.error.error.message,txHash:h.error.error.transactionHash,chain:h.error.chain}:h.is_insufficient_fee?{message:"Insufficient fee",txHash:h.call.transaction.hash,chain:h.call.chain}:void 0),timeSpent:l,gasPaidInfo:f,callTx:i,executed:o,expressExecuted:c,approved:u,callback:d};var h};class W0{config;constructor(e){this.config=e}async getFee(e){if(await this.validateChainConfiguration(),e.action!==L0.FINALISE_WITHDRAWAL&&await this.validateChainIds(e.sourceChainId,e.destinationChainId),e.action===L0.DEPOSIT&&e.sourceChainId!==this.config.bridgeInstance.rootChainID)throw new P0(`Deposit must be from the root chain (${this.config.bridgeInstance.rootChainID}) to the child chain (${this.config.bridgeInstance.childChainID})`,M0.UNSUPPORTED_ERROR);if(e.action===L0.WITHDRAW&&e.sourceChainId!==this.config.bridgeInstance.childChainID)throw new P0(`Withdraw must be from the child chain (${this.config.bridgeInstance.childChainID}) to the root chain (${this.config.bridgeInstance.rootChainID})`,M0.UNSUPPORTED_ERROR);if(e.action===L0.FINALISE_WITHDRAWAL&&e.sourceChainId!==this.config.bridgeInstance.rootChainID)throw new P0(`Finalised withdrawals must be on the root chain (${this.config.bridgeInstance.rootChainID})`,M0.UNSUPPORTED_ERROR);let t=tQ.from(0),n=tQ.from(0);const r=tQ.from(0);if(e.action===L0.FINALISE_WITHDRAWAL)t=await this.getGasEstimates(this.config.rootProvider,F0.FINALISE_WITHDRAWAL);else{const r=e.action===L0.WITHDRAW?this.config.childProvider:this.config.rootProvider;t=await this.getGasEstimates(r,F0[`${e.action}_SOURCE`]);n=(await this.calculateBridgeFee(e.sourceChainId,e.destinationChainId,F0[`${e.action}_DESTINATION`],e.gasMultiplier)).bridgeFee}const i=t.add(n).add(r);return{sourceChainGas:t,bridgeFee:n,imtblFee:r,totalFees:i}}async getGasEstimates(e,t){const n=(e=>(e=>!!e.maxFeePerGas&&!!e.maxPriorityFeePerGas)(e)?tQ.from(e.maxFeePerGas).add(tQ.from(e.maxPriorityFeePerGas)):e.gasPrice?tQ.from(e.gasPrice):null)(await e.getFeeData());return n?n.mul(t):tQ.from(0)}async getUnsignedApproveBridgeTx(e){if(await this.validateChainConfiguration(),await this.validateDepositArgs(e.token,e.senderAddress,e.amount,e.sourceChainId,e.destinationChainId),"NATIVE"===e.token.toUpperCase())return{contractToApprove:null,unsignedTx:null};let t,n;e.sourceChainId===this.config.bridgeInstance.rootChainID?(t=this.config.rootProvider,n=this.config.bridgeContracts.rootERC20BridgeFlowRate):(t=this.config.childProvider,n=this.config.bridgeContracts.childERC20Bridge);const r=await N0((async()=>new b0(e.token,C0,t)),M0.PROVIDER_ERROR),i=await N0((()=>r.allowance(e.senderAddress,n)),M0.PROVIDER_ERROR);if(i.gte(e.amount))return{contractToApprove:null,unsignedTx:null};const a=e.amount.sub(i),s={data:await N0((async()=>r.interface.encodeFunctionData("approve",[n,a])),M0.INTERNAL_ERROR),to:e.token,value:0,from:e.senderAddress,chainId:parseInt(e.sourceChainId,10)};return{contractToApprove:n,unsignedTx:s}}async getUnsignedBridgeTx(e){await this.validateChainConfiguration(),await this.validateDepositArgs(e.token,e.senderAddress,e.amount,e.sourceChainId,e.destinationChainId);const t=tZ(e.recipientAddress),n=tZ(e.senderAddress);if(e.sourceChainId===this.config.bridgeInstance.rootChainID){const r=await N0((async()=>new b0(this.config.bridgeContracts.rootERC20BridgeFlowRate,x0)),M0.INTERNAL_ERROR);return this.getBridgeTx(n,t,e.amount,e.token,r,O0,this.config.bridgeContracts.rootERC20BridgeFlowRate,e.sourceChainId,e.destinationChainId,L0.DEPOSIT,this.config.rootProvider,e.gasMultiplier)}const r=await N0((async()=>new b0(this.config.bridgeContracts.childERC20Bridge,B0)),M0.INTERNAL_ERROR);return this.getBridgeTx(n,t,e.amount,e.token,r,I0,this.config.bridgeContracts.childERC20Bridge,e.sourceChainId,e.destinationChainId,L0.WITHDRAW,this.config.childProvider,e.gasMultiplier)}async checkReceiver(e,t){if((await e.getCode(t)).length<=2)return!0;const n=new b0(t,["function receive()"],e);try{return await n.estimateGas.receive(),!0}catch{try{return await e.estimateGas({to:t}),!0}catch{return!1}}}async getBridgeTx(e,t,n,r,i,a,s,o,c,u,d,f=1.1){const l=await this.getFee({action:u,gasMultiplier:f,sourceChainId:o,destinationChainId:c});if(!await this.checkReceiver(d,t))throw new P0(`address ${t} is not a valid receipient`,M0.INVALID_RECIPIENT);if("NATIVE"===r.toUpperCase()){let r;return r=e===t?await N0((async()=>i.interface.encodeFunctionData(a.native,[n])),M0.INTERNAL_ERROR):await N0((async()=>i.interface.encodeFunctionData(a.nativeTo,[t,n])),M0.INTERNAL_ERROR),{feeData:l,unsignedTx:{data:r,to:s,value:n.add(l.bridgeFee).toString(),chainId:parseInt(o,10)}}}const h=tZ(r);let p;return p=e===t?await N0((async()=>i.interface.encodeFunctionData(a.token,[h,n])),M0.INTERNAL_ERROR):await N0((async()=>i.interface.encodeFunctionData(a.tokenTo,[h,t,n])),M0.INTERNAL_ERROR),{feeData:l,unsignedTx:{data:p,to:s,value:l.bridgeFee.toString(),chainId:parseInt(o,10)}}}async validateDepositArgs(e,t,n,r,i){if(!nZ(t))throw new P0(`address ${t} is not a valid address`,M0.INVALID_ADDRESS);if(n.isNegative()||n.isZero())throw new P0(`deposit amount ${n.toString()} is invalid`,M0.INVALID_AMOUNT);if("NATIVE"!==e.toUpperCase()&&!nZ(e))throw new P0(`token address ${e} is not a valid address`,M0.INVALID_ADDRESS);this.validateChainIds(r,i)}async validateChainIds(e,t){if(!(e===this.config.bridgeInstance.rootChainID||e===this.config.bridgeInstance.childChainID))throw new P0(`the sourceChainId ${e} is not a valid`,M0.INVALID_SOURCE_CHAIN_ID);if(!(t===this.config.bridgeInstance.rootChainID||t===this.config.bridgeInstance.childChainID))throw new P0(`the destinationChainId ${t} is not a valid`,M0.INVALID_DESTINATION_CHAIN_ID);if(e===t)throw new P0(`the sourceChainId ${e} cannot be the same as the destinationChainId ${t}`,M0.CHAIN_IDS_MATCH)}async validateChainConfiguration(){const e="Please upgrade to the latest version of the Bridge SDK or provide valid configuration",t=await N0((async()=>this.config.rootProvider.getNetwork()),M0.ROOT_PROVIDER_ERROR);if(t.chainId.toString()!==this.config.bridgeInstance.rootChainID)throw new P0(`Rootchain provider chainID ${t.chainId} does not match expected chainID ${this.config.bridgeInstance.rootChainID}. ${e}`,M0.UNSUPPORTED_ERROR);const n=await N0((async()=>this.config.childProvider.getNetwork()),M0.CHILD_PROVIDER_ERROR);if(n.chainId.toString()!==this.config.bridgeInstance.childChainID)throw new P0(`Childchain provider chainID ${n.chainId} does not match expected chainID ${this.config.bridgeInstance.childChainID}. ${e}`,M0.UNSUPPORTED_ERROR)}getAxelarEndpoint(e){let t;return t=e===T0.rootChainID||e===T0.childChainID?R0:e===E0.rootChainID||e===E0.childChainID?A0:S0,t}async calculateBridgeFee(e,t,n,r=1.1){const i=k0[e],a=k0[t];if(!i)throw new P0(`Source chainID ${e} can not be matched to an Axelar chain.`,M0.AXELAR_CHAIN_NOT_FOUND);if(!a)throw new P0(`Destination chainID ${t} can not be matched to an Axelar chain.`,M0.AXELAR_CHAIN_NOT_FOUND);const s=this.getAxelarEndpoint(e);let o;const c={method:"estimateGasFee",sourceChain:i.id,destinationChain:a.id,symbol:i.symbol,gasLimit:n,gasMultiplier:r};try{o=await _Y.post(s,c)}catch(e){o=e.response}if(o.data.error)throw new P0(`Estimating Axelar Gas failed with the reason: ${o.data.message}`,M0.AXELAR_GAS_ESTIMATE_FAILED);try{return{bridgeFee:tQ.from(`${o.data}`)}}catch(e){throw new P0(`Estimating Axelar Gas failed with the reason: ${e}`,M0.AXELAR_GAS_ESTIMATE_FAILED)}}async getTransactionStatus(e){const t=this.getAxelarEndpoint(e.sourceChainId),n={transactions:[]},r=new PZ,i=[];for(const n of e.transactions)i.push(G0(t,n.txHash));let a;try{a=await Promise.all(i)}catch(e){throw new P0(`Failed to fetch the Axelar Status with the reason: ${e}`,M0.AXELAR_GAS_ESTIMATE_FAILED)}const s=[q0.GAS_UNPAID,q0.GAS_PAID_NOT_ENOUGH_GAS],o=[g0,v0,w0].includes(e.sourceChainId);let c;o&&(c=await N0((async()=>new b0(this.config.bridgeContracts.rootERC20BridgeFlowRate,x0,this.config.rootProvider)),M0.INTERNAL_ERROR));const u=[],d=[],f=[];for(let t=0,i=a.length;t<i;t++){let i;switch(a[t].status){case j0.CANNOT_FETCH_STATUS:i=U0.PENDING;break;case j0.SRC_GATEWAY_CALLED:case j0.DEST_GATEWAY_APPROVED:case j0.DEST_EXECUTING:case j0.SRC_GATEWAY_CONFIRMED:case j0.APPROVING:i=U0.PROCESSING;break;case j0.NOT_EXECUTED:i=U0.RETRY;break;case j0.NOT_EXECUTED_WITHOUT_GAS_PAID:case j0.INSUFFICIENT_FEE:i=U0.NOT_ENOUGH_GAS;break;case j0.DEST_EXECUTED:i=U0.COMPLETE;break;default:i=U0.ERROR}a[t].gasPaidInfo&&s.includes(a[t].gasPaidInfo.status)&&(i=U0.NOT_ENOUGH_GAS);let c,u={txHash:e.transactions[t].txHash,status:i,data:{gmpResponse:a[t].status}};a[t]?.callTx?.returnValues?.payload&&(c=r.decode(["bytes32","address","address","address","uint256"],a[t].callTx.returnValues.payload),u={...u,token:c[1],sender:c[2],recipient:c[3],amount:c[4]});let d=f.findIndex((e=>e===u.recipient));i===U0.COMPLETE&&o&&u.recipient&&(-1===d&&(f.push(u.recipient),d=f.length-1),u.data.flowRatePromiseIndex=d),n.transactions.push(u)}for(const e of f)d.push(c.getPendingWithdrawalsLength(e));let l=[];try{l=await Promise.all(d)}catch(e){throw new P0(`Failed to fetch the Flow Rate pending lengths with the reason: ${e}`,M0.FLOW_RATE_ERROR)}for(let e=0,t=f.length;e<t;e++){const t=[],n=l[e].toNumber();for(let e=0;e<n;e++)t.push(e);u.push(c.getPendingWithdrawals(f[e],t))}let h=[];if(u.length>0)try{h=await Promise.all(u)}catch(e){throw new P0(`Failed to fetch the Flow Rate statuses with the reason: ${e}`,M0.FLOW_RATE_ERROR)}for(const e of n.transactions){if(-1!==e.data.flowRatePromiseIndex&&h[e.data.flowRatePromiseIndex]){const t=h[e.data.flowRatePromiseIndex].find((t=>t.amount.toString()===e.amount.toString()&&t.token===e.token&&t.withdrawer===e.sender));t&&(e.status=U0.FLOW_RATE_CONTROLLED,e.data={timestamp:t.timestamp.toString()})}delete e.data.flowRatePromiseIndex}return n}async getFlowRateInfo(e){if(!e.tokens||0===e.tokens.length)throw new P0(`invalid tokens array ${e.tokens}`,M0.INVALID_TOKEN);const t=await N0((async()=>new b0(this.config.bridgeContracts.rootERC20BridgeFlowRate,x0,this.config.rootProvider)),M0.INTERNAL_ERROR),n=[];n.push(t.withdrawalQueueActivated()),n.push(t.withdrawalDelay());for(let r of e.tokens)"NATIVE"===r.toUpperCase()&&(r="0x0000000000000000000000000000000000000eee"),n.push(t.flowRateBuckets(r));let r;try{r=await Promise.all(n)}catch(e){throw new P0("unable to query contract for flowrate info",M0.INTERNAL_ERROR)}const i={};for(let t=0,n=e.tokens.length;t<n;t++)i[e.tokens[t]]={capacity:r[t+2].capacity,depth:r[t+2].depth,refillTime:r[t+2].refillTime.toNumber(),refillRate:r[t+2].refillRate};return{withdrawalQueueActivated:r[0],withdrawalDelay:r[1].toNumber(),tokens:i}}async getPendingWithdrawals(e){if(!e.recipient)throw new P0(`invalid recipient ${e.recipient}`,M0.INVALID_RECIPIENT);const t=await N0((async()=>new b0(this.config.bridgeContracts.rootERC20BridgeFlowRate,x0,this.config.rootProvider)),M0.INTERNAL_ERROR),n=await t.getPendingWithdrawalsLength(e.recipient),r={pending:[]};if(0===n.toNumber())return r;const i=[];for(let e=0;e<n.toNumber();e++)i.push(e);const a=await t.getPendingWithdrawals(e.recipient,i),s=Math.floor(Date.now()/1e3),o=await t.withdrawalDelay();for(let e=0,t=a.length;e<t;e++){const t=a[e].timestamp.add(o).toNumber();r.pending[e]=t>s?{canWithdraw:!1}:{canWithdraw:!0},r.pending[e].withdrawer=a[e].withdrawer,r.pending[e].token=a[e].token,r.pending[e].amount=a[e].amount,r.pending[e].timeoutStart=a[e].timestamp.toNumber(),r.pending[e].timeoutEnd=t}return r}async getFlowRateWithdrawTx(e){if(!e.recipient)throw new P0(`invalid recipient ${e.recipient}`,M0.INVALID_RECIPIENT);if(e.index<0)throw new P0(`invalid index ${e.index}`,M0.INVALID_FLOWRATE_INDEX);const t=await N0((async()=>new b0(this.config.bridgeContracts.rootERC20BridgeFlowRate,x0,this.config.rootProvider)),M0.INTERNAL_ERROR),n=await t.getPendingWithdrawals(e.recipient,[e.index]);if(n[0].withdrawer===mZ||n[0].token===mZ||n[0].amount===tQ.from(0)||n[0].timestamp===tQ.from(0))throw new P0(`pending withdrawal not found for ${e.recipient} at index ${e.index}`,M0.FLOW_RATE_ERROR);const r=await t.withdrawalDelay(),i=n[0].timestamp.add(r).toNumber();if(i>Math.floor(Date.now()/1e3))return{pendingWithdrawal:{canWithdraw:!1,withdrawer:n[0].withdrawer,token:n[0].token,amount:n[0].amount,timeoutStart:n[0].timestamp.toNumber(),timeoutEnd:i},unsignedTx:null};const a=await N0((async()=>t.interface.encodeFunctionData("finaliseQueuedWithdrawal",[e.recipient,e.index])),M0.INTERNAL_ERROR);return{pendingWithdrawal:{canWithdraw:!0,withdrawer:n[0].withdrawer,token:n[0].token,amount:n[0].amount,timeoutStart:n[0].timestamp.toNumber(),timeoutEnd:i},unsignedTx:{data:a,to:this.config.bridgeContracts.rootERC20BridgeFlowRate,value:0,chainId:parseInt(this.config.bridgeInstance.rootChainID,10)}}}async getTokenMapping(e){return console.log("stubbed response with req",e),{rootToken:"0xF57e7e7C23978C3cAEC3C3548E3D615c346e79fF",childToken:"NATIVE"}}}var V0;!function(e){e.PRODUCTION="production",e.SANDBOX="sandbox"}(V0||(V0={}));const K0=[_0,E0],X0=[T0],$0={[V0.SANDBOX]:K0,[V0.PRODUCTION]:X0},J0=(new Map).set(_0,{rootERC20BridgeFlowRate:"0x0",childERC20Bridge:"0x0",rootChainIMX:"0x0",rootChainWrappedETH:"0x0",childChainWrappedETH:"0x0",childChainWrappedIMX:"0x0"}).set(E0,{rootERC20BridgeFlowRate:"0x0D3C59c779Fd552C27b23F723E80246c840100F5",childERC20Bridge:"0x0D3C59c779Fd552C27b23F723E80246c840100F5",rootChainIMX:"0xe2629e08f4125d14e446660028bD98ee60EE69F2",rootChainWrappedETH:"0x7b79995e5f793A07Bc00c21412e50Ecae098E7f9",childChainWrappedETH:"0xe9E96d1aad82562b7588F03f49aD34186f996478",childChainWrappedIMX:"0x1CcCa691501174B4A623CeDA58cC8f1a76dc3439"}).set(T0,{rootERC20BridgeFlowRate:"0xBa5E35E26Ae59c7aea6F029B68c6460De2d13eB6",childERC20Bridge:"0xBa5E35E26Ae59c7aea6F029B68c6460De2d13eB6",rootChainIMX:"0xF57e7e7C23978C3cAEC3C3548E3D615c346e79fF",rootChainWrappedETH:"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2",childChainWrappedETH:"0x52a6c53869ce09a731cd772f245b97a4401d3348",childChainWrappedIMX:"0x3a0c2ba54d6cbd3121f01b96dfd20e99d1696c9d"});class Y0{baseConfig;bridgeInstance;bridgeContracts;rootProvider;childProvider;constructor({bridgeInstance:e,rootProvider:t,childProvider:n,baseConfig:r,overrides:i}){if(this.baseConfig=r,this.bridgeInstance=e,this.rootProvider=t,this.childProvider=n,i)return void(this.bridgeContracts=i.bridgeContracts);if(!$0[r.environment].includes(e))throw new Error(`Bridge instance with rootchain ${e.rootChainID} and childchain ${e.childChainID} is not supported in environment ${r.environment}`);if(!J0.has(e))throw new Error(`Bridge instance with rootchain ${e.rootChainID} and childchain ${e.childChainID} is not supported in environment ${r.environment}`);const a=J0.get(e);if(!a)throw new Error(`Bridge instance with rootchain ${e.rootChainID} and childchain ${e.childChainID} is not supported in environment ${r.environment}`);this.bridgeContracts=a}}var Q0={exports:{}};!function(e,t){e.exports=function(){var e=Math.imul,t=Math.clz32,n=Math.abs,r=Math.max,i=Math.floor;class a extends Array{constructor(e,t){if(super(e),this.sign=t,e>a.__kMaxLength)throw new RangeError("Maximum BigInt size exceeded")}static BigInt(e){var t=Number.isFinite;if("number"==typeof e){if(0===e)return a.__zero();if(a.__isOneDigitInt(e))return 0>e?a.__oneDigit(-e,!0):a.__oneDigit(e,!1);if(!t(e)||i(e)!==e)throw new RangeError("The number "+e+" cannot be converted to BigInt because it is not an integer");return a.__fromDouble(e)}if("string"==typeof e){const t=a.__fromString(e);if(null===t)throw new SyntaxError("Cannot convert "+e+" to a BigInt");return t}if("boolean"==typeof e)return!0===e?a.__oneDigit(1,!1):a.__zero();if("object"==typeof e){if(e.constructor===a)return e;const t=a.__toPrimitive(e);return a.BigInt(t)}throw new TypeError("Cannot convert "+e+" to a BigInt")}toDebugString(){const e=["BigInt["];for(const t of this)e.push((t?(t>>>0).toString(16):t)+", ");return e.push("]"),e.join("")}toString(e=10){if(2>e||36<e)throw new RangeError("toString() radix argument must be between 2 and 36");return 0===this.length?"0":0==(e&e-1)?a.__toStringBasePowerOfTwo(this,e):a.__toStringGeneric(this,e,!1)}static toNumber(e){const t=e.length;if(0===t)return 0;if(1===t){const t=e.__unsignedDigit(0);return e.sign?-t:t}const n=e.__digit(t-1),r=a.__clz30(n),i=30*t-r;if(1024<i)return e.sign?-1/0:1/0;let s=i-1,o=n,c=t-1;const u=r+3;let d=32===u?0:o<<u;d>>>=12;const f=u-12;let l=12<=u?0:o<<20+u,h=20+u;for(0<f&&0<c&&(c--,o=e.__digit(c),d|=o>>>30-f,l=o<<f+2,h=f+2);0<h&&0<c;)c--,o=e.__digit(c),l|=30<=h?o<<h-30:o>>>30-h,h-=30;const p=a.__decideRounding(e,h,c,o);if((1===p||0===p&&1==(1&l))&&(l=l+1>>>0,0===l&&(d++,0!=d>>>20&&(d=0,s++,1023<s))))return e.sign?-1/0:1/0;const m=e.sign?-2147483648:0;return s=s+1023<<20,a.__kBitConversionInts[1]=m|s|d,a.__kBitConversionInts[0]=l,a.__kBitConversionDouble[0]}static unaryMinus(e){if(0===e.length)return e;const t=e.__copy();return t.sign=!e.sign,t}static bitwiseNot(e){return e.sign?a.__absoluteSubOne(e).__trim():a.__absoluteAddOne(e,!0)}static exponentiate(e,t){if(t.sign)throw new RangeError("Exponent must be positive");if(0===t.length)return a.__oneDigit(1,!1);if(0===e.length)return e;if(1===e.length&&1===e.__digit(0))return e.sign&&0==(1&t.__digit(0))?a.unaryMinus(e):e;if(1<t.length)throw new RangeError("BigInt too big");let n=t.__unsignedDigit(0);if(1===n)return e;if(n>=a.__kMaxLengthBits)throw new RangeError("BigInt too big");if(1===e.length&&2===e.__digit(0)){const t=1+(0|n/30),r=e.sign&&0!=(1&n),i=new a(t,r);i.__initializeDigits();const s=1<<n%30;return i.__setDigit(t-1,s),i}let r=null,i=e;for(0!=(1&n)&&(r=e),n>>=1;0!==n;n>>=1)i=a.multiply(i,i),0!=(1&n)&&(r=null===r?i:a.multiply(r,i));return r}static multiply(e,t){if(0===e.length)return e;if(0===t.length)return t;let n=e.length+t.length;30<=e.__clzmsd()+t.__clzmsd()&&n--;const r=new a(n,e.sign!==t.sign);r.__initializeDigits();for(let n=0;n<e.length;n++)a.__multiplyAccumulate(t,e.__digit(n),r,n);return r.__trim()}static divide(e,t){if(0===t.length)throw new RangeError("Division by zero");if(0>a.__absoluteCompare(e,t))return a.__zero();const n=e.sign!==t.sign,r=t.__unsignedDigit(0);let i;if(1===t.length&&32767>=r){if(1===r)return n===e.sign?e:a.unaryMinus(e);i=a.__absoluteDivSmall(e,r,null)}else i=a.__absoluteDivLarge(e,t,!0,!1);return i.sign=n,i.__trim()}static remainder(e,t){if(0===t.length)throw new RangeError("Division by zero");if(0>a.__absoluteCompare(e,t))return e;const n=t.__unsignedDigit(0);if(1===t.length&&32767>=n){if(1===n)return a.__zero();const t=a.__absoluteModSmall(e,n);return 0===t?a.__zero():a.__oneDigit(t,e.sign)}const r=a.__absoluteDivLarge(e,t,!1,!0);return r.sign=e.sign,r.__trim()}static add(e,t){const n=e.sign;return n===t.sign?a.__absoluteAdd(e,t,n):0<=a.__absoluteCompare(e,t)?a.__absoluteSub(e,t,n):a.__absoluteSub(t,e,!n)}static subtract(e,t){const n=e.sign;return n===t.sign?0<=a.__absoluteCompare(e,t)?a.__absoluteSub(e,t,n):a.__absoluteSub(t,e,!n):a.__absoluteAdd(e,t,n)}static leftShift(e,t){return 0===t.length||0===e.length?e:t.sign?a.__rightShiftByAbsolute(e,t):a.__leftShiftByAbsolute(e,t)}static signedRightShift(e,t){return 0===t.length||0===e.length?e:t.sign?a.__leftShiftByAbsolute(e,t):a.__rightShiftByAbsolute(e,t)}static unsignedRightShift(){throw new TypeError("BigInts have no unsigned right shift; use >> instead")}static lessThan(e,t){return 0>a.__compareToBigInt(e,t)}static lessThanOrEqual(e,t){return 0>=a.__compareToBigInt(e,t)}static greaterThan(e,t){return 0<a.__compareToBigInt(e,t)}static greaterThanOrEqual(e,t){return 0<=a.__compareToBigInt(e,t)}static equal(e,t){if(e.sign!==t.sign)return!1;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e.__digit(n)!==t.__digit(n))return!1;return!0}static notEqual(e,t){return!a.equal(e,t)}static bitwiseAnd(e,t){if(!e.sign&&!t.sign)return a.__absoluteAnd(e,t).__trim();if(e.sign&&t.sign){const n=r(e.length,t.length)+1;let i=a.__absoluteSubOne(e,n);const s=a.__absoluteSubOne(t);return i=a.__absoluteOr(i,s,i),a.__absoluteAddOne(i,!0,i).__trim()}return e.sign&&([e,t]=[t,e]),a.__absoluteAndNot(e,a.__absoluteSubOne(t)).__trim()}static bitwiseXor(e,t){if(!e.sign&&!t.sign)return a.__absoluteXor(e,t).__trim();if(e.sign&&t.sign){const n=r(e.length,t.length),i=a.__absoluteSubOne(e,n),s=a.__absoluteSubOne(t);return a.__absoluteXor(i,s,i).__trim()}const n=r(e.length,t.length)+1;e.sign&&([e,t]=[t,e]);let i=a.__absoluteSubOne(t,n);return i=a.__absoluteXor(i,e,i),a.__absoluteAddOne(i,!0,i).__trim()}static bitwiseOr(e,t){const n=r(e.length,t.length);if(!e.sign&&!t.sign)return a.__absoluteOr(e,t).__trim();if(e.sign&&t.sign){let r=a.__absoluteSubOne(e,n);const i=a.__absoluteSubOne(t);return r=a.__absoluteAnd(r,i,r),a.__absoluteAddOne(r,!0,r).__trim()}e.sign&&([e,t]=[t,e]);let i=a.__absoluteSubOne(t,n);return i=a.__absoluteAndNot(i,e,i),a.__absoluteAddOne(i,!0,i).__trim()}static asIntN(e,t){if(0===t.length)return t;if(0>(e=i(e)))throw new RangeError("Invalid value: not (convertible to) a safe integer");if(0===e)return a.__zero();if(e>=a.__kMaxLengthBits)return t;const n=0|(e+29)/30;if(t.length<n)return t;const r=t.__unsignedDigit(n-1),s=1<<(e-1)%30;if(t.length===n&&r<s)return t;if((r&s)!==s)return a.__truncateToNBits(e,t);if(!t.sign)return a.__truncateAndSubFromPowerOfTwo(e,t,!0);if(0==(r&s-1)){for(let r=n-2;0<=r;r--)if(0!==t.__digit(r))return a.__truncateAndSubFromPowerOfTwo(e,t,!1);return t.length===n&&r===s?t:a.__truncateToNBits(e,t)}return a.__truncateAndSubFromPowerOfTwo(e,t,!1)}static asUintN(e,t){if(0===t.length)return t;if(0>(e=i(e)))throw new RangeError("Invalid value: not (convertible to) a safe integer");if(0===e)return a.__zero();if(t.sign){if(e>a.__kMaxLengthBits)throw new RangeError("BigInt too big");return a.__truncateAndSubFromPowerOfTwo(e,t,!1)}if(e>=a.__kMaxLengthBits)return t;const n=0|(e+29)/30;if(t.length<n)return t;const r=e%30;if(t.length==n){if(0===r)return t;if(0==t.__digit(n-1)>>>r)return t}return a.__truncateToNBits(e,t)}static ADD(e,t){if(e=a.__toPrimitive(e),t=a.__toPrimitive(t),"string"==typeof e)return"string"!=typeof t&&(t=t.toString()),e+t;if("string"==typeof t)return e.toString()+t;if(e=a.__toNumeric(e),t=a.__toNumeric(t),a.__isBigInt(e)&&a.__isBigInt(t))return a.add(e,t);if("number"==typeof e&&"number"==typeof t)return e+t;throw new TypeError("Cannot mix BigInt and other types, use explicit conversions")}static LT(e,t){return a.__compare(e,t,0)}static LE(e,t){return a.__compare(e,t,1)}static GT(e,t){return a.__compare(e,t,2)}static GE(e,t){return a.__compare(e,t,3)}static EQ(e,t){for(;;){if(a.__isBigInt(e))return a.__isBigInt(t)?a.equal(e,t):a.EQ(t,e);if("number"==typeof e){if(a.__isBigInt(t))return a.__equalToNumber(t,e);if("object"!=typeof t)return e==t;t=a.__toPrimitive(t)}else if("string"==typeof e){if(a.__isBigInt(t))return null!==(e=a.__fromString(e))&&a.equal(e,t);if("object"!=typeof t)return e==t;t=a.__toPrimitive(t)}else if("boolean"==typeof e){if(a.__isBigInt(t))return a.__equalToNumber(t,+e);if("object"!=typeof t)return e==t;t=a.__toPrimitive(t)}else if("symbol"==typeof e){if(a.__isBigInt(t))return!1;if("object"!=typeof t)return e==t;t=a.__toPrimitive(t)}else{if("object"!=typeof e)return e==t;if("object"==typeof t&&t.constructor!==a)return e==t;e=a.__toPrimitive(e)}}}static NE(e,t){return!a.EQ(e,t)}static __zero(){return new a(0,!1)}static __oneDigit(e,t){const n=new a(1,t);return n.__setDigit(0,e),n}__copy(){const e=new a(this.length,this.sign);for(let t=0;t<this.length;t++)e[t]=this[t];return e}__trim(){let e=this.length,t=this[e-1];for(;0===t;)e--,t=this[e-1],this.pop();return 0===e&&(this.sign=!1),this}__initializeDigits(){for(let e=0;e<this.length;e++)this[e]=0}static __decideRounding(e,t,n,r){if(0<t)return-1;let i;if(0>t)i=-t-1;else{if(0===n)return-1;n--,r=e.__digit(n),i=29}let a=1<<i;if(0==(r&a))return-1;if(a-=1,0!=(r&a))return 1;for(;0<n;)if(n--,0!==e.__digit(n))return 1;return 0}static __fromDouble(e){a.__kBitConversionDouble[0]=e;const t=(2047&a.__kBitConversionInts[1]>>>20)-1023,n=1+(0|t/30),r=new a(n,0>e);let i=1048575&a.__kBitConversionInts[1]|1048576,s=a.__kBitConversionInts[0];const o=20,c=t%30;let u,d=0;if(20>c){const e=o-c;d=e+32,u=i>>>e,i=i<<32-e|s>>>e,s<<=32-e}else if(20===c)d=32,u=i,i=s,s=0;else{const e=c-o;d=32-e,u=i<<e|s>>>32-e,i=s<<e,s=0}r.__setDigit(n-1,u);for(let e=n-2;0<=e;e--)0<d?(d-=30,u=i>>>2,i=i<<30|s>>>2,s<<=30):u=0,r.__setDigit(e,u);return r.__trim()}static __isWhitespace(e){return!!(13>=e&&9<=e)||(159>=e?32==e:131071>=e?160==e||5760==e:196607>=e?10>=(e&=131071)||40==e||41==e||47==e||95==e||4096==e:65279==e)}static __fromString(e,t=0){let n=0;const r=e.length;let i=0;if(i===r)return a.__zero();let s=e.charCodeAt(i);for(;a.__isWhitespace(s);){if(++i===r)return a.__zero();s=e.charCodeAt(i)}if(43===s){if(++i===r)return null;s=e.charCodeAt(i),n=1}else if(45===s){if(++i===r)return null;s=e.charCodeAt(i),n=-1}if(0===t){if(t=10,48===s){if(++i===r)return a.__zero();if(s=e.charCodeAt(i),88===s||120===s){if(t=16,++i===r)return null;s=e.charCodeAt(i)}else if(79===s||111===s){if(t=8,++i===r)return null;s=e.charCodeAt(i)}else if(66===s||98===s){if(t=2,++i===r)return null;s=e.charCodeAt(i)}}}else if(16===t&&48===s){if(++i===r)return a.__zero();if(s=e.charCodeAt(i),88===s||120===s){if(++i===r)return null;s=e.charCodeAt(i)}}if(0!=n&&10!==t)return null;for(;48===s;){if(++i===r)return a.__zero();s=e.charCodeAt(i)}const o=r-i;let c=a.__kMaxBitsPerChar[t],u=a.__kBitsPerCharTableMultiplier-1;if(o>1073741824/c)return null;const d=c*o+u>>>a.__kBitsPerCharTableShift,f=new a(0|(d+29)/30,!1),l=10>t?t:10,h=10<t?t-10:0;if(0==(t&t-1)){c>>=a.__kBitsPerCharTableShift;const t=[],n=[];let o=!1;do{let a=0,u=0;for(;;){let t;if(s-48>>>0<l)t=s-48;else{if(!((32|s)-97>>>0<h)){o=!0;break}t=(32|s)-87}if(u+=c,a=a<<c|t,++i===r){o=!0;break}if(s=e.charCodeAt(i),30<u+c)break}t.push(a),n.push(u)}while(!o);a.__fillFromParts(f,t,n)}else{f.__initializeDigits();let n=!1,o=0;do{let d=0,p=1;for(;;){let a;if(s-48>>>0<l)a=s-48;else{if(!((32|s)-97>>>0<h)){n=!0;break}a=(32|s)-87}const c=p*t;if(1073741823<c)break;if(p=c,d=d*t+a,o++,++i===r){n=!0;break}s=e.charCodeAt(i)}u=30*a.__kBitsPerCharTableMultiplier-1;const m=0|(c*o+u>>>a.__kBitsPerCharTableShift)/30;f.__inplaceMultiplyAdd(p,d,m)}while(!n)}if(i!==r){if(!a.__isWhitespace(s))return null;for(i++;i<r;i++)if(s=e.charCodeAt(i),!a.__isWhitespace(s))return null}return f.sign=-1==n,f.__trim()}static __fillFromParts(e,t,n){let r=0,i=0,a=0;for(let s=t.length-1;0<=s;s--){const o=t[s],c=n[s];i|=o<<a,a+=c,30===a?(e.__setDigit(r++,i),a=0,i=0):30<a&&(e.__setDigit(r++,1073741823&i),a-=30,i=o>>>c-a)}if(0!==i){if(r>=e.length)throw new Error("implementation bug");e.__setDigit(r++,i)}for(;r<e.length;r++)e.__setDigit(r,0)}static __toStringBasePowerOfTwo(e,t){const n=e.length;let r=t-1;r=(85&r>>>1)+(85&r),r=(51&r>>>2)+(51&r),r=(15&r>>>4)+(15&r);const i=r,s=t-1,o=e.__digit(n-1);let c=0|(30*n-a.__clz30(o)+i-1)/i;if(e.sign&&c++,268435456<c)throw new Error("string too long");const u=Array(c);let d=c-1,f=0,l=0;for(let t=0;t<n-1;t++){const n=e.__digit(t),r=(f|n<<l)&s;u[d--]=a.__kConversionChars[r];const o=i-l;for(f=n>>>o,l=30-o;l>=i;)u[d--]=a.__kConversionChars[f&s],f>>>=i,l-=i}const h=(f|o<<l)&s;for(u[d--]=a.__kConversionChars[h],f=o>>>i-l;0!==f;)u[d--]=a.__kConversionChars[f&s],f>>>=i;if(e.sign&&(u[d--]="-"),-1!=d)throw new Error("implementation bug");return u.join("")}static __toStringGeneric(e,t,n){const r=e.length;if(0===r)return"";if(1===r){let r=e.__unsignedDigit(0).toString(t);return!1===n&&e.sign&&(r="-"+r),r}const i=30*r-a.__clz30(e.__digit(r-1)),s=a.__kMaxBitsPerChar[t]-1;let o=i*a.__kBitsPerCharTableMultiplier;o+=s-1,o=0|o/s;const c=o+1>>1,u=a.exponentiate(a.__oneDigit(t,!1),a.__oneDigit(c,!1));let d,f;const l=u.__unsignedDigit(0);if(1===u.length&&32767>=l){d=new a(e.length,!1),d.__initializeDigits();let n=0;for(let t=2*e.length-1;0<=t;t--){const r=n<<15|e.__halfDigit(t);d.__setHalfDigit(t,0|r/l),n=0|r%l}f=n.toString(t)}else{const n=a.__absoluteDivLarge(e,u,!0,!0);d=n.quotient;const r=n.remainder.__trim();f=a.__toStringGeneric(r,t,!0)}d.__trim();let h=a.__toStringGeneric(d,t,!0);for(;f.length<c;)f="0"+f;return!1===n&&e.sign&&(h="-"+h),h+f}static __unequalSign(e){return e?-1:1}static __absoluteGreater(e){return e?-1:1}static __absoluteLess(e){return e?1:-1}static __compareToBigInt(e,t){const n=e.sign;if(n!==t.sign)return a.__unequalSign(n);const r=a.__absoluteCompare(e,t);return 0<r?a.__absoluteGreater(n):0>r?a.__absoluteLess(n):0}static __compareToNumber(e,t){if(a.__isOneDigitInt(t)){const r=e.sign,i=0>t;if(r!==i)return a.__unequalSign(r);if(0===e.length){if(i)throw new Error("implementation bug");return 0===t?0:-1}if(1<e.length)return a.__absoluteGreater(r);const s=n(t),o=e.__unsignedDigit(0);return o>s?a.__absoluteGreater(r):o<s?a.__absoluteLess(r):0}return a.__compareToDouble(e,t)}static __compareToDouble(e,t){if(t!=t)return t;if(t===1/0)return-1;if(t===-1/0)return 1;const n=e.sign;if(n!==0>t)return a.__unequalSign(n);if(0===t)throw new Error("implementation bug: should be handled elsewhere");if(0===e.length)return-1;a.__kBitConversionDouble[0]=t;const r=2047&a.__kBitConversionInts[1]>>>20;if(2047==r)throw new Error("implementation bug: handled elsewhere");const i=r-1023;if(0>i)return a.__absoluteGreater(n);const s=e.length;let o=e.__digit(s-1);const c=a.__clz30(o),u=30*s-c,d=i+1;if(u<d)return a.__absoluteLess(n);if(u>d)return a.__absoluteGreater(n);let f=1048576|1048575&a.__kBitConversionInts[1],l=a.__kBitConversionInts[0];const h=20,p=29-c;if(p!==(0|(u-1)%30))throw new Error("implementation bug");let m,b=0;if(20>p){const e=h-p;b=e+32,m=f>>>e,f=f<<32-e|l>>>e,l<<=32-e}else if(20===p)b=32,m=f,f=l,l=0;else{const e=p-h;b=32-e,m=f<<e|l>>>32-e,f=l<<e,l=0}if(o>>>=0,m>>>=0,o>m)return a.__absoluteGreater(n);if(o<m)return a.__absoluteLess(n);for(let t=s-2;0<=t;t--){0<b?(b-=30,m=f>>>2,f=f<<30|l>>>2,l<<=30):m=0;const r=e.__unsignedDigit(t);if(r>m)return a.__absoluteGreater(n);if(r<m)return a.__absoluteLess(n)}if(0!==f||0!==l){if(0===b)throw new Error("implementation bug");return a.__absoluteLess(n)}return 0}static __equalToNumber(e,t){return a.__isOneDigitInt(t)?0===t?0===e.length:1===e.length&&e.sign===0>t&&e.__unsignedDigit(0)===n(t):0===a.__compareToDouble(e,t)}static __comparisonResultToBool(e,t){return 0===t?0>e:1===t?0>=e:2===t?0<e:3===t?0<=e:void 0}static __compare(e,t,n){if(e=a.__toPrimitive(e),t=a.__toPrimitive(t),"string"==typeof e&&"string"==typeof t)switch(n){case 0:return e<t;case 1:return e<=t;case 2:return e>t;case 3:return e>=t}if(a.__isBigInt(e)&&"string"==typeof t)return null!==(t=a.__fromString(t))&&a.__comparisonResultToBool(a.__compareToBigInt(e,t),n);if("string"==typeof e&&a.__isBigInt(t))return null!==(e=a.__fromString(e))&&a.__comparisonResultToBool(a.__compareToBigInt(e,t),n);if(e=a.__toNumeric(e),t=a.__toNumeric(t),a.__isBigInt(e)){if(a.__isBigInt(t))return a.__comparisonResultToBool(a.__compareToBigInt(e,t),n);if("number"!=typeof t)throw new Error("implementation bug");return a.__comparisonResultToBool(a.__compareToNumber(e,t),n)}if("number"!=typeof e)throw new Error("implementation bug");if(a.__isBigInt(t))return a.__comparisonResultToBool(a.__compareToNumber(t,e),2^n);if("number"!=typeof t)throw new Error("implementation bug");return 0===n?e<t:1===n?e<=t:2===n?e>t:3===n?e>=t:void 0}__clzmsd(){return a.__clz30(this.__digit(this.length-1))}static __absoluteAdd(e,t,n){if(e.length<t.length)return a.__absoluteAdd(t,e,n);if(0===e.length)return e;if(0===t.length)return e.sign===n?e:a.unaryMinus(e);let r=e.length;(0===e.__clzmsd()||t.length===e.length&&0===t.__clzmsd())&&r++;const i=new a(r,n);let s=0,o=0;for(;o<t.length;o++){const n=e.__digit(o)+t.__digit(o)+s;s=n>>>30,i.__setDigit(o,1073741823&n)}for(;o<e.length;o++){const t=e.__digit(o)+s;s=t>>>30,i.__setDigit(o,1073741823&t)}return o<i.length&&i.__setDigit(o,s),i.__trim()}static __absoluteSub(e,t,n){if(0===e.length)return e;if(0===t.length)return e.sign===n?e:a.unaryMinus(e);const r=new a(e.length,n);let i=0,s=0;for(;s<t.length;s++){const n=e.__digit(s)-t.__digit(s)-i;i=1&n>>>30,r.__setDigit(s,1073741823&n)}for(;s<e.length;s++){const t=e.__digit(s)-i;i=1&t>>>30,r.__setDigit(s,1073741823&t)}return r.__trim()}static __absoluteAddOne(e,t,n=null){const r=e.length;null===n?n=new a(r,t):n.sign=t;let i=1;for(let t=0;t<r;t++){const r=e.__digit(t)+i;i=r>>>30,n.__setDigit(t,1073741823&r)}return 0!=i&&n.__setDigitGrow(r,1),n}static __absoluteSubOne(e,t){const n=e.length,r=new a(t=t||n,!1);let i=1;for(let t=0;t<n;t++){const n=e.__digit(t)-i;i=1&n>>>30,r.__setDigit(t,1073741823&n)}if(0!=i)throw new Error("implementation bug");for(let e=n;e<t;e++)r.__setDigit(e,0);return r}static __absoluteAnd(e,t,n=null){let r=e.length,i=t.length,s=i;if(r<i){s=r;const n=e,a=r;e=t,r=i,t=n,i=a}let o=s;null===n?n=new a(o,!1):o=n.length;let c=0;for(;c<s;c++)n.__setDigit(c,e.__digit(c)&t.__digit(c));for(;c<o;c++)n.__setDigit(c,0);return n}static __absoluteAndNot(e,t,n=null){const r=e.length,i=t.length;let s=i;r<i&&(s=r);let o=r;null===n?n=new a(o,!1):o=n.length;let c=0;for(;c<s;c++)n.__setDigit(c,e.__digit(c)&~t.__digit(c));for(;c<r;c++)n.__setDigit(c,e.__digit(c));for(;c<o;c++)n.__setDigit(c,0);return n}static __absoluteOr(e,t,n=null){let r=e.length,i=t.length,s=i;if(r<i){s=r;const n=e,a=r;e=t,r=i,t=n,i=a}let o=r;null===n?n=new a(o,!1):o=n.length;let c=0;for(;c<s;c++)n.__setDigit(c,e.__digit(c)|t.__digit(c));for(;c<r;c++)n.__setDigit(c,e.__digit(c));for(;c<o;c++)n.__setDigit(c,0);return n}static __absoluteXor(e,t,n=null){let r=e.length,i=t.length,s=i;if(r<i){s=r;const n=e,a=r;e=t,r=i,t=n,i=a}let o=r;null===n?n=new a(o,!1):o=n.length;let c=0;for(;c<s;c++)n.__setDigit(c,e.__digit(c)^t.__digit(c));for(;c<r;c++)n.__setDigit(c,e.__digit(c));for(;c<o;c++)n.__setDigit(c,0);return n}static __absoluteCompare(e,t){const n=e.length-t.length;if(0!=n)return n;let r=e.length-1;for(;0<=r&&e.__digit(r)===t.__digit(r);)r--;return 0>r?0:e.__unsignedDigit(r)>t.__unsignedDigit(r)?1:-1}static __multiplyAccumulate(e,t,n,r){if(0===t)return;const i=32767&t,s=t>>>15;let o=0,c=0;for(let t,u=0;u<e.length;u++,r++){t=n.__digit(r);const d=e.__digit(u),f=32767&d,l=d>>>15,h=a.__imul(f,i),p=a.__imul(f,s),m=a.__imul(l,i);t+=c+h+o,o=t>>>30,t&=1073741823,t+=((32767&p)<<15)+((32767&m)<<15),o+=t>>>30,c=a.__imul(l,s)+(p>>>15)+(m>>>15),n.__setDigit(r,1073741823&t)}for(;0!=o||0!==c;r++){let e=n.__digit(r);e+=o+c,c=0,o=e>>>30,n.__setDigit(r,1073741823&e)}}static __internalMultiplyAdd(e,t,n,r,i){let s=n,o=0;for(let n=0;n<r;n++){const r=e.__digit(n),c=a.__imul(32767&r,t),u=a.__imul(r>>>15,t),d=c+((32767&u)<<15)+o+s;s=d>>>30,o=u>>>15,i.__setDigit(n,1073741823&d)}if(i.length>r)for(i.__setDigit(r++,s+o);r<i.length;)i.__setDigit(r++,0);else if(0!==s+o)throw new Error("implementation bug")}__inplaceMultiplyAdd(e,t,n){n>this.length&&(n=this.length);const r=32767&e,i=e>>>15;let s=0,o=t;for(let e=0;e<n;e++){const t=this.__digit(e),n=32767&t,c=t>>>15,u=a.__imul(n,r),d=a.__imul(n,i),f=a.__imul(c,r);let l=o+u+s;s=l>>>30,l&=1073741823,l+=((32767&d)<<15)+((32767&f)<<15),s+=l>>>30,o=a.__imul(c,i)+(d>>>15)+(f>>>15),this.__setDigit(e,1073741823&l)}if(0!=s||0!==o)throw new Error("implementation bug")}static __absoluteDivSmall(e,t,n=null){null===n&&(n=new a(e.length,!1));let r=0;for(let i,a=2*e.length-1;0<=a;a-=2){i=(r<<15|e.__halfDigit(a))>>>0;const s=0|i/t;r=0|i%t,i=(r<<15|e.__halfDigit(a-1))>>>0;const o=0|i/t;r=0|i%t,n.__setDigit(a>>>1,s<<15|o)}return n}static __absoluteModSmall(e,t){let n=0;for(let r=2*e.length-1;0<=r;r--)n=0|((n<<15|e.__halfDigit(r))>>>0)%t;return n}static __absoluteDivLarge(e,t,n,r){const i=t.__halfDigitLength(),s=t.length,o=e.__halfDigitLength()-i;let c=null;n&&(c=new a(o+2>>>1,!1),c.__initializeDigits());const u=new a(i+2>>>1,!1);u.__initializeDigits();const d=a.__clz15(t.__halfDigit(i-1));0<d&&(t=a.__specialLeftShift(t,d,0));const f=a.__specialLeftShift(e,d,1),l=t.__halfDigit(i-1);let h=0;for(let e,r=o;0<=r;r--){e=32767;const o=f.__halfDigit(r+i);if(o!==l){const n=(o<<15|f.__halfDigit(r+i-1))>>>0;e=0|n/l;let s=0|n%l;const c=t.__halfDigit(i-2),u=f.__halfDigit(r+i-2);for(;a.__imul(e,c)>>>0>(s<<16|u)>>>0&&(e--,s+=l,!(32767<s)););}a.__internalMultiplyAdd(t,e,0,s,u);let d=f.__inplaceSub(u,r,i+1);0!==d&&(d=f.__inplaceAdd(t,r,i),f.__setHalfDigit(r+i,32767&f.__halfDigit(r+i)+d),e--),n&&(1&r?h=e<<15:c.__setDigit(r>>>1,h|e))}if(r)return f.__inplaceRightShift(d),n?{quotient:c,remainder:f}:f;if(n)return c;throw new Error("unreachable")}static __clz15(e){return a.__clz30(e)-15}__inplaceAdd(e,t,n){let r=0;for(let i=0;i<n;i++){const n=this.__halfDigit(t+i)+e.__halfDigit(i)+r;r=n>>>15,this.__setHalfDigit(t+i,32767&n)}return r}__inplaceSub(e,t,n){let r=0;if(1&t){t>>=1;let i=this.__digit(t),a=32767&i,s=0;for(;s<n-1>>>1;s++){const n=e.__digit(s),o=(i>>>15)-(32767&n)-r;r=1&o>>>15,this.__setDigit(t+s,(32767&o)<<15|32767&a),i=this.__digit(t+s+1),a=(32767&i)-(n>>>15)-r,r=1&a>>>15}const o=e.__digit(s),c=(i>>>15)-(32767&o)-r;if(r=1&c>>>15,this.__setDigit(t+s,(32767&c)<<15|32767&a),t+s+1>=this.length)throw new RangeError("out of bounds");0==(1&n)&&(i=this.__digit(t+s+1),a=(32767&i)-(o>>>15)-r,r=1&a>>>15,this.__setDigit(t+e.length,1073709056&i|32767&a))}else{t>>=1;let i=0;for(;i<e.length-1;i++){const n=this.__digit(t+i),a=e.__digit(i),s=(32767&n)-(32767&a)-r;r=1&s>>>15;const o=(n>>>15)-(a>>>15)-r;r=1&o>>>15,this.__setDigit(t+i,(32767&o)<<15|32767&s)}const a=this.__digit(t+i),s=e.__digit(i),o=(32767&a)-(32767&s)-r;r=1&o>>>15;let c=0;0==(1&n)&&(c=(a>>>15)-(s>>>15)-r,r=1&c>>>15),this.__setDigit(t+i,(32767&c)<<15|32767&o)}return r}__inplaceRightShift(e){if(0===e)return;let t=this.__digit(0)>>>e;const n=this.length-1;for(let r=0;r<n;r++){const n=this.__digit(r+1);this.__setDigit(r,1073741823&n<<30-e|t),t=n>>>e}this.__setDigit(n,t)}static __specialLeftShift(e,t,n){const r=e.length,i=new a(r+n,!1);if(0===t){for(let t=0;t<r;t++)i.__setDigit(t,e.__digit(t));return 0<n&&i.__setDigit(r,0),i}let s=0;for(let n=0;n<r;n++){const r=e.__digit(n);i.__setDigit(n,1073741823&r<<t|s),s=r>>>30-t}return 0<n&&i.__setDigit(r,s),i}static __leftShiftByAbsolute(e,t){const n=a.__toShiftAmount(t);if(0>n)throw new RangeError("BigInt too big");const r=0|n/30,i=n%30,s=e.length,o=0!==i&&0!=e.__digit(s-1)>>>30-i,c=s+r+(o?1:0),u=new a(c,e.sign);if(0===i){let t=0;for(;t<r;t++)u.__setDigit(t,0);for(;t<c;t++)u.__setDigit(t,e.__digit(t-r))}else{let t=0;for(let e=0;e<r;e++)u.__setDigit(e,0);for(let n=0;n<s;n++){const a=e.__digit(n);u.__setDigit(n+r,1073741823&a<<i|t),t=a>>>30-i}if(o)u.__setDigit(s+r,t);else if(0!==t)throw new Error("implementation bug")}return u.__trim()}static __rightShiftByAbsolute(e,t){const n=e.length,r=e.sign,i=a.__toShiftAmount(t);if(0>i)return a.__rightShiftByMaximum(r);const s=0|i/30,o=i%30;let c=n-s;if(0>=c)return a.__rightShiftByMaximum(r);let u=!1;if(r)if(0!=(e.__digit(s)&(1<<o)-1))u=!0;else for(let t=0;t<s;t++)if(0!==e.__digit(t)){u=!0;break}u&&0===o&&0==~e.__digit(n-1)&&c++;let d=new a(c,r);if(0===o){d.__setDigit(c-1,0);for(let t=s;t<n;t++)d.__setDigit(t-s,e.__digit(t))}else{let t=e.__digit(s)>>>o;const r=n-s-1;for(let n=0;n<r;n++){const r=e.__digit(n+s+1);d.__setDigit(n,1073741823&r<<30-o|t),t=r>>>o}d.__setDigit(r,t)}return u&&(d=a.__absoluteAddOne(d,!0,d)),d.__trim()}static __rightShiftByMaximum(e){return e?a.__oneDigit(1,!0):a.__zero()}static __toShiftAmount(e){if(1<e.length)return-1;const t=e.__unsignedDigit(0);return t>a.__kMaxLengthBits?-1:t}static __toPrimitive(e,t="default"){if("object"!=typeof e)return e;if(e.constructor===a)return e;if("undefined"!=typeof Symbol&&"symbol"==typeof Symbol.toPrimitive){const n=e[Symbol.toPrimitive];if(n){const e=n(t);if("object"!=typeof e)return e;throw new TypeError("Cannot convert object to primitive value")}}const n=e.valueOf;if(n){const t=n.call(e);if("object"!=typeof t)return t}const r=e.toString;if(r){const t=r.call(e);if("object"!=typeof t)return t}throw new TypeError("Cannot convert object to primitive value")}static __toNumeric(e){return a.__isBigInt(e)?e:+e}static __isBigInt(e){return"object"==typeof e&&null!==e&&e.constructor===a}static __truncateToNBits(e,t){const n=0|(e+29)/30,r=new a(n,t.sign),i=n-1;for(let e=0;e<i;e++)r.__setDigit(e,t.__digit(e));let s=t.__digit(i);if(0!=e%30){const t=32-e%30;s=s<<t>>>t}return r.__setDigit(i,s),r.__trim()}static __truncateAndSubFromPowerOfTwo(e,t,n){var r=Math.min;const i=0|(e+29)/30,s=new a(i,n);let o=0;const c=i-1;let u=0;for(const e=r(c,t.length);o<e;o++){const e=0-t.__digit(o)-u;u=1&e>>>30,s.__setDigit(o,1073741823&e)}for(;o<c;o++)s.__setDigit(o,0|1073741823&-u);let d=c<t.length?t.__digit(c):0;const f=e%30;let l;if(0==f)l=0-d-u,l&=1073741823;else{const e=32-f;d=d<<e>>>e;const t=1<<32-e;l=t-d-u,l&=t-1}return s.__setDigit(c,l),s.__trim()}__digit(e){return this[e]}__unsignedDigit(e){return this[e]>>>0}__setDigit(e,t){this[e]=0|t}__setDigitGrow(e,t){this[e]=0|t}__halfDigitLength(){const e=this.length;return 32767>=this.__unsignedDigit(e-1)?2*e-1:2*e}__halfDigit(e){return 32767&this[e>>>1]>>>15*(1&e)}__setHalfDigit(e,t){const n=e>>>1,r=this.__digit(n),i=1&e?32767&r|t<<15:1073709056&r|32767&t;this.__setDigit(n,i)}static __digitPow(e,t){let n=1;for(;0<t;)1&t&&(n*=e),t>>>=1,e*=e;return n}static __isOneDigitInt(e){return(1073741823&e)===e}}return a.__kMaxLength=33554432,a.__kMaxLengthBits=a.__kMaxLength<<5,a.__kMaxBitsPerChar=[0,0,32,51,64,75,83,90,96,102,107,111,115,119,122,126,128,131,134,136,139,141,143,145,147,149,151,153,154,156,158,159,160,162,163,165,166],a.__kBitsPerCharTableShift=5,a.__kBitsPerCharTableMultiplier=1<<a.__kBitsPerCharTableShift,a.__kConversionChars=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],a.__kBitConversionBuffer=new ArrayBuffer(8),a.__kBitConversionDouble=new Float64Array(a.__kBitConversionBuffer),a.__kBitConversionInts=new Int32Array(a.__kBitConversionBuffer),a.__clz30=t?function(e){return t(e)-2}:function(e){var t=Math.LN2,n=Math.log;return 0===e?30:0|29-(0|n(e>>>0)/t)},a.__imul=e||function(e,t){return 0|e*t},a}()}(Q0);var Z0=Q0.exports,e1=ar(Z0),t1="Invariant failed";function n1(e,t){if(!e)throw new Error(t1)}var r1={exports:{}};
/*! decimal.js-light v2.5.1 https://github.com/MikeMcl/decimal.js-light/LICENCE */!function(e){!function(t){var n,r=1e9,i={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},a=!0,s="[DecimalError] ",o=s+"Invalid argument: ",c=s+"Exponent out of range: ",u=Math.floor,d=Math.pow,f=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,l=1e7,h=7,p=9007199254740991,m=u(p/h),b={};function y(e,t){var n,r,i,s,o,c,u,d,f=e.constructor,p=f.precision;if(!e.s||!t.s)return t.s||(t=new f(e)),a?k(t,p):t;if(u=e.d,d=t.d,o=e.e,i=t.e,u=u.slice(),s=o-i){for(s<0?(r=u,s=-s,c=d.length):(r=d,i=o,c=u.length),s>(c=(o=Math.ceil(p/h))>c?o+1:c+1)&&(s=c,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for((c=u.length)-(s=d.length)<0&&(s=c,r=d,d=u,u=r),n=0;s;)n=(u[--s]=u[s]+d[s]+n)/l|0,u[s]%=l;for(n&&(u.unshift(n),++i),c=u.length;0==u[--c];)u.pop();return t.d=u,t.e=i,a?k(t,p):t}function g(e,t,n){if(e!==~~e||e<t||e>n)throw Error(o+e)}function v(e){var t,n,r,i=e.length-1,a="",s=e[0];if(i>0){for(a+=s,t=1;t<i;t++)r=e[t]+"",(n=h-r.length)&&(a+=A(n)),a+=r;s=e[t],(n=h-(r=s+"").length)&&(a+=A(n))}else if(0===s)return"0";for(;s%10==0;)s/=10;return a+s}b.absoluteValue=b.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},b.comparedTo=b.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(t=0,n=(r=a.d.length)<(i=e.d.length)?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1},b.decimalPlaces=b.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*h;if(t=e.d[t])for(;t%10==0;t/=10)n--;return n<0?0:n},b.dividedBy=b.div=function(e){return w(this,new this.constructor(e))},b.dividedToIntegerBy=b.idiv=function(e){var t=this.constructor;return k(w(this,new t(e),0,1),t.precision)},b.equals=b.eq=function(e){return!this.cmp(e)},b.exponent=function(){return E(this)},b.greaterThan=b.gt=function(e){return this.cmp(e)>0},b.greaterThanOrEqualTo=b.gte=function(e){return this.cmp(e)>=0},b.isInteger=b.isint=function(){return this.e>this.d.length-2},b.isNegative=b.isneg=function(){return this.s<0},b.isPositive=b.ispos=function(){return this.s>0},b.isZero=function(){return 0===this.s},b.lessThan=b.lt=function(e){return this.cmp(e)<0},b.lessThanOrEqualTo=b.lte=function(e){return this.cmp(e)<1},b.logarithm=b.log=function(e){var t,r=this,i=r.constructor,o=i.precision,c=o+5;if(void 0===e)e=new i(10);else if((e=new i(e)).s<1||e.eq(n))throw Error(s+"NaN");if(r.s<1)throw Error(s+(r.s?"NaN":"-Infinity"));return r.eq(n)?new i(0):(a=!1,t=w(R(r,c),R(e,c),c),a=!0,k(t,o))},b.minus=b.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?O(t,e):y(t,(e.s=-e.s,e))},b.modulo=b.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(!(e=new r(e)).s)throw Error(s+"NaN");return n.s?(a=!1,t=w(n,e,0,1).times(e),a=!0,n.minus(t)):k(new r(n),i)},b.naturalExponential=b.exp=function(){return _(this)},b.naturalLogarithm=b.ln=function(){return R(this)},b.negated=b.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},b.plus=b.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?y(t,e):O(t,(e.s=-e.s,e))},b.precision=b.sd=function(e){var t,n,r,i=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(o+e);if(t=E(i)+1,n=(r=i.d.length-1)*h+1,r=i.d[r]){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n},b.squareRoot=b.sqrt=function(){var e,t,n,r,i,o,c,d=this,f=d.constructor;if(d.s<1){if(!d.s)return new f(0);throw Error(s+"NaN")}for(e=E(d),a=!1,0==(i=Math.sqrt(+d))||i==1/0?(((t=v(d.d)).length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=u((e+1)/2)-(e<0||e%2),r=new f(t=i==1/0?"5e"+e:(t=i.toExponential()).slice(0,t.indexOf("e")+1)+e)):r=new f(i.toString()),i=c=(n=f.precision)+3;;)if(r=(o=r).plus(w(d,o,c+2)).times(.5),v(o.d).slice(0,c)===(t=v(r.d)).slice(0,c)){if(t=t.slice(c-3,c+1),i==c&&"4999"==t){if(k(o,n+1,0),o.times(o).eq(d)){r=o;break}}else if("9999"!=t)break;c+=4}return a=!0,k(r,n)},b.times=b.mul=function(e){var t,n,r,i,s,o,c,u,d,f=this,h=f.constructor,p=f.d,m=(e=new h(e)).d;if(!f.s||!e.s)return new h(0);for(e.s*=f.s,n=f.e+e.e,(u=p.length)<(d=m.length)&&(s=p,p=m,m=s,o=u,u=d,d=o),s=[],r=o=u+d;r--;)s.push(0);for(r=d;--r>=0;){for(t=0,i=u+r;i>r;)c=s[i]+m[r]*p[i-r-1]+t,s[i--]=c%l|0,t=c/l|0;s[i]=(s[i]+t)%l|0}for(;!s[--o];)s.pop();return t?++n:s.shift(),e.d=s,e.e=n,a?k(e,h.precision):e},b.toDecimalPlaces=b.todp=function(e,t){var n=this,i=n.constructor;return n=new i(n),void 0===e?n:(g(e,0,r),void 0===t?t=i.rounding:g(t,0,8),k(n,e+E(n)+1,t))},b.toExponential=function(e,t){var n,i=this,a=i.constructor;return void 0===e?n=I(i,!0):(g(e,0,r),void 0===t?t=a.rounding:g(t,0,8),n=I(i=k(new a(i),e+1,t),!0,e+1)),n},b.toFixed=function(e,t){var n,i,a=this,s=a.constructor;return void 0===e?I(a):(g(e,0,r),void 0===t?t=s.rounding:g(t,0,8),n=I((i=k(new s(a),e+E(a)+1,t)).abs(),!1,e+E(i)+1),a.isneg()&&!a.isZero()?"-"+n:n)},b.toInteger=b.toint=function(){var e=this,t=e.constructor;return k(new t(e),E(e)+1,t.rounding)},b.toNumber=function(){return+this},b.toPower=b.pow=function(e){var t,r,i,o,c,d,f=this,l=f.constructor,m=+(e=new l(e));if(!e.s)return new l(n);if(!(f=new l(f)).s){if(e.s<1)throw Error(s+"Infinity");return f}if(f.eq(n))return f;if(i=l.precision,e.eq(n))return k(f,i);if(d=(t=e.e)>=(r=e.d.length-1),c=f.s,d){if((r=m<0?-m:m)<=p){for(o=new l(n),t=Math.ceil(i/h+4),a=!1;r%2&&x((o=o.times(f)).d,t),0!==(r=u(r/2));)x((f=f.times(f)).d,t);return a=!0,e.s<0?new l(n).div(o):k(o,i)}}else if(c<0)throw Error(s+"NaN");return c=c<0&&1&e.d[Math.max(t,r)]?-1:1,f.s=1,a=!1,o=e.times(R(f,i+12)),a=!0,(o=_(o)).s=c,o},b.toPrecision=function(e,t){var n,i,a=this,s=a.constructor;return void 0===e?i=I(a,(n=E(a))<=s.toExpNeg||n>=s.toExpPos):(g(e,1,r),void 0===t?t=s.rounding:g(t,0,8),i=I(a=k(new s(a),e,t),e<=(n=E(a))||n<=s.toExpNeg,e)),i},b.toSignificantDigits=b.tosd=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(g(e,1,r),void 0===t?t=n.rounding:g(t,0,8)),k(new n(this),e,t)},b.toString=b.valueOf=b.val=b.toJSON=function(){var e=this,t=E(e),n=e.constructor;return I(e,t<=n.toExpNeg||t>=n.toExpPos)};var w=function(){function e(e,t){var n,r=0,i=e.length;for(e=e.slice();i--;)n=e[i]*t+r,e[i]=n%l|0,r=n/l|0;return r&&e.unshift(r),e}function t(e,t,n,r){var i,a;if(n!=r)a=n>r?1:-1;else for(i=a=0;i<n;i++)if(e[i]!=t[i]){a=e[i]>t[i]?1:-1;break}return a}function n(e,t,n){for(var r=0;n--;)e[n]-=r,r=e[n]<t[n]?1:0,e[n]=r*l+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,i,a,o){var c,u,d,f,p,m,b,y,g,v,w,_,T,A,R,S,O,I,x=r.constructor,C=r.s==i.s?1:-1,M=r.d,P=i.d;if(!r.s)return new x(r);if(!i.s)throw Error(s+"Division by zero");for(u=r.e-i.e,O=P.length,R=M.length,y=(b=new x(C)).d=[],d=0;P[d]==(M[d]||0);)++d;if(P[d]>(M[d]||0)&&--u,(_=null==a?a=x.precision:o?a+(E(r)-E(i))+1:a)<0)return new x(0);if(_=_/h+2|0,d=0,1==O)for(f=0,P=P[0],_++;(d<R||f)&&_--;d++)T=f*l+(M[d]||0),y[d]=T/P|0,f=T%P|0;else{for((f=l/(P[0]+1)|0)>1&&(P=e(P,f),M=e(M,f),O=P.length,R=M.length),A=O,v=(g=M.slice(0,O)).length;v<O;)g[v++]=0;(I=P.slice()).unshift(0),S=P[0],P[1]>=l/2&&++S;do{f=0,(c=t(P,g,O,v))<0?(w=g[0],O!=v&&(w=w*l+(g[1]||0)),(f=w/S|0)>1?(f>=l&&(f=l-1),1==(c=t(p=e(P,f),g,m=p.length,v=g.length))&&(f--,n(p,O<m?I:P,m))):(0==f&&(c=f=1),p=P.slice()),(m=p.length)<v&&p.unshift(0),n(g,p,v),-1==c&&(c=t(P,g,O,v=g.length))<1&&(f++,n(g,O<v?I:P,v)),v=g.length):0===c&&(f++,g=[0]),y[d++]=f,c&&g[0]?g[v++]=M[A]||0:(g=[M[A]],v=1)}while((A++<R||void 0!==g[0])&&_--)}return y[0]||y.shift(),b.e=u,k(b,o?a+E(b)+1:a)}}();function _(e,t){var r,i,s,o,u,f=0,l=0,h=e.constructor,p=h.precision;if(E(e)>16)throw Error(c+E(e));if(!e.s)return new h(n);for(null==t?(a=!1,u=p):u=t,o=new h(.03125);e.abs().gte(.1);)e=e.times(o),l+=5;for(u+=Math.log(d(2,l))/Math.LN10*2+5|0,r=i=s=new h(n),h.precision=u;;){if(i=k(i.times(e),u),r=r.times(++f),v((o=s.plus(w(i,r,u))).d).slice(0,u)===v(s.d).slice(0,u)){for(;l--;)s=k(s.times(s),u);return h.precision=p,null==t?(a=!0,k(s,p)):s}s=o}}function E(e){for(var t=e.e*h,n=e.d[0];n>=10;n/=10)t++;return t}function T(e,t,n){if(t>e.LN10.sd())throw a=!0,n&&(e.precision=n),Error(s+"LN10 precision limit exceeded");return k(new e(e.LN10),t)}function A(e){for(var t="";e--;)t+="0";return t}function R(e,t){var r,i,o,c,u,d,f,l,h,p=1,m=e,b=m.d,y=m.constructor,g=y.precision;if(m.s<1)throw Error(s+(m.s?"NaN":"-Infinity"));if(m.eq(n))return new y(0);if(null==t?(a=!1,l=g):l=t,m.eq(10))return null==t&&(a=!0),T(y,l);if(l+=10,y.precision=l,i=(r=v(b)).charAt(0),c=E(m),!(Math.abs(c)<15e14))return f=T(y,l+2,g).times(c+""),m=R(new y(i+"."+r.slice(1)),l-10).plus(f),y.precision=g,null==t?(a=!0,k(m,g)):m;for(;i<7&&1!=i||1==i&&r.charAt(1)>3;)i=(r=v((m=m.times(e)).d)).charAt(0),p++;for(c=E(m),i>1?(m=new y("0."+r),c++):m=new y(i+"."+r.slice(1)),d=u=m=w(m.minus(n),m.plus(n),l),h=k(m.times(m),l),o=3;;){if(u=k(u.times(h),l),v((f=d.plus(w(u,new y(o),l))).d).slice(0,l)===v(d.d).slice(0,l))return d=d.times(2),0!==c&&(d=d.plus(T(y,l+2,g).times(c+""))),d=w(d,new y(p),l),y.precision=g,null==t?(a=!0,k(d,g)):d;d=f,o+=2}}function S(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);)++r;for(i=t.length;48===t.charCodeAt(i-1);)--i;if(t=t.slice(r,i)){if(i-=r,n=n-r-1,e.e=u(n/h),e.d=[],r=(n+1)%h,n<0&&(r+=h),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=h;r<i;)e.d.push(+t.slice(r,r+=h));t=t.slice(r),r=h-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),a&&(e.e>m||e.e<-m))throw Error(c+n)}else e.s=0,e.e=0,e.d=[0];return e}function k(e,t,n){var r,i,s,o,f,p,b,y,g=e.d;for(o=1,s=g[0];s>=10;s/=10)o++;if((r=t-o)<0)r+=h,i=t,b=g[y=0];else{if((y=Math.ceil((r+1)/h))>=(s=g.length))return e;for(b=s=g[y],o=1;s>=10;s/=10)o++;i=(r%=h)-h+o}if(void 0!==n&&(f=b/(s=d(10,o-i-1))%10|0,p=t<0||void 0!==g[y+1]||b%s,p=n<4?(f||p)&&(0==n||n==(e.s<0?3:2)):f>5||5==f&&(4==n||p||6==n&&(r>0?i>0?b/d(10,o-i):0:g[y-1])%10&1||n==(e.s<0?8:7))),t<1||!g[0])return p?(s=E(e),g.length=1,t=t-s-1,g[0]=d(10,(h-t%h)%h),e.e=u(-t/h)||0):(g.length=1,g[0]=e.e=e.s=0),e;if(0==r?(g.length=y,s=1,y--):(g.length=y+1,s=d(10,h-r),g[y]=i>0?(b/d(10,o-i)%d(10,i)|0)*s:0),p)for(;;){if(0==y){(g[0]+=s)==l&&(g[0]=1,++e.e);break}if(g[y]+=s,g[y]!=l)break;g[y--]=0,s=1}for(r=g.length;0===g[--r];)g.pop();if(a&&(e.e>m||e.e<-m))throw Error(c+E(e));return e}function O(e,t){var n,r,i,s,o,c,u,d,f,p,m=e.constructor,b=m.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new m(e),a?k(t,b):t;if(u=e.d,p=t.d,r=t.e,d=e.e,u=u.slice(),o=d-r){for((f=o<0)?(n=u,o=-o,c=p.length):(n=p,r=d,c=u.length),o>(i=Math.max(Math.ceil(b/h),c)+2)&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for((f=(i=u.length)<(c=p.length))&&(c=i),i=0;i<c;i++)if(u[i]!=p[i]){f=u[i]<p[i];break}o=0}for(f&&(n=u,u=p,p=n,t.s=-t.s),c=u.length,i=p.length-c;i>0;--i)u[c++]=0;for(i=p.length;i>o;){if(u[--i]<p[i]){for(s=i;s&&0===u[--s];)u[s]=l-1;--u[s],u[i]+=l}u[i]-=p[i]}for(;0===u[--c];)u.pop();for(;0===u[0];u.shift())--r;return u[0]?(t.d=u,t.e=r,a?k(t,b):t):new m(0)}function I(e,t,n){var r,i=E(e),a=v(e.d),s=a.length;return t?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+A(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+A(-i-1)+a,n&&(r=n-s)>0&&(a+=A(r))):i>=s?(a+=A(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+A(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=A(r))),e.s<0?"-"+a:a}function x(e,t){if(e.length>t)return e.length=t,!0}function C(e){if(!e||"object"!=typeof e)throw Error(s+"Object expected");var t,n,i,a=["precision",1,r,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if(void 0!==(i=e[n=a[t]])){if(!(u(i)===i&&i>=a[t+1]&&i<=a[t+2]))throw Error(o+n+": "+i);this[n]=i}if(void 0!==(i=e[n="LN10"])){if(i!=Math.LN10)throw Error(o+n+": "+i);this[n]=new this(i)}return this}i=function e(t){var n,r,i;function a(e){var t=this;if(!(t instanceof a))return new a(e);if(t.constructor=a,e instanceof a)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"==typeof e){if(0*e!=0)throw Error(o+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):S(t,e.toString())}if("string"!=typeof e)throw Error(o+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!f.test(e))throw Error(o+e);S(t,e)}if(a.prototype=b,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=e,a.config=a.set=C,void 0===t&&(t={}),t)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<i.length;)t.hasOwnProperty(r=i[n++])||(t[r]=this[r]);return a.config(t),a}(i),i.default=i.Decimal=i,n=new i(1),e.exports?e.exports=i:(t||(t="undefined"!=typeof self&&self&&self.self==self?self:Function("return this")()),t.Decimal=i)}(ir)}(r1);var i1=ar(r1.exports),a1={exports:{}};!function(e){!function(t){var n,r=1e6,i=1e6,a="[big.js] ",s=a+"Invalid ",o=s+"decimal places",c=s+"rounding mode",u=a+"Division by zero",d={},f=void 0,l=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function h(e,t,n,r){var i=e.c,a=e.e+t+1;if(a<i.length){if(1===n)r=i[a]>=5;else if(2===n)r=i[a]>5||5==i[a]&&(r||a<0||i[a+1]!==f||1&i[a-1]);else if(3===n)r=r||!!i[0];else if(r=!1,0!==n)throw Error(c);if(a<1)i.length=1,r?(e.e=-t,i[0]=1):i[0]=e.e=0;else{if(i.length=a--,r)for(;++i[a]>9;)i[a]=0,a--||(++e.e,i.unshift(1));for(a=i.length;!i[--a];)i.pop()}}else if(n<0||n>3||n!==~~n)throw Error(c);return e}function p(e,t,n,i){var a,c,u=e.constructor,d=!e.c[0];if(n!==f){if(n!==~~n||n<(3==t)||n>r)throw Error(3==t?s+"precision":o);for(n=i-(e=new u(e)).e,e.c.length>++i&&h(e,n,u.RM),2==t&&(i=e.e+n+1);e.c.length<i;)e.c.push(0)}if(a=e.e,n=(c=e.c.join("")).length,2!=t&&(1==t||3==t&&i<=a||a<=u.NE||a>=u.PE))c=c.charAt(0)+(n>1?"."+c.slice(1):"")+(a<0?"e":"e+")+a;else if(a<0){for(;++a;)c="0"+c;c="0."+c}else if(a>0)if(++a>n)for(a-=n;a--;)c+="0";else a<n&&(c=c.slice(0,a)+"."+c.slice(a));else n>1&&(c=c.charAt(0)+"."+c.slice(1));return e.s<0&&(!d||4==t)?"-"+c:c}d.abs=function(){var e=new this.constructor(this);return e.s=1,e},d.cmp=function(e){var t,n=this,r=n.c,i=(e=new n.constructor(e)).c,a=n.s,s=e.s,o=n.e,c=e.e;if(!r[0]||!i[0])return r[0]?a:i[0]?-s:0;if(a!=s)return a;if(t=a<0,o!=c)return o>c^t?1:-1;for(s=(o=r.length)<(c=i.length)?o:c,a=-1;++a<s;)if(r[a]!=i[a])return r[a]>i[a]^t?1:-1;return o==c?0:o>c^t?1:-1},d.div=function(e){var t=this,n=t.constructor,i=t.c,a=(e=new n(e)).c,s=t.s==e.s?1:-1,c=n.DP;if(c!==~~c||c<0||c>r)throw Error(o);if(!a[0])throw Error(u);if(!i[0])return new n(0*s);var d,l,p,m,b,y=a.slice(),g=d=a.length,v=i.length,w=i.slice(0,d),_=w.length,E=e,T=E.c=[],A=0,R=c+(E.e=t.e-e.e)+1;for(E.s=s,s=R<0?0:R,y.unshift(0);_++<d;)w.push(0);do{for(p=0;p<10;p++){if(d!=(_=w.length))m=d>_?1:-1;else for(b=-1,m=0;++b<d;)if(a[b]!=w[b]){m=a[b]>w[b]?1:-1;break}if(!(m<0))break;for(l=_==d?a:y;_;){if(w[--_]<l[_]){for(b=_;b&&!w[--b];)w[b]=9;--w[b],w[_]+=10}w[_]-=l[_]}for(;!w[0];)w.shift()}T[A++]=m?p:++p,w[0]&&m?w[_]=i[g]||0:w=[i[g]]}while((g++<v||w[0]!==f)&&s--);return T[0]||1==A||(T.shift(),E.e--),A>R&&h(E,c,n.RM,w[0]!==f),E},d.eq=function(e){return!this.cmp(e)},d.gt=function(e){return this.cmp(e)>0},d.gte=function(e){return this.cmp(e)>-1},d.lt=function(e){return this.cmp(e)<0},d.lte=function(e){return this.cmp(e)<1},d.minus=d.sub=function(e){var t,n,r,i,a=this,s=a.constructor,o=a.s,c=(e=new s(e)).s;if(o!=c)return e.s=-c,a.plus(e);var u=a.c.slice(),d=a.e,f=e.c,l=e.e;if(!u[0]||!f[0])return f[0]?(e.s=-c,e):new s(u[0]?a:0);if(o=d-l){for((i=o<0)?(o=-o,r=u):(l=d,r=f),r.reverse(),c=o;c--;)r.push(0);r.reverse()}else for(n=((i=u.length<f.length)?u:f).length,o=c=0;c<n;c++)if(u[c]!=f[c]){i=u[c]<f[c];break}if(i&&(r=u,u=f,f=r,e.s=-e.s),(c=(n=f.length)-(t=u.length))>0)for(;c--;)u[t++]=0;for(c=t;n>o;){if(u[--n]<f[n]){for(t=n;t&&!u[--t];)u[t]=9;--u[t],u[n]+=10}u[n]-=f[n]}for(;0===u[--c];)u.pop();for(;0===u[0];)u.shift(),--l;return u[0]||(e.s=1,u=[l=0]),e.c=u,e.e=l,e},d.mod=function(e){var t,n=this,r=n.constructor,i=n.s,a=(e=new r(e)).s;if(!e.c[0])throw Error(u);return n.s=e.s=1,t=1==e.cmp(n),n.s=i,e.s=a,t?new r(n):(i=r.DP,a=r.RM,r.DP=r.RM=0,n=n.div(e),r.DP=i,r.RM=a,this.minus(n.times(e)))},d.plus=d.add=function(e){var t,n=this,r=n.constructor,i=n.s,a=(e=new r(e)).s;if(i!=a)return e.s=-a,n.minus(e);var s=n.e,o=n.c,c=e.e,u=e.c;if(!o[0]||!u[0])return u[0]?e:new r(o[0]?n:0*i);if(o=o.slice(),i=s-c){for(i>0?(c=s,t=u):(i=-i,t=o),t.reverse();i--;)t.push(0);t.reverse()}for(o.length-u.length<0&&(t=u,u=o,o=t),i=u.length,a=0;i;o[i]%=10)a=(o[--i]=o[i]+u[i]+a)/10|0;for(a&&(o.unshift(a),++c),i=o.length;0===o[--i];)o.pop();return e.c=o,e.e=c,e},d.pow=function(e){var t=this,n=new t.constructor(1),r=n,a=e<0;if(e!==~~e||e<-1e6||e>i)throw Error(s+"exponent");for(a&&(e=-e);1&e&&(r=r.times(t)),e>>=1;)t=t.times(t);return a?n.div(r):r},d.round=function(e,t){var n=this.constructor;if(e===f)e=0;else if(e!==~~e||e<-r||e>r)throw Error(o);return h(new n(this),e,t===f?n.RM:t)},d.sqrt=function(){var e,t,n,r=this,i=r.constructor,s=r.s,o=r.e,c=new i(.5);if(!r.c[0])return new i(r);if(s<0)throw Error(a+"No square root");0===(s=Math.sqrt(r+""))||s===1/0?((t=r.c.join("")).length+o&1||(t+="0"),o=((o+1)/2|0)-(o<0||1&o),e=new i(((s=Math.sqrt(t))==1/0?"1e":(s=s.toExponential()).slice(0,s.indexOf("e")+1))+o)):e=new i(s),o=e.e+(i.DP+=4);do{n=e,e=c.times(n.plus(r.div(n)))}while(n.c.slice(0,o).join("")!==e.c.slice(0,o).join(""));return h(e,i.DP-=4,i.RM)},d.times=d.mul=function(e){var t,n=this,r=n.constructor,i=n.c,a=(e=new r(e)).c,s=i.length,o=a.length,c=n.e,u=e.e;if(e.s=n.s==e.s?1:-1,!i[0]||!a[0])return new r(0*e.s);for(e.e=c+u,s<o&&(t=i,i=a,a=t,u=s,s=o,o=u),t=new Array(u=s+o);u--;)t[u]=0;for(c=o;c--;){for(o=0,u=s+c;u>c;)o=t[u]+a[c]*i[u-c-1]+o,t[u--]=o%10,o=o/10|0;t[u]=(t[u]+o)%10}for(o?++e.e:t.shift(),c=t.length;!t[--c];)t.pop();return e.c=t,e},d.toExponential=function(e){return p(this,1,e,e)},d.toFixed=function(e){return p(this,2,e,this.e+e)},d.toPrecision=function(e){return p(this,3,e,e-1)},d.toString=function(){return p(this)},d.valueOf=d.toJSON=function(){return p(this,4)},n=function e(){function t(n){var r=this;if(!(r instanceof t))return n===f?e():new t(n);n instanceof t?(r.s=n.s,r.e=n.e,r.c=n.c.slice()):function(e,t){var n,r,i;if(0===t&&1/t<0)t="-0";else if(!l.test(t+=""))throw Error(s+"number");e.s="-"==t.charAt(0)?(t=t.slice(1),-1):1,(n=t.indexOf("."))>-1&&(t=t.replace(".",""));(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length);for(i=t.length,r=0;r<i&&"0"==t.charAt(r);)++r;if(r==i)e.c=[e.e=0];else{for(;i>0&&"0"==t.charAt(--i););for(e.e=n-r-1,e.c=[],n=0;r<=i;)e.c[n++]=+t.charAt(r++)}}(r,n),r.constructor=t}return t.prototype=d,t.DP=20,t.RM=1,t.NE=-7,t.PE=21,t.version="5.2.2",t}(),n.default=n.Big=n,e.exports?e.exports=n:t.Big=n}(ir)}(a1);var s1=ar(a1.exports),o1={exports:{}};!function(e){e.exports&&(e.exports=function(e){return e.prototype.toFormat=function(e,t,n){if(!this.e&&0!==this.e)return this.toString();var r,i,a,s,o,c,u,d,f,l,h,p,m,b,y,g=this.format||{},v=this.constructor.format||{};if(e!=o?"object"==typeof e?(n=e,e=o):t!=o?"object"==typeof t?(n=t,t=o):"object"!=typeof n&&(n={}):n={}:n={},d=(r=this.toFixed(e,t).split("."))[0],f=r[1],c=(u=this.s<0?d.slice(1):d).length,(l=n.decimalSeparator)==o&&(l=g.decimalSeparator)==o&&(l=v.decimalSeparator)==o&&(l="."),(h=n.groupSeparator)==o&&(h=g.groupSeparator)==o&&(h=v.groupSeparator),h&&((p=n.groupSize)==o&&(p=g.groupSize)==o&&(p=v.groupSize)==o&&(p=0),(m=n.secondaryGroupSize)==o&&(m=g.secondaryGroupSize)==o&&(m=v.secondaryGroupSize)==o&&(m=0),m?(i=+m,c-=a=+p):(i=+p,a=+m),i>0&&c>0)){for(s=c%i||i,d=u.substr(0,s);s<c;s+=i)d+=h+u.substr(s,i);a>0&&(d+=h+u.slice(s)),this.s<0&&(d="-"+d)}return f?((b=n.fractionGroupSeparator)==o&&(b=g.fractionGroupSeparator)==o&&(b=v.fractionGroupSeparator),b&&((y=n.fractionGroupSize)==o&&(y=g.fractionGroupSize)==o&&(y=v.fractionGroupSize)==o&&(y=0),(y=+y)&&(f=f.replace(new RegExp("\\d{"+y+"}\\B","g"),"$&"+b))),d+l+f):d},e.format={decimalSeparator:".",groupSeparator:",",groupSize:3,secondaryGroupSize:0,fractionGroupSeparator:"",fractionGroupSize:0},e})}(o1);var c1,u1,d1,f1=ar(o1.exports);!function(e){e[e.MAINNET=1]="MAINNET",e[e.GOERLI=5]="GOERLI",e[e.SEPOLIA=11155111]="SEPOLIA",e[e.ARBITRUM_ONE=42161]="ARBITRUM_ONE",e[e.ARBITRUM_GOERLI=421613]="ARBITRUM_GOERLI",e[e.OPTIMISM=10]="OPTIMISM",e[e.OPTIMISM_GOERLI=420]="OPTIMISM_GOERLI",e[e.POLYGON=137]="POLYGON",e[e.POLYGON_MUMBAI=80001]="POLYGON_MUMBAI",e[e.CELO=42220]="CELO",e[e.CELO_ALFAJORES=44787]="CELO_ALFAJORES",e[e.BNB=56]="BNB"}(c1||(c1={})),function(e){e[e.EXACT_INPUT=0]="EXACT_INPUT",e[e.EXACT_OUTPUT=1]="EXACT_OUTPUT"}(u1||(u1={})),function(e){e[e.ROUND_DOWN=0]="ROUND_DOWN",e[e.ROUND_HALF_UP=1]="ROUND_HALF_UP",e[e.ROUND_UP=2]="ROUND_UP"}(d1||(d1={}));var l1,h1,p1=e1.BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function m1(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b1(e,t,n){return t&&m1(e.prototype,t),n&&m1(e,n),e}function y1(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var g1=f1(i1),v1=f1(s1),w1=((l1={})[d1.ROUND_DOWN]=g1.ROUND_DOWN,l1[d1.ROUND_HALF_UP]=g1.ROUND_HALF_UP,l1[d1.ROUND_UP]=g1.ROUND_UP,l1),_1=((h1={})[d1.ROUND_DOWN]=0,h1[d1.ROUND_HALF_UP]=1,h1[d1.ROUND_UP]=3,h1),E1=function(){function e(e,t){void 0===t&&(t=e1.BigInt(1)),this.numerator=e1.BigInt(e),this.denominator=e1.BigInt(t)}e.tryParseFraction=function(t){if(t instanceof e1||"number"==typeof t||"string"==typeof t)return new e(t);if("numerator"in t&&"denominator"in t)return t;throw new Error("Could not parse fraction")};var t=e.prototype;return t.invert=function(){return new e(this.denominator,this.numerator)},t.add=function(t){var n=e.tryParseFraction(t);return e1.equal(this.denominator,n.denominator)?new e(e1.add(this.numerator,n.numerator),this.denominator):new e(e1.add(e1.multiply(this.numerator,n.denominator),e1.multiply(n.numerator,this.denominator)),e1.multiply(this.denominator,n.denominator))},t.subtract=function(t){var n=e.tryParseFraction(t);return e1.equal(this.denominator,n.denominator)?new e(e1.subtract(this.numerator,n.numerator),this.denominator):new e(e1.subtract(e1.multiply(this.numerator,n.denominator),e1.multiply(n.numerator,this.denominator)),e1.multiply(this.denominator,n.denominator))},t.lessThan=function(t){var n=e.tryParseFraction(t);return e1.lessThan(e1.multiply(this.numerator,n.denominator),e1.multiply(n.numerator,this.denominator))},t.equalTo=function(t){var n=e.tryParseFraction(t);return e1.equal(e1.multiply(this.numerator,n.denominator),e1.multiply(n.numerator,this.denominator))},t.greaterThan=function(t){var n=e.tryParseFraction(t);return e1.greaterThan(e1.multiply(this.numerator,n.denominator),e1.multiply(n.numerator,this.denominator))},t.multiply=function(t){var n=e.tryParseFraction(t);return new e(e1.multiply(this.numerator,n.numerator),e1.multiply(this.denominator,n.denominator))},t.divide=function(t){var n=e.tryParseFraction(t);return new e(e1.multiply(this.numerator,n.denominator),e1.multiply(this.denominator,n.numerator))},t.toSignificant=function(e,t,n){void 0===t&&(t={groupSeparator:""}),void 0===n&&(n=d1.ROUND_HALF_UP),Number.isInteger(e)||n1(!1),e>0||n1(!1),g1.set({precision:e+1,rounding:w1[n]});var r=new g1(this.numerator.toString()).div(this.denominator.toString()).toSignificantDigits(e);return r.toFormat(r.decimalPlaces(),t)},t.toFixed=function(e,t,n){return void 0===t&&(t={groupSeparator:""}),void 0===n&&(n=d1.ROUND_HALF_UP),Number.isInteger(e)||n1(!1),e>=0||n1(!1),v1.DP=e,v1.RM=_1[n],new v1(this.numerator.toString()).div(this.denominator.toString()).toFormat(e,t)},b1(e,[{key:"quotient",get:function(){return e1.divide(this.numerator,this.denominator)}},{key:"remainder",get:function(){return new e(e1.remainder(this.numerator,this.denominator),this.denominator)}},{key:"asFraction",get:function(){return new e(this.numerator,this.denominator)}}]),e}(),T1=f1(s1),A1=function(e){function t(t,n,r){var i;return i=e.call(this,n,r)||this,e1.lessThanOrEqual(i.quotient,p1)||n1(!1),i.currency=t,i.decimalScale=e1.exponentiate(e1.BigInt(10),e1.BigInt(t.decimals)),i}y1(t,e),t.fromRawAmount=function(e,n){return new t(e,n)},t.fromFractionalAmount=function(e,n,r){return new t(e,n,r)};var n=t.prototype;return n.add=function(n){this.currency.equals(n.currency)||n1(!1);var r=e.prototype.add.call(this,n);return t.fromFractionalAmount(this.currency,r.numerator,r.denominator)},n.subtract=function(n){this.currency.equals(n.currency)||n1(!1);var r=e.prototype.subtract.call(this,n);return t.fromFractionalAmount(this.currency,r.numerator,r.denominator)},n.multiply=function(n){var r=e.prototype.multiply.call(this,n);return t.fromFractionalAmount(this.currency,r.numerator,r.denominator)},n.divide=function(n){var r=e.prototype.divide.call(this,n);return t.fromFractionalAmount(this.currency,r.numerator,r.denominator)},n.toSignificant=function(t,n,r){return void 0===t&&(t=6),void 0===r&&(r=d1.ROUND_DOWN),e.prototype.divide.call(this,this.decimalScale).toSignificant(t,n,r)},n.toFixed=function(t,n,r){return void 0===t&&(t=this.currency.decimals),void 0===r&&(r=d1.ROUND_DOWN),t<=this.currency.decimals||n1(!1),e.prototype.divide.call(this,this.decimalScale).toFixed(t,n,r)},n.toExact=function(e){return void 0===e&&(e={groupSeparator:""}),T1.DP=this.currency.decimals,new T1(this.quotient.toString()).div(this.decimalScale.toString()).toFormat(e)},b1(t,[{key:"wrapped",get:function(){return this.currency.isToken?this:t.fromFractionalAmount(this.currency.wrapped,this.numerator,this.denominator)}}]),t}(E1),R1=new E1(e1.BigInt(100));function S1(e){return new k1(e.numerator,e.denominator)}var k1=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).isPercent=!0,t}y1(t,e);var n=t.prototype;return n.add=function(t){return S1(e.prototype.add.call(this,t))},n.subtract=function(t){return S1(e.prototype.subtract.call(this,t))},n.multiply=function(t){return S1(e.prototype.multiply.call(this,t))},n.divide=function(t){return S1(e.prototype.divide.call(this,t))},n.toSignificant=function(t,n,r){return void 0===t&&(t=5),e.prototype.multiply.call(this,R1).toSignificant(t,n,r)},n.toFixed=function(t,n,r){return void 0===t&&(t=2),e.prototype.multiply.call(this,R1).toFixed(t,n,r)},t}(E1),O1=function(e,t,n,r){Number.isSafeInteger(e)||n1(!1),t>=0&&t<255&&Number.isInteger(t)||n1(!1),this.chainId=e,this.decimals=t,this.symbol=n,this.name=r};var I1=/^0x[0-9a-fA-F]{40}$/;var x1,C1,M1,P1,N1=function(e){function t(t,n,r,i,a,s){var o;return(o=e.call(this,t,r,i,a)||this).isNative=!1,o.isToken=!0,o.address=s?function(e){if(I1.test(e))return e;throw new Error(e+" is not a valid address.")}(n):function(e){try{return vs(e)}catch(t){throw new Error(e+" is not a valid address.")}}(n),o}y1(t,e);var n=t.prototype;return n.equals=function(e){return e.isToken&&this.chainId===e.chainId&&this.address.toLowerCase()===e.address.toLowerCase()},n.sortsBefore=function(e){return this.chainId!==e.chainId&&n1(!1),this.address.toLowerCase()===e.address.toLowerCase()&&n1(!1),this.address.toLowerCase()<e.address.toLowerCase()},b1(t,[{key:"wrapped",get:function(){return this}}]),t}(O1);function B1(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function D1(e,t,n){return t&&B1(e.prototype,t),n&&B1(e,n),e}function L1(){return L1=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},L1.apply(this,arguments)}function F1(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}(x1={})[1]=new N1(1,"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2",18,"WETH","Wrapped Ether"),x1[3]=new N1(3,"0xc778417E063141139Fce010982780140Aa0cD5Ab",18,"WETH","Wrapped Ether"),x1[4]=new N1(4,"0xc778417E063141139Fce010982780140Aa0cD5Ab",18,"WETH","Wrapped Ether"),x1[5]=new N1(5,"0xB4FBF271143F4FBf7B91A5ded31805e42b2208d6",18,"WETH","Wrapped Ether"),x1[42]=new N1(42,"0xd0A1E359811322d97991E03f863a0C30C2cF029C",18,"WETH","Wrapped Ether"),x1[10]=new N1(10,"0x4200000000000000000000000000000000000006",18,"WETH","Wrapped Ether"),x1[69]=new N1(69,"0x4200000000000000000000000000000000000006",18,"WETH","Wrapped Ether"),x1[42161]=new N1(42161,"0x82aF49447D8a07e3bd95BD0d56f35241523fBab1",18,"WETH","Wrapped Ether"),x1[421611]=new N1(421611,"0xB47e6A5f8b33b3F17603C83a0535A9dcD7E32681",18,"WETH","Wrapped Ether"),function(e){e[e.MAINNET=1]="MAINNET",e[e.GOERLI=5]="GOERLI",e[e.SEPOLIA=11155111]="SEPOLIA",e[e.OPTIMISM=10]="OPTIMISM",e[e.OPTIMISM_GOERLI=420]="OPTIMISM_GOERLI",e[e.ARBITRUM_ONE=42161]="ARBITRUM_ONE",e[e.ARBITRUM_GOERLI=421613]="ARBITRUM_GOERLI",e[e.POLYGON=137]="POLYGON",e[e.POLYGON_MUMBAI=80001]="POLYGON_MUMBAI",e[e.CELO=42220]="CELO",e[e.CELO_ALFAJORES=44787]="CELO_ALFAJORES",e[e.GNOSIS=100]="GNOSIS",e[e.MOONBEAM=1284]="MOONBEAM",e[e.BNB=56]="BNB",e[e.AVALANCHE=43114]="AVALANCHE",e[e.BASE_GOERLI=84531]="BASE_GOERLI",e[e.BASE=8453]="BASE"}(C1||(C1={})),C1.MAINNET,C1.OPTIMISM,C1.OPTIMISM_GOERLI,C1.ARBITRUM_ONE,C1.ARBITRUM_GOERLI,C1.POLYGON,C1.POLYGON_MUMBAI,C1.GOERLI,C1.SEPOLIA,C1.CELO_ALFAJORES,C1.CELO,C1.BNB,C1.AVALANCHE,C1.BASE,C1.BASE_GOERLI,function(e){e.ETHER="ETH",e.MATIC="MATIC",e.CELO="CELO",e.GNOSIS="XDAI",e.MOONBEAM="GLMR",e.BNB="BNB",e.AVAX="AVAX"}(M1||(M1={}));C1.MAINNET,C1.GOERLI;C1.OPTIMISM,C1.ARBITRUM_ONE,C1.POLYGON,C1.POLYGON_MUMBAI,C1.SEPOLIA;var U1,j1,q1={v3CoreFactoryAddress:"0x1F98431c8aD98523631AE4a59f267346ea31F984",multicallAddress:"0x1F98415757620B543A52E61c46B32eB19261F984",quoterAddress:"0xb27308f9F90D607463bb33eA1BeBb41C27CE5AB6",v3MigratorAddress:"0xA5644E29708357803b5A882D272c41cC0dF92B34",nonfungiblePositionManagerAddress:"0xC36442b4a4522E871399CD717aBDD847Ab11FE88"},z1=L1({},q1,{v1MixedRouteQuoterAddress:"0x84E44095eeBfEC7793Cd7d5b57B7e401D7f1cA2E"}),H1=L1({},q1,{v1MixedRouteQuoterAddress:"0xBa60b6e6fF25488308789E6e0A65D838be34194e"}),G1=q1,W1=L1({},q1,{multicallAddress:"0xadF885960B47eA2CD9B55E6DAc6B42b7Cb2806dB",tickLensAddress:"0xbfd8137f7d1516D3ea5cA83523914859ec47F573"}),V1=q1,K1={v3CoreFactoryAddress:"0xAfE208a311B21f13EF87E33A90049fC17A7acDEc",multicallAddress:"0x633987602DE5C4F337e3DbF265303A1080324204",quoterAddress:"0x82825d0554fA07f7FC52Ab63c961F330fdEFa8E8",v3MigratorAddress:"0x3cFd4d48EDfDCC53D3f173F596f621064614C582",nonfungiblePositionManagerAddress:"0x3d79EdAaBC0EaB6F08ED885C05Fc0B014290D95A",tickLensAddress:"0x5f115D9113F88e0a0Db1b5033D90D4a9690AcD3D"};(P1={})[C1.MAINNET]=z1,P1[C1.OPTIMISM]=G1,P1[C1.ARBITRUM_ONE]=W1,P1[C1.POLYGON]=V1,P1[C1.POLYGON_MUMBAI]=V1,P1[C1.GOERLI]=H1,P1[C1.CELO]=K1,P1[C1.CELO_ALFAJORES]=K1,P1[C1.BNB]={v3CoreFactoryAddress:"0xdB1d10011AD0Ff90774D0C6Bb92e5C5c8b4461F7",multicallAddress:"0x963Df249eD09c358A4819E39d9Cd5736c3087184",quoterAddress:"0x78D78E420Da98ad378D7799bE8f4AF69033EB077",v3MigratorAddress:"0x32681814957e0C13117ddc0c2aba232b5c9e760f",nonfungiblePositionManagerAddress:"0x7b8A01B39D58278b5DE7e48c8449c9f4F5170613",tickLensAddress:"0xD9270014D396281579760619CCf4c3af0501A47C",swapRouter02Address:"0xB971eF87ede563556b2ED4b1C0b0019111Dd85d2"},P1[C1.OPTIMISM_GOERLI]={v3CoreFactoryAddress:"0xB656dA17129e7EB733A557f4EBc57B76CFbB5d10",multicallAddress:"0x07F2D8a2a02251B62af965f22fC4744A5f96BCCd",quoterAddress:"0x9569CbA925c8ca2248772A9A4976A516743A246F",v3MigratorAddress:"0xf6c55fBe84B1C8c3283533c53F51bC32F5C7Aba8",nonfungiblePositionManagerAddress:"0x39Ca85Af2F383190cBf7d7c41ED9202D27426EF6",tickLensAddress:"0xe6140Bd164b63E8BfCfc40D5dF952f83e171758e"},P1[C1.ARBITRUM_GOERLI]={v3CoreFactoryAddress:"0x4893376342d5D7b3e31d4184c08b265e5aB2A3f6",multicallAddress:"0x8260CB40247290317a4c062F3542622367F206Ee",quoterAddress:"0x1dd92b83591781D0C6d98d07391eea4b9a6008FA",v3MigratorAddress:"0xA815919D2584Ac3F76ea9CB62E6Fd40a43BCe0C3",nonfungiblePositionManagerAddress:"0x622e4726a167799826d1E1D150b076A7725f5D81",tickLensAddress:"0xb52429333da969a0C79a60930a4Bf0020E5D1DE8"},P1[C1.SEPOLIA]={v3CoreFactoryAddress:"0x0227628f3F023bb0B980b67D528571c95c6DaC1c",multicallAddress:"0xD7F33bCdb21b359c8ee6F0251d30E94832baAd07",quoterAddress:"0xEd1f6473345F45b75F8179591dd5bA1888cf2FB3",v3MigratorAddress:"0x729004182cF005CEC8Bd85df140094b6aCbe8b15",nonfungiblePositionManagerAddress:"0x1238536071E1c677A632429e3655c799b22cDA52",tickLensAddress:"0xd7f33bcdb21b359c8ee6f0251d30e94832baad07"},P1[C1.AVALANCHE]={v3CoreFactoryAddress:"0x740b1c1de25031C31FF4fC9A62f554A55cdC1baD",multicallAddress:"0x0139141Cd4Ee88dF3Cdb65881D411bAE271Ef0C2",quoterAddress:"0xbe0F5544EC67e9B3b2D979aaA43f18Fd87E6257F",v3MigratorAddress:"0x44f5f1f5E452ea8d29C890E8F6e893fC0f1f0f97",nonfungiblePositionManagerAddress:"0x655C406EBFa14EE2006250925e54ec43AD184f8B",tickLensAddress:"0xEB9fFC8bf81b4fFd11fb6A63a6B0f098c6e21950",swapRouter02Address:"0xbb00FF08d01D300023C629E8fFfFcb65A5a578cE"},P1[C1.BASE]={v3CoreFactoryAddress:"0x33128a8fC17869897dcE68Ed026d694621f6FDfD",multicallAddress:"0x091e99cb1C49331a94dD62755D168E941AbD0693",quoterAddress:"0x3d4e44Eb1374240CE5F1B871ab261CD16335B76a",v3MigratorAddress:"0x23cF10b1ee3AdfCA73B0eF17C07F7577e7ACd2d7",nonfungiblePositionManagerAddress:"0x03a520b32C04BF3bEEf7BEb72E919cf822Ed34f1",tickLensAddress:"0x0CdeE061c75D43c82520eD998C23ac2991c9ac6d",swapRouter02Address:"0x2626664c2603336E57B271c5C0b26F421741e481"},P1[C1.BASE_GOERLI]={v3CoreFactoryAddress:"0x9323c1d6D800ed51Bd7C6B216cfBec678B7d0BC2",multicallAddress:"0xB206027a9E0E13F05eBEFa5D2402Bab3eA716439",quoterAddress:"0xedf539058e28E5937dAef3f69cEd0b25fbE66Ae9",v3MigratorAddress:"0x3efe5d02a04b7351D671Db7008ec6eBA9AD9e3aE",nonfungiblePositionManagerAddress:"0x3c61369ef0D1D2AFa70d8feC2F31C5D6Ce134F30",tickLensAddress:"0x1acB873Ee909D0c98adB18e4474943249F931b92",swapRouter02Address:"0x8357227D4eDc78991Db6FDB9bD6ADE250536dE1d"},{}[C1.MAINNET]="0xC4e172459f1E7939D522503B81AFAaC1014CE6F6",{}[C1.MAINNET]="0x408ED6354d4973f66138C91495F2f2FCbd8724C3",{}[C1.MAINNET]="0x090D4613473dEE047c3f2706764f49E0821D256e",{}[C1.MAINNET]="0xeca4B0bDBf7c55E9b7925919d03CbF8Dc82537E8",{}[C1.MAINNET]="0x65770b5283117639760beA3F867b69b3697a91dd",function(e){e[e.EXACT_INPUT=0]="EXACT_INPUT",e[e.EXACT_OUTPUT=1]="EXACT_OUTPUT"}(U1||(U1={})),function(e){e[e.ROUND_DOWN=0]="ROUND_DOWN",e[e.ROUND_HALF_UP=1]="ROUND_HALF_UP",e[e.ROUND_UP=2]="ROUND_UP"}(j1||(j1={}));var X1,$1,J1=e1.BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Y1=f1(i1),Q1=f1(s1),Z1=((X1={})[j1.ROUND_DOWN]=Y1.ROUND_DOWN,X1[j1.ROUND_HALF_UP]=Y1.ROUND_HALF_UP,X1[j1.ROUND_UP]=Y1.ROUND_UP,X1),e6=(($1={})[j1.ROUND_DOWN]=0,$1[j1.ROUND_HALF_UP]=1,$1[j1.ROUND_UP]=3,$1),t6=function(){function e(e,t){void 0===t&&(t=e1.BigInt(1)),this.numerator=e1.BigInt(e),this.denominator=e1.BigInt(t)}e.tryParseFraction=function(t){if(t instanceof e1||"number"==typeof t||"string"==typeof t)return new e(t);if("numerator"in t&&"denominator"in t)return t;throw new Error("Could not parse fraction")};var t=e.prototype;return t.invert=function(){return new e(this.denominator,this.numerator)},t.add=function(t){var n=e.tryParseFraction(t);return e1.equal(this.denominator,n.denominator)?new e(e1.add(this.numerator,n.numerator),this.denominator):new e(e1.add(e1.multiply(this.numerator,n.denominator),e1.multiply(n.numerator,this.denominator)),e1.multiply(this.denominator,n.denominator))},t.subtract=function(t){var n=e.tryParseFraction(t);return e1.equal(this.denominator,n.denominator)?new e(e1.subtract(this.numerator,n.numerator),this.denominator):new e(e1.subtract(e1.multiply(this.numerator,n.denominator),e1.multiply(n.numerator,this.denominator)),e1.multiply(this.denominator,n.denominator))},t.lessThan=function(t){var n=e.tryParseFraction(t);return e1.lessThan(e1.multiply(this.numerator,n.denominator),e1.multiply(n.numerator,this.denominator))},t.equalTo=function(t){var n=e.tryParseFraction(t);return e1.equal(e1.multiply(this.numerator,n.denominator),e1.multiply(n.numerator,this.denominator))},t.greaterThan=function(t){var n=e.tryParseFraction(t);return e1.greaterThan(e1.multiply(this.numerator,n.denominator),e1.multiply(n.numerator,this.denominator))},t.multiply=function(t){var n=e.tryParseFraction(t);return new e(e1.multiply(this.numerator,n.numerator),e1.multiply(this.denominator,n.denominator))},t.divide=function(t){var n=e.tryParseFraction(t);return new e(e1.multiply(this.numerator,n.denominator),e1.multiply(this.denominator,n.numerator))},t.toSignificant=function(e,t,n){void 0===t&&(t={groupSeparator:""}),void 0===n&&(n=j1.ROUND_HALF_UP),Number.isInteger(e)||n1(!1),e>0||n1(!1),Y1.set({precision:e+1,rounding:Z1[n]});var r=new Y1(this.numerator.toString()).div(this.denominator.toString()).toSignificantDigits(e);return r.toFormat(r.decimalPlaces(),t)},t.toFixed=function(e,t,n){return void 0===t&&(t={groupSeparator:""}),void 0===n&&(n=j1.ROUND_HALF_UP),Number.isInteger(e)||n1(!1),e>=0||n1(!1),Q1.DP=e,Q1.RM=e6[n],new Q1(this.numerator.toString()).div(this.denominator.toString()).toFormat(e,t)},D1(e,[{key:"quotient",get:function(){return e1.divide(this.numerator,this.denominator)}},{key:"remainder",get:function(){return new e(e1.remainder(this.numerator,this.denominator),this.denominator)}},{key:"asFraction",get:function(){return new e(this.numerator,this.denominator)}}]),e}(),n6=f1(s1),r6=function(e){function t(t,n,r){var i;return i=e.call(this,n,r)||this,e1.lessThanOrEqual(i.quotient,J1)||n1(!1),i.currency=t,i.decimalScale=e1.exponentiate(e1.BigInt(10),e1.BigInt(t.decimals)),i}F1(t,e),t.fromRawAmount=function(e,n){return new t(e,n)},t.fromFractionalAmount=function(e,n,r){return new t(e,n,r)};var n=t.prototype;return n.add=function(n){this.currency.equals(n.currency)||n1(!1);var r=e.prototype.add.call(this,n);return t.fromFractionalAmount(this.currency,r.numerator,r.denominator)},n.subtract=function(n){this.currency.equals(n.currency)||n1(!1);var r=e.prototype.subtract.call(this,n);return t.fromFractionalAmount(this.currency,r.numerator,r.denominator)},n.multiply=function(n){var r=e.prototype.multiply.call(this,n);return t.fromFractionalAmount(this.currency,r.numerator,r.denominator)},n.divide=function(n){var r=e.prototype.divide.call(this,n);return t.fromFractionalAmount(this.currency,r.numerator,r.denominator)},n.toSignificant=function(t,n,r){return void 0===t&&(t=6),void 0===r&&(r=j1.ROUND_DOWN),e.prototype.divide.call(this,this.decimalScale).toSignificant(t,n,r)},n.toFixed=function(t,n,r){return void 0===t&&(t=this.currency.decimals),void 0===r&&(r=j1.ROUND_DOWN),t<=this.currency.decimals||n1(!1),e.prototype.divide.call(this,this.decimalScale).toFixed(t,n,r)},n.toExact=function(e){return void 0===e&&(e={groupSeparator:""}),n6.DP=this.currency.decimals,new n6(this.quotient.toString()).div(this.decimalScale.toString()).toFormat(e)},D1(t,[{key:"wrapped",get:function(){return this.currency.isToken?this:t.fromFractionalAmount(this.currency.wrapped,this.numerator,this.denominator)}}]),t}(t6),i6=new t6(e1.BigInt(100));function a6(e){return new s6(e.numerator,e.denominator)}var s6=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).isPercent=!0,t}F1(t,e);var n=t.prototype;return n.add=function(t){return a6(e.prototype.add.call(this,t))},n.subtract=function(t){return a6(e.prototype.subtract.call(this,t))},n.multiply=function(t){return a6(e.prototype.multiply.call(this,t))},n.divide=function(t){return a6(e.prototype.divide.call(this,t))},n.toSignificant=function(t,n,r){return void 0===t&&(t=5),e.prototype.multiply.call(this,i6).toSignificant(t,n,r)},n.toFixed=function(t,n,r){return void 0===t&&(t=2),e.prototype.multiply.call(this,i6).toFixed(t,n,r)},t}(t6),o6=function(e){function t(){for(var t,n,r,i,a,s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];if(4===o.length)n=o[0],r=o[1],i=o[2],a=o[3];else{var u=o[0].quoteAmount.divide(o[0].baseAmount),d=[o[0].baseAmount.currency,o[0].quoteAmount.currency,u.denominator,u.numerator];n=d[0],r=d[1],i=d[2],a=d[3]}return(t=e.call(this,a,i)||this).baseCurrency=n,t.quoteCurrency=r,t.scalar=new t6(e1.exponentiate(e1.BigInt(10),e1.BigInt(n.decimals)),e1.exponentiate(e1.BigInt(10),e1.BigInt(r.decimals))),t}F1(t,e);var n=t.prototype;return n.invert=function(){return new t(this.quoteCurrency,this.baseCurrency,this.numerator,this.denominator)},n.multiply=function(n){this.quoteCurrency.equals(n.baseCurrency)||n1(!1);var r=e.prototype.multiply.call(this,n);return new t(this.baseCurrency,n.quoteCurrency,r.denominator,r.numerator)},n.quote=function(t){t.currency.equals(this.baseCurrency)||n1(!1);var n=e.prototype.multiply.call(this,t);return r6.fromFractionalAmount(this.quoteCurrency,n.numerator,n.denominator)},n.toSignificant=function(e,t,n){return void 0===e&&(e=6),this.adjustedForDecimals.toSignificant(e,t,n)},n.toFixed=function(e,t,n){return void 0===e&&(e=4),this.adjustedForDecimals.toFixed(e,t,n)},D1(t,[{key:"adjustedForDecimals",get:function(){return e.prototype.multiply.call(this,this.scalar)}}]),t}(t6),c6=function(e,t,n,r){Number.isSafeInteger(e)||n1(!1),t>=0&&t<255&&Number.isInteger(t)||n1(!1),this.chainId=e,this.decimals=t,this.symbol=n,this.name=r};function u6(e){try{return vs(e)}catch(t){throw new Error(e+" is not a valid address.")}}var d6=/^0x[0-9a-fA-F]{40}$/;var f6,l6=function(e){function t(t,n,r,i,a,s){var o;return(o=e.call(this,t,r,i,a)||this).isNative=!1,o.isToken=!0,o.address=s?function(e){if(d6.test(e))return e;throw new Error(e+" is not a valid address.")}(n):u6(n),o}F1(t,e);var n=t.prototype;return n.equals=function(e){return e.isToken&&this.chainId===e.chainId&&this.address.toLowerCase()===e.address.toLowerCase()},n.sortsBefore=function(e){return this.chainId!==e.chainId&&n1(!1),this.address.toLowerCase()===e.address.toLowerCase()&&n1(!1),this.address.toLowerCase()<e.address.toLowerCase()},D1(t,[{key:"wrapped",get:function(){return this}}]),t}(c6);function h6(e,t,n,r){if(n>0||n1(!1),e.length<=n||n1(!1),0===e.length)return e.push(t),null;var i=e.length===n;if(i&&r(e[e.length-1],t)<=0)return t;for(var a=0,s=e.length;a<s;){var o=a+s>>>1;r(e[o],t)<=0?a=o+1:s=o}return e.splice(a,0,t),i?e.pop():null}(f6={})[1]=new l6(1,"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2",18,"WETH","Wrapped Ether"),f6[3]=new l6(3,"0xc778417E063141139Fce010982780140Aa0cD5Ab",18,"WETH","Wrapped Ether"),f6[4]=new l6(4,"0xc778417E063141139Fce010982780140Aa0cD5Ab",18,"WETH","Wrapped Ether"),f6[5]=new l6(5,"0xB4FBF271143F4FBf7B91A5ded31805e42b2208d6",18,"WETH","Wrapped Ether"),f6[42]=new l6(42,"0xd0A1E359811322d97991E03f863a0C30C2cF029C",18,"WETH","Wrapped Ether"),f6[10]=new l6(10,"0x4200000000000000000000000000000000000006",18,"WETH","Wrapped Ether"),f6[69]=new l6(69,"0x4200000000000000000000000000000000000006",18,"WETH","Wrapped Ether"),f6[42161]=new l6(42161,"0x82aF49447D8a07e3bd95BD0d56f35241523fBab1",18,"WETH","Wrapped Ether"),f6[421611]=new l6(421611,"0xB47e6A5f8b33b3F17603C83a0535A9dcD7E32681",18,"WETH","Wrapped Ether");var p6=e1.BigInt(Number.MAX_SAFE_INTEGER),m6=e1.BigInt(0),b6=e1.BigInt(1),y6=e1.BigInt(2);var g6=[{inputs:[{internalType:"bytes[]",name:"data",type:"bytes[]"}],name:"multicall",outputs:[{internalType:"bytes[]",name:"results",type:"bytes[]"}],stateMutability:"payable",type:"function"}],v6=[{inputs:[{internalType:"address",name:"_factory",type:"address"},{internalType:"address",name:"_WETH9",type:"address"},{internalType:"address",name:"_tokenDescriptor_",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"address",name:"recipient",type:"address"},{indexed:!1,internalType:"uint256",name:"amount0",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount1",type:"uint256"}],name:"Collect",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint128",name:"liquidity",type:"uint128"},{indexed:!1,internalType:"uint256",name:"amount0",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount1",type:"uint256"}],name:"DecreaseLiquidity",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint128",name:"liquidity",type:"uint128"},{indexed:!1,internalType:"uint256",name:"amount0",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount1",type:"uint256"}],name:"IncreaseLiquidity",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"PERMIT_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"WETH9",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"baseURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"burn",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint128",name:"amount0Max",type:"uint128"},{internalType:"uint128",name:"amount1Max",type:"uint128"}],internalType:"struct INonfungiblePositionManager.CollectParams",name:"params",type:"tuple"}],name:"collect",outputs:[{internalType:"uint256",name:"amount0",type:"uint256"},{internalType:"uint256",name:"amount1",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token0",type:"address"},{internalType:"address",name:"token1",type:"address"},{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"uint160",name:"sqrtPriceX96",type:"uint160"}],name:"createAndInitializePoolIfNecessary",outputs:[{internalType:"address",name:"pool",type:"address"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint128",name:"liquidity",type:"uint128"},{internalType:"uint256",name:"amount0Min",type:"uint256"},{internalType:"uint256",name:"amount1Min",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"}],internalType:"struct INonfungiblePositionManager.DecreaseLiquidityParams",name:"params",type:"tuple"}],name:"decreaseLiquidity",outputs:[{internalType:"uint256",name:"amount0",type:"uint256"},{internalType:"uint256",name:"amount1",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[],name:"factory",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"amount0Desired",type:"uint256"},{internalType:"uint256",name:"amount1Desired",type:"uint256"},{internalType:"uint256",name:"amount0Min",type:"uint256"},{internalType:"uint256",name:"amount1Min",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"}],internalType:"struct INonfungiblePositionManager.IncreaseLiquidityParams",name:"params",type:"tuple"}],name:"increaseLiquidity",outputs:[{internalType:"uint128",name:"liquidity",type:"uint128"},{internalType:"uint256",name:"amount0",type:"uint256"},{internalType:"uint256",name:"amount1",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"address",name:"token0",type:"address"},{internalType:"address",name:"token1",type:"address"},{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"int24",name:"tickLower",type:"int24"},{internalType:"int24",name:"tickUpper",type:"int24"},{internalType:"uint256",name:"amount0Desired",type:"uint256"},{internalType:"uint256",name:"amount1Desired",type:"uint256"},{internalType:"uint256",name:"amount0Min",type:"uint256"},{internalType:"uint256",name:"amount1Min",type:"uint256"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"}],internalType:"struct INonfungiblePositionManager.MintParams",name:"params",type:"tuple"}],name:"mint",outputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint128",name:"liquidity",type:"uint128"},{internalType:"uint256",name:"amount0",type:"uint256"},{internalType:"uint256",name:"amount1",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes[]",name:"data",type:"bytes[]"}],name:"multicall",outputs:[{internalType:"bytes[]",name:"results",type:"bytes[]"}],stateMutability:"payable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"permit",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"positions",outputs:[{internalType:"uint96",name:"nonce",type:"uint96"},{internalType:"address",name:"operator",type:"address"},{internalType:"address",name:"token0",type:"address"},{internalType:"address",name:"token1",type:"address"},{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"int24",name:"tickLower",type:"int24"},{internalType:"int24",name:"tickUpper",type:"int24"},{internalType:"uint128",name:"liquidity",type:"uint128"},{internalType:"uint256",name:"feeGrowthInside0LastX128",type:"uint256"},{internalType:"uint256",name:"feeGrowthInside1LastX128",type:"uint256"},{internalType:"uint128",name:"tokensOwed0",type:"uint128"},{internalType:"uint128",name:"tokensOwed1",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[],name:"refundETH",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"selfPermit",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"selfPermitAllowed",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"selfPermitAllowedIfNecessary",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"selfPermitIfNecessary",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"address",name:"recipient",type:"address"}],name:"sweepToken",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenOfOwnerByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amount0Owed",type:"uint256"},{internalType:"uint256",name:"amount1Owed",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"uniswapV3MintCallback",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"address",name:"recipient",type:"address"}],name:"unwrapWETH9",outputs:[],stateMutability:"payable",type:"function"},{stateMutability:"payable",type:"receive"}],w6=[{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"selfPermit",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"selfPermitAllowed",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"selfPermitAllowedIfNecessary",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"selfPermitIfNecessary",outputs:[],stateMutability:"payable",type:"function"}],_6=[{inputs:[],name:"refundETH",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"address",name:"recipient",type:"address"}],name:"sweepToken",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"feeBips",type:"uint256"},{internalType:"address",name:"feeRecipient",type:"address"}],name:"sweepTokenWithFee",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"address",name:"recipient",type:"address"}],name:"unwrapWETH9",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"feeBips",type:"uint256"},{internalType:"address",name:"feeRecipient",type:"address"}],name:"unwrapWETH9WithFee",outputs:[],stateMutability:"payable",type:"function"}],E6=[{inputs:[{internalType:"address",name:"_factory",type:"address"},{internalType:"address",name:"_WETH9",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"WETH9",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"factory",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"path",type:"bytes"},{internalType:"uint256",name:"amountIn",type:"uint256"}],name:"quoteExactInput",outputs:[{internalType:"uint256",name:"amountOut",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint160",name:"sqrtPriceLimitX96",type:"uint160"}],name:"quoteExactInputSingle",outputs:[{internalType:"uint256",name:"amountOut",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes",name:"path",type:"bytes"},{internalType:"uint256",name:"amountOut",type:"uint256"}],name:"quoteExactOutput",outputs:[{internalType:"uint256",name:"amountIn",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"uint160",name:"sqrtPriceLimitX96",type:"uint160"}],name:"quoteExactOutputSingle",outputs:[{internalType:"uint256",name:"amountIn",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"int256",name:"amount0Delta",type:"int256"},{internalType:"int256",name:"amount1Delta",type:"int256"},{internalType:"bytes",name:"path",type:"bytes"}],name:"uniswapV3SwapCallback",outputs:[],stateMutability:"view",type:"function"}],T6=[{inputs:[{internalType:"address",name:"_factory",type:"address"},{internalType:"address",name:"_WETH9",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"WETH9",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"factory",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"path",type:"bytes"},{internalType:"uint256",name:"amountIn",type:"uint256"}],name:"quoteExactInput",outputs:[{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"uint160[]",name:"sqrtPriceX96AfterList",type:"uint160[]"},{internalType:"uint32[]",name:"initializedTicksCrossedList",type:"uint32[]"},{internalType:"uint256",name:"gasEstimate",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"uint160",name:"sqrtPriceLimitX96",type:"uint160"}],internalType:"struct IQuoterV2.QuoteExactInputSingleParams",name:"params",type:"tuple"}],name:"quoteExactInputSingle",outputs:[{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"uint160",name:"sqrtPriceX96After",type:"uint160"},{internalType:"uint32",name:"initializedTicksCrossed",type:"uint32"},{internalType:"uint256",name:"gasEstimate",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes",name:"path",type:"bytes"},{internalType:"uint256",name:"amountOut",type:"uint256"}],name:"quoteExactOutput",outputs:[{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint160[]",name:"sqrtPriceX96AfterList",type:"uint160[]"},{internalType:"uint32[]",name:"initializedTicksCrossedList",type:"uint32[]"},{internalType:"uint256",name:"gasEstimate",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"uint160",name:"sqrtPriceLimitX96",type:"uint160"}],internalType:"struct IQuoterV2.QuoteExactOutputSingleParams",name:"params",type:"tuple"}],name:"quoteExactOutputSingle",outputs:[{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint160",name:"sqrtPriceX96After",type:"uint160"},{internalType:"uint32",name:"initializedTicksCrossed",type:"uint32"},{internalType:"uint256",name:"gasEstimate",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"int256",name:"amount0Delta",type:"int256"},{internalType:"int256",name:"amount1Delta",type:"int256"},{internalType:"bytes",name:"path",type:"bytes"}],name:"uniswapV3SwapCallback",outputs:[],stateMutability:"view",type:"function"}],A6=[{inputs:[{internalType:"contract IUniswapV3Factory",name:"_factory",type:"address"},{internalType:"contract INonfungiblePositionManager",name:"_nonfungiblePositionManager",type:"address"},{internalType:"uint256",name:"_maxIncentiveStartLeadTime",type:"uint256"},{internalType:"uint256",name:"_maxIncentiveDuration",type:"uint256"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!0,internalType:"address",name:"oldOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"DepositTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"contract IERC20Minimal",name:"rewardToken",type:"address"},{indexed:!0,internalType:"contract IUniswapV3Pool",name:"pool",type:"address"},{indexed:!1,internalType:"uint256",name:"startTime",type:"uint256"},{indexed:!1,internalType:"uint256",name:"endTime",type:"uint256"},{indexed:!1,internalType:"address",name:"refundee",type:"address"},{indexed:!1,internalType:"uint256",name:"reward",type:"uint256"}],name:"IncentiveCreated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"incentiveId",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"refund",type:"uint256"}],name:"IncentiveEnded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"reward",type:"uint256"}],name:"RewardClaimed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!0,internalType:"bytes32",name:"incentiveId",type:"bytes32"},{indexed:!1,internalType:"uint128",name:"liquidity",type:"uint128"}],name:"TokenStaked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!0,internalType:"bytes32",name:"incentiveId",type:"bytes32"}],name:"TokenUnstaked",type:"event"},{inputs:[{internalType:"contract IERC20Minimal",name:"rewardToken",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amountRequested",type:"uint256"}],name:"claimReward",outputs:[{internalType:"uint256",name:"reward",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"contract IERC20Minimal",name:"rewardToken",type:"address"},{internalType:"contract IUniswapV3Pool",name:"pool",type:"address"},{internalType:"uint256",name:"startTime",type:"uint256"},{internalType:"uint256",name:"endTime",type:"uint256"},{internalType:"address",name:"refundee",type:"address"}],internalType:"struct IUniswapV3Staker.IncentiveKey",name:"key",type:"tuple"},{internalType:"uint256",name:"reward",type:"uint256"}],name:"createIncentive",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"deposits",outputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint48",name:"numberOfStakes",type:"uint48"},{internalType:"int24",name:"tickLower",type:"int24"},{internalType:"int24",name:"tickUpper",type:"int24"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"contract IERC20Minimal",name:"rewardToken",type:"address"},{internalType:"contract IUniswapV3Pool",name:"pool",type:"address"},{internalType:"uint256",name:"startTime",type:"uint256"},{internalType:"uint256",name:"endTime",type:"uint256"},{internalType:"address",name:"refundee",type:"address"}],internalType:"struct IUniswapV3Staker.IncentiveKey",name:"key",type:"tuple"}],name:"endIncentive",outputs:[{internalType:"uint256",name:"refund",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"factory",outputs:[{internalType:"contract IUniswapV3Factory",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"contract IERC20Minimal",name:"rewardToken",type:"address"},{internalType:"contract IUniswapV3Pool",name:"pool",type:"address"},{internalType:"uint256",name:"startTime",type:"uint256"},{internalType:"uint256",name:"endTime",type:"uint256"},{internalType:"address",name:"refundee",type:"address"}],internalType:"struct IUniswapV3Staker.IncentiveKey",name:"key",type:"tuple"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getRewardInfo",outputs:[{internalType:"uint256",name:"reward",type:"uint256"},{internalType:"uint160",name:"secondsInsideX128",type:"uint160"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"incentives",outputs:[{internalType:"uint256",name:"totalRewardUnclaimed",type:"uint256"},{internalType:"uint160",name:"totalSecondsClaimedX128",type:"uint160"},{internalType:"uint96",name:"numberOfStakes",type:"uint96"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxIncentiveDuration",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxIncentiveStartLeadTime",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes[]",name:"data",type:"bytes[]"}],name:"multicall",outputs:[{internalType:"bytes[]",name:"results",type:"bytes[]"}],stateMutability:"payable",type:"function"},{inputs:[],name:"nonfungiblePositionManager",outputs:[{internalType:"contract INonfungiblePositionManager",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"from",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"onERC721Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IERC20Minimal",name:"",type:"address"},{internalType:"address",name:"",type:"address"}],name:"rewards",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"contract IERC20Minimal",name:"rewardToken",type:"address"},{internalType:"contract IUniswapV3Pool",name:"pool",type:"address"},{internalType:"uint256",name:"startTime",type:"uint256"},{internalType:"uint256",name:"endTime",type:"uint256"},{internalType:"address",name:"refundee",type:"address"}],internalType:"struct IUniswapV3Staker.IncentiveKey",name:"key",type:"tuple"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"stakeToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes32",name:"incentiveId",type:"bytes32"}],name:"stakes",outputs:[{internalType:"uint160",name:"secondsPerLiquidityInsideInitialX128",type:"uint160"},{internalType:"uint128",name:"liquidity",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"address",name:"to",type:"address"}],name:"transferDeposit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"contract IERC20Minimal",name:"rewardToken",type:"address"},{internalType:"contract IUniswapV3Pool",name:"pool",type:"address"},{internalType:"uint256",name:"startTime",type:"uint256"},{internalType:"uint256",name:"endTime",type:"uint256"},{internalType:"address",name:"refundee",type:"address"}],internalType:"struct IUniswapV3Staker.IncentiveKey",name:"key",type:"tuple"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"unstakeToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"address",name:"to",type:"address"},{internalType:"bytes",name:"data",type:"bytes"}],name:"withdrawToken",outputs:[],stateMutability:"nonpayable",type:"function"}],R6=[{inputs:[{internalType:"address",name:"_factory",type:"address"},{internalType:"address",name:"_WETH9",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"WETH9",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"bytes",name:"path",type:"bytes"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint256",name:"amountOutMinimum",type:"uint256"}],internalType:"struct ISwapRouter.ExactInputParams",name:"params",type:"tuple"}],name:"exactInput",outputs:[{internalType:"uint256",name:"amountOut",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint256",name:"amountOutMinimum",type:"uint256"},{internalType:"uint160",name:"sqrtPriceLimitX96",type:"uint160"}],internalType:"struct ISwapRouter.ExactInputSingleParams",name:"params",type:"tuple"}],name:"exactInputSingle",outputs:[{internalType:"uint256",name:"amountOut",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"bytes",name:"path",type:"bytes"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"uint256",name:"amountInMaximum",type:"uint256"}],internalType:"struct ISwapRouter.ExactOutputParams",name:"params",type:"tuple"}],name:"exactOutput",outputs:[{internalType:"uint256",name:"amountIn",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"uint256",name:"amountInMaximum",type:"uint256"},{internalType:"uint160",name:"sqrtPriceLimitX96",type:"uint160"}],internalType:"struct ISwapRouter.ExactOutputSingleParams",name:"params",type:"tuple"}],name:"exactOutputSingle",outputs:[{internalType:"uint256",name:"amountIn",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[],name:"factory",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes[]",name:"data",type:"bytes[]"}],name:"multicall",outputs:[{internalType:"bytes[]",name:"results",type:"bytes[]"}],stateMutability:"payable",type:"function"},{inputs:[],name:"refundETH",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"selfPermit",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"selfPermitAllowed",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"selfPermitAllowedIfNecessary",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"selfPermitIfNecessary",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"address",name:"recipient",type:"address"}],name:"sweepToken",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"feeBips",type:"uint256"},{internalType:"address",name:"feeRecipient",type:"address"}],name:"sweepTokenWithFee",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"int256",name:"amount0Delta",type:"int256"},{internalType:"int256",name:"amount1Delta",type:"int256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"uniswapV3SwapCallback",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"address",name:"recipient",type:"address"}],name:"unwrapWETH9",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"feeBips",type:"uint256"},{internalType:"address",name:"feeRecipient",type:"address"}],name:"unwrapWETH9WithFee",outputs:[],stateMutability:"payable",type:"function"},{stateMutability:"payable",type:"receive"}];function S6(e,t,n,r,i,a,s){try{var o=e[a](s),c=o.value}catch(e){return void n(e)}o.done?t(c):Promise.resolve(c).then(r,i)}function k6(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function s(e){S6(a,r,i,s,o,"next",e)}function o(e){S6(a,r,i,s,o,"throw",e)}s(void 0)}))}}function O6(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I6(e,t,n){return t&&O6(e.prototype,t),n&&O6(e,n),e}function x6(){return x6=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},x6.apply(this,arguments)}function C6(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function M6(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return C6(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C6(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}var P6,N6,B6=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e){var t=function(e){var t,n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",o=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof b?t:b,a=Object.create(i.prototype),s=new O(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===h)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return x()}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var o=R(s,n);if(o){if(o===m)continue;return o}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var c=d(e,t,n);if("normal"===c.type){if(r=n.done?p:l,c.arg===m)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=p,n.method="throw",n.arg=c.arg)}}}(e,n,s),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f="suspendedStart",l="suspendedYield",h="executing",p="completed",m={};function b(){}function y(){}function g(){}var v={};v[a]=function(){return this};var w=Object.getPrototypeOf,_=w&&w(w(I([])));_&&_!==n&&r.call(_,a)&&(v=_);var E=g.prototype=b.prototype=Object.create(v);function T(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function n(i,a,s,o){var c=d(e[i],e,a);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,s,o)}),(function(e){n("throw",e,s,o)})):t.resolve(f).then((function(e){u.value=e,s(u)}),(function(e){return n("throw",e,s,o)}))}o(c.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function R(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,R(e,n),"throw"===n.method))return m;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var i=d(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function I(e){if(e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,s=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return s.next=s}}return{next:x}}function x(){return{value:t,done:!0}}return y.prototype=E.constructor=g,g.constructor=y,y.displayName=c(g,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,c(e,o,"GeneratorFunction")),e.prototype=Object.create(E),e},e.awrap=function(e){return{__await:e}},T(A.prototype),A.prototype[s]=function(){return this},e.AsyncIterator=A,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var s=new A(u(t,n,r,i),a);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},T(E),c(E,o,"Generator"),E[a]=function(){return this},E.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=I,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(k),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return o.type="throw",o.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a],o=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var c=r.call(s,"catchLoc"),u=r.call(s,"finallyLoc");if(c&&u){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=e,s.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;k(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:I(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}(e.exports);try{regeneratorRuntime=t}catch(e){Function("r","regeneratorRuntime = r")(t)}})),D6="0x1F98431c8aD98523631AE4a59f267346ea31F984",L6="0x0000000000000000000000000000000000000000",F6="0xe34f199b19b2b4f47f68442619d555527d244f78a3297ea89325f843f87b8b54";!function(e){e[e.LOWEST=100]="LOWEST",e[e.LOW=500]="LOW",e[e.MEDIUM=3e3]="MEDIUM",e[e.HIGH=1e4]="HIGH"}(N6||(N6={}));var U6=((P6={})[N6.LOWEST]=1,P6[N6.LOW]=10,P6[N6.MEDIUM]=60,P6[N6.HIGH]=200,P6),j6=e1.BigInt(-1),q6=e1.BigInt(0),z6=e1.BigInt(1),H6=e1.exponentiate(e1.BigInt(2),e1.BigInt(96)),G6=e1.exponentiate(H6,e1.BigInt(2));function W6(e){var t=e.factoryAddress,n=e.tokenA,r=e.tokenB,i=e.fee,a=e.initCodeHashManualOverride,s=n.sortsBefore(r)?[n,r]:[r,n],o=s[0],c=s[1];return Ts(t,gb(["bytes"],[ko.encode(["address","address","uint24"],[o.address,c.address,i])]),null!=a?a:F6)}var V6=function(){function e(){}return e.addDelta=function(e,t){return e1.lessThan(t,q6)?e1.subtract(e,e1.multiply(t,j6)):e1.add(e,t)},e}(),K6=function(){function e(){}return e.mulDivRoundingUp=function(e,t,n){var r=e1.multiply(e,t),i=e1.divide(r,n);return e1.notEqual(e1.remainder(r,n),q6)&&(i=e1.add(i,z6)),i},e}(),X6=e1.subtract(e1.exponentiate(e1.BigInt(2),e1.BigInt(160)),z6);function $6(e,t){var n=e1.multiply(e,t);return e1.bitwiseAnd(n,J1)}var J6=function(){function e(){}return e.getAmount0Delta=function(e,t,n,r){if(e1.greaterThan(e,t)){var i=[t,e];e=i[0],t=i[1]}var a=e1.leftShift(n,e1.BigInt(96)),s=e1.subtract(t,e);return r?K6.mulDivRoundingUp(K6.mulDivRoundingUp(a,s,t),z6,e):e1.divide(e1.divide(e1.multiply(a,s),t),e)},e.getAmount1Delta=function(e,t,n,r){if(e1.greaterThan(e,t)){var i=[t,e];e=i[0],t=i[1]}return r?K6.mulDivRoundingUp(n,e1.subtract(t,e),H6):e1.divide(e1.multiply(n,e1.subtract(t,e)),H6)},e.getNextSqrtPriceFromInput=function(e,t,n,r){return e1.greaterThan(e,q6)||n1(!1),e1.greaterThan(t,q6)||n1(!1),r?this.getNextSqrtPriceFromAmount0RoundingUp(e,t,n,!0):this.getNextSqrtPriceFromAmount1RoundingDown(e,t,n,!0)},e.getNextSqrtPriceFromOutput=function(e,t,n,r){return e1.greaterThan(e,q6)||n1(!1),e1.greaterThan(t,q6)||n1(!1),r?this.getNextSqrtPriceFromAmount1RoundingDown(e,t,n,!1):this.getNextSqrtPriceFromAmount0RoundingUp(e,t,n,!1)},e.getNextSqrtPriceFromAmount0RoundingUp=function(e,t,n,r){if(e1.equal(n,q6))return e;var i=e1.leftShift(t,e1.BigInt(96));if(r){var a=$6(n,e);if(e1.equal(e1.divide(a,n),e)){var s=function(e,t){var n=e1.add(e,t);return e1.bitwiseAnd(n,J1)}(i,a);if(e1.greaterThanOrEqual(s,i))return K6.mulDivRoundingUp(i,e,s)}return K6.mulDivRoundingUp(i,z6,e1.add(e1.divide(i,e),n))}var o=$6(n,e);e1.equal(e1.divide(o,n),e)||n1(!1),e1.greaterThan(i,o)||n1(!1);var c=e1.subtract(i,o);return K6.mulDivRoundingUp(i,e,c)},e.getNextSqrtPriceFromAmount1RoundingDown=function(e,t,n,r){if(r){var i=e1.lessThanOrEqual(n,X6)?e1.divide(e1.leftShift(n,e1.BigInt(96)),t):e1.divide(e1.multiply(n,H6),t);return e1.add(e,i)}var a=K6.mulDivRoundingUp(n,H6,t);return e1.greaterThan(e,a)||n1(!1),e1.subtract(e,a)},e}(),Y6=e1.exponentiate(e1.BigInt(10),e1.BigInt(6)),Q6=function(){function e(){}return e.computeSwapStep=function(e,t,n,r,i){var a={},s=e1.greaterThanOrEqual(e,t),o=e1.greaterThanOrEqual(r,q6);if(o){var c=e1.divide(e1.multiply(r,e1.subtract(Y6,e1.BigInt(i))),Y6);a.amountIn=s?J6.getAmount0Delta(t,e,n,!0):J6.getAmount1Delta(e,t,n,!0),e1.greaterThanOrEqual(c,a.amountIn)?a.sqrtRatioNextX96=t:a.sqrtRatioNextX96=J6.getNextSqrtPriceFromInput(e,n,c,s)}else a.amountOut=s?J6.getAmount1Delta(t,e,n,!1):J6.getAmount0Delta(e,t,n,!1),e1.greaterThanOrEqual(e1.multiply(r,j6),a.amountOut)?a.sqrtRatioNextX96=t:a.sqrtRatioNextX96=J6.getNextSqrtPriceFromOutput(e,n,e1.multiply(r,j6),s);var u=e1.equal(t,a.sqrtRatioNextX96);return s?(a.amountIn=u&&o?a.amountIn:J6.getAmount0Delta(a.sqrtRatioNextX96,e,n,!0),a.amountOut=u&&!o?a.amountOut:J6.getAmount1Delta(a.sqrtRatioNextX96,e,n,!1)):(a.amountIn=u&&o?a.amountIn:J6.getAmount1Delta(e,a.sqrtRatioNextX96,n,!0),a.amountOut=u&&!o?a.amountOut:J6.getAmount0Delta(e,a.sqrtRatioNextX96,n,!1)),!o&&e1.greaterThan(a.amountOut,e1.multiply(r,j6))&&(a.amountOut=e1.multiply(r,j6)),o&&e1.notEqual(a.sqrtRatioNextX96,t)?a.feeAmount=e1.subtract(r,a.amountIn):a.feeAmount=K6.mulDivRoundingUp(a.amountIn,e1.BigInt(i),e1.subtract(Y6,e1.BigInt(i))),[a.sqrtRatioNextX96,a.amountIn,a.amountOut,a.feeAmount]},e}(),Z6=e1.BigInt(2),e2=[128,64,32,16,8,4,2,1].map((function(e){return[e,e1.exponentiate(Z6,e1.BigInt(e))]}));function t2(e){e1.greaterThan(e,q6)||n1(!1),e1.lessThanOrEqual(e,J1)||n1(!1);for(var t,n=0,r=M6(e2);!(t=r()).done;){var i=t.value,a=i[0],s=i[1];e1.greaterThanOrEqual(e,s)&&(e=e1.signedRightShift(e,e1.BigInt(a)),n+=a)}return n}function n2(e,t){return e1.signedRightShift(e1.multiply(e,e1.BigInt(t)),e1.BigInt(128))}var r2=e1.exponentiate(e1.BigInt(2),e1.BigInt(32)),i2=function(){function e(){}return e.getSqrtRatioAtTick=function(t){t>=e.MIN_TICK&&t<=e.MAX_TICK&&Number.isInteger(t)||n1(!1);var n=t<0?-1*t:t,r=0!=(1&n)?e1.BigInt("0xfffcb933bd6fad37aa2d162d1a594001"):e1.BigInt("0x100000000000000000000000000000000");return 0!=(2&n)&&(r=n2(r,"0xfff97272373d413259a46990580e213a")),0!=(4&n)&&(r=n2(r,"0xfff2e50f5f656932ef12357cf3c7fdcc")),0!=(8&n)&&(r=n2(r,"0xffe5caca7e10e4e61c3624eaa0941cd0")),0!=(16&n)&&(r=n2(r,"0xffcb9843d60f6159c9db58835c926644")),0!=(32&n)&&(r=n2(r,"0xff973b41fa98c081472e6896dfb254c0")),0!=(64&n)&&(r=n2(r,"0xff2ea16466c96a3843ec78b326b52861")),0!=(128&n)&&(r=n2(r,"0xfe5dee046a99a2a811c461f1969c3053")),0!=(256&n)&&(r=n2(r,"0xfcbe86c7900a88aedcffc83b479aa3a4")),0!=(512&n)&&(r=n2(r,"0xf987a7253ac413176f2b074cf7815e54")),0!=(1024&n)&&(r=n2(r,"0xf3392b0822b70005940c7a398e4b70f3")),0!=(2048&n)&&(r=n2(r,"0xe7159475a2c29b7443b29c7fa6e889d9")),0!=(4096&n)&&(r=n2(r,"0xd097f3bdfd2022b8845ad8f792aa5825")),0!=(8192&n)&&(r=n2(r,"0xa9f746462d870fdf8a65dc1f90e061e5")),0!=(16384&n)&&(r=n2(r,"0x70d869a156d2a1b890bb3df62baf32f7")),0!=(32768&n)&&(r=n2(r,"0x31be135f97d08fd981231505542fcfa6")),0!=(65536&n)&&(r=n2(r,"0x9aa508b5b7a84e1c677de54f3e99bc9")),0!=(131072&n)&&(r=n2(r,"0x5d6af8dedb81196699c329225ee604")),0!=(262144&n)&&(r=n2(r,"0x2216e584f5fa1ea926041bedfe98")),0!=(524288&n)&&(r=n2(r,"0x48a170391f7dc42444e8fa2")),t>0&&(r=e1.divide(J1,r)),e1.greaterThan(e1.remainder(r,r2),q6)?e1.add(e1.divide(r,r2),z6):e1.divide(r,r2)},e.getTickAtSqrtRatio=function(t){e1.greaterThanOrEqual(t,e.MIN_SQRT_RATIO)&&e1.lessThan(t,e.MAX_SQRT_RATIO)||n1(!1);var n,r=e1.leftShift(t,e1.BigInt(32)),i=t2(r);n=e1.greaterThanOrEqual(e1.BigInt(i),e1.BigInt(128))?e1.signedRightShift(r,e1.BigInt(i-127)):e1.leftShift(r,e1.BigInt(127-i));for(var a=e1.leftShift(e1.subtract(e1.BigInt(i),e1.BigInt(128)),e1.BigInt(64)),s=0;s<14;s++){n=e1.signedRightShift(e1.multiply(n,n),e1.BigInt(127));var o=e1.signedRightShift(n,e1.BigInt(128));a=e1.bitwiseOr(a,e1.leftShift(o,e1.BigInt(63-s))),n=e1.signedRightShift(n,o)}var c=e1.multiply(a,e1.BigInt("255738958999603826347141")),u=e1.toNumber(e1.signedRightShift(e1.subtract(c,e1.BigInt("3402992956809132418596140100660247210")),e1.BigInt(128))),d=e1.toNumber(e1.signedRightShift(e1.add(c,e1.BigInt("291339464771989622907027621153398088495")),e1.BigInt(128)));return u===d?u:e1.lessThanOrEqual(e.getSqrtRatioAtTick(d),t)?d:u},e}();i2.MIN_TICK=-887272,i2.MAX_TICK=-i2.MIN_TICK,i2.MIN_SQRT_RATIO=e1.BigInt("4295128739"),i2.MAX_SQRT_RATIO=e1.BigInt("1461446703485210103287273052203988822378723970342");var a2=function(){function e(){}var t=e.prototype;return t.getTick=function(){var t=k6(B6.mark((function t(n){return B6.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:throw new Error(e.ERROR_MESSAGE);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),t.nextInitializedTickWithinOneWord=function(){var t=k6(B6.mark((function t(n,r,i){return B6.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:throw new Error(e.ERROR_MESSAGE);case 1:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),e}();function s2(e,t){for(var n=0;n<e.length-1;n++)if(t(e[n],e[n+1])>0)return!1;return!0}function o2(e,t){return e.index-t.index}a2.ERROR_MESSAGE="No tick data provider was given";var c2=function(){function e(){}return e.validateList=function(e,t){t>0||n1(!1),e.every((function(e){return e.index%t==0}))||n1(!1),e1.equal(e.reduce((function(e,t){var n=t.liquidityNet;return e1.add(e,n)}),q6),q6)||n1(!1),s2(e,o2)||n1(!1)},e.isBelowSmallest=function(e,t){return e.length>0||n1(!1),t<e[0].index},e.isAtOrAboveLargest=function(e,t){return e.length>0||n1(!1),t>=e[e.length-1].index},e.getTick=function(e,t){var n=e[this.binarySearch(e,t)];return n.index!==t&&n1(!1),n},e.binarySearch=function(e,t){this.isBelowSmallest(e,t)&&n1(!1);for(var n,r=0,i=e.length-1;;){if(e[n=Math.floor((r+i)/2)].index<=t&&(n===e.length-1||e[n+1].index>t))return n;e[n].index<t?r=n+1:i=n-1}},e.nextInitializedTick=function(t,n,r){return r?(e.isBelowSmallest(t,n)&&n1(!1),e.isAtOrAboveLargest(t,n)?t[t.length-1]:t[this.binarySearch(t,n)]):(this.isAtOrAboveLargest(t,n)&&n1(!1),this.isBelowSmallest(t,n)?t[0]:t[this.binarySearch(t,n)+1])},e.nextInitializedTickWithinOneWord=function(t,n,r,i){var a=Math.floor(n/i);if(r){var s=(a>>8<<8)*i;if(e.isBelowSmallest(t,n))return[s,!1];var o=e.nextInitializedTick(t,n,r).index,c=Math.max(s,o);return[c,c===o]}var u=(((a+1>>8)+1<<8)-1)*i;if(this.isAtOrAboveLargest(t,n))return[u,!1];var d=this.nextInitializedTick(t,n,r).index,f=Math.min(u,d);return[f,f===d]},e}();function u2(e){var t=e1.BigInt(e).toString(16);return t.length%2!=0&&(t="0"+t),"0x"+t}function d2(e,t){var n=e.input.wrapped,r=e.pools.reduce((function(e,t,n){var r=e.inputToken,i=e.path,a=e.types,s=t.token0.equals(r)?t.token1:t.token0;return 0===n?{inputToken:s,types:["address","uint24","address"],path:[r.address,t.fee,s.address]}:{inputToken:s,types:[].concat(a,["uint24","address"]),path:[].concat(i,[t.fee,s.address])}}),{inputToken:n,path:[],types:[]}),i=r.path,a=r.types;return t?yb(a.reverse(),i.reverse()):yb(a,i)}function f2(e,t){var n=e1.leftShift(e1.BigInt(e),e1.BigInt(192)),r=e1.BigInt(t);return function(e){if(e1.greaterThanOrEqual(e,m6)||n1(!1),e1.lessThan(e,p6))return e1.BigInt(Math.floor(Math.sqrt(e1.toNumber(e))));var t,n;for(t=e,n=e1.add(e1.divide(e,y6),b6);e1.lessThan(n,t);)t=n,n=e1.divide(e1.add(e1.divide(e,n),n),y6);return t}(e1.divide(n,r))}function l2(e,t,n){if(e1.greaterThan(e,t)){var r=[t,e];e=r[0],t=r[1]}var i=e1.divide(e1.multiply(e,t),H6);return e1.divide(e1.multiply(e1.BigInt(n),i),e1.subtract(t,e))}function h2(e,t,n){if(e1.greaterThan(e,t)){var r=[t,e];e=r[0],t=r[1]}var i=e1.multiply(e1.multiply(e1.BigInt(n),e),t),a=e1.multiply(H6,e1.subtract(t,e));return e1.divide(i,a)}function p2(e,t,n){if(e1.greaterThan(e,t)){var r=[t,e];e=r[0],t=r[1]}return e1.divide(e1.multiply(e1.BigInt(n),H6),e1.subtract(t,e))}function m2(e,t,n,r,i,a){if(e1.greaterThan(t,n)){var s=[n,t];t=s[0],n=s[1]}var o=a?h2:l2;if(e1.lessThanOrEqual(e,t))return o(t,n,r);if(e1.lessThan(e,n)){var c=o(e,n,r),u=p2(t,e,i);return e1.lessThan(c,u)?c:u}return p2(t,n,i)}var b2=e1.exponentiate(e1.BigInt(2),e1.BigInt(128)),y2=function(){function e(){}return e.getTokensOwed=function(e,t,n,r,i){return[e1.divide(e1.multiply(w2(r,e),n),b2),e1.divide(e1.multiply(w2(i,t),n),b2)]},e}();function g2(e,t,n){var r=i2.getSqrtRatioAtTick(n),i=e1.multiply(r,r);return e.sortsBefore(t)?new o6(e,t,G6,i):new o6(e,t,i,G6)}var v2=e1.exponentiate(e1.BigInt(2),e1.BigInt(256));function w2(e,t){var n=e1.subtract(e,t);return e1.lessThan(n,q6)?e1.add(v2,n):n}var _2=function(){function e(){}return e.getFeeGrowthInside=function(e,t,n,r,i,a,s){var o,c,u,d;return i>=n?(o=e.feeGrowthOutside0X128,c=e.feeGrowthOutside1X128):(o=w2(a,e.feeGrowthOutside0X128),c=w2(s,e.feeGrowthOutside1X128)),i<r?(u=t.feeGrowthOutside0X128,d=t.feeGrowthOutside1X128):(u=w2(a,t.feeGrowthOutside0X128),d=w2(s,t.feeGrowthOutside1X128)),[w2(w2(a,o),u),w2(w2(s,c),d)]},e}(),E2=function(e){var t=e.index,n=e.liquidityGross,r=e.liquidityNet;t>=i2.MIN_TICK&&t<=i2.MAX_TICK||n1(!1),this.index=t,this.liquidityGross=e1.BigInt(n),this.liquidityNet=e1.BigInt(r)},T2=function(){function e(e,t){var n=e.map((function(e){return e instanceof E2?e:new E2(e)}));c2.validateList(n,t),this.ticks=n}var t=e.prototype;return t.getTick=function(){var e=k6(B6.mark((function e(t){return B6.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",c2.getTick(this.ticks,t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.nextInitializedTickWithinOneWord=function(){var e=k6(B6.mark((function e(t,n,r){return B6.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",c2.nextInitializedTickWithinOneWord(this.ticks,t,n,r));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}(),e}(),A2=new a2,R2=function(){function e(e,t,n,r,i,a,s){void 0===s&&(s=A2),Number.isInteger(n)&&n<1e6||n1(!1);var o=i2.getSqrtRatioAtTick(a),c=i2.getSqrtRatioAtTick(a+1);e1.greaterThanOrEqual(e1.BigInt(r),o)&&e1.lessThanOrEqual(e1.BigInt(r),c)||n1(!1);var u=e.sortsBefore(t)?[e,t]:[t,e];this.token0=u[0],this.token1=u[1],this.fee=n,this.sqrtRatioX96=e1.BigInt(r),this.liquidity=e1.BigInt(i),this.tickCurrent=a,this.tickDataProvider=Array.isArray(s)?new T2(s,U6[n]):s}e.getAddress=function(e,t,n,r,i){return W6({factoryAddress:null!=i?i:D6,fee:n,tokenA:e,tokenB:t,initCodeHashManualOverride:r})};var t=e.prototype;return t.involvesToken=function(e){return e.equals(this.token0)||e.equals(this.token1)},t.priceOf=function(e){return this.involvesToken(e)||n1(!1),e.equals(this.token0)?this.token0Price:this.token1Price},t.getOutputAmount=function(){var t=k6(B6.mark((function t(n,r){var i,a,s,o,c,u,d;return B6.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.involvesToken(n.currency)||n1(!1),i=n.currency.equals(this.token0),t.next=4,this.swap(i,n.quotient,r);case 4:return a=t.sent,s=a.amountCalculated,o=a.sqrtRatioX96,c=a.liquidity,u=a.tickCurrent,d=i?this.token1:this.token0,t.abrupt("return",[r6.fromRawAmount(d,e1.multiply(s,j6)),new e(this.token0,this.token1,this.fee,o,c,u,this.tickDataProvider)]);case 11:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}(),t.getInputAmount=function(){var t=k6(B6.mark((function t(n,r){var i,a,s,o,c,u,d;return B6.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.currency.isToken&&this.involvesToken(n.currency)||n1(!1),i=n.currency.equals(this.token1),t.next=4,this.swap(i,e1.multiply(n.quotient,j6),r);case 4:return a=t.sent,s=a.amountCalculated,o=a.sqrtRatioX96,c=a.liquidity,u=a.tickCurrent,d=i?this.token0:this.token1,t.abrupt("return",[r6.fromRawAmount(d,s),new e(this.token0,this.token1,this.fee,o,c,u,this.tickDataProvider)]);case 11:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}(),t.swap=function(){var e=k6(B6.mark((function e(t,n,r){var i,a,s,o,c,u;return B6.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r||(r=t?e1.add(i2.MIN_SQRT_RATIO,z6):e1.subtract(i2.MAX_SQRT_RATIO,z6)),t?(e1.greaterThan(r,i2.MIN_SQRT_RATIO)||n1(!1),e1.lessThan(r,this.sqrtRatioX96)||n1(!1)):(e1.lessThan(r,i2.MAX_SQRT_RATIO)||n1(!1),e1.greaterThan(r,this.sqrtRatioX96)||n1(!1)),i=e1.greaterThanOrEqual(n,q6),a={amountSpecifiedRemaining:n,amountCalculated:q6,sqrtPriceX96:this.sqrtRatioX96,tick:this.tickCurrent,liquidity:this.liquidity};case 4:if(!e1.notEqual(a.amountSpecifiedRemaining,q6)||a.sqrtPriceX96==r){e.next=35;break}return(s={}).sqrtPriceStartX96=a.sqrtPriceX96,e.next=9,this.tickDataProvider.nextInitializedTickWithinOneWord(a.tick,t,this.tickSpacing);case 9:if(o=e.sent,s.tickNext=o[0],s.initialized=o[1],s.tickNext<i2.MIN_TICK?s.tickNext=i2.MIN_TICK:s.tickNext>i2.MAX_TICK&&(s.tickNext=i2.MAX_TICK),s.sqrtPriceNextX96=i2.getSqrtRatioAtTick(s.tickNext),c=Q6.computeSwapStep(a.sqrtPriceX96,(t?e1.lessThan(s.sqrtPriceNextX96,r):e1.greaterThan(s.sqrtPriceNextX96,r))?r:s.sqrtPriceNextX96,a.liquidity,a.amountSpecifiedRemaining,this.fee),a.sqrtPriceX96=c[0],s.amountIn=c[1],s.amountOut=c[2],s.feeAmount=c[3],i?(a.amountSpecifiedRemaining=e1.subtract(a.amountSpecifiedRemaining,e1.add(s.amountIn,s.feeAmount)),a.amountCalculated=e1.subtract(a.amountCalculated,s.amountOut)):(a.amountSpecifiedRemaining=e1.add(a.amountSpecifiedRemaining,s.amountOut),a.amountCalculated=e1.add(a.amountCalculated,e1.add(s.amountIn,s.feeAmount))),!e1.equal(a.sqrtPriceX96,s.sqrtPriceNextX96)){e.next=32;break}if(!s.initialized){e.next=29;break}return e.t0=e1,e.next=25,this.tickDataProvider.getTick(s.tickNext);case 25:e.t1=e.sent.liquidityNet,u=e.t0.BigInt.call(e.t0,e.t1),t&&(u=e1.multiply(u,j6)),a.liquidity=V6.addDelta(a.liquidity,u);case 29:a.tick=t?s.tickNext-1:s.tickNext,e.next=33;break;case 32:e1.notEqual(a.sqrtPriceX96,s.sqrtPriceStartX96)&&(a.tick=i2.getTickAtSqrtRatio(a.sqrtPriceX96));case 33:e.next=4;break;case 35:return e.abrupt("return",{amountCalculated:a.amountCalculated,sqrtRatioX96:a.sqrtPriceX96,liquidity:a.liquidity,tickCurrent:a.tick});case 36:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}(),I6(e,[{key:"token0Price",get:function(){var e;return null!=(e=this._token0Price)?e:this._token0Price=new o6(this.token0,this.token1,G6,e1.multiply(this.sqrtRatioX96,this.sqrtRatioX96))}},{key:"token1Price",get:function(){var e;return null!=(e=this._token1Price)?e:this._token1Price=new o6(this.token1,this.token0,e1.multiply(this.sqrtRatioX96,this.sqrtRatioX96),G6)}},{key:"chainId",get:function(){return this.token0.chainId}},{key:"tickSpacing",get:function(){return U6[this.fee]}}]),e}(),S2=function(){function e(e){var t=e.pool,n=e.liquidity,r=e.tickLower,i=e.tickUpper;this._token0Amount=null,this._token1Amount=null,this._mintAmounts=null,r<i||n1(!1),r>=i2.MIN_TICK&&r%t.tickSpacing==0||n1(!1),i<=i2.MAX_TICK&&i%t.tickSpacing==0||n1(!1),this.pool=t,this.tickLower=r,this.tickUpper=i,this.liquidity=e1.BigInt(n)}var t=e.prototype;return t.ratiosAfterSlippage=function(e){var t=this.pool.token0Price.asFraction.multiply(new s6(1).subtract(e)),n=this.pool.token0Price.asFraction.multiply(e.add(1)),r=f2(t.numerator,t.denominator);e1.lessThanOrEqual(r,i2.MIN_SQRT_RATIO)&&(r=e1.add(i2.MIN_SQRT_RATIO,e1.BigInt(1)));var i=f2(n.numerator,n.denominator);return e1.greaterThanOrEqual(i,i2.MAX_SQRT_RATIO)&&(i=e1.subtract(i2.MAX_SQRT_RATIO,e1.BigInt(1))),{sqrtRatioX96Lower:r,sqrtRatioX96Upper:i}},t.mintAmountsWithSlippage=function(t){var n=this.ratiosAfterSlippage(t),r=n.sqrtRatioX96Upper,i=n.sqrtRatioX96Lower,a=new R2(this.pool.token0,this.pool.token1,this.pool.fee,i,0,i2.getTickAtSqrtRatio(i)),s=new R2(this.pool.token0,this.pool.token1,this.pool.fee,r,0,i2.getTickAtSqrtRatio(r)),o=e.fromAmounts(x6({pool:this.pool,tickLower:this.tickLower,tickUpper:this.tickUpper},this.mintAmounts,{useFullPrecision:!1}));return{amount0:new e({pool:s,liquidity:o.liquidity,tickLower:this.tickLower,tickUpper:this.tickUpper}).mintAmounts.amount0,amount1:new e({pool:a,liquidity:o.liquidity,tickLower:this.tickLower,tickUpper:this.tickUpper}).mintAmounts.amount1}},t.burnAmountsWithSlippage=function(t){var n=this.ratiosAfterSlippage(t),r=n.sqrtRatioX96Upper,i=n.sqrtRatioX96Lower,a=new R2(this.pool.token0,this.pool.token1,this.pool.fee,i,0,i2.getTickAtSqrtRatio(i)),s=new e({pool:new R2(this.pool.token0,this.pool.token1,this.pool.fee,r,0,i2.getTickAtSqrtRatio(r)),liquidity:this.liquidity,tickLower:this.tickLower,tickUpper:this.tickUpper}).amount0,o=new e({pool:a,liquidity:this.liquidity,tickLower:this.tickLower,tickUpper:this.tickUpper}).amount1;return{amount0:s.quotient,amount1:o.quotient}},e.fromAmounts=function(t){var n=t.pool,r=t.tickLower,i=t.tickUpper,a=t.amount0,s=t.amount1,o=t.useFullPrecision,c=i2.getSqrtRatioAtTick(r),u=i2.getSqrtRatioAtTick(i);return new e({pool:n,tickLower:r,tickUpper:i,liquidity:m2(n.sqrtRatioX96,c,u,a,s,o)})},e.fromAmount0=function(t){var n=t.pool,r=t.tickLower,i=t.tickUpper,a=t.amount0,s=t.useFullPrecision;return e.fromAmounts({pool:n,tickLower:r,tickUpper:i,amount0:a,amount1:J1,useFullPrecision:s})},e.fromAmount1=function(t){var n=t.pool,r=t.tickLower,i=t.tickUpper,a=t.amount1;return e.fromAmounts({pool:n,tickLower:r,tickUpper:i,amount0:J1,amount1:a,useFullPrecision:!0})},I6(e,[{key:"token0PriceLower",get:function(){return g2(this.pool.token0,this.pool.token1,this.tickLower)}},{key:"token0PriceUpper",get:function(){return g2(this.pool.token0,this.pool.token1,this.tickUpper)}},{key:"amount0",get:function(){return null===this._token0Amount&&(this.pool.tickCurrent<this.tickLower?this._token0Amount=r6.fromRawAmount(this.pool.token0,J6.getAmount0Delta(i2.getSqrtRatioAtTick(this.tickLower),i2.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!1)):this.pool.tickCurrent<this.tickUpper?this._token0Amount=r6.fromRawAmount(this.pool.token0,J6.getAmount0Delta(this.pool.sqrtRatioX96,i2.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!1)):this._token0Amount=r6.fromRawAmount(this.pool.token0,q6)),this._token0Amount}},{key:"amount1",get:function(){return null===this._token1Amount&&(this.pool.tickCurrent<this.tickLower?this._token1Amount=r6.fromRawAmount(this.pool.token1,q6):this.pool.tickCurrent<this.tickUpper?this._token1Amount=r6.fromRawAmount(this.pool.token1,J6.getAmount1Delta(i2.getSqrtRatioAtTick(this.tickLower),this.pool.sqrtRatioX96,this.liquidity,!1)):this._token1Amount=r6.fromRawAmount(this.pool.token1,J6.getAmount1Delta(i2.getSqrtRatioAtTick(this.tickLower),i2.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!1))),this._token1Amount}},{key:"mintAmounts",get:function(){return null===this._mintAmounts?this.pool.tickCurrent<this.tickLower?{amount0:J6.getAmount0Delta(i2.getSqrtRatioAtTick(this.tickLower),i2.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!0),amount1:q6}:this.pool.tickCurrent<this.tickUpper?{amount0:J6.getAmount0Delta(this.pool.sqrtRatioX96,i2.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!0),amount1:J6.getAmount1Delta(i2.getSqrtRatioAtTick(this.tickLower),this.pool.sqrtRatioX96,this.liquidity,!0)}:{amount0:q6,amount1:J6.getAmount1Delta(i2.getSqrtRatioAtTick(this.tickLower),i2.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!0)}:this._mintAmounts}}]),e}(),k2=function(){function e(e,t,n){this._midPrice=null,e.length>0||n1(!1);var r=e[0].chainId,i=e.every((function(e){return e.chainId===r}));i||n1(!1);var a=t.wrapped;e[0].involvesToken(a)||n1(!1),e[e.length-1].involvesToken(n.wrapped)||n1(!1);for(var s,o=[a],c=M6(e.entries());!(s=c()).done;){var u=s.value,d=u[0],f=u[1],l=o[d];l.equals(f.token0)||l.equals(f.token1)||n1(!1);var h=l.equals(f.token0)?f.token1:f.token0;o.push(h)}this.pools=e,this.tokenPath=o,this.input=t,this.output=null!=n?n:o[o.length-1]}return I6(e,[{key:"chainId",get:function(){return this.pools[0].chainId}},{key:"midPrice",get:function(){if(null!==this._midPrice)return this._midPrice;var e=this.pools.slice(1).reduce((function(e,t){var n=e.nextInput,r=e.price;return n.equals(t.token0)?{nextInput:t.token1,price:r.multiply(t.token0Price)}:{nextInput:t.token0,price:r.multiply(t.token1Price)}}),this.pools[0].token0.equals(this.input.wrapped)?{nextInput:this.pools[0].token1,price:this.pools[0].token0Price}:{nextInput:this.pools[0].token0,price:this.pools[0].token1Price}).price;return this._midPrice=new o6(this.input,this.output,e.denominator,e.numerator)}}]),e}();function O2(e,t){return e.inputAmount.currency.equals(t.inputAmount.currency)||n1(!1),e.outputAmount.currency.equals(t.outputAmount.currency)||n1(!1),e.outputAmount.equalTo(t.outputAmount)?e.inputAmount.equalTo(t.inputAmount)?e.swaps.reduce((function(e,t){return e+t.route.tokenPath.length}),0)-t.swaps.reduce((function(e,t){return e+t.route.tokenPath.length}),0):e.inputAmount.lessThan(t.inputAmount)?-1:1:e.outputAmount.lessThan(t.outputAmount)?1:-1}var I2=function(){function e(e){var t=e.routes,n=e.tradeType,r=t[0].inputAmount.currency,i=t[0].outputAmount.currency;t.every((function(e){var t=e.route;return r.wrapped.equals(t.input.wrapped)}))||n1(!1),t.every((function(e){var t=e.route;return i.wrapped.equals(t.output.wrapped)}))||n1(!1);for(var a,s=t.map((function(e){return e.route.pools.length})).reduce((function(e,t){return e+t}),0),o=new Set,c=M6(t);!(a=c()).done;)for(var u,d=M6(a.value.route.pools);!(u=d()).done;){var f=u.value;o.add(R2.getAddress(f.token0,f.token1,f.fee))}s!=o.size&&n1(!1),this.swaps=t,this.tradeType=n}e.exactIn=function(){var t=k6(B6.mark((function t(n,r){return B6.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.fromRoute(n,r,U1.EXACT_INPUT));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.exactOut=function(){var t=k6(B6.mark((function t(n,r){return B6.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.fromRoute(n,r,U1.EXACT_OUTPUT));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.fromRoute=function(){var t=k6(B6.mark((function t(n,r,i){var a,s,o,c,u,d,f,l,h,p,m;return B6.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=new Array(n.tokenPath.length),i!==U1.EXACT_INPUT){t.next=19;break}r.currency.equals(n.input)||n1(!1),a[0]=r.wrapped,c=0;case 5:if(!(c<n.tokenPath.length-1)){t.next=15;break}return u=n.pools[c],t.next=9,u.getOutputAmount(a[c]);case 9:d=t.sent,f=d[0],a[c+1]=f;case 12:c++,t.next=5;break;case 15:s=r6.fromFractionalAmount(n.input,r.numerator,r.denominator),o=r6.fromFractionalAmount(n.output,a[a.length-1].numerator,a[a.length-1].denominator),t.next=34;break;case 19:r.currency.equals(n.output)||n1(!1),a[a.length-1]=r.wrapped,l=n.tokenPath.length-1;case 22:if(!(l>0)){t.next=32;break}return h=n.pools[l-1],t.next=26,h.getInputAmount(a[l]);case 26:p=t.sent,m=p[0],a[l-1]=m;case 29:l--,t.next=22;break;case 32:s=r6.fromFractionalAmount(n.input,a[0].numerator,a[0].denominator),o=r6.fromFractionalAmount(n.output,r.numerator,r.denominator);case 34:return t.abrupt("return",new e({routes:[{inputAmount:s,outputAmount:o,route:n}],tradeType:i}));case 35:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),e.fromRoutes=function(){var t=k6(B6.mark((function t(n,r){var i,a,s,o,c,u,d,f,l,h,p,m,b,y,g,v,w;return B6.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=[],a=M6(n);case 2:if((s=a()).done){t.next=43;break}if(o=s.value,c=o.route,u=o.amount,d=new Array(c.tokenPath.length),f=void 0,l=void 0,r!==U1.EXACT_INPUT){t.next=25;break}u.currency.equals(c.input)||n1(!1),f=r6.fromFractionalAmount(c.input,u.numerator,u.denominator),d[0]=r6.fromFractionalAmount(c.input.wrapped,u.numerator,u.denominator),h=0;case 12:if(!(h<c.tokenPath.length-1)){t.next=22;break}return p=c.pools[h],t.next=16,p.getOutputAmount(d[h]);case 16:m=t.sent,b=m[0],d[h+1]=b;case 19:h++,t.next=12;break;case 22:l=r6.fromFractionalAmount(c.output,d[d.length-1].numerator,d[d.length-1].denominator),t.next=40;break;case 25:u.currency.equals(c.output)||n1(!1),l=r6.fromFractionalAmount(c.output,u.numerator,u.denominator),d[d.length-1]=r6.fromFractionalAmount(c.output.wrapped,u.numerator,u.denominator),y=c.tokenPath.length-1;case 29:if(!(y>0)){t.next=39;break}return g=c.pools[y-1],t.next=33,g.getInputAmount(d[y]);case 33:v=t.sent,w=v[0],d[y-1]=w;case 36:y--,t.next=29;break;case 39:f=r6.fromFractionalAmount(c.input,d[0].numerator,d[0].denominator);case 40:i.push({route:c,inputAmount:f,outputAmount:l});case 41:t.next=2;break;case 43:return t.abrupt("return",new e({routes:i,tradeType:r}));case 44:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.createUncheckedTrade=function(t){return new e(x6({},t,{routes:[{inputAmount:t.inputAmount,outputAmount:t.outputAmount,route:t.route}]}))},e.createUncheckedTradeWithMultipleRoutes=function(t){return new e(t)};var t=e.prototype;return t.minimumAmountOut=function(e,t){if(void 0===t&&(t=this.outputAmount),e.lessThan(q6)&&n1(!1),this.tradeType===U1.EXACT_OUTPUT)return t;var n=new t6(z6).add(e).invert().multiply(t.quotient).quotient;return r6.fromRawAmount(t.currency,n)},t.maximumAmountIn=function(e,t){if(void 0===t&&(t=this.inputAmount),e.lessThan(q6)&&n1(!1),this.tradeType===U1.EXACT_INPUT)return t;var n=new t6(z6).add(e).multiply(t.quotient).quotient;return r6.fromRawAmount(t.currency,n)},t.worstExecutionPrice=function(e){return new o6(this.inputAmount.currency,this.outputAmount.currency,this.maximumAmountIn(e).quotient,this.minimumAmountOut(e).quotient)},e.bestTradeExactIn=function(){var t=k6(B6.mark((function t(n,r,i,a,s,o,c){var u,d,f,l,h,p,m,b,y,g,v,w;return B6.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:d=(u=void 0===a?{}:a).maxNumResults,f=void 0===d?3:d,l=u.maxHops,h=void 0===l?3:l,void 0===s&&(s=[]),void 0===o&&(o=r),void 0===c&&(c=[]),n.length>0||n1(!1),h>0||n1(!1),r===o||s.length>0||n1(!1),p=o.wrapped,m=i.wrapped,b=0;case 10:if(!(b<n.length)){t.next=46;break}if((y=n[b]).token0.equals(p.currency)||y.token1.equals(p.currency)){t.next=14;break}return t.abrupt("continue",43);case 14:return g=void 0,t.prev=15,t.next=19,y.getOutputAmount(p);case 19:v=t.sent,g=v[0],t.next=28;break;case 23:if(t.prev=23,t.t0=t.catch(15),!t.t0.isInsufficientInputAmountError){t.next=27;break}return t.abrupt("continue",43);case 27:throw t.t0;case 28:if(!g.currency.isToken||!g.currency.equals(m)){t.next=39;break}return t.t1=h6,t.t2=c,t.next=33,e.fromRoute(new k2([].concat(s,[y]),r.currency,i),r,U1.EXACT_INPUT);case 33:t.t3=t.sent,t.t4=f,t.t5=O2,(0,t.t1)(t.t2,t.t3,t.t4,t.t5),t.next=43;break;case 39:if(!(h>1&&n.length>1)){t.next=43;break}return w=n.slice(0,b).concat(n.slice(b+1,n.length)),t.next=43,e.bestTradeExactIn(w,r,i,{maxNumResults:f,maxHops:h-1},[].concat(s,[y]),g,c);case 43:b++,t.next=10;break;case 46:return t.abrupt("return",c);case 47:case"end":return t.stop()}}),t,null,[[15,23]])})));return function(e,n,r,i,a,s,o){return t.apply(this,arguments)}}(),e.bestTradeExactOut=function(){var t=k6(B6.mark((function t(n,r,i,a,s,o,c){var u,d,f,l,h,p,m,b,y,g,v,w;return B6.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:d=(u=void 0===a?{}:a).maxNumResults,f=void 0===d?3:d,l=u.maxHops,h=void 0===l?3:l,void 0===s&&(s=[]),void 0===o&&(o=i),void 0===c&&(c=[]),n.length>0||n1(!1),h>0||n1(!1),i===o||s.length>0||n1(!1),p=o.wrapped,m=r.wrapped,b=0;case 10:if(!(b<n.length)){t.next=46;break}if((y=n[b]).token0.equals(p.currency)||y.token1.equals(p.currency)){t.next=14;break}return t.abrupt("continue",43);case 14:return g=void 0,t.prev=15,t.next=19,y.getInputAmount(p);case 19:v=t.sent,g=v[0],t.next=28;break;case 23:if(t.prev=23,t.t0=t.catch(15),!t.t0.isInsufficientReservesError){t.next=27;break}return t.abrupt("continue",43);case 27:throw t.t0;case 28:if(!g.currency.equals(m)){t.next=39;break}return t.t1=h6,t.t2=c,t.next=33,e.fromRoute(new k2([y].concat(s),r,i.currency),i,U1.EXACT_OUTPUT);case 33:t.t3=t.sent,t.t4=f,t.t5=O2,(0,t.t1)(t.t2,t.t3,t.t4,t.t5),t.next=43;break;case 39:if(!(h>1&&n.length>1)){t.next=43;break}return w=n.slice(0,b).concat(n.slice(b+1,n.length)),t.next=43,e.bestTradeExactOut(w,r,i,{maxNumResults:f,maxHops:h-1},[y].concat(s),g,c);case 43:b++,t.next=10;break;case 46:return t.abrupt("return",c);case 47:case"end":return t.stop()}}),t,null,[[15,23]])})));return function(e,n,r,i,a,s,o){return t.apply(this,arguments)}}(),I6(e,[{key:"route",get:function(){return 1!=this.swaps.length&&n1(!1),this.swaps[0].route}},{key:"inputAmount",get:function(){if(this._inputAmount)return this._inputAmount;var e=this.swaps[0].inputAmount.currency,t=this.swaps.map((function(e){return e.inputAmount})).reduce((function(e,t){return e.add(t)}),r6.fromRawAmount(e,0));return this._inputAmount=t,this._inputAmount}},{key:"outputAmount",get:function(){if(this._outputAmount)return this._outputAmount;var e=this.swaps[0].outputAmount.currency,t=this.swaps.map((function(e){return e.outputAmount})).reduce((function(e,t){return e.add(t)}),r6.fromRawAmount(e,0));return this._outputAmount=t,this._outputAmount}},{key:"executionPrice",get:function(){var e;return null!=(e=this._executionPrice)?e:this._executionPrice=new o6(this.inputAmount.currency,this.outputAmount.currency,this.inputAmount.quotient,this.outputAmount.quotient)}},{key:"priceImpact",get:function(){if(this._priceImpact)return this._priceImpact;for(var e,t=r6.fromRawAmount(this.outputAmount.currency,0),n=M6(this.swaps);!(e=n()).done;){var r=e.value,i=r.route,a=r.inputAmount,s=i.midPrice;t=t.add(s.quote(a))}var o=t.subtract(this.outputAmount).divide(t);return this._priceImpact=new s6(o.numerator,o.denominator),this._priceImpact}}]),e}(),x2=function(){function e(){}return e.encodeMulticall=function(t){return Array.isArray(t)||(t=[t]),1===t.length?t[0]:e.INTERFACE.encodeFunctionData("multicall",[t])},e}();x2.INTERFACE=new Pc(g6);var C2=function(){function e(){}return e.encodePermit=function(t,n){return"nonce"in n?e.INTERFACE.encodeFunctionData("selfPermitAllowed",[t.address,u2(n.nonce),u2(n.expiry),n.v,n.r,n.s]):e.INTERFACE.encodeFunctionData("selfPermit",[t.address,u2(n.amount),u2(n.deadline),n.v,n.r,n.s])},e}();C2.INTERFACE=new Pc(w6);var M2=function(){function e(){}return e.encodeFeeBips=function(e){return u2(e.multiply(1e4).quotient)},e.encodeUnwrapWETH9=function(t,n,r){if(n=u6(n),r){var i=this.encodeFeeBips(r.fee),a=u6(r.recipient);return e.INTERFACE.encodeFunctionData("unwrapWETH9WithFee",[u2(t),n,i,a])}return e.INTERFACE.encodeFunctionData("unwrapWETH9",[u2(t),n])},e.encodeSweepToken=function(t,n,r,i){if(r=u6(r),i){var a=this.encodeFeeBips(i.fee),s=u6(i.recipient);return e.INTERFACE.encodeFunctionData("sweepTokenWithFee",[t.address,u2(n),r,a,s])}return e.INTERFACE.encodeFunctionData("sweepToken",[t.address,u2(n),r])},e.encodeRefundETH=function(){return e.INTERFACE.encodeFunctionData("refundETH")},e}();M2.INTERFACE=new Pc(_6);var P2=u2(e1.subtract(e1.exponentiate(e1.BigInt(2),e1.BigInt(128)),e1.BigInt(1)));function N2(e){return Object.keys(e).some((function(e){return"recipient"===e}))}var B2=function(){function e(){}return e.encodeCreate=function(t){return e.INTERFACE.encodeFunctionData("createAndInitializePoolIfNecessary",[t.token0.address,t.token1.address,t.fee,u2(t.sqrtRatioX96)])},e.createCallParameters=function(e){return{calldata:this.encodeCreate(e),value:u2(0)}},e.addCallParameters=function(t,n){e1.greaterThan(t.liquidity,q6)||n1(!1);var r=[],i=t.mintAmounts,a=i.amount0,s=i.amount1,o=t.mintAmountsWithSlippage(n.slippageTolerance),c=u2(o.amount0),u=u2(o.amount1),d=u2(n.deadline);if(N2(n)&&n.createPool&&r.push(this.encodeCreate(t.pool)),n.token0Permit&&r.push(C2.encodePermit(t.pool.token0,n.token0Permit)),n.token1Permit&&r.push(C2.encodePermit(t.pool.token1,n.token1Permit)),N2(n)){var f=u6(n.recipient);r.push(e.INTERFACE.encodeFunctionData("mint",[{token0:t.pool.token0.address,token1:t.pool.token1.address,fee:t.pool.fee,tickLower:t.tickLower,tickUpper:t.tickUpper,amount0Desired:u2(a),amount1Desired:u2(s),amount0Min:c,amount1Min:u,recipient:f,deadline:d}]))}else r.push(e.INTERFACE.encodeFunctionData("increaseLiquidity",[{tokenId:u2(n.tokenId),amount0Desired:u2(a),amount1Desired:u2(s),amount0Min:c,amount1Min:u,deadline:d}]));var l=u2(0);if(n.useNative){var h=n.useNative.wrapped;t.pool.token0.equals(h)||t.pool.token1.equals(h)||n1(!1);var p=t.pool.token0.equals(h)?a:s;e1.greaterThan(p,q6)&&r.push(M2.encodeRefundETH()),l=u2(p)}return{calldata:x2.encodeMulticall(r),value:l}},e.encodeCollect=function(t){var n=[],r=u2(t.tokenId),i=t.expectedCurrencyOwed0.currency.isNative||t.expectedCurrencyOwed1.currency.isNative,a=u6(t.recipient);if(n.push(e.INTERFACE.encodeFunctionData("collect",[{tokenId:r,recipient:i?L6:a,amount0Max:P2,amount1Max:P2}])),i){var s=t.expectedCurrencyOwed0.currency.isNative?t.expectedCurrencyOwed0.quotient:t.expectedCurrencyOwed1.quotient,o=t.expectedCurrencyOwed0.currency.isNative?t.expectedCurrencyOwed1.currency:t.expectedCurrencyOwed0.currency,c=t.expectedCurrencyOwed0.currency.isNative?t.expectedCurrencyOwed1.quotient:t.expectedCurrencyOwed0.quotient;n.push(M2.encodeUnwrapWETH9(s,a)),n.push(M2.encodeSweepToken(o,c,a))}return n},e.collectCallParameters=function(t){var n=e.encodeCollect(t);return{calldata:x2.encodeMulticall(n),value:u2(0)}},e.removeCallParameters=function(t,n){var r=[],i=u2(n.deadline),a=u2(n.tokenId),s=new S2({pool:t.pool,liquidity:n.liquidityPercentage.multiply(t.liquidity).quotient,tickLower:t.tickLower,tickUpper:t.tickUpper});e1.greaterThan(s.liquidity,q6)||n1(!1);var o=s.burnAmountsWithSlippage(n.slippageTolerance),c=o.amount0,u=o.amount1;n.permit&&r.push(e.INTERFACE.encodeFunctionData("permit",[u6(n.permit.spender),a,u2(n.permit.deadline),n.permit.v,n.permit.r,n.permit.s])),r.push(e.INTERFACE.encodeFunctionData("decreaseLiquidity",[{tokenId:a,liquidity:u2(s.liquidity),amount0Min:u2(c),amount1Min:u2(u),deadline:i}]));var d=n.collectOptions,f=d.expectedCurrencyOwed0,l=d.expectedCurrencyOwed1,h=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(d,["expectedCurrencyOwed0","expectedCurrencyOwed1"]);return r.push.apply(r,e.encodeCollect(x6({tokenId:u2(n.tokenId),expectedCurrencyOwed0:f.add(r6.fromRawAmount(f.currency,c)),expectedCurrencyOwed1:l.add(r6.fromRawAmount(l.currency,u))},h))),n.liquidityPercentage.equalTo(z6)?n.burnToken&&r.push(e.INTERFACE.encodeFunctionData("burn",[a])):!0===n.burnToken&&n1(!1),{calldata:x2.encodeMulticall(r),value:u2(0)}},e.safeTransferFromParameters=function(t){var n=u6(t.recipient),r=u6(t.sender);return{calldata:t.data?e.INTERFACE.encodeFunctionData("safeTransferFrom(address,address,uint256,bytes)",[r,n,u2(t.tokenId),t.data]):e.INTERFACE.encodeFunctionData("safeTransferFrom(address,address,uint256)",[r,n,u2(t.tokenId)]),value:u2(0)}},e}();B2.INTERFACE=new Pc(v6);var D2=function(){function e(){}return e.quoteCallParameters=function(e,t,n,r){void 0===r&&(r={});var i,a=1===e.pools.length,s=u2(t.quotient),o=r.useQuoterV2?this.V2INTERFACE:this.V1INTERFACE;if(a){var c,u,d={tokenIn:e.tokenPath[0].address,tokenOut:e.tokenPath[1].address,fee:e.pools[0].fee,sqrtPriceLimitX96:u2(null!=(c=null==(u=r)?void 0:u.sqrtPriceLimitX96)?c:0)},f=x6({},d,n==U1.EXACT_INPUT?{amountIn:s}:{amount:s}),l=[d.tokenIn,d.tokenOut,d.fee,s,d.sqrtPriceLimitX96],h=n===U1.EXACT_INPUT?"quoteExactInputSingle":"quoteExactOutputSingle";i=o.encodeFunctionData(h,r.useQuoterV2?[f]:l)}else{var p;void 0!==(null==(p=r)?void 0:p.sqrtPriceLimitX96)&&n1(!1);var m=d2(e,n===U1.EXACT_OUTPUT),b=n===U1.EXACT_INPUT?"quoteExactInput":"quoteExactOutput";i=o.encodeFunctionData(b,[m,s])}return{calldata:i,value:u2(0)}},e}();D2.V1INTERFACE=new Pc(E6),D2.V2INTERFACE=new Pc(T6);var L2=function(){function e(){}return e.encodeClaim=function(t,n){var r,i=[];i.push(e.INTERFACE.encodeFunctionData("unstakeToken",[this._encodeIncentiveKey(t),u2(n.tokenId)]));var a=u6(n.recipient),s=null!=(r=n.amount)?r:0;return i.push(e.INTERFACE.encodeFunctionData("claimReward",[t.rewardToken.address,a,u2(s)])),i},e.collectRewards=function(t,n){t=Array.isArray(t)?t:[t];for(var r=[],i=0;i<t.length;i++){var a=t[i];(r=r.concat(this.encodeClaim(a,n))).push(e.INTERFACE.encodeFunctionData("stakeToken",[this._encodeIncentiveKey(a),u2(n.tokenId)]))}return{calldata:x2.encodeMulticall(r),value:u2(0)}},e.withdrawToken=function(t,n){var r=[];t=Array.isArray(t)?t:[t];for(var i={tokenId:n.tokenId,recipient:n.recipient,amount:n.amount},a=0;a<t.length;a++){var s=t[a];r=r.concat(this.encodeClaim(s,i))}var o=u6(n.owner);return r.push(e.INTERFACE.encodeFunctionData("withdrawToken",[u2(n.tokenId),o,n.data?n.data:u2(0)])),{calldata:x2.encodeMulticall(r),value:u2(0)}},e.encodeDeposit=function(t){var n;if((t=Array.isArray(t)?t:[t]).length>1){for(var r=[],i=0;i<t.length;i++){var a=t[i];r.push(this._encodeIncentiveKey(a))}n=ko.encode([e.INCENTIVE_KEY_ABI+"[]"],[r])}else n=ko.encode([e.INCENTIVE_KEY_ABI],[this._encodeIncentiveKey(t[0])]);return n},e._encodeIncentiveKey=function(e){var t=e.pool,n=t.token0,r=t.token1,i=t.fee,a=u6(e.refundee);return{rewardToken:e.rewardToken.address,pool:R2.getAddress(n,r,i),startTime:u2(e.startTime),endTime:u2(e.endTime),refundee:a}},e}();L2.INTERFACE=new Pc(A6),L2.INCENTIVE_KEY_ABI="tuple(address rewardToken, address pool, uint256 startTime, uint256 endTime, address refundee)";var F2=function(){function e(){}return e.swapCallParameters=function(t,n){Array.isArray(t)||(t=[t]);var r=t[0],i=r.inputAmount.currency.wrapped,a=r.outputAmount.currency.wrapped;t.every((function(e){return e.inputAmount.currency.wrapped.equals(i)}))||n1(!1),t.every((function(e){return e.outputAmount.currency.wrapped.equals(a)}))||n1(!1);var s=[],o=r6.fromRawAmount(t[0].inputAmount.currency,0),c=r6.fromRawAmount(t[0].outputAmount.currency,0),u=t.reduce((function(e,t){return e.add(t.minimumAmountOut(n.slippageTolerance))}),c),d=r.inputAmount.currency.isNative&&r.tradeType===U1.EXACT_OUTPUT,f=r.inputAmount.currency.isNative,l=r.outputAmount.currency.isNative,h=l||!!n.fee,p=f?t.reduce((function(e,t){return e.add(t.maximumAmountIn(n.slippageTolerance))}),o):o;n.inputTokenPermit&&(r.inputAmount.currency.isToken||n1(!1),s.push(C2.encodePermit(r.inputAmount.currency,n.inputTokenPermit)));for(var m,b=u6(n.recipient),y=u2(n.deadline),g=M6(t);!(m=g()).done;)for(var v,w=m.value,_=M6(w.swaps);!(v=_()).done;){var E=v.value,T=E.route,A=E.inputAmount,R=E.outputAmount,S=u2(w.maximumAmountIn(n.slippageTolerance,A).quotient),k=u2(w.minimumAmountOut(n.slippageTolerance,R).quotient);if(1===T.pools.length)if(w.tradeType===U1.EXACT_INPUT){var O,I={tokenIn:T.tokenPath[0].address,tokenOut:T.tokenPath[1].address,fee:T.pools[0].fee,recipient:h?L6:b,deadline:y,amountIn:S,amountOutMinimum:k,sqrtPriceLimitX96:u2(null!=(O=n.sqrtPriceLimitX96)?O:0)};s.push(e.INTERFACE.encodeFunctionData("exactInputSingle",[I]))}else{var x,C={tokenIn:T.tokenPath[0].address,tokenOut:T.tokenPath[1].address,fee:T.pools[0].fee,recipient:h?L6:b,deadline:y,amountOut:k,amountInMaximum:S,sqrtPriceLimitX96:u2(null!=(x=n.sqrtPriceLimitX96)?x:0)};s.push(e.INTERFACE.encodeFunctionData("exactOutputSingle",[C]))}else{void 0!==n.sqrtPriceLimitX96&&n1(!1);var M=d2(T,w.tradeType===U1.EXACT_OUTPUT);if(w.tradeType===U1.EXACT_INPUT){var P={path:M,recipient:h?L6:b,deadline:y,amountIn:S,amountOutMinimum:k};s.push(e.INTERFACE.encodeFunctionData("exactInput",[P]))}else{var N={path:M,recipient:h?L6:b,deadline:y,amountOut:k,amountInMaximum:S};s.push(e.INTERFACE.encodeFunctionData("exactOutput",[N]))}}}return h&&(n.fee?l?s.push(M2.encodeUnwrapWETH9(u.quotient,b,n.fee)):s.push(M2.encodeSweepToken(r.outputAmount.currency.wrapped,u.quotient,b,n.fee)):s.push(M2.encodeUnwrapWETH9(u.quotient,b))),d&&s.push(M2.encodeRefundETH()),{calldata:x2.encodeMulticall(s),value:u2(p.quotient)}},e}();F2.INTERFACE=new Pc(R6);var U2,j2,q2={exports:{}},z2={};var H2,G2={_format:"hh-sol-artifact-1",contractName:"IApproveAndCall",sourceName:"contracts/interfaces/IApproveAndCall.sol",abi:[{inputs:[{internalType:"address",name:"token",type:"address"}],name:"approveMax",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"}],name:"approveMaxMinusOne",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"}],name:"approveZeroThenMax",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"}],name:"approveZeroThenMaxMinusOne",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes",name:"data",type:"bytes"}],name:"callPositionManager",outputs:[{internalType:"bytes",name:"result",type:"bytes"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"getApprovalType",outputs:[{internalType:"enum IApproveAndCall.ApprovalType",name:"",type:"uint8"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"token0",type:"address"},{internalType:"address",name:"token1",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"amount0Min",type:"uint256"},{internalType:"uint256",name:"amount1Min",type:"uint256"}],internalType:"struct IApproveAndCall.IncreaseLiquidityParams",name:"params",type:"tuple"}],name:"increaseLiquidity",outputs:[{internalType:"bytes",name:"result",type:"bytes"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"address",name:"token0",type:"address"},{internalType:"address",name:"token1",type:"address"},{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"int24",name:"tickLower",type:"int24"},{internalType:"int24",name:"tickUpper",type:"int24"},{internalType:"uint256",name:"amount0Min",type:"uint256"},{internalType:"uint256",name:"amount1Min",type:"uint256"},{internalType:"address",name:"recipient",type:"address"}],internalType:"struct IApproveAndCall.MintParams",name:"params",type:"tuple"}],name:"mint",outputs:[{internalType:"bytes",name:"result",type:"bytes"}],stateMutability:"payable",type:"function"}],bytecode:"0x",deployedBytecode:"0x",linkReferences:{},deployedLinkReferences:{}},W2=sr(Object.freeze({__proto__:null,ADDRESS_ZERO:L6,FACTORY_ADDRESS:D6,get FeeAmount(){return N6},FullMath:K6,LiquidityMath:V6,Multicall:x2,NoTickDataProvider:a2,NonfungiblePositionManager:B2,POOL_INIT_CODE_HASH:F6,Payments:M2,Pool:R2,Position:S2,PositionLibrary:y2,Route:k2,SelfPermit:C2,SqrtPriceMath:J6,Staker:L2,SwapMath:Q6,SwapQuoter:D2,SwapRouter:F2,TICK_SPACINGS:U6,Tick:E2,TickLibrary:_2,TickList:c2,TickListDataProvider:T2,TickMath:i2,Trade:I2,computePoolAddress:W6,encodeRouteToPath:d2,encodeSqrtRatioX96:f2,isSorted:s2,maxLiquidityForAmounts:m2,mostSignificantBit:t2,nearestUsableTick:function(e,t){Number.isInteger(e)&&Number.isInteger(t)||n1(!1),t>0||n1(!1),e>=i2.MIN_TICK&&e<=i2.MAX_TICK||n1(!1);var n=Math.round(e/t)*t;return n<i2.MIN_TICK?n+t:n>i2.MAX_TICK?n-t:n},priceToClosestTick:function(e){var t=e.baseCurrency.sortsBefore(e.quoteCurrency),n=t?f2(e.numerator,e.denominator):f2(e.denominator,e.numerator),r=i2.getTickAtSqrtRatio(n),i=g2(e.baseCurrency,e.quoteCurrency,r+1);return t?e.lessThan(i)||r++:e.greaterThan(i)||r++,r},subIn256:w2,tickToPrice:g2,toHex:u2,tradeComparator:O2})),V2={_format:"hh-sol-artifact-1",contractName:"IMulticallExtended",sourceName:"contracts/interfaces/IMulticallExtended.sol",abi:[{inputs:[{internalType:"bytes32",name:"previousBlockhash",type:"bytes32"},{internalType:"bytes[]",name:"data",type:"bytes[]"}],name:"multicall",outputs:[{internalType:"bytes[]",name:"results",type:"bytes[]"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"bytes[]",name:"data",type:"bytes[]"}],name:"multicall",outputs:[{internalType:"bytes[]",name:"results",type:"bytes[]"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes[]",name:"data",type:"bytes[]"}],name:"multicall",outputs:[{internalType:"bytes[]",name:"results",type:"bytes[]"}],stateMutability:"payable",type:"function"}],bytecode:"0x",deployedBytecode:"0x",linkReferences:{},deployedLinkReferences:{}};function K2(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function X2(e,t,n){return t&&K2(e.prototype,t),n&&K2(e,n),e}function $2(){return $2=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$2.apply(this,arguments)}function J2(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}!function(e){e[e.MAINNET=1]="MAINNET",e[e.GOERLI=5]="GOERLI",e[e.SEPOLIA=11155111]="SEPOLIA",e[e.OPTIMISM=10]="OPTIMISM",e[e.OPTIMISM_GOERLI=420]="OPTIMISM_GOERLI",e[e.ARBITRUM_ONE=42161]="ARBITRUM_ONE",e[e.ARBITRUM_GOERLI=421613]="ARBITRUM_GOERLI",e[e.POLYGON=137]="POLYGON",e[e.POLYGON_MUMBAI=80001]="POLYGON_MUMBAI",e[e.CELO=42220]="CELO",e[e.CELO_ALFAJORES=44787]="CELO_ALFAJORES",e[e.GNOSIS=100]="GNOSIS",e[e.MOONBEAM=1284]="MOONBEAM",e[e.BNB=56]="BNB",e[e.AVALANCHE=43114]="AVALANCHE",e[e.BASE_GOERLI=84531]="BASE_GOERLI",e[e.BASE=8453]="BASE"}(H2||(H2={}));var Y2,Q2,Z2,e5,t5,n5,r5,i5=[H2.MAINNET,H2.OPTIMISM,H2.OPTIMISM_GOERLI,H2.ARBITRUM_ONE,H2.ARBITRUM_GOERLI,H2.POLYGON,H2.POLYGON_MUMBAI,H2.GOERLI,H2.SEPOLIA,H2.CELO_ALFAJORES,H2.CELO,H2.BNB,H2.AVALANCHE,H2.BASE,H2.BASE_GOERLI];!function(e){e.ETHER="ETH",e.MATIC="MATIC",e.CELO="CELO",e.GNOSIS="XDAI",e.MOONBEAM="GLMR",e.BNB="BNB",e.AVAX="AVAX"}(Y2||(Y2={}));var a5=[H2.MAINNET,H2.GOERLI];function s5(e,t){return void 0===t&&(t=[]),a5.concat(t).reduce((function(t,n){return t[n]=e,t}),{})}var o5,c5,u5=s5("0x1f9840a85d5aF5bf1D1762F925BDADdC4201F984",[H2.OPTIMISM,H2.ARBITRUM_ONE,H2.POLYGON,H2.POLYGON_MUMBAI,H2.SEPOLIA]),d5="0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f",f5=s5(d5),l5="0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D",h5=s5(l5),p5={v3CoreFactoryAddress:"0x1F98431c8aD98523631AE4a59f267346ea31F984",multicallAddress:"0x1F98415757620B543A52E61c46B32eB19261F984",quoterAddress:"0xb27308f9F90D607463bb33eA1BeBb41C27CE5AB6",v3MigratorAddress:"0xA5644E29708357803b5A882D272c41cC0dF92B34",nonfungiblePositionManagerAddress:"0xC36442b4a4522E871399CD717aBDD847Ab11FE88"},m5=$2({},p5,{v1MixedRouteQuoterAddress:"0x84E44095eeBfEC7793Cd7d5b57B7e401D7f1cA2E"}),b5=$2({},p5,{v1MixedRouteQuoterAddress:"0xBa60b6e6fF25488308789E6e0A65D838be34194e"}),y5=p5,g5=$2({},p5,{multicallAddress:"0xadF885960B47eA2CD9B55E6DAc6B42b7Cb2806dB",tickLensAddress:"0xbfd8137f7d1516D3ea5cA83523914859ec47F573"}),v5=p5,w5={v3CoreFactoryAddress:"0xAfE208a311B21f13EF87E33A90049fC17A7acDEc",multicallAddress:"0x633987602DE5C4F337e3DbF265303A1080324204",quoterAddress:"0x82825d0554fA07f7FC52Ab63c961F330fdEFa8E8",v3MigratorAddress:"0x3cFd4d48EDfDCC53D3f173F596f621064614C582",nonfungiblePositionManagerAddress:"0x3d79EdAaBC0EaB6F08ED885C05Fc0B014290D95A",tickLensAddress:"0x5f115D9113F88e0a0Db1b5033D90D4a9690AcD3D"},_5=((Q2={})[H2.MAINNET]=m5,Q2[H2.OPTIMISM]=y5,Q2[H2.ARBITRUM_ONE]=g5,Q2[H2.POLYGON]=v5,Q2[H2.POLYGON_MUMBAI]=v5,Q2[H2.GOERLI]=b5,Q2[H2.CELO]=w5,Q2[H2.CELO_ALFAJORES]=w5,Q2[H2.BNB]={v3CoreFactoryAddress:"0xdB1d10011AD0Ff90774D0C6Bb92e5C5c8b4461F7",multicallAddress:"0x963Df249eD09c358A4819E39d9Cd5736c3087184",quoterAddress:"0x78D78E420Da98ad378D7799bE8f4AF69033EB077",v3MigratorAddress:"0x32681814957e0C13117ddc0c2aba232b5c9e760f",nonfungiblePositionManagerAddress:"0x7b8A01B39D58278b5DE7e48c8449c9f4F5170613",tickLensAddress:"0xD9270014D396281579760619CCf4c3af0501A47C",swapRouter02Address:"0xB971eF87ede563556b2ED4b1C0b0019111Dd85d2"},Q2[H2.OPTIMISM_GOERLI]={v3CoreFactoryAddress:"0xB656dA17129e7EB733A557f4EBc57B76CFbB5d10",multicallAddress:"0x07F2D8a2a02251B62af965f22fC4744A5f96BCCd",quoterAddress:"0x9569CbA925c8ca2248772A9A4976A516743A246F",v3MigratorAddress:"0xf6c55fBe84B1C8c3283533c53F51bC32F5C7Aba8",nonfungiblePositionManagerAddress:"0x39Ca85Af2F383190cBf7d7c41ED9202D27426EF6",tickLensAddress:"0xe6140Bd164b63E8BfCfc40D5dF952f83e171758e"},Q2[H2.ARBITRUM_GOERLI]={v3CoreFactoryAddress:"0x4893376342d5D7b3e31d4184c08b265e5aB2A3f6",multicallAddress:"0x8260CB40247290317a4c062F3542622367F206Ee",quoterAddress:"0x1dd92b83591781D0C6d98d07391eea4b9a6008FA",v3MigratorAddress:"0xA815919D2584Ac3F76ea9CB62E6Fd40a43BCe0C3",nonfungiblePositionManagerAddress:"0x622e4726a167799826d1E1D150b076A7725f5D81",tickLensAddress:"0xb52429333da969a0C79a60930a4Bf0020E5D1DE8"},Q2[H2.SEPOLIA]={v3CoreFactoryAddress:"0x0227628f3F023bb0B980b67D528571c95c6DaC1c",multicallAddress:"0xD7F33bCdb21b359c8ee6F0251d30E94832baAd07",quoterAddress:"0xEd1f6473345F45b75F8179591dd5bA1888cf2FB3",v3MigratorAddress:"0x729004182cF005CEC8Bd85df140094b6aCbe8b15",nonfungiblePositionManagerAddress:"0x1238536071E1c677A632429e3655c799b22cDA52",tickLensAddress:"0xd7f33bcdb21b359c8ee6f0251d30e94832baad07"},Q2[H2.AVALANCHE]={v3CoreFactoryAddress:"0x740b1c1de25031C31FF4fC9A62f554A55cdC1baD",multicallAddress:"0x0139141Cd4Ee88dF3Cdb65881D411bAE271Ef0C2",quoterAddress:"0xbe0F5544EC67e9B3b2D979aaA43f18Fd87E6257F",v3MigratorAddress:"0x44f5f1f5E452ea8d29C890E8F6e893fC0f1f0f97",nonfungiblePositionManagerAddress:"0x655C406EBFa14EE2006250925e54ec43AD184f8B",tickLensAddress:"0xEB9fFC8bf81b4fFd11fb6A63a6B0f098c6e21950",swapRouter02Address:"0xbb00FF08d01D300023C629E8fFfFcb65A5a578cE"},Q2[H2.BASE]={v3CoreFactoryAddress:"0x33128a8fC17869897dcE68Ed026d694621f6FDfD",multicallAddress:"0x091e99cb1C49331a94dD62755D168E941AbD0693",quoterAddress:"0x3d4e44Eb1374240CE5F1B871ab261CD16335B76a",v3MigratorAddress:"0x23cF10b1ee3AdfCA73B0eF17C07F7577e7ACd2d7",nonfungiblePositionManagerAddress:"0x03a520b32C04BF3bEEf7BEb72E919cf822Ed34f1",tickLensAddress:"0x0CdeE061c75D43c82520eD998C23ac2991c9ac6d",swapRouter02Address:"0x2626664c2603336E57B271c5C0b26F421741e481"},Q2[H2.BASE_GOERLI]={v3CoreFactoryAddress:"0x9323c1d6D800ed51Bd7C6B216cfBec678B7d0BC2",multicallAddress:"0xB206027a9E0E13F05eBEFa5D2402Bab3eA716439",quoterAddress:"0xedf539058e28E5937dAef3f69cEd0b25fbE66Ae9",v3MigratorAddress:"0x3efe5d02a04b7351D671Db7008ec6eBA9AD9e3aE",nonfungiblePositionManagerAddress:"0x3c61369ef0D1D2AFa70d8feC2F31C5D6Ce134F30",tickLensAddress:"0x1acB873Ee909D0c98adB18e4474943249F931b92",swapRouter02Address:"0x8357227D4eDc78991Db6FDB9bD6ADE250536dE1d"},Q2),E5=$2({},i5.reduce((function(e,t){return e[t]=_5[t].v3CoreFactoryAddress,e}),{})),T5=$2({},i5.reduce((function(e,t){var n=_5[t].v3MigratorAddress;return n&&(e[t]=n),e}),{})),A5=$2({},i5.reduce((function(e,t){return e[t]=_5[t].multicallAddress,e}),{})),R5=s5("0x5e4be8Bc9637f0EAA1A755019e06A68ce081D58F"),S5=((Z2={})[H2.MAINNET]="0xC4e172459f1E7939D522503B81AFAaC1014CE6F6",Z2),k5=((e5={})[H2.MAINNET]="0x408ED6354d4973f66138C91495F2f2FCbd8724C3",e5),O5=s5("0x1a9C8182C09F50C8318d769245beA52c32BE35BC"),I5=((t5={})[H2.MAINNET]="0x090D4613473dEE047c3f2706764f49E0821D256e",t5),x5=((n5={})[H2.MAINNET]="0xeca4B0bDBf7c55E9b7925919d03CbF8Dc82537E8",n5),C5=$2({},i5.reduce((function(e,t){return e[t]=_5[t].quoterAddress,e}),{})),M5=$2({},i5.reduce((function(e,t){var n=_5[t].nonfungiblePositionManagerAddress;return n&&(e[t]=n),e}),{})),P5=$2({},s5("0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e")),N5=((r5={})[H2.MAINNET]="0x65770b5283117639760beA3F867b69b3697a91dd",r5),B5=$2({},i5.reduce((function(e,t){var n=_5[t].tickLensAddress;return n&&(e[t]=n),e}),{})),D5=i5.reduce((function(e,t){var n=_5[t].v1MixedRouteQuoterAddress;return n&&(e[t]=n),e}),{});!function(e){e[e.EXACT_INPUT=0]="EXACT_INPUT",e[e.EXACT_OUTPUT=1]="EXACT_OUTPUT"}(o5||(o5={})),function(e){e[e.ROUND_DOWN=0]="ROUND_DOWN",e[e.ROUND_HALF_UP=1]="ROUND_HALF_UP",e[e.ROUND_UP=2]="ROUND_UP"}(c5||(c5={}));var L5,F5,U5=e1.BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),j5=f1(i1),q5=f1(s1),z5=((L5={})[c5.ROUND_DOWN]=j5.ROUND_DOWN,L5[c5.ROUND_HALF_UP]=j5.ROUND_HALF_UP,L5[c5.ROUND_UP]=j5.ROUND_UP,L5),H5=((F5={})[c5.ROUND_DOWN]=0,F5[c5.ROUND_HALF_UP]=1,F5[c5.ROUND_UP]=3,F5),G5=function(){function e(e,t){void 0===t&&(t=e1.BigInt(1)),this.numerator=e1.BigInt(e),this.denominator=e1.BigInt(t)}e.tryParseFraction=function(t){if(t instanceof e1||"number"==typeof t||"string"==typeof t)return new e(t);if("numerator"in t&&"denominator"in t)return t;throw new Error("Could not parse fraction")};var t=e.prototype;return t.invert=function(){return new e(this.denominator,this.numerator)},t.add=function(t){var n=e.tryParseFraction(t);return e1.equal(this.denominator,n.denominator)?new e(e1.add(this.numerator,n.numerator),this.denominator):new e(e1.add(e1.multiply(this.numerator,n.denominator),e1.multiply(n.numerator,this.denominator)),e1.multiply(this.denominator,n.denominator))},t.subtract=function(t){var n=e.tryParseFraction(t);return e1.equal(this.denominator,n.denominator)?new e(e1.subtract(this.numerator,n.numerator),this.denominator):new e(e1.subtract(e1.multiply(this.numerator,n.denominator),e1.multiply(n.numerator,this.denominator)),e1.multiply(this.denominator,n.denominator))},t.lessThan=function(t){var n=e.tryParseFraction(t);return e1.lessThan(e1.multiply(this.numerator,n.denominator),e1.multiply(n.numerator,this.denominator))},t.equalTo=function(t){var n=e.tryParseFraction(t);return e1.equal(e1.multiply(this.numerator,n.denominator),e1.multiply(n.numerator,this.denominator))},t.greaterThan=function(t){var n=e.tryParseFraction(t);return e1.greaterThan(e1.multiply(this.numerator,n.denominator),e1.multiply(n.numerator,this.denominator))},t.multiply=function(t){var n=e.tryParseFraction(t);return new e(e1.multiply(this.numerator,n.numerator),e1.multiply(this.denominator,n.denominator))},t.divide=function(t){var n=e.tryParseFraction(t);return new e(e1.multiply(this.numerator,n.denominator),e1.multiply(this.denominator,n.numerator))},t.toSignificant=function(e,t,n){void 0===t&&(t={groupSeparator:""}),void 0===n&&(n=c5.ROUND_HALF_UP),Number.isInteger(e)||n1(!1),e>0||n1(!1),j5.set({precision:e+1,rounding:z5[n]});var r=new j5(this.numerator.toString()).div(this.denominator.toString()).toSignificantDigits(e);return r.toFormat(r.decimalPlaces(),t)},t.toFixed=function(e,t,n){return void 0===t&&(t={groupSeparator:""}),void 0===n&&(n=c5.ROUND_HALF_UP),Number.isInteger(e)||n1(!1),e>=0||n1(!1),q5.DP=e,q5.RM=H5[n],new q5(this.numerator.toString()).div(this.denominator.toString()).toFormat(e,t)},X2(e,[{key:"quotient",get:function(){return e1.divide(this.numerator,this.denominator)}},{key:"remainder",get:function(){return new e(e1.remainder(this.numerator,this.denominator),this.denominator)}},{key:"asFraction",get:function(){return new e(this.numerator,this.denominator)}}]),e}(),W5=f1(s1),V5=function(e){function t(t,n,r){var i;return i=e.call(this,n,r)||this,e1.lessThanOrEqual(i.quotient,U5)||n1(!1),i.currency=t,i.decimalScale=e1.exponentiate(e1.BigInt(10),e1.BigInt(t.decimals)),i}J2(t,e),t.fromRawAmount=function(e,n){return new t(e,n)},t.fromFractionalAmount=function(e,n,r){return new t(e,n,r)};var n=t.prototype;return n.add=function(n){this.currency.equals(n.currency)||n1(!1);var r=e.prototype.add.call(this,n);return t.fromFractionalAmount(this.currency,r.numerator,r.denominator)},n.subtract=function(n){this.currency.equals(n.currency)||n1(!1);var r=e.prototype.subtract.call(this,n);return t.fromFractionalAmount(this.currency,r.numerator,r.denominator)},n.multiply=function(n){var r=e.prototype.multiply.call(this,n);return t.fromFractionalAmount(this.currency,r.numerator,r.denominator)},n.divide=function(n){var r=e.prototype.divide.call(this,n);return t.fromFractionalAmount(this.currency,r.numerator,r.denominator)},n.toSignificant=function(t,n,r){return void 0===t&&(t=6),void 0===r&&(r=c5.ROUND_DOWN),e.prototype.divide.call(this,this.decimalScale).toSignificant(t,n,r)},n.toFixed=function(t,n,r){return void 0===t&&(t=this.currency.decimals),void 0===r&&(r=c5.ROUND_DOWN),t<=this.currency.decimals||n1(!1),e.prototype.divide.call(this,this.decimalScale).toFixed(t,n,r)},n.toExact=function(e){return void 0===e&&(e={groupSeparator:""}),W5.DP=this.currency.decimals,new W5(this.quotient.toString()).div(this.decimalScale.toString()).toFormat(e)},X2(t,[{key:"wrapped",get:function(){return this.currency.isToken?this:t.fromFractionalAmount(this.currency.wrapped,this.numerator,this.denominator)}}]),t}(G5),K5=new G5(e1.BigInt(100));function X5(e){return new $5(e.numerator,e.denominator)}var $5=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).isPercent=!0,t}J2(t,e);var n=t.prototype;return n.add=function(t){return X5(e.prototype.add.call(this,t))},n.subtract=function(t){return X5(e.prototype.subtract.call(this,t))},n.multiply=function(t){return X5(e.prototype.multiply.call(this,t))},n.divide=function(t){return X5(e.prototype.divide.call(this,t))},n.toSignificant=function(t,n,r){return void 0===t&&(t=5),e.prototype.multiply.call(this,K5).toSignificant(t,n,r)},n.toFixed=function(t,n,r){return void 0===t&&(t=2),e.prototype.multiply.call(this,K5).toFixed(t,n,r)},t}(G5),J5=function(e){function t(){for(var t,n,r,i,a,s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];if(4===o.length)n=o[0],r=o[1],i=o[2],a=o[3];else{var u=o[0].quoteAmount.divide(o[0].baseAmount),d=[o[0].baseAmount.currency,o[0].quoteAmount.currency,u.denominator,u.numerator];n=d[0],r=d[1],i=d[2],a=d[3]}return(t=e.call(this,a,i)||this).baseCurrency=n,t.quoteCurrency=r,t.scalar=new G5(e1.exponentiate(e1.BigInt(10),e1.BigInt(n.decimals)),e1.exponentiate(e1.BigInt(10),e1.BigInt(r.decimals))),t}J2(t,e);var n=t.prototype;return n.invert=function(){return new t(this.quoteCurrency,this.baseCurrency,this.numerator,this.denominator)},n.multiply=function(n){this.quoteCurrency.equals(n.baseCurrency)||n1(!1);var r=e.prototype.multiply.call(this,n);return new t(this.baseCurrency,n.quoteCurrency,r.denominator,r.numerator)},n.quote=function(t){t.currency.equals(this.baseCurrency)||n1(!1);var n=e.prototype.multiply.call(this,t);return V5.fromFractionalAmount(this.quoteCurrency,n.numerator,n.denominator)},n.toSignificant=function(e,t,n){return void 0===e&&(e=6),this.adjustedForDecimals.toSignificant(e,t,n)},n.toFixed=function(e,t,n){return void 0===e&&(e=4),this.adjustedForDecimals.toFixed(e,t,n)},X2(t,[{key:"adjustedForDecimals",get:function(){return e.prototype.multiply.call(this,this.scalar)}}]),t}(G5),Y5=function(e,t,n,r){Number.isSafeInteger(e)||n1(!1),t>=0&&t<255&&Number.isInteger(t)||n1(!1),this.chainId=e,this.decimals=t,this.symbol=n,this.name=r},Q5=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).isNative=!0,t.isToken=!1,t}return J2(t,e),t}(Y5);function Z5(e){try{return vs(e)}catch(t){throw new Error(e+" is not a valid address.")}}var e3=/^0x[0-9a-fA-F]{40}$/;var t3,n3=function(e){function t(t,n,r,i,a,s){var o;return(o=e.call(this,t,r,i,a)||this).isNative=!1,o.isToken=!0,o.address=s?function(e){if(e3.test(e))return e;throw new Error(e+" is not a valid address.")}(n):Z5(n),o}J2(t,e);var n=t.prototype;return n.equals=function(e){return e.isToken&&this.chainId===e.chainId&&this.address.toLowerCase()===e.address.toLowerCase()},n.sortsBefore=function(e){return this.chainId!==e.chainId&&n1(!1),this.address.toLowerCase()===e.address.toLowerCase()&&n1(!1),this.address.toLowerCase()<e.address.toLowerCase()},X2(t,[{key:"wrapped",get:function(){return this}}]),t}(Y5),r3=((t3={})[1]=new n3(1,"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2",18,"WETH","Wrapped Ether"),t3[3]=new n3(3,"0xc778417E063141139Fce010982780140Aa0cD5Ab",18,"WETH","Wrapped Ether"),t3[4]=new n3(4,"0xc778417E063141139Fce010982780140Aa0cD5Ab",18,"WETH","Wrapped Ether"),t3[5]=new n3(5,"0xB4FBF271143F4FBf7B91A5ded31805e42b2208d6",18,"WETH","Wrapped Ether"),t3[42]=new n3(42,"0xd0A1E359811322d97991E03f863a0C30C2cF029C",18,"WETH","Wrapped Ether"),t3[10]=new n3(10,"0x4200000000000000000000000000000000000006",18,"WETH","Wrapped Ether"),t3[69]=new n3(69,"0x4200000000000000000000000000000000000006",18,"WETH","Wrapped Ether"),t3[42161]=new n3(42161,"0x82aF49447D8a07e3bd95BD0d56f35241523fBab1",18,"WETH","Wrapped Ether"),t3[421611]=new n3(421611,"0xB47e6A5f8b33b3F17603C83a0535A9dcD7E32681",18,"WETH","Wrapped Ether"),t3),i3=function(e){function t(t){return e.call(this,t,18,"ETH","Ether")||this}return J2(t,e),t.onChain=function(e){var n;return null!=(n=this._etherCache[e])?n:this._etherCache[e]=new t(e)},t.prototype.equals=function(e){return e.isNative&&e.chainId===this.chainId},X2(t,[{key:"wrapped",get:function(){var e=r3[this.chainId];return e||n1(!1),e}}]),t}(Q5);i3._etherCache={};var a3=e1.BigInt(Number.MAX_SAFE_INTEGER),s3=e1.BigInt(0),o3=e1.BigInt(1),c3=e1.BigInt(2);var u3,d3,f3,l3=Object.freeze({__proto__:null,ARGENT_WALLET_DETECTOR_ADDRESS:x5,CHAIN_TO_ADDRESSES_MAP:_5,get ChainId(){return H2},CurrencyAmount:V5,ENS_REGISTRAR_ADDRESSES:P5,Ether:i3,Fraction:G5,GOVERNANCE_ALPHA_V0_ADDRESSES:R5,GOVERNANCE_ALPHA_V1_ADDRESSES:S5,GOVERNANCE_BRAVO_ADDRESSES:k5,MERKLE_DISTRIBUTOR_ADDRESS:I5,MIXED_ROUTE_QUOTER_V1_ADDRESSES:D5,MULTICALL_ADDRESSES:A5,MaxUint256:U5,NONFUNGIBLE_POSITION_MANAGER_ADDRESSES:M5,NativeCurrency:Q5,get NativeCurrencyName(){return Y2},Percent:$5,Price:J5,QUOTER_ADDRESSES:C5,get Rounding(){return c5},SOCKS_CONTROLLER_ADDRESSES:N5,SUPPORTED_CHAINS:i5,SWAP_ROUTER_02_ADDRESSES:function(e){return e==H2.BNB?_5[e].swapRouter02Address:"0x68b3465833fb72A70ecDF485E0e4C7bD8665Fc45"},TICK_LENS_ADDRESSES:B5,TIMELOCK_ADDRESSES:O5,Token:n3,get TradeType(){return o5},UNISWAP_NFT_AIRDROP_CLAIM_ADDRESS:"0x8B799381ac40b838BBA4131ffB26197C432AFe78",UNI_ADDRESSES:u5,V2_FACTORY_ADDRESS:d5,V2_FACTORY_ADDRESSES:f5,V2_ROUTER_ADDRESS:l5,V2_ROUTER_ADDRESSES:h5,V3_CORE_FACTORY_ADDRESSES:E5,V3_MIGRATOR_ADDRESSES:T5,WETH9:r3,computePriceImpact:function(e,t,n){var r=e.quote(t),i=r.subtract(n).divide(r);return new $5(i.numerator,i.denominator)},sortedInsert:function(e,t,n,r){if(n>0||n1(!1),e.length<=n||n1(!1),0===e.length)return e.push(t),null;var i=e.length===n;if(i&&r(e[e.length-1],t)<=0)return t;for(var a=0,s=e.length;a<s;){var o=a+s>>>1;r(e[o],t)<=0?a=o+1:s=o}return e.splice(a,0,t),i?e.pop():null},sqrt:function(e){if(e1.greaterThanOrEqual(e,s3)||n1(!1),e1.lessThan(e,a3))return e1.BigInt(Math.floor(Math.sqrt(e1.toNumber(e))));var t,n;for(t=e,n=e1.add(e1.divide(e,c3),o3);e1.lessThan(n,t);)t=n,n=e1.divide(e1.add(e1.divide(e,n),n),c3);return t},validateAndParseAddress:Z5}),h3=sr(l3),p3={_format:"hh-sol-artifact-1",contractName:"IPeripheryPaymentsWithFeeExtended",sourceName:"contracts/interfaces/IPeripheryPaymentsWithFeeExtended.sol",abi:[{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"pull",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"refundETH",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"address",name:"recipient",type:"address"}],name:"sweepToken",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amountMinimum",type:"uint256"}],name:"sweepToken",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"uint256",name:"feeBips",type:"uint256"},{internalType:"address",name:"feeRecipient",type:"address"}],name:"sweepTokenWithFee",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"feeBips",type:"uint256"},{internalType:"address",name:"feeRecipient",type:"address"}],name:"sweepTokenWithFee",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"address",name:"recipient",type:"address"}],name:"unwrapWETH9",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"amountMinimum",type:"uint256"}],name:"unwrapWETH9",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"feeBips",type:"uint256"},{internalType:"address",name:"feeRecipient",type:"address"}],name:"unwrapWETH9WithFee",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"uint256",name:"feeBips",type:"uint256"},{internalType:"address",name:"feeRecipient",type:"address"}],name:"unwrapWETH9WithFee",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"value",type:"uint256"}],name:"wrapETH",outputs:[],stateMutability:"payable",type:"function"}],bytecode:"0x",deployedBytecode:"0x",linkReferences:{},deployedLinkReferences:{}},m3={_format:"hh-sol-artifact-1",contractName:"ISwapRouter02",sourceName:"contracts/interfaces/ISwapRouter02.sol",abi:[{inputs:[{internalType:"address",name:"token",type:"address"}],name:"approveMax",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"}],name:"approveMaxMinusOne",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"}],name:"approveZeroThenMax",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"}],name:"approveZeroThenMaxMinusOne",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes",name:"data",type:"bytes"}],name:"callPositionManager",outputs:[{internalType:"bytes",name:"result",type:"bytes"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"bytes",name:"path",type:"bytes"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint256",name:"amountOutMinimum",type:"uint256"}],internalType:"struct IV3SwapRouter.ExactInputParams",name:"params",type:"tuple"}],name:"exactInput",outputs:[{internalType:"uint256",name:"amountOut",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint256",name:"amountOutMinimum",type:"uint256"},{internalType:"uint160",name:"sqrtPriceLimitX96",type:"uint160"}],internalType:"struct IV3SwapRouter.ExactInputSingleParams",name:"params",type:"tuple"}],name:"exactInputSingle",outputs:[{internalType:"uint256",name:"amountOut",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"bytes",name:"path",type:"bytes"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"uint256",name:"amountInMaximum",type:"uint256"}],internalType:"struct IV3SwapRouter.ExactOutputParams",name:"params",type:"tuple"}],name:"exactOutput",outputs:[{internalType:"uint256",name:"amountIn",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"uint256",name:"amountInMaximum",type:"uint256"},{internalType:"uint160",name:"sqrtPriceLimitX96",type:"uint160"}],internalType:"struct IV3SwapRouter.ExactOutputSingleParams",name:"params",type:"tuple"}],name:"exactOutputSingle",outputs:[{internalType:"uint256",name:"amountIn",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"getApprovalType",outputs:[{internalType:"enum IApproveAndCall.ApprovalType",name:"",type:"uint8"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"token0",type:"address"},{internalType:"address",name:"token1",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"amount0Min",type:"uint256"},{internalType:"uint256",name:"amount1Min",type:"uint256"}],internalType:"struct IApproveAndCall.IncreaseLiquidityParams",name:"params",type:"tuple"}],name:"increaseLiquidity",outputs:[{internalType:"bytes",name:"result",type:"bytes"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"address",name:"token0",type:"address"},{internalType:"address",name:"token1",type:"address"},{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"int24",name:"tickLower",type:"int24"},{internalType:"int24",name:"tickUpper",type:"int24"},{internalType:"uint256",name:"amount0Min",type:"uint256"},{internalType:"uint256",name:"amount1Min",type:"uint256"},{internalType:"address",name:"recipient",type:"address"}],internalType:"struct IApproveAndCall.MintParams",name:"params",type:"tuple"}],name:"mint",outputs:[{internalType:"bytes",name:"result",type:"bytes"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes32",name:"previousBlockhash",type:"bytes32"},{internalType:"bytes[]",name:"data",type:"bytes[]"}],name:"multicall",outputs:[{internalType:"bytes[]",name:"results",type:"bytes[]"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"bytes[]",name:"data",type:"bytes[]"}],name:"multicall",outputs:[{internalType:"bytes[]",name:"results",type:"bytes[]"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes[]",name:"data",type:"bytes[]"}],name:"multicall",outputs:[{internalType:"bytes[]",name:"results",type:"bytes[]"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"selfPermit",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"selfPermitAllowed",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"selfPermitAllowedIfNecessary",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"selfPermitIfNecessary",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint256",name:"amountOutMin",type:"uint256"},{internalType:"address[]",name:"path",type:"address[]"},{internalType:"address",name:"to",type:"address"}],name:"swapExactTokensForTokens",outputs:[{internalType:"uint256",name:"amountOut",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"uint256",name:"amountInMax",type:"uint256"},{internalType:"address[]",name:"path",type:"address[]"},{internalType:"address",name:"to",type:"address"}],name:"swapTokensForExactTokens",outputs:[{internalType:"uint256",name:"amountIn",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"int256",name:"amount0Delta",type:"int256"},{internalType:"int256",name:"amount1Delta",type:"int256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"uniswapV3SwapCallback",outputs:[],stateMutability:"nonpayable",type:"function"}],bytecode:"0x",deployedBytecode:"0x",linkReferences:{},deployedLinkReferences:{}};function b3(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y3(e,t,n){return t&&b3(e.prototype,t),n&&b3(e,n),e}function g3(){return g3=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g3.apply(this,arguments)}function v3(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}!function(e){e[e.MAINNET=1]="MAINNET",e[e.GOERLI=5]="GOERLI",e[e.SEPOLIA=11155111]="SEPOLIA",e[e.OPTIMISM=10]="OPTIMISM",e[e.OPTIMISM_GOERLI=420]="OPTIMISM_GOERLI",e[e.ARBITRUM_ONE=42161]="ARBITRUM_ONE",e[e.ARBITRUM_GOERLI=421613]="ARBITRUM_GOERLI",e[e.POLYGON=137]="POLYGON",e[e.POLYGON_MUMBAI=80001]="POLYGON_MUMBAI",e[e.CELO=42220]="CELO",e[e.CELO_ALFAJORES=44787]="CELO_ALFAJORES",e[e.GNOSIS=100]="GNOSIS",e[e.MOONBEAM=1284]="MOONBEAM",e[e.BNB=56]="BNB",e[e.AVALANCHE=43114]="AVALANCHE",e[e.BASE_GOERLI=84531]="BASE_GOERLI",e[e.BASE=8453]="BASE"}(u3||(u3={})),u3.MAINNET,u3.OPTIMISM,u3.OPTIMISM_GOERLI,u3.ARBITRUM_ONE,u3.ARBITRUM_GOERLI,u3.POLYGON,u3.POLYGON_MUMBAI,u3.GOERLI,u3.SEPOLIA,u3.CELO_ALFAJORES,u3.CELO,u3.BNB,u3.AVALANCHE,u3.BASE,u3.BASE_GOERLI,function(e){e.ETHER="ETH",e.MATIC="MATIC",e.CELO="CELO",e.GNOSIS="XDAI",e.MOONBEAM="GLMR",e.BNB="BNB",e.AVAX="AVAX"}(d3||(d3={}));u3.MAINNET,u3.GOERLI;u3.OPTIMISM,u3.ARBITRUM_ONE,u3.POLYGON,u3.POLYGON_MUMBAI,u3.SEPOLIA;var w3,_3,E3={v3CoreFactoryAddress:"0x1F98431c8aD98523631AE4a59f267346ea31F984",multicallAddress:"0x1F98415757620B543A52E61c46B32eB19261F984",quoterAddress:"0xb27308f9F90D607463bb33eA1BeBb41C27CE5AB6",v3MigratorAddress:"0xA5644E29708357803b5A882D272c41cC0dF92B34",nonfungiblePositionManagerAddress:"0xC36442b4a4522E871399CD717aBDD847Ab11FE88"},T3=g3({},E3,{v1MixedRouteQuoterAddress:"0x84E44095eeBfEC7793Cd7d5b57B7e401D7f1cA2E"}),A3=g3({},E3,{v1MixedRouteQuoterAddress:"0xBa60b6e6fF25488308789E6e0A65D838be34194e"}),R3=E3,S3=g3({},E3,{multicallAddress:"0xadF885960B47eA2CD9B55E6DAc6B42b7Cb2806dB",tickLensAddress:"0xbfd8137f7d1516D3ea5cA83523914859ec47F573"}),k3=E3,O3={v3CoreFactoryAddress:"0xAfE208a311B21f13EF87E33A90049fC17A7acDEc",multicallAddress:"0x633987602DE5C4F337e3DbF265303A1080324204",quoterAddress:"0x82825d0554fA07f7FC52Ab63c961F330fdEFa8E8",v3MigratorAddress:"0x3cFd4d48EDfDCC53D3f173F596f621064614C582",nonfungiblePositionManagerAddress:"0x3d79EdAaBC0EaB6F08ED885C05Fc0B014290D95A",tickLensAddress:"0x5f115D9113F88e0a0Db1b5033D90D4a9690AcD3D"};(f3={})[u3.MAINNET]=T3,f3[u3.OPTIMISM]=R3,f3[u3.ARBITRUM_ONE]=S3,f3[u3.POLYGON]=k3,f3[u3.POLYGON_MUMBAI]=k3,f3[u3.GOERLI]=A3,f3[u3.CELO]=O3,f3[u3.CELO_ALFAJORES]=O3,f3[u3.BNB]={v3CoreFactoryAddress:"0xdB1d10011AD0Ff90774D0C6Bb92e5C5c8b4461F7",multicallAddress:"0x963Df249eD09c358A4819E39d9Cd5736c3087184",quoterAddress:"0x78D78E420Da98ad378D7799bE8f4AF69033EB077",v3MigratorAddress:"0x32681814957e0C13117ddc0c2aba232b5c9e760f",nonfungiblePositionManagerAddress:"0x7b8A01B39D58278b5DE7e48c8449c9f4F5170613",tickLensAddress:"0xD9270014D396281579760619CCf4c3af0501A47C",swapRouter02Address:"0xB971eF87ede563556b2ED4b1C0b0019111Dd85d2"},f3[u3.OPTIMISM_GOERLI]={v3CoreFactoryAddress:"0xB656dA17129e7EB733A557f4EBc57B76CFbB5d10",multicallAddress:"0x07F2D8a2a02251B62af965f22fC4744A5f96BCCd",quoterAddress:"0x9569CbA925c8ca2248772A9A4976A516743A246F",v3MigratorAddress:"0xf6c55fBe84B1C8c3283533c53F51bC32F5C7Aba8",nonfungiblePositionManagerAddress:"0x39Ca85Af2F383190cBf7d7c41ED9202D27426EF6",tickLensAddress:"0xe6140Bd164b63E8BfCfc40D5dF952f83e171758e"},f3[u3.ARBITRUM_GOERLI]={v3CoreFactoryAddress:"0x4893376342d5D7b3e31d4184c08b265e5aB2A3f6",multicallAddress:"0x8260CB40247290317a4c062F3542622367F206Ee",quoterAddress:"0x1dd92b83591781D0C6d98d07391eea4b9a6008FA",v3MigratorAddress:"0xA815919D2584Ac3F76ea9CB62E6Fd40a43BCe0C3",nonfungiblePositionManagerAddress:"0x622e4726a167799826d1E1D150b076A7725f5D81",tickLensAddress:"0xb52429333da969a0C79a60930a4Bf0020E5D1DE8"},f3[u3.SEPOLIA]={v3CoreFactoryAddress:"0x0227628f3F023bb0B980b67D528571c95c6DaC1c",multicallAddress:"0xD7F33bCdb21b359c8ee6F0251d30E94832baAd07",quoterAddress:"0xEd1f6473345F45b75F8179591dd5bA1888cf2FB3",v3MigratorAddress:"0x729004182cF005CEC8Bd85df140094b6aCbe8b15",nonfungiblePositionManagerAddress:"0x1238536071E1c677A632429e3655c799b22cDA52",tickLensAddress:"0xd7f33bcdb21b359c8ee6f0251d30e94832baad07"},f3[u3.AVALANCHE]={v3CoreFactoryAddress:"0x740b1c1de25031C31FF4fC9A62f554A55cdC1baD",multicallAddress:"0x0139141Cd4Ee88dF3Cdb65881D411bAE271Ef0C2",quoterAddress:"0xbe0F5544EC67e9B3b2D979aaA43f18Fd87E6257F",v3MigratorAddress:"0x44f5f1f5E452ea8d29C890E8F6e893fC0f1f0f97",nonfungiblePositionManagerAddress:"0x655C406EBFa14EE2006250925e54ec43AD184f8B",tickLensAddress:"0xEB9fFC8bf81b4fFd11fb6A63a6B0f098c6e21950",swapRouter02Address:"0xbb00FF08d01D300023C629E8fFfFcb65A5a578cE"},f3[u3.BASE]={v3CoreFactoryAddress:"0x33128a8fC17869897dcE68Ed026d694621f6FDfD",multicallAddress:"0x091e99cb1C49331a94dD62755D168E941AbD0693",quoterAddress:"0x3d4e44Eb1374240CE5F1B871ab261CD16335B76a",v3MigratorAddress:"0x23cF10b1ee3AdfCA73B0eF17C07F7577e7ACd2d7",nonfungiblePositionManagerAddress:"0x03a520b32C04BF3bEEf7BEb72E919cf822Ed34f1",tickLensAddress:"0x0CdeE061c75D43c82520eD998C23ac2991c9ac6d",swapRouter02Address:"0x2626664c2603336E57B271c5C0b26F421741e481"},f3[u3.BASE_GOERLI]={v3CoreFactoryAddress:"0x9323c1d6D800ed51Bd7C6B216cfBec678B7d0BC2",multicallAddress:"0xB206027a9E0E13F05eBEFa5D2402Bab3eA716439",quoterAddress:"0xedf539058e28E5937dAef3f69cEd0b25fbE66Ae9",v3MigratorAddress:"0x3efe5d02a04b7351D671Db7008ec6eBA9AD9e3aE",nonfungiblePositionManagerAddress:"0x3c61369ef0D1D2AFa70d8feC2F31C5D6Ce134F30",tickLensAddress:"0x1acB873Ee909D0c98adB18e4474943249F931b92",swapRouter02Address:"0x8357227D4eDc78991Db6FDB9bD6ADE250536dE1d"},{}[u3.MAINNET]="0xC4e172459f1E7939D522503B81AFAaC1014CE6F6",{}[u3.MAINNET]="0x408ED6354d4973f66138C91495F2f2FCbd8724C3",{}[u3.MAINNET]="0x090D4613473dEE047c3f2706764f49E0821D256e",{}[u3.MAINNET]="0xeca4B0bDBf7c55E9b7925919d03CbF8Dc82537E8",{}[u3.MAINNET]="0x65770b5283117639760beA3F867b69b3697a91dd",function(e){e[e.EXACT_INPUT=0]="EXACT_INPUT",e[e.EXACT_OUTPUT=1]="EXACT_OUTPUT"}(w3||(w3={})),function(e){e[e.ROUND_DOWN=0]="ROUND_DOWN",e[e.ROUND_HALF_UP=1]="ROUND_HALF_UP",e[e.ROUND_UP=2]="ROUND_UP"}(_3||(_3={}));var I3,x3,C3=e1.BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),M3=f1(i1),P3=f1(s1),N3=((I3={})[_3.ROUND_DOWN]=M3.ROUND_DOWN,I3[_3.ROUND_HALF_UP]=M3.ROUND_HALF_UP,I3[_3.ROUND_UP]=M3.ROUND_UP,I3),B3=((x3={})[_3.ROUND_DOWN]=0,x3[_3.ROUND_HALF_UP]=1,x3[_3.ROUND_UP]=3,x3),D3=function(){function e(e,t){void 0===t&&(t=e1.BigInt(1)),this.numerator=e1.BigInt(e),this.denominator=e1.BigInt(t)}e.tryParseFraction=function(t){if(t instanceof e1||"number"==typeof t||"string"==typeof t)return new e(t);if("numerator"in t&&"denominator"in t)return t;throw new Error("Could not parse fraction")};var t=e.prototype;return t.invert=function(){return new e(this.denominator,this.numerator)},t.add=function(t){var n=e.tryParseFraction(t);return e1.equal(this.denominator,n.denominator)?new e(e1.add(this.numerator,n.numerator),this.denominator):new e(e1.add(e1.multiply(this.numerator,n.denominator),e1.multiply(n.numerator,this.denominator)),e1.multiply(this.denominator,n.denominator))},t.subtract=function(t){var n=e.tryParseFraction(t);return e1.equal(this.denominator,n.denominator)?new e(e1.subtract(this.numerator,n.numerator),this.denominator):new e(e1.subtract(e1.multiply(this.numerator,n.denominator),e1.multiply(n.numerator,this.denominator)),e1.multiply(this.denominator,n.denominator))},t.lessThan=function(t){var n=e.tryParseFraction(t);return e1.lessThan(e1.multiply(this.numerator,n.denominator),e1.multiply(n.numerator,this.denominator))},t.equalTo=function(t){var n=e.tryParseFraction(t);return e1.equal(e1.multiply(this.numerator,n.denominator),e1.multiply(n.numerator,this.denominator))},t.greaterThan=function(t){var n=e.tryParseFraction(t);return e1.greaterThan(e1.multiply(this.numerator,n.denominator),e1.multiply(n.numerator,this.denominator))},t.multiply=function(t){var n=e.tryParseFraction(t);return new e(e1.multiply(this.numerator,n.numerator),e1.multiply(this.denominator,n.denominator))},t.divide=function(t){var n=e.tryParseFraction(t);return new e(e1.multiply(this.numerator,n.denominator),e1.multiply(this.denominator,n.numerator))},t.toSignificant=function(e,t,n){void 0===t&&(t={groupSeparator:""}),void 0===n&&(n=_3.ROUND_HALF_UP),Number.isInteger(e)||n1(!1),e>0||n1(!1),M3.set({precision:e+1,rounding:N3[n]});var r=new M3(this.numerator.toString()).div(this.denominator.toString()).toSignificantDigits(e);return r.toFormat(r.decimalPlaces(),t)},t.toFixed=function(e,t,n){return void 0===t&&(t={groupSeparator:""}),void 0===n&&(n=_3.ROUND_HALF_UP),Number.isInteger(e)||n1(!1),e>=0||n1(!1),P3.DP=e,P3.RM=B3[n],new P3(this.numerator.toString()).div(this.denominator.toString()).toFormat(e,t)},y3(e,[{key:"quotient",get:function(){return e1.divide(this.numerator,this.denominator)}},{key:"remainder",get:function(){return new e(e1.remainder(this.numerator,this.denominator),this.denominator)}},{key:"asFraction",get:function(){return new e(this.numerator,this.denominator)}}]),e}(),L3=f1(s1),F3=function(e){function t(t,n,r){var i;return i=e.call(this,n,r)||this,e1.lessThanOrEqual(i.quotient,C3)||n1(!1),i.currency=t,i.decimalScale=e1.exponentiate(e1.BigInt(10),e1.BigInt(t.decimals)),i}v3(t,e),t.fromRawAmount=function(e,n){return new t(e,n)},t.fromFractionalAmount=function(e,n,r){return new t(e,n,r)};var n=t.prototype;return n.add=function(n){this.currency.equals(n.currency)||n1(!1);var r=e.prototype.add.call(this,n);return t.fromFractionalAmount(this.currency,r.numerator,r.denominator)},n.subtract=function(n){this.currency.equals(n.currency)||n1(!1);var r=e.prototype.subtract.call(this,n);return t.fromFractionalAmount(this.currency,r.numerator,r.denominator)},n.multiply=function(n){var r=e.prototype.multiply.call(this,n);return t.fromFractionalAmount(this.currency,r.numerator,r.denominator)},n.divide=function(n){var r=e.prototype.divide.call(this,n);return t.fromFractionalAmount(this.currency,r.numerator,r.denominator)},n.toSignificant=function(t,n,r){return void 0===t&&(t=6),void 0===r&&(r=_3.ROUND_DOWN),e.prototype.divide.call(this,this.decimalScale).toSignificant(t,n,r)},n.toFixed=function(t,n,r){return void 0===t&&(t=this.currency.decimals),void 0===r&&(r=_3.ROUND_DOWN),t<=this.currency.decimals||n1(!1),e.prototype.divide.call(this,this.decimalScale).toFixed(t,n,r)},n.toExact=function(e){return void 0===e&&(e={groupSeparator:""}),L3.DP=this.currency.decimals,new L3(this.quotient.toString()).div(this.decimalScale.toString()).toFormat(e)},y3(t,[{key:"wrapped",get:function(){return this.currency.isToken?this:t.fromFractionalAmount(this.currency.wrapped,this.numerator,this.denominator)}}]),t}(D3),U3=new D3(e1.BigInt(100));function j3(e){return new q3(e.numerator,e.denominator)}var q3=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).isPercent=!0,t}v3(t,e);var n=t.prototype;return n.add=function(t){return j3(e.prototype.add.call(this,t))},n.subtract=function(t){return j3(e.prototype.subtract.call(this,t))},n.multiply=function(t){return j3(e.prototype.multiply.call(this,t))},n.divide=function(t){return j3(e.prototype.divide.call(this,t))},n.toSignificant=function(t,n,r){return void 0===t&&(t=5),e.prototype.multiply.call(this,U3).toSignificant(t,n,r)},n.toFixed=function(t,n,r){return void 0===t&&(t=2),e.prototype.multiply.call(this,U3).toFixed(t,n,r)},t}(D3),z3=function(e){function t(){for(var t,n,r,i,a,s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];if(4===o.length)n=o[0],r=o[1],i=o[2],a=o[3];else{var u=o[0].quoteAmount.divide(o[0].baseAmount),d=[o[0].baseAmount.currency,o[0].quoteAmount.currency,u.denominator,u.numerator];n=d[0],r=d[1],i=d[2],a=d[3]}return(t=e.call(this,a,i)||this).baseCurrency=n,t.quoteCurrency=r,t.scalar=new D3(e1.exponentiate(e1.BigInt(10),e1.BigInt(n.decimals)),e1.exponentiate(e1.BigInt(10),e1.BigInt(r.decimals))),t}v3(t,e);var n=t.prototype;return n.invert=function(){return new t(this.quoteCurrency,this.baseCurrency,this.numerator,this.denominator)},n.multiply=function(n){this.quoteCurrency.equals(n.baseCurrency)||n1(!1);var r=e.prototype.multiply.call(this,n);return new t(this.baseCurrency,n.quoteCurrency,r.denominator,r.numerator)},n.quote=function(t){t.currency.equals(this.baseCurrency)||n1(!1);var n=e.prototype.multiply.call(this,t);return F3.fromFractionalAmount(this.quoteCurrency,n.numerator,n.denominator)},n.toSignificant=function(e,t,n){return void 0===e&&(e=6),this.adjustedForDecimals.toSignificant(e,t,n)},n.toFixed=function(e,t,n){return void 0===e&&(e=4),this.adjustedForDecimals.toFixed(e,t,n)},y3(t,[{key:"adjustedForDecimals",get:function(){return e.prototype.multiply.call(this,this.scalar)}}]),t}(D3),H3=function(e,t,n,r){Number.isSafeInteger(e)||n1(!1),t>=0&&t<255&&Number.isInteger(t)||n1(!1),this.chainId=e,this.decimals=t,this.symbol=n,this.name=r};function G3(e){try{return vs(e)}catch(t){throw new Error(e+" is not a valid address.")}}var W3=/^0x[0-9a-fA-F]{40}$/;var V3,K3=function(e){function t(t,n,r,i,a,s){var o;return(o=e.call(this,t,r,i,a)||this).isNative=!1,o.isToken=!0,o.address=s?function(e){if(W3.test(e))return e;throw new Error(e+" is not a valid address.")}(n):G3(n),o}v3(t,e);var n=t.prototype;return n.equals=function(e){return e.isToken&&this.chainId===e.chainId&&this.address.toLowerCase()===e.address.toLowerCase()},n.sortsBefore=function(e){return this.chainId!==e.chainId&&n1(!1),this.address.toLowerCase()===e.address.toLowerCase()&&n1(!1),this.address.toLowerCase()<e.address.toLowerCase()},y3(t,[{key:"wrapped",get:function(){return this}}]),t}(H3);function X3(e,t,n,r){if(n>0||n1(!1),e.length<=n||n1(!1),0===e.length)return e.push(t),null;var i=e.length===n;if(i&&r(e[e.length-1],t)<=0)return t;for(var a=0,s=e.length;a<s;){var o=a+s>>>1;r(e[o],t)<=0?a=o+1:s=o}return e.splice(a,0,t),i?e.pop():null}(V3={})[1]=new K3(1,"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2",18,"WETH","Wrapped Ether"),V3[3]=new K3(3,"0xc778417E063141139Fce010982780140Aa0cD5Ab",18,"WETH","Wrapped Ether"),V3[4]=new K3(4,"0xc778417E063141139Fce010982780140Aa0cD5Ab",18,"WETH","Wrapped Ether"),V3[5]=new K3(5,"0xB4FBF271143F4FBf7B91A5ded31805e42b2208d6",18,"WETH","Wrapped Ether"),V3[42]=new K3(42,"0xd0A1E359811322d97991E03f863a0C30C2cF029C",18,"WETH","Wrapped Ether"),V3[10]=new K3(10,"0x4200000000000000000000000000000000000006",18,"WETH","Wrapped Ether"),V3[69]=new K3(69,"0x4200000000000000000000000000000000000006",18,"WETH","Wrapped Ether"),V3[42161]=new K3(42161,"0x82aF49447D8a07e3bd95BD0d56f35241523fBab1",18,"WETH","Wrapped Ether"),V3[421611]=new K3(421611,"0xB47e6A5f8b33b3F17603C83a0535A9dcD7E32681",18,"WETH","Wrapped Ether");var $3=e1.BigInt(Number.MAX_SAFE_INTEGER),J3=e1.BigInt(0),Y3=e1.BigInt(1),Q3=e1.BigInt(2);function Z3(e){if(e1.greaterThanOrEqual(e,J3)||n1(!1),e1.lessThan(e,$3))return e1.BigInt(Math.floor(Math.sqrt(e1.toNumber(e))));var t,n;for(t=e,n=e1.add(e1.divide(e,Q3),Y3);e1.lessThan(n,t);)t=n,n=e1.divide(e1.add(e1.divide(e,n),n),Q3);return t}var e8="0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f",t8="0x96e8ac4277198ff8b6f785478aa9a39f403cb768dd02cbee326c3e7da348845f",n8=e1.BigInt(1e3),r8=e1.BigInt(0),i8=e1.BigInt(1),a8=e1.BigInt(5),s8=e1.BigInt(997),o8=e1.BigInt(1e3);function c8(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u8(e,t,n){return t&&c8(e.prototype,t),n&&c8(e,n),e}function d8(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function f8(e){return f8=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f8(e)}function l8(e,t){return l8=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l8(e,t)}function h8(e,t,n){return h8=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&l8(i,n.prototype),i},h8.apply(null,arguments)}function p8(e){var t="function"==typeof Map?new Map:void 0;return p8=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return h8(e,arguments,f8(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),l8(n,e)},p8(e)}function m8(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b8(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y8(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return b8(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b8(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}var g8="setPrototypeOf"in Object,v8=function(e){function t(){var n;return(n=e.call(this)||this).isInsufficientReservesError=!0,n.name=n.constructor.name,g8&&Object.setPrototypeOf(m8(n),(this instanceof t?this.constructor:void 0).prototype),n}return d8(t,e),t}(p8(Error)),w8=function(e){function t(){var n;return(n=e.call(this)||this).isInsufficientInputAmountError=!0,n.name=n.constructor.name,g8&&Object.setPrototypeOf(m8(n),(this instanceof t?this.constructor:void 0).prototype),n}return d8(t,e),t}(p8(Error)),_8=function(e){var t=e.factoryAddress,n=e.tokenA,r=e.tokenB,i=n.sortsBefore(r)?[n,r]:[r,n],a=i[1];return Ts(t,gb(["bytes"],[yb(["address","address"],[i[0].address,a.address])]),t8)},E8=function(){function e(t,n){var r=t.currency.sortsBefore(n.currency)?[t,n]:[n,t];this.liquidityToken=new K3(r[0].currency.chainId,e.getAddress(r[0].currency,r[1].currency),18,"UNI-V2","Uniswap V2"),this.tokenAmounts=r}e.getAddress=function(e,t){return _8({factoryAddress:e8,tokenA:e,tokenB:t})};var t=e.prototype;return t.involvesToken=function(e){return e.equals(this.token0)||e.equals(this.token1)},t.priceOf=function(e){return this.involvesToken(e)||n1(!1),e.equals(this.token0)?this.token0Price:this.token1Price},t.reserveOf=function(e){return this.involvesToken(e)||n1(!1),e.equals(this.token0)?this.reserve0:this.reserve1},t.getOutputAmount=function(t){if(this.involvesToken(t.currency)||n1(!1),e1.equal(this.reserve0.quotient,r8)||e1.equal(this.reserve1.quotient,r8))throw new v8;var n=this.reserveOf(t.currency),r=this.reserveOf(t.currency.equals(this.token0)?this.token1:this.token0),i=e1.multiply(t.quotient,s8),a=e1.multiply(i,r.quotient),s=e1.add(e1.multiply(n.quotient,o8),i),o=F3.fromRawAmount(t.currency.equals(this.token0)?this.token1:this.token0,e1.divide(a,s));if(e1.equal(o.quotient,r8))throw new w8;return[o,new e(n.add(t),r.subtract(o))]},t.getInputAmount=function(t){if(this.involvesToken(t.currency)||n1(!1),e1.equal(this.reserve0.quotient,r8)||e1.equal(this.reserve1.quotient,r8)||e1.greaterThanOrEqual(t.quotient,this.reserveOf(t.currency).quotient))throw new v8;var n=this.reserveOf(t.currency),r=this.reserveOf(t.currency.equals(this.token0)?this.token1:this.token0),i=e1.multiply(e1.multiply(r.quotient,t.quotient),o8),a=e1.multiply(e1.subtract(n.quotient,t.quotient),s8),s=F3.fromRawAmount(t.currency.equals(this.token0)?this.token1:this.token0,e1.add(e1.divide(i,a),i8));return[s,new e(r.add(s),n.subtract(t))]},t.getLiquidityMinted=function(e,t,n){e.currency.equals(this.liquidityToken)||n1(!1);var r,i=t.currency.sortsBefore(n.currency)?[t,n]:[n,t];if(i[0].currency.equals(this.token0)&&i[1].currency.equals(this.token1)||n1(!1),e1.equal(e.quotient,r8))r=e1.subtract(Z3(e1.multiply(i[0].quotient,i[1].quotient)),n8);else{var a=e1.divide(e1.multiply(i[0].quotient,e.quotient),this.reserve0.quotient),s=e1.divide(e1.multiply(i[1].quotient,e.quotient),this.reserve1.quotient);r=e1.lessThanOrEqual(a,s)?a:s}if(!e1.greaterThan(r,r8))throw new w8;return F3.fromRawAmount(this.liquidityToken,r)},t.getLiquidityValue=function(e,t,n,r,i){var a;if(void 0===r&&(r=!1),this.involvesToken(e)||n1(!1),t.currency.equals(this.liquidityToken)||n1(!1),n.currency.equals(this.liquidityToken)||n1(!1),e1.lessThanOrEqual(n.quotient,t.quotient)||n1(!1),r){i||n1(!1);var s=e1.BigInt(i);if(e1.equal(s,r8))a=t;else{var o=Z3(e1.multiply(this.reserve0.quotient,this.reserve1.quotient)),c=Z3(s);if(e1.greaterThan(o,c)){var u=e1.multiply(t.quotient,e1.subtract(o,c)),d=e1.add(e1.multiply(o,a8),c),f=e1.divide(u,d);a=t.add(F3.fromRawAmount(this.liquidityToken,f))}else a=t}}else a=t;return F3.fromRawAmount(e,e1.divide(e1.multiply(n.quotient,this.reserveOf(e).quotient),a.quotient))},u8(e,[{key:"token0Price",get:function(){var e=this.tokenAmounts[1].divide(this.tokenAmounts[0]);return new z3(this.token0,this.token1,e.denominator,e.numerator)}},{key:"token1Price",get:function(){var e=this.tokenAmounts[0].divide(this.tokenAmounts[1]);return new z3(this.token1,this.token0,e.denominator,e.numerator)}},{key:"chainId",get:function(){return this.token0.chainId}},{key:"token0",get:function(){return this.tokenAmounts[0].currency}},{key:"token1",get:function(){return this.tokenAmounts[1].currency}},{key:"reserve0",get:function(){return this.tokenAmounts[0]}},{key:"reserve1",get:function(){return this.tokenAmounts[1]}}]),e}(),T8=function(){function e(e,t,n){this._midPrice=null,e.length>0||n1(!1);var r=e[0].chainId;e.every((function(e){return e.chainId===r}))||n1(!1);var i=t.wrapped;e[0].involvesToken(i)||n1(!1),void 0===n||e[e.length-1].involvesToken(n.wrapped)||n1(!1);for(var a,s=[i],o=y8(e.entries());!(a=o()).done;){var c=a.value,u=c[0],d=c[1],f=s[u];f.equals(d.token0)||f.equals(d.token1)||n1(!1);var l=f.equals(d.token0)?d.token1:d.token0;s.push(l)}this.pairs=e,this.path=s,this.input=t,this.output=n}return u8(e,[{key:"midPrice",get:function(){if(null!==this._midPrice)return this._midPrice;for(var e,t=[],n=y8(this.pairs.entries());!(e=n()).done;){var r=e.value,i=r[0],a=r[1];t.push(this.path[i].equals(a.token0)?new z3(a.reserve0.currency,a.reserve1.currency,a.reserve0.quotient,a.reserve1.quotient):new z3(a.reserve1.currency,a.reserve0.currency,a.reserve1.quotient,a.reserve0.quotient))}var s=t.slice(1).reduce((function(e,t){return e.multiply(t)}),t[0]);return this._midPrice=new z3(this.input,this.output,s.denominator,s.numerator)}},{key:"chainId",get:function(){return this.pairs[0].chainId}}]),e}();function A8(e,t){return e.inputAmount.currency.equals(t.inputAmount.currency)||n1(!1),e.outputAmount.currency.equals(t.outputAmount.currency)||n1(!1),e.outputAmount.equalTo(t.outputAmount)?e.inputAmount.equalTo(t.inputAmount)?0:e.inputAmount.lessThan(t.inputAmount)?-1:1:e.outputAmount.lessThan(t.outputAmount)?1:-1}function R8(e,t){var n=A8(e,t);return 0!==n?n:e.priceImpact.lessThan(t.priceImpact)?-1:e.priceImpact.greaterThan(t.priceImpact)?1:e.route.path.length-t.route.path.length}var S8=function(){function e(e,t,n){this.route=e,this.tradeType=n;var r=new Array(e.path.length);if(n===w3.EXACT_INPUT){t.currency.equals(e.input)||n1(!1),r[0]=t.wrapped;for(var i=0;i<e.path.length-1;i++){var a=e.pairs[i].getOutputAmount(r[i])[0];r[i+1]=a}this.inputAmount=F3.fromFractionalAmount(e.input,t.numerator,t.denominator),this.outputAmount=F3.fromFractionalAmount(e.output,r[r.length-1].numerator,r[r.length-1].denominator)}else{t.currency.equals(e.output)||n1(!1),r[r.length-1]=t.wrapped;for(var s=e.path.length-1;s>0;s--){var o=e.pairs[s-1].getInputAmount(r[s])[0];r[s-1]=o}this.inputAmount=F3.fromFractionalAmount(e.input,r[0].numerator,r[0].denominator),this.outputAmount=F3.fromFractionalAmount(e.output,t.numerator,t.denominator)}this.executionPrice=new z3(this.inputAmount.currency,this.outputAmount.currency,this.inputAmount.quotient,this.outputAmount.quotient),this.priceImpact=function(e,t,n){var r=e.quote(t),i=r.subtract(n).divide(r);return new q3(i.numerator,i.denominator)}(e.midPrice,this.inputAmount,this.outputAmount)}e.exactIn=function(t,n){return new e(t,n,w3.EXACT_INPUT)},e.exactOut=function(t,n){return new e(t,n,w3.EXACT_OUTPUT)};var t=e.prototype;return t.minimumAmountOut=function(e){if(e.lessThan(r8)&&n1(!1),this.tradeType===w3.EXACT_OUTPUT)return this.outputAmount;var t=new D3(i8).add(e).invert().multiply(this.outputAmount.quotient).quotient;return F3.fromRawAmount(this.outputAmount.currency,t)},t.maximumAmountIn=function(e){if(e.lessThan(r8)&&n1(!1),this.tradeType===w3.EXACT_INPUT)return this.inputAmount;var t=new D3(i8).add(e).multiply(this.inputAmount.quotient).quotient;return F3.fromRawAmount(this.inputAmount.currency,t)},e.bestTradeExactIn=function(t,n,r,i,a,s,o){var c=void 0===i?{}:i,u=c.maxNumResults,d=void 0===u?3:u,f=c.maxHops,l=void 0===f?3:f;void 0===a&&(a=[]),void 0===s&&(s=n),void 0===o&&(o=[]),t.length>0||n1(!1),l>0||n1(!1),n===s||a.length>0||n1(!1);for(var h=s.wrapped,p=r.wrapped,m=0;m<t.length;m++){var b=t[m];if((b.token0.equals(h.currency)||b.token1.equals(h.currency))&&(!b.reserve0.equalTo(r8)&&!b.reserve1.equalTo(r8))){var y=void 0;try{y=b.getOutputAmount(h)[0]}catch(e){if(e.isInsufficientInputAmountError)continue;throw e}if(y.currency.equals(p))X3(o,new e(new T8([].concat(a,[b]),n.currency,r),n,w3.EXACT_INPUT),d,R8);else if(l>1&&t.length>1){var g=t.slice(0,m).concat(t.slice(m+1,t.length));e.bestTradeExactIn(g,n,r,{maxNumResults:d,maxHops:l-1},[].concat(a,[b]),y,o)}}}return o},t.worstExecutionPrice=function(e){return new z3(this.inputAmount.currency,this.outputAmount.currency,this.maximumAmountIn(e).quotient,this.minimumAmountOut(e).quotient)},e.bestTradeExactOut=function(t,n,r,i,a,s,o){var c=void 0===i?{}:i,u=c.maxNumResults,d=void 0===u?3:u,f=c.maxHops,l=void 0===f?3:f;void 0===a&&(a=[]),void 0===s&&(s=r),void 0===o&&(o=[]),t.length>0||n1(!1),l>0||n1(!1),r===s||a.length>0||n1(!1);for(var h=s.wrapped,p=n.wrapped,m=0;m<t.length;m++){var b=t[m];if((b.token0.equals(h.currency)||b.token1.equals(h.currency))&&(!b.reserve0.equalTo(r8)&&!b.reserve1.equalTo(r8))){var y=void 0;try{y=b.getInputAmount(h)[0]}catch(e){if(e.isInsufficientReservesError)continue;throw e}if(y.currency.equals(p))X3(o,new e(new T8([b].concat(a),n,r.currency),r,w3.EXACT_OUTPUT),d,R8);else if(l>1&&t.length>1){var g=t.slice(0,m).concat(t.slice(m+1,t.length));e.bestTradeExactOut(g,n,r,{maxNumResults:d,maxHops:l-1},[b].concat(a),y,o)}}}return o},e}();function k8(e){return"0x"+e.quotient.toString(16)}var O8,I8="0x0",x8=function(){function e(){}return e.swapCallParameters=function(e,t){var n=e.inputAmount.currency.isNative,r=e.outputAmount.currency.isNative;n&&r&&n1(!1),!("ttl"in t)||t.ttl>0||n1(!1);var i,a,s,o=G3(t.recipient),c=k8(e.maximumAmountIn(t.allowedSlippage)),u=k8(e.minimumAmountOut(t.allowedSlippage)),d=e.route.path.map((function(e){return e.address})),f="ttl"in t?"0x"+(Math.floor((new Date).getTime()/1e3)+t.ttl).toString(16):"0x"+t.deadline.toString(16),l=Boolean(t.feeOnTransfer);switch(e.tradeType){case w3.EXACT_INPUT:n?(i=l?"swapExactETHForTokensSupportingFeeOnTransferTokens":"swapExactETHForTokens",a=[u,d,o,f],s=c):r?(i=l?"swapExactTokensForETHSupportingFeeOnTransferTokens":"swapExactTokensForETH",a=[c,u,d,o,f],s=I8):(i=l?"swapExactTokensForTokensSupportingFeeOnTransferTokens":"swapExactTokensForTokens",a=[c,u,d,o,f],s=I8);break;case w3.EXACT_OUTPUT:l&&n1(!1),n?(i="swapETHForExactTokens",a=[u,d,o,f],s=c):r?(i="swapTokensForExactETH",a=[u,c,d,o,f],s=I8):(i="swapTokensForExactTokens",a=[u,c,d,o,f],s=I8)}return{methodName:i,args:a,value:s}},e}(),C8=sr(Object.freeze({__proto__:null,FACTORY_ADDRESS:e8,INIT_CODE_HASH:t8,InsufficientInputAmountError:w8,InsufficientReservesError:v8,MINIMUM_LIQUIDITY:n8,Pair:E8,Route:T8,Router:x8,Trade:S8,computePairAddress:_8,inputOutputComparator:A8,tradeComparator:R8}));q2.exports=(O8||(O8=1,function(e){function t(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(e,"__esModule",{value:!0});var n,r=t(Z0),i=pG,a=t(j2?U2:(j2=1,U2=function(e,t){if(!e)throw new Error("Invariant failed")})),s=G2,o=W2,c=V2,u=h3,d=p3,f=m3,l=C8,h=RG,p="0x0000000000000000000000000000000000000001",m="0x0000000000000000000000000000000000000002",b=r.BigInt(0),y=r.BigInt(1);function g(e){return Object.keys(e).some((function(e){return"recipient"===e}))}(n=e.ApprovalTypes||(e.ApprovalTypes={}))[n.NOT_REQUIRED=0]="NOT_REQUIRED",n[n.MAX=1]="MAX",n[n.MAX_MINUS_ONE=2]="MAX_MINUS_ONE",n[n.ZERO_THEN_MAX=3]="ZERO_THEN_MAX",n[n.ZERO_THEN_MAX_MINUS_ONE=4]="ZERO_THEN_MAX_MINUS_ONE";var v=function(){function t(){}return t.encodeApproveMax=function(e){return t.INTERFACE.encodeFunctionData("approveMax",[e.address])},t.encodeApproveMaxMinusOne=function(e){return t.INTERFACE.encodeFunctionData("approveMaxMinusOne",[e.address])},t.encodeApproveZeroThenMax=function(e){return t.INTERFACE.encodeFunctionData("approveZeroThenMax",[e.address])},t.encodeApproveZeroThenMaxMinusOne=function(e){return t.INTERFACE.encodeFunctionData("approveZeroThenMaxMinusOne",[e.address])},t.encodeCallPositionManager=function(e){if(e.length>0||a(!1),1==e.length)return t.INTERFACE.encodeFunctionData("callPositionManager",e);var n=o.NonfungiblePositionManager.INTERFACE.encodeFunctionData("multicall",[e]);return t.INTERFACE.encodeFunctionData("callPositionManager",[n])},t.encodeAddLiquidity=function(e,n,i,a){var s=e.mintAmountsWithSlippage(a),c=s.amount0,u=s.amount1;return r.lessThan(n.amount0.quotient,c)&&(c=n.amount0.quotient),r.lessThan(n.amount1.quotient,u)&&(u=n.amount1.quotient),g(i)?t.INTERFACE.encodeFunctionData("mint",[{token0:e.pool.token0.address,token1:e.pool.token1.address,fee:e.pool.fee,tickLower:e.tickLower,tickUpper:e.tickUpper,amount0Min:o.toHex(c),amount1Min:o.toHex(u),recipient:i.recipient}]):t.INTERFACE.encodeFunctionData("increaseLiquidity",[{token0:e.pool.token0.address,token1:e.pool.token1.address,amount0Min:o.toHex(c),amount1Min:o.toHex(u),tokenId:o.toHex(i.tokenId)}])},t.encodeApprove=function(n,r){switch(r){case e.ApprovalTypes.MAX:return t.encodeApproveMax(n.wrapped);case e.ApprovalTypes.MAX_MINUS_ONE:return t.encodeApproveMaxMinusOne(n.wrapped);case e.ApprovalTypes.ZERO_THEN_MAX:return t.encodeApproveZeroThenMax(n.wrapped);case e.ApprovalTypes.ZERO_THEN_MAX_MINUS_ONE:return t.encodeApproveZeroThenMaxMinusOne(n.wrapped);default:throw"Error: invalid ApprovalType"}},t}();v.INTERFACE=new i.Interface(s.abi);var w=function(){function e(){}return e.encodeMulticall=function(t,n){if(void 0===n)return o.Multicall.encodeMulticall(t);if(Array.isArray(t)||(t=[t]),"string"==typeof n&&n.startsWith("0x")){var r=function(e){if(!e.match(/^0x[0-9a-fA-F]{64}$/))throw new Error(e+" is not valid bytes32.");return e.toLowerCase()}(n);return e.INTERFACE.encodeFunctionData("multicall(bytes32,bytes[])",[r,t])}var i=o.toHex(n);return e.INTERFACE.encodeFunctionData("multicall(uint256,bytes[])",[i,t])},e}();function _(e){return o.toHex(e.multiply(1e4).quotient)}w.INTERFACE=new i.Interface(c.abi);var E=function(){function e(){}return e.encodeUnwrapWETH9=function(t,n,r){if("string"==typeof n)return o.Payments.encodeUnwrapWETH9(t,n,r);if(r){var i=_(r.fee),a=u.validateAndParseAddress(r.recipient);return e.INTERFACE.encodeFunctionData("unwrapWETH9WithFee(uint256,uint256,address)",[o.toHex(t),i,a])}return e.INTERFACE.encodeFunctionData("unwrapWETH9(uint256)",[o.toHex(t)])},e.encodeSweepToken=function(t,n,r,i){if("string"==typeof r)return o.Payments.encodeSweepToken(t,n,r,i);if(i){var a=_(i.fee),s=u.validateAndParseAddress(i.recipient);return e.INTERFACE.encodeFunctionData("sweepTokenWithFee(address,uint256,uint256,address)",[t.address,o.toHex(n),a,s])}return e.INTERFACE.encodeFunctionData("sweepToken(address,uint256)",[t.address,o.toHex(n)])},e.encodePull=function(t,n){return e.INTERFACE.encodeFunctionData("pull",[t.address,o.toHex(n)])},e.encodeWrapETH=function(t){return e.INTERFACE.encodeFunctionData("wrapETH",[o.toHex(t)])},e}();function T(e,t,n,r,i,a,s){try{var o=e[a](s),c=o.value}catch(e){return void n(e)}o.done?t(c):Promise.resolve(c).then(r,i)}function A(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function s(e){T(a,r,i,s,o,"next",e)}function o(e){T(a,r,i,s,o,"throw",e)}s(void 0)}))}}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t,n){return t&&R(e.prototype,t),n&&R(e,n),e}function k(){return(k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function O(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,(Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return I(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}E.INTERFACE=new i.Interface(d.abi);var C,M=(function(e){var t=function(e){var t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function o(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{o({},"")}catch(e){o=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=Object.create((t&&t.prototype instanceof f?t:f).prototype),a=new T(r||[]);return i._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return{value:void 0,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var o=w(s,n);if(o){if(o===d)continue;return o}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(e,n,a),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var d={};function f(){}function l(){}function h(){}var p={};o(p,i,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(A([])));b&&b!==t&&n.call(b,i)&&(p=b);var y=h.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach((function(t){o(e,t,(function(e){return this._invoke(t,e)}))}))}function v(e,t){var r;this._invoke=function(i,a){function s(){return new t((function(r,s){!function r(i,a,s,o){var c=u(e[i],e,a);if("throw"!==c.type){var d=c.arg,f=d.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,s,o)}),(function(e){r("throw",e,s,o)})):t.resolve(f).then((function(e){d.value=e,s(d)}),(function(e){return r("throw",e,s,o)}))}o(c.arg)}(i,a,r,s)}))}return r=r?r.then(s,s):s()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function A(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:R}}function R(){return{value:void 0,done:!0}}return l.prototype=h,o(y,"constructor",h),o(h,"constructor",l),l.displayName=o(h,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===l||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,o(e,s,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(v.prototype),o(v.prototype,a,(function(){return this})),e.AsyncIterator=v,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var s=new v(c(t,n,r,i),a);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},g(y),o(y,s,"Generator"),o(y,i,(function(){return this})),o(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=A,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return s.type="throw",s.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var o=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(o&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(o){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=e,s.arg=t,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}}(C={exports:{}}),C.exports),P=function(){function e(e,t,n){this._midPrice=null,e.length>0||a(!1);var r=e[0].chainId;e.every((function(e){return e.chainId===r}))||a(!1);var i=t.wrapped;e[0].involvesToken(i)||a(!1),e[e.length-1].involvesToken(n.wrapped)||a(!1);for(var s,o=[i],c=x(e.entries());!(s=c()).done;){var u=s.value,d=u[1],f=o[u[0]];f.equals(d.token0)||f.equals(d.token1)||a(!1);var l=f.equals(d.token0)?d.token1:d.token0;o.push(l)}this.pools=e,this.path=o,this.input=t,this.output=null!=n?n:o[o.length-1]}return S(e,[{key:"chainId",get:function(){return this.pools[0].chainId}},{key:"midPrice",get:function(){if(null!==this._midPrice)return this._midPrice;var e=this.pools.slice(1).reduce((function(e,t){var n=e.price;return e.nextInput.equals(t.token0)?{nextInput:t.token1,price:n.multiply(t.token0Price)}:{nextInput:t.token0,price:n.multiply(t.token1Price)}}),this.pools[0].token0.equals(this.input.wrapped)?{nextInput:this.pools[0].token1,price:this.pools[0].token0Price}:{nextInput:this.pools[0].token0,price:this.pools[0].token1Price}).price;return this._midPrice=new u.Price(this.input,this.output,e.denominator,e.numerator)}}]),e}();function N(e,t){return e.inputAmount.currency.equals(t.inputAmount.currency)||a(!1),e.outputAmount.currency.equals(t.outputAmount.currency)||a(!1),e.outputAmount.equalTo(t.outputAmount)?e.inputAmount.equalTo(t.inputAmount)?e.swaps.reduce((function(e,t){return e+t.route.path.length}),0)-t.swaps.reduce((function(e,t){return e+t.route.path.length}),0):e.inputAmount.lessThan(t.inputAmount)?-1:1:e.outputAmount.lessThan(t.outputAmount)?1:-1}var B,D=function(){function e(e){var t=e.routes,n=e.tradeType,r=t[0].inputAmount.currency,i=t[0].outputAmount.currency;t.every((function(e){return r.wrapped.equals(e.route.input.wrapped)}))||a(!1),t.every((function(e){return i.wrapped.equals(e.route.output.wrapped)}))||a(!1);for(var s,c=t.map((function(e){return e.route.pools.length})).reduce((function(e,t){return e+t}),0),d=new Set,f=x(t);!(s=f()).done;)for(var h,p=x(s.value.route.pools);!(h=p()).done;){var m=h.value;d.add(m instanceof o.Pool?o.Pool.getAddress(m.token0,m.token1,m.fee):l.Pair.getAddress(m.token0,m.token1))}c!=d.size&&a(!1),n!==u.TradeType.EXACT_INPUT&&a(!1),this.swaps=t,this.tradeType=n}e.fromRoute=function(){var t=A(M.mark((function t(n,r,i){var s,o,c,d,f;return M.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s=new Array(n.path.length),i!==u.TradeType.EXACT_INPUT&&a(!1),r.currency.equals(n.input)||a(!1),s[0]=r.wrapped,d=0;case 5:if(!(d<n.path.length-1)){t.next=15;break}return f=n.pools[d],t.next=9,f.getOutputAmount(s[d]);case 9:s[d+1]=t.sent[0];case 12:d++,t.next=5;break;case 15:return o=u.CurrencyAmount.fromFractionalAmount(n.input,r.numerator,r.denominator),c=u.CurrencyAmount.fromFractionalAmount(n.output,s[s.length-1].numerator,s[s.length-1].denominator),t.abrupt("return",new e({routes:[{inputAmount:o,outputAmount:c,route:n}],tradeType:i}));case 18:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),e.fromRoutes=function(){var t=A(M.mark((function t(n,r){var i,s,o,c,d,f,l,h,p,m,b;return M.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=[],r!==u.TradeType.EXACT_INPUT&&a(!1),s=x(n);case 3:if((o=s()).done){t.next=26;break}d=(c=o.value).route,f=c.amount,l=new Array(d.path.length),h=void 0,p=void 0,f.currency.equals(d.input)||a(!1),h=u.CurrencyAmount.fromFractionalAmount(d.input,f.numerator,f.denominator),l[0]=u.CurrencyAmount.fromFractionalAmount(d.input.wrapped,f.numerator,f.denominator),m=0;case 12:if(!(m<d.path.length-1)){t.next=22;break}return b=d.pools[m],t.next=16,b.getOutputAmount(l[m]);case 16:l[m+1]=t.sent[0];case 19:m++,t.next=12;break;case 22:p=u.CurrencyAmount.fromFractionalAmount(d.output,l[l.length-1].numerator,l[l.length-1].denominator),i.push({route:d,inputAmount:h,outputAmount:p});case 24:t.next=3;break;case 26:return t.abrupt("return",new e({routes:i,tradeType:r}));case 27:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.createUncheckedTrade=function(t){return new e(k({},t,{routes:[{inputAmount:t.inputAmount,outputAmount:t.outputAmount,route:t.route}]}))},e.createUncheckedTradeWithMultipleRoutes=function(t){return new e(t)};var t=e.prototype;return t.minimumAmountOut=function(e,t){void 0===t&&(t=this.outputAmount),e.lessThan(b)&&a(!1);var n=new u.Fraction(y).add(e).invert().multiply(t.quotient).quotient;return u.CurrencyAmount.fromRawAmount(t.currency,n)},t.maximumAmountIn=function(e,t){return void 0===t&&(t=this.inputAmount),e.lessThan(b)&&a(!1),t},t.worstExecutionPrice=function(e){return new u.Price(this.inputAmount.currency,this.outputAmount.currency,this.maximumAmountIn(e).quotient,this.minimumAmountOut(e).quotient)},e.bestTradeExactIn=function(){var t=A(M.mark((function t(n,r,i,s,o,c,d){var f,h,p,m,y,g,v,w,_,E,T;return M.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:p=void 0===(h=(f=void 0===s?{}:s).maxNumResults)?3:h,y=void 0===(m=f.maxHops)?3:m,void 0===o&&(o=[]),void 0===c&&(c=r),void 0===d&&(d=[]),n.length>0||a(!1),y>0||a(!1),r===c||o.length>0||a(!1),g=c.wrapped,v=i.wrapped,w=0;case 10:if(!(w<n.length)){t.next=49;break}if((_=n[w]).token0.equals(g.currency)||_.token1.equals(g.currency)){t.next=14;break}return t.abrupt("continue",46);case 14:if(!(_ instanceof l.Pair)){t.next=17;break}if(!_.reserve0.equalTo(b)&&!_.reserve1.equalTo(b)){t.next=17;break}return t.abrupt("continue",46);case 17:return E=void 0,t.prev=18,t.next=22,_.getOutputAmount(g);case 22:E=t.sent[0],t.next=31;break;case 26:if(t.prev=26,t.t0=t.catch(18),!t.t0.isInsufficientInputAmountError){t.next=30;break}return t.abrupt("continue",46);case 30:throw t.t0;case 31:if(!E.currency.isToken||!E.currency.equals(v)){t.next=42;break}return t.t1=u.sortedInsert,t.t2=d,t.next=36,e.fromRoute(new P([].concat(o,[_]),r.currency,i),r,u.TradeType.EXACT_INPUT);case 36:t.t3=t.sent,t.t4=p,t.t5=N,(0,t.t1)(t.t2,t.t3,t.t4,t.t5),t.next=46;break;case 42:if(!(y>1&&n.length>1)){t.next=46;break}return T=n.slice(0,w).concat(n.slice(w+1,n.length)),t.next=46,e.bestTradeExactIn(T,r,i,{maxNumResults:p,maxHops:y-1},[].concat(o,[_]),E,d);case 46:w++,t.next=10;break;case 49:return t.abrupt("return",d);case 50:case"end":return t.stop()}}),t,null,[[18,26]])})));return function(e,n,r,i,a,s,o){return t.apply(this,arguments)}}(),S(e,[{key:"route",get:function(){return 1!=this.swaps.length&&a(!1),this.swaps[0].route}},{key:"inputAmount",get:function(){if(this._inputAmount)return this._inputAmount;var e=this.swaps[0].inputAmount.currency,t=this.swaps.map((function(e){return e.inputAmount})).reduce((function(e,t){return e.add(t)}),u.CurrencyAmount.fromRawAmount(e,0));return this._inputAmount=t,this._inputAmount}},{key:"outputAmount",get:function(){if(this._outputAmount)return this._outputAmount;var e=this.swaps[0].outputAmount.currency,t=this.swaps.map((function(e){return e.outputAmount})).reduce((function(e,t){return e.add(t)}),u.CurrencyAmount.fromRawAmount(e,0));return this._outputAmount=t,this._outputAmount}},{key:"executionPrice",get:function(){var e;return null!=(e=this._executionPrice)?e:this._executionPrice=new u.Price(this.inputAmount.currency,this.outputAmount.currency,this.inputAmount.quotient,this.outputAmount.quotient)}},{key:"priceImpact",get:function(){if(this._priceImpact)return this._priceImpact;for(var e,t=u.CurrencyAmount.fromRawAmount(this.outputAmount.currency,0),n=x(this.swaps);!(e=n()).done;){var r=e.value;t=t.add(r.route.midPrice.quote(r.inputAmount))}var i=t.subtract(this.outputAmount).divide(t);return this._priceImpact=new u.Percent(i.numerator,i.denominator),this._priceImpact}}]),e}();(B=e.Protocol||(e.Protocol={})).V2="V2",B.V3="V3",B.MIXED="MIXED";var L=function(t){function n(n){var r;return(r=t.call(this,n.pairs,n.input,n.output)||this).protocol=e.Protocol.V2,r.pools=r.pairs,r}return O(n,t),n}(l.Route),F=function(t){function n(n){var r;return(r=t.call(this,n.pools,n.input,n.output)||this).protocol=e.Protocol.V3,r.path=n.tokenPath,r}return O(n,t),n}(o.Route),U=function(t){function n(n){var r;return(r=t.call(this,n.pools,n.input,n.output)||this).protocol=e.Protocol.MIXED,r}return O(n,t),n}(P),j=function(){function e(e){var t=e.v2Routes,n=e.v3Routes,r=e.tradeType,i=e.mixedRoutes;this.swaps=[],this.routes=[];for(var s,c=x(t);!(s=c()).done;){var u=s.value,d=u.inputAmount,f=u.outputAmount,h=new L(u.routev2);this.routes.push(h),this.swaps.push({route:h,inputAmount:d,outputAmount:f})}for(var p,m=x(n);!(p=m()).done;){var b=p.value,y=b.inputAmount,g=b.outputAmount,v=new F(b.routev3);this.routes.push(v),this.swaps.push({route:v,inputAmount:y,outputAmount:g})}if(i)for(var w,_=x(i);!(w=_()).done;){var E=w.value,T=E.inputAmount,A=E.outputAmount,R=new U(E.mixedRoute);this.routes.push(R),this.swaps.push({route:R,inputAmount:T,outputAmount:A})}this.tradeType=r;var S=this.swaps[0].inputAmount.currency,k=this.swaps[0].outputAmount.currency;this.swaps.every((function(e){return S.wrapped.equals(e.route.input.wrapped)}))||a(!1),this.swaps.every((function(e){return k.wrapped.equals(e.route.output.wrapped)}))||a(!1);for(var O,I=this.swaps.map((function(e){return e.route.pools.length})).reduce((function(e,t){return e+t}),0),C=new Set,M=x(this.swaps);!(O=M()).done;)for(var P,N=x(O.value.route.pools);!(P=N()).done;){var B=P.value;if(B instanceof o.Pool)C.add(o.Pool.getAddress(B.token0,B.token1,B.fee));else{if(!(B instanceof l.Pair))throw new Error("Unexpected pool type in route when constructing trade object");C.add(l.Pair.getAddress(B.token0,B.token1))}}I!=C.size&&a(!1)}var t=e.prototype;return t.minimumAmountOut=function(e,t){if(void 0===t&&(t=this.outputAmount),e.lessThan(b)&&a(!1),this.tradeType===u.TradeType.EXACT_OUTPUT)return t;var n=new u.Fraction(y).add(e).invert().multiply(t.quotient).quotient;return u.CurrencyAmount.fromRawAmount(t.currency,n)},t.maximumAmountIn=function(e,t){if(void 0===t&&(t=this.inputAmount),e.lessThan(b)&&a(!1),this.tradeType===u.TradeType.EXACT_INPUT)return t;var n=new u.Fraction(y).add(e).multiply(t.quotient).quotient;return u.CurrencyAmount.fromRawAmount(t.currency,n)},t.worstExecutionPrice=function(e){return new u.Price(this.inputAmount.currency,this.outputAmount.currency,this.maximumAmountIn(e).quotient,this.minimumAmountOut(e).quotient)},e.fromRoutes=function(){var t=A(M.mark((function t(n,r,i,a){var s,c,u,d,f,h,p,m,b,y,g,v,w,_,E,T,A,R,S,k;return M.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(s=[],c=[],u=[],d=x(n);!(f=d()).done;)m=new l.Trade(p=(h=f.value).routev2,h.amount,i),s.push({routev2:p,inputAmount:m.inputAmount,outputAmount:m.outputAmount});b=x(r);case 5:if((y=b()).done){t.next=14;break}return v=(g=y.value).routev3,w=g.amount,t.next=9,o.Trade.fromRoute(v,w,i);case 9:c.push({routev3:v,inputAmount:(_=t.sent).inputAmount,outputAmount:_.outputAmount});case 12:t.next=5;break;case 14:if(!a){t.next=25;break}E=x(a);case 16:if((T=E()).done){t.next=25;break}return R=(A=T.value).mixedRoute,S=A.amount,t.next=20,D.fromRoute(R,S,i);case 20:u.push({mixedRoute:R,inputAmount:(k=t.sent).inputAmount,outputAmount:k.outputAmount});case 23:t.next=16;break;case 25:return t.abrupt("return",new e({v2Routes:s,v3Routes:c,mixedRoutes:u,tradeType:i}));case 26:case"end":return t.stop()}}),t)})));return function(e,n,r,i){return t.apply(this,arguments)}}(),e.fromRoute=function(){var t=A(M.mark((function t(n,r,i){var a,s,c,u,d,f;return M.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=[],s=[],c=[],!(n instanceof l.Route)){t.next=9;break}u=new l.Trade(n,r,i),a=[{routev2:n,inputAmount:u.inputAmount,outputAmount:u.outputAmount}],t.next=26;break;case 9:if(!(n instanceof o.Route)){t.next=17;break}return t.next=12,o.Trade.fromRoute(n,r,i);case 12:s=[{routev3:n,inputAmount:(d=t.sent).inputAmount,outputAmount:d.outputAmount}],t.next=26;break;case 17:if(!(n instanceof P)){t.next=25;break}return t.next=20,D.fromRoute(n,r,i);case 20:c=[{mixedRoute:n,inputAmount:(f=t.sent).inputAmount,outputAmount:f.outputAmount}],t.next=26;break;case 25:throw new Error("Invalid route type");case 26:return t.abrupt("return",new e({v2Routes:a,v3Routes:s,mixedRoutes:c,tradeType:i}));case 27:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),S(e,[{key:"inputAmount",get:function(){if(this._inputAmount)return this._inputAmount;var e=this.swaps[0].inputAmount.currency,t=this.swaps.map((function(e){return e.inputAmount})).reduce((function(e,t){return e.add(t)}),u.CurrencyAmount.fromRawAmount(e,0));return this._inputAmount=t,this._inputAmount}},{key:"outputAmount",get:function(){if(this._outputAmount)return this._outputAmount;var e=this.swaps[0].outputAmount.currency,t=this.swaps.map((function(e){return e.outputAmount})).reduce((function(e,t){return e.add(t)}),u.CurrencyAmount.fromRawAmount(e,0));return this._outputAmount=t,this._outputAmount}},{key:"executionPrice",get:function(){var e;return null!=(e=this._executionPrice)?e:this._executionPrice=new u.Price(this.inputAmount.currency,this.outputAmount.currency,this.inputAmount.quotient,this.outputAmount.quotient)}},{key:"priceImpact",get:function(){if(this._priceImpact)return this._priceImpact;for(var e,t=u.CurrencyAmount.fromRawAmount(this.outputAmount.currency,0),n=x(this.swaps);!(e=n()).done;){var r=e.value;t=t.add(r.route.midPrice.quote(r.inputAmount))}var i=t.subtract(this.outputAmount).divide(t);return this._priceImpact=new u.Percent(i.numerator,i.denominator),this._priceImpact}}]),e}();function q(e){var t=e.pools.reduce((function(e,t,n){var r=e.inputToken,i=e.path,a=e.types,s=t.token0.equals(r)?t.token1:t.token0;return 0===n?{inputToken:s,types:["address","uint24","address"],path:[r.address,t instanceof o.Pool?t.fee:8388608,s.address]}:{inputToken:s,types:[].concat(a,["uint24","address"]),path:[].concat(i,[t instanceof o.Pool?t.fee:8388608,s.address])}}),{inputToken:e.input.wrapped,path:[],types:[]});return h.pack(t.types,t.path)}var z=function(e){for(var t=[],n=0,r=0;r<e.pools.length;)(e.pools[n]instanceof o.Pool&&e.pools[r]instanceof l.Pair||e.pools[n]instanceof l.Pair&&e.pools[r]instanceof o.Pool)&&(t.push(e.pools.slice(n,r)),n=r),++r===e.pools.length&&t.push(e.pools.slice(n,r));return t},H=function(e,t){return e.reduce((function(e,t){var n=e.inputToken;if(!t.involvesToken(n))throw new Error("PATH");return{inputToken:t.token0.equals(n)?t.token1:t.token0}}),{inputToken:t}).inputToken},G=r.BigInt(0),W=new u.Percent(r.BigInt(50),r.BigInt(100)),V=function(){function t(){}return t.encodeV2Swap=function(e,n,r,i){var a=o.toHex(e.maximumAmountIn(n.slippageTolerance).quotient),s=o.toHex(e.minimumAmountOut(n.slippageTolerance).quotient),c=e.route.path.map((function(e){return e.address})),d=r?m:void 0===n.recipient?p:u.validateAndParseAddress(n.recipient);return e.tradeType===u.TradeType.EXACT_INPUT?t.INTERFACE.encodeFunctionData("swapExactTokensForTokens",[a,i?0:s,c,d]):t.INTERFACE.encodeFunctionData("swapTokensForExactTokens",[s,a,c,d])},t.encodeV3Swap=function(e,n,r,i){for(var a,s=[],c=x(e.swaps);!(a=c()).done;){var d=a.value,f=d.route,l=d.outputAmount,h=o.toHex(e.maximumAmountIn(n.slippageTolerance,d.inputAmount).quotient),b=o.toHex(e.minimumAmountOut(n.slippageTolerance,l).quotient),y=1===f.pools.length,g=r?m:void 0===n.recipient?p:u.validateAndParseAddress(n.recipient);if(y)s.push(e.tradeType===u.TradeType.EXACT_INPUT?t.INTERFACE.encodeFunctionData("exactInputSingle",[{tokenIn:f.tokenPath[0].address,tokenOut:f.tokenPath[1].address,fee:f.pools[0].fee,recipient:g,amountIn:h,amountOutMinimum:i?0:b,sqrtPriceLimitX96:0}]):t.INTERFACE.encodeFunctionData("exactOutputSingle",[{tokenIn:f.tokenPath[0].address,tokenOut:f.tokenPath[1].address,fee:f.pools[0].fee,recipient:g,amountOut:b,amountInMaximum:h,sqrtPriceLimitX96:0}]));else{var v=o.encodeRouteToPath(f,e.tradeType===u.TradeType.EXACT_OUTPUT);s.push(e.tradeType===u.TradeType.EXACT_INPUT?t.INTERFACE.encodeFunctionData("exactInput",[{path:v,recipient:g,amountIn:h,amountOutMinimum:i?0:b}]):t.INTERFACE.encodeFunctionData("exactOutput",[{path:v,recipient:g,amountOut:b,amountInMaximum:h}]))}}return s},t.encodeMixedRouteSwap=function(e,n,r,i){var s=[];e.tradeType!==u.TradeType.EXACT_INPUT&&a(!1);for(var c,d=x(e.swaps);!(c=d()).done;){var f=c.value,l=f.route,h=f.outputAmount,b=o.toHex(e.maximumAmountIn(n.slippageTolerance,f.inputAmount).quotient),y=o.toHex(e.minimumAmountOut(n.slippageTolerance,h).quotient),g=1===l.pools.length,v=r?m:void 0===n.recipient?p:u.validateAndParseAddress(n.recipient),w=function(e){return e.pools.every((function(e){return e instanceof o.Pool}))};if(g)if(w(l))s.push(t.INTERFACE.encodeFunctionData("exactInputSingle",[{tokenIn:l.path[0].address,tokenOut:l.path[1].address,fee:l.pools[0].fee,recipient:v,amountIn:b,amountOutMinimum:i?0:y,sqrtPriceLimitX96:0}]));else{var _=l.path.map((function(e){return e.address}));s.push(t.INTERFACE.encodeFunctionData("swapExactTokensForTokens",[b,i?0:y,_,v]))}else!function(){for(var e=z(l),n=function(t){return t===e.length-1},r=void 0,i=l.input.wrapped,a=0;a<e.length;a++){var o=e[a];r=H(o,i);var c=new P([].concat(o),o[0].token0.equals(i)?o[0].token0:o[0].token1,r),u=new U(c);if(i=r,w(u)){var d={path:q(u),recipient:n(a)?v:m,amountIn:0==a?b:0,amountOutMinimum:n(a)?y:0};s.push(t.INTERFACE.encodeFunctionData("exactInput",[d]))}else{var f=[0==a?b:0,n(a)?y:0,u.path.map((function(e){return e.address})),n(a)?v:m];s.push(t.INTERFACE.encodeFunctionData("swapExactTokensForTokens",f))}}}()}return s},t.encodeSwaps=function(n,r,i){if(n instanceof j){n.swaps.every((function(t){return t.route.protocol==e.Protocol.V3||t.route.protocol==e.Protocol.V2||t.route.protocol==e.Protocol.MIXED}))||a(!1);for(var s,c=[],d=x(n.swaps);!(s=d()).done;){var f=s.value,h=f.route,p=f.inputAmount,m=f.outputAmount;if(h.protocol==e.Protocol.V2)c.push(new l.Trade(h,n.tradeType==u.TradeType.EXACT_INPUT?p:m,n.tradeType));else if(h.protocol==e.Protocol.V3)c.push(o.Trade.createUncheckedTrade({route:h,inputAmount:p,outputAmount:m,tradeType:n.tradeType}));else{if(h.protocol!=e.Protocol.MIXED)throw new Error("UNSUPPORTED_TRADE_PROTOCOL");c.push(D.createUncheckedTrade({route:h,inputAmount:p,outputAmount:m,tradeType:n.tradeType}))}}n=c}Array.isArray(n)||(n=[n]);var b=n.reduce((function(e,t){return e+(t instanceof o.Trade||t instanceof D?t.swaps.length:1)}),0),y=n[0];n.every((function(e){return e.inputAmount.currency.equals(y.inputAmount.currency)}))||a(!1),n.every((function(e){return e.outputAmount.currency.equals(y.outputAmount.currency)}))||a(!1),n.every((function(e){return e.tradeType===y.tradeType}))||a(!1);var g=[],v=y.inputAmount.currency.isNative,w=y.outputAmount.currency.isNative,_=y.tradeType===u.TradeType.EXACT_INPUT&&b>2,E=w||!!r.fee||!!i||_;r.inputTokenPermit&&(y.inputAmount.currency.isToken||a(!1),g.push(o.SelfPermit.encodePermit(y.inputAmount.currency,r.inputTokenPermit)));for(var T,A=x(n);!(T=A()).done;){var R=T.value;if(R instanceof l.Trade)g.push(t.encodeV2Swap(R,r,E,_));else if(R instanceof o.Trade)for(var S,k=x(t.encodeV3Swap(R,r,E,_));!(S=k()).done;)g.push(S.value);else{if(!(R instanceof D))throw new Error("Unsupported trade object");for(var O,I=x(t.encodeMixedRouteSwap(R,r,E,_));!(O=I()).done;)g.push(O.value)}}var C=u.CurrencyAmount.fromRawAmount(y.inputAmount.currency,0),M=u.CurrencyAmount.fromRawAmount(y.outputAmount.currency,0),P=n.reduce((function(e,t){return e.add(t.minimumAmountOut(r.slippageTolerance))}),M),N=n.reduce((function(e,t){return e.add(t.outputAmount)}),M),B=n.reduce((function(e,t){return e.add(t.maximumAmountIn(r.slippageTolerance))}),C);return{calldatas:g,sampleTrade:y,routerMustCustody:E,inputIsNative:v,outputIsNative:w,totalAmountIn:B,minimumAmountOut:P,quoteAmountOut:N}},t.swapCallParameters=function(e,n){var r=t.encodeSwaps(e,n),i=r.calldatas,a=r.sampleTrade,s=r.inputIsNative,c=r.totalAmountIn,d=r.minimumAmountOut;return r.routerMustCustody&&i.push(r.outputIsNative?E.encodeUnwrapWETH9(d.quotient,n.recipient,n.fee):E.encodeSweepToken(a.outputAmount.currency.wrapped,d.quotient,n.recipient,n.fee)),s&&(a.tradeType===u.TradeType.EXACT_OUTPUT||t.riskOfPartialFill(e))&&i.push(o.Payments.encodeRefundETH()),{calldata:w.encodeMulticall(i,n.deadlineOrPreviousBlockhash),value:o.toHex(s?c.quotient:G)}},t.swapAndAddCallParameters=function(n,r,i,s,c,d){var f=t.encodeSwaps(n,r,!0),l=f.calldatas,h=f.inputIsNative,p=f.outputIsNative,m=f.sampleTrade,b=f.totalAmountIn,y=f.quoteAmountOut,g=f.minimumAmountOut;r.outputTokenPermit&&(y.currency.isToken||a(!1),l.push(o.SelfPermit.encodePermit(y.currency,r.outputTokenPermit)));var _=m.route.chainId,T=i.pool.token0.wrapped.address===b.currency.wrapped.address,A=t.getPositionAmounts(i,T),R=A.positionAmountIn,S=A.positionAmountOut,k=h?u.WETH9[_]:R.currency.wrapped,O=p?u.WETH9[_]:S.currency.wrapped,I=S.subtract(y.wrapped);I.greaterThan(u.CurrencyAmount.fromRawAmount(S.currency,0))&&l.push(p?E.encodeWrapETH(I.quotient):E.encodePull(O,I.quotient)),l.push(h?E.encodeWrapETH(R.quotient):E.encodePull(k,R.quotient)),c!==e.ApprovalTypes.NOT_REQUIRED&&l.push(v.encodeApprove(k,c)),d!==e.ApprovalTypes.NOT_REQUIRED&&l.push(v.encodeApprove(O,d));var x,C=o.Position.fromAmounts({pool:i.pool,tickLower:i.tickLower,tickUpper:i.tickUpper,amount0:T?i.amount0.quotient.toString():g.quotient.toString(),amount1:T?g.quotient.toString():i.amount1.quotient.toString(),useFullPrecision:!1});return l.push(v.encodeAddLiquidity(i,C,s,r.slippageTolerance)),l.push(h?E.encodeUnwrapWETH9(G):E.encodeSweepToken(k,G)),l.push(p?E.encodeUnwrapWETH9(G):E.encodeSweepToken(O,G)),x=h?b.wrapped.add(R.wrapped).quotient:p?I.quotient:G,{calldata:w.encodeMulticall(l,r.deadlineOrPreviousBlockhash),value:x.toString()}},t.riskOfPartialFill=function(e){return Array.isArray(e)?e.some((function(e){return t.v3TradeWithHighPriceImpact(e)})):t.v3TradeWithHighPriceImpact(e)},t.v3TradeWithHighPriceImpact=function(e){return!(e instanceof l.Trade)&&e.priceImpact.greaterThan(W)},t.getPositionAmounts=function(e,t){var n=e.mintAmounts,r=n.amount1,i=u.CurrencyAmount.fromRawAmount(e.pool.token0,n.amount0),a=u.CurrencyAmount.fromRawAmount(e.pool.token1,r),s=t?[i,a]:[a,i];return{positionAmountIn:s[0],positionAmountOut:s[1]}},t}();V.INTERFACE=new i.Interface(f.abi),e.ADDRESS_THIS=m,e.ApproveAndCall=v,e.MSG_SENDER=p,e.MixedRoute=U,e.MixedRouteSDK=P,e.MixedRouteTrade=D,e.MulticallExtended=w,e.ONE=y,e.PaymentsExtended=E,e.RouteV2=L,e.RouteV3=F,e.SwapRouter=V,e.Trade=j,e.V2_FEE_PATH_PLACEHOLDER=8388608,e.ZERO=b,e.encodeMixedRouteToPath=q,e.getOutputOfPools=H,e.isMint=g,e.partitionMixedRouteByProtocol=z,e.tradeComparator=N}(z2)),z2);var M8,P8=q2.exports;!function(e){e.INVALID_CONFIGURATION="INVALID_CONFIGURATION",e.INVALID_SLIPPAGE="INVALID_SLIPPAGE",e.INVALID_MAX_HOPS="INVALID_MAX_HOPS",e.INVALID_ADDRESS="INVALID_ADDRESS",e.DUPLICATE_ADDRESSES="DUPLICATE_ADDRESSES",e.CHAIN_NOT_SUPPORTED="CHAIN_NOT_SUPPORTED",e.NO_ROUTES_AVAILABLE="NO_ROUTES_AVAILABLE",e.PROVIDER_CALL_ERROR="PROVIDER_CALL_ERROR",e.APPROVE_ERROR="APPROVE_ERROR",e.ALREADY_APPROVED_ERROR="ALREADY_APPROVED_ERROR"}(M8||(M8={}));class N8 extends Error{message;code;constructor(e,t){super(e),this.message=e,this.code=t}}class B8 extends N8{constructor(e){super(e||"Invalid configuration",M8.INVALID_CONFIGURATION)}}class D8 extends N8{constructor(e,t){super(`Chain with ID ${e} is not a supported chain in environment ${t}`,M8.CHAIN_NOT_SUPPORTED)}}class L8 extends N8{constructor(e){super(e,M8.INVALID_SLIPPAGE)}}class F8 extends N8{constructor(e){super(e,M8.INVALID_MAX_HOPS)}}class U8 extends N8{constructor(e){super(e,M8.INVALID_ADDRESS)}}class j8 extends N8{constructor(){super("token in and token out addresses must be different",M8.DUPLICATE_ADDRESSES)}}class q8 extends N8{constructor(){super("no routes available",M8.NO_ROUTES_AVAILABLE)}}class z8 extends N8{constructor(e){super(e,M8.PROVIDER_CALL_ERROR)}}class H8 extends N8{constructor(e){super(e,M8.APPROVE_ERROR)}}const G8=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{payable:!0,stateMutability:"payable",type:"fallback"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"}];class W8{static abi=G8;static createInterface(){return new Pc(G8)}static connect(e,t){return new bl(e,G8,t)}}const V8=[{inputs:[{internalType:"address",name:"_admin",type:"address"},{internalType:"address",name:"_uniRouter",type:"address"},{internalType:"address",name:"_wimx",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"ContractPaused",type:"error"},{inputs:[],name:"DeadlinePassed",type:"error"},{inputs:[],name:"FailedToRefundNativeTokens",type:"error"},{inputs:[{internalType:"address payable",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"FailedToSendFees",type:"error"},{inputs:[{internalType:"uint256",name:"required",type:"uint256"},{internalType:"uint256",name:"actual",type:"uint256"}],name:"FailedToUnwrapNativeTokens",type:"error"},{inputs:[],name:"FailedToWithdrawNativeTokens",type:"error"},{inputs:[],name:"FeeTooHigh",type:"error"},{inputs:[],name:"IncorrectRecipient",type:"error"},{inputs:[],name:"InputTokenNotWrapped",type:"error"},{inputs:[],name:"NativeTokenAmountMismatch",type:"error"},{inputs:[],name:"Unauthorized",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"feeToken",type:"address"},{indexed:!0,internalType:"address",name:"feePayer",type:"address"},{indexed:!0,internalType:"address",name:"feeRecipient",type:"address"},{indexed:!1,internalType:"uint256",name:"feeAmount",type:"uint256"}],name:"FeeTaken",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"feePayer",type:"address"},{indexed:!0,internalType:"address",name:"feeRecipient",type:"address"},{indexed:!1,internalType:"uint256",name:"feeAmount",type:"uint256"}],name:"FeeTaken",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Unpaused",type:"event"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"address payable",name:"recipient",type:"address"},{internalType:"uint256",name:"feeBasisPoints",type:"uint256"}],internalType:"struct IImmutableSwapProxy.SecondaryFeeParams[]",name:"secondaryFees",type:"tuple[]"},{components:[{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint256",name:"amountOutMinimum",type:"uint256"},{internalType:"uint160",name:"sqrtPriceLimitX96",type:"uint160"}],internalType:"struct IV3SwapRouter.ExactInputSingleParams",name:"swapParams",type:"tuple"}],name:"exactInputSingleWithSecondaryFee",outputs:[{internalType:"uint256",name:"amountOut",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"address payable",name:"recipient",type:"address"},{internalType:"uint256",name:"feeBasisPoints",type:"uint256"}],internalType:"struct IImmutableSwapProxy.SecondaryFeeParams[]",name:"secondaryFees",type:"tuple[]"},{components:[{internalType:"bytes",name:"path",type:"bytes"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint256",name:"amountOutMinimum",type:"uint256"}],internalType:"struct IV3SwapRouter.ExactInputParams",name:"swapParams",type:"tuple"}],name:"exactInputWithSecondaryFee",outputs:[{internalType:"uint256",name:"amountOut",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"address payable",name:"recipient",type:"address"},{internalType:"uint256",name:"feeBasisPoints",type:"uint256"}],internalType:"struct IImmutableSwapProxy.SecondaryFeeParams[]",name:"secondaryFees",type:"tuple[]"},{components:[{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"uint256",name:"amountInMaximum",type:"uint256"},{internalType:"uint160",name:"sqrtPriceLimitX96",type:"uint160"}],internalType:"struct IV3SwapRouter.ExactOutputSingleParams",name:"swapParams",type:"tuple"}],name:"exactOutputSingleWithSecondaryFee",outputs:[{internalType:"uint256",name:"amountIn",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"address payable",name:"recipient",type:"address"},{internalType:"uint256",name:"feeBasisPoints",type:"uint256"}],internalType:"struct IImmutableSwapProxy.SecondaryFeeParams[]",name:"secondaryFees",type:"tuple[]"},{components:[{internalType:"bytes",name:"path",type:"bytes"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"uint256",name:"amountInMaximum",type:"uint256"}],internalType:"struct IV3SwapRouter.ExactOutputParams",name:"swapParams",type:"tuple"}],name:"exactOutputWithSecondaryFee",outputs:[{internalType:"uint256",name:"amountIn",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"bytes[]",name:"data",type:"bytes[]"}],name:"multicall",outputs:[{internalType:"bytes[]",name:"",type:"bytes[]"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes[]",name:"data",type:"bytes[]"}],name:"multicall",outputs:[{internalType:"bytes[]",name:"results",type:"bytes[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amountMinimum",type:"uint256"}],name:"unwrapNativeToken",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"address",name:"erc20",type:"address"}],name:"withdrawFunds",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"withdrawFunds",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}],K8="0x60806040523480156200001157600080fd5b50604051620034dd380380620034dd83398101604081905262000034916200015c565b6001805460ff191690556200004b6000846200009e565b600180546001600160a01b039384166101008102610100600160a81b03199092169190911790915560038054929093166001600160a01b03199283161790925560028054909116909117905550620001a6565b6000828152602081815260408083206001600160a01b038516845290915290205460ff166200013b576000828152602081815260408083206001600160a01b03851684529091529020805460ff19166001179055620000fa3390565b6001600160a01b0316816001600160a01b0316837f2f8788117e7eff1d82e926ec794901d17c78024a50270940304540a733656f0d60405160405180910390a45b5050565b80516001600160a01b03811681146200015757600080fd5b919050565b6000806000606084860312156200017257600080fd5b6200017d846200013f565b92506200018d602085016200013f565b91506200019d604085016200013f565b90509250925092565b61332780620001b66000396000f3fe6080604052600436106101175760003560e01c806358e81a50116100a05780638456cb59116100645780638456cb59146102c457806391d14854146102d9578063a217fddf146102f9578063ac9650d81461030e578063d547741f1461032e57600080fd5b806358e81a50146102465780635ae401dc146102595780635c975abb146102795780635ebca7991461029157806368742da6146102a457600080fd5b80632f2ff15d116100e75780632f2ff15d146101cb57806336568abe146101eb578063383ebb0b1461020b5780633f4ba83a1461021e5780635640f6591461023357600080fd5b80620fa9fb1461012357806301ffc9a714610145578063116944b21461017a578063248a9ca31461019b57600080fd5b3661011e57005b600080fd5b34801561012f57600080fd5b5061014361013e366004612ab8565b61034e565b005b34801561015157600080fd5b50610165610160366004612af1565b61041a565b60405190151581526020015b60405180910390f35b61018d610188366004612c89565b610451565b604051908152602001610171565b3480156101a757600080fd5b5061018d6101b6366004612cde565b60009081526020819052604090206001015490565b3480156101d757600080fd5b506101436101e6366004612cf7565b610771565b3480156101f757600080fd5b50610143610206366004612cf7565b610796565b61018d610219366004612ddf565b610819565b34801561022a57600080fd5b50610143610b86565b61018d610241366004612ddf565b610bd6565b61018d610254366004612c89565b610ee4565b61026c610267366004612e8b565b61121e565b6040516101719190612f26565b34801561028557600080fd5b5060015460ff16610165565b61014361029f366004612cde565b611255565b3480156102b057600080fd5b506101436102bf366004612f88565b6113ad565b3480156102d057600080fd5b50610143611428565b3480156102e557600080fd5b506101656102f4366004612cf7565b611476565b34801561030557600080fd5b5061018d600081565b34801561031a57600080fd5b5061026c610329366004612fa5565b61149f565b34801561033a57600080fd5b50610143610349366004612cf7565b611593565b6103787f7a8dc26796a1e50e6e190b70259f58f6a4edd5b22280ceecc82b687b8e98286933611476565b610394576040516282b42960e81b815260040160405180910390fd5b6040516370a0823160e01b81523060048201526000906001600160a01b038316906370a0823190602401602060405180830381865afa1580156103db573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906103ff9190612fe6565b90506104156001600160a01b03831684836115b8565b505050565b60006001600160e01b03198216637965db0b60e01b148061044b57506301ffc9a760e01b6001600160e01b03198316145b92915050565b600061045f60015460ff1690565b1561047d5760405163ab35696f60e01b815260040160405180910390fd5b61048a826060015161161b565b6104a75760405163519bdea760e01b815260040160405180910390fd5b608082015134801561065a57836080015181146104d7576040516342f7487960e11b815260040160405180910390fd5b60035484516001600160a01b03908116911614610507576040516324d0121760e01b815260040160405180910390fd5b60008061056f866000015187608001518a8a808060200260200160405190810160405280939291908181526020016000905b828210156105655761055660408302860136819003810190612fff565b81526020019060010190610539565b5050505050611641565b608088018290526001546040516304e45aaf60e01b815292945090925061010090046001600160a01b0316906304e45aaf9084906105b1908a90600401613056565b60206040518083038185885af11580156105cf573d6000803e3d6000fd5b50505050506040513d601f19601f820116820180604052508101906105f49190612fe6565b945061065384828a8a808060200260200160405190810160405280939291908181526020016000905b828210156106495761063a60408302860136819003810190612fff565b8152602001906001019061061d565b5050505050611679565b5050610768565b6000806106b8866000015187608001518a8a808060200260200160405190810160405280939291908181526020016000905b82821015610565576106a960408302860136819003810190612fff565b8152602001906001019061068c565b60808801829052875191935091506106db906001600160a01b031633308561170c565b6001546040516304e45aaf60e01b81526101009091046001600160a01b0316906304e45aaf9061070f908990600401613056565b6020604051808303816000875af115801561072e573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906107529190612fe6565b9450610765866000015185838b8b61174a565b50505b50509392505050565b60008281526020819052604090206001015461078c8161184b565b6104158383611855565b6001600160a01b038116331461080b5760405162461bcd60e51b815260206004820152602f60248201527f416363657373436f6e74726f6c3a2063616e206f6e6c792072656e6f756e636560448201526e103937b632b9903337b91039b2b63360891b60648201526084015b60405180910390fd5b61081582826118d9565b5050565b600061082760015460ff1690565b156108455760405163ab35696f60e01b815260040160405180910390fd5b610852826020015161161b565b61086f5760405163519bdea760e01b815260040160405180910390fd5b600061087e836000015161193e565b606084015190915034908115610a30576003546001600160a01b038481169116146108bc576040516324d0121760e01b815260040160405180910390fd5b846060015182146108e0576040516342f7487960e11b815260040160405180910390fd5b600061094286606001518989808060200260200160405190810160405280939291908181526020016000905b828210156109385761092960408302860136819003810190612fff565b8152602001906001019061090c565b5050505050611974565b606087018190526001546040516304dc09a360e11b81529192506000916101009091046001600160a01b0316906309b81346908490610985908b906004016130fc565b60206040518083038185885af11580156109a3573d6000803e3d6000fd5b50505050506040513d601f19601f820116820180604052508101906109c89190612fe6565b9050610a2781848b8b808060200260200160405190810160405280939291908181526020016000905b82821015610a1d57610a0e60408302860136819003810190612fff565b815260200190600101906109f1565b50505050506119c3565b95505050610b7c565b6000610a938487606001518a8a808060200260200160405190810160405280939291908181526020016000905b82821015610a8957610a7a60408302860136819003810190612fff565b81526020019060010190610a5d565b5050505050611aab565b606087018190526001546040516304dc09a360e11b81529192506000916101009091046001600160a01b0316906309b8134690610ad4908a906004016130fc565b6020604051808303816000875af1158015610af3573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610b179190612fe6565b9050610b778582858c8c808060200260200160405190810160405280939291908181526020016000905b82821015610b6d57610b5e60408302860136819003810190612fff565b81526020019060010190610b41565b5050505050611b03565b955050505b5050509392505050565b610bb07fe7276a2a84d8de556657ec9cf93a55a7d66f096e529d0582ed08e9e2208b92b533611476565b610bcc576040516282b42960e81b815260040160405180910390fd5b610bd4611b57565b565b6000610be460015460ff1690565b15610c025760405163ab35696f60e01b815260040160405180910390fd5b610c0f826020015161161b565b610c2c5760405163519bdea760e01b815260040160405180910390fd5b6000610c3b8360000151611ba9565b6040840151909150348015610dd75784604001518114610c6e576040516342f7487960e11b815260040160405180910390fd5b6003546001600160a01b03848116911614610c9c576040516324d0121760e01b815260040160405180910390fd5b600080610cf68588604001518b8b808060200260200160405190810160405280939291908181526020016000905b8282101561056557610ce760408302860136819003810190612fff565b81526020019060010190610cca565b6040898101839052600154905163b858183f60e01b815292945090925061010090046001600160a01b03169063b858183f908490610d38908b906004016130fc565b60206040518083038185885af1158015610d56573d6000803e3d6000fd5b50505050506040513d601f19601f82011682018060405250810190610d7b9190612fe6565b9550610dd084828b8b808060200260200160405190810160405280939291908181526020016000905b8282101561064957610dc160408302860136819003810190612fff565b81526020019060010190610da4565b5050610b7c565b600080610e318588604001518b8b808060200260200160405190810160405280939291908181526020016000905b8282101561056557610e2260408302860136819003810190612fff565b81526020019060010190610e05565b604089018290529092509050610e526001600160a01b03861633308561170c565b60015460405163b858183f60e01b81526101009091046001600160a01b03169063b858183f90610e86908a906004016130fc565b6020604051808303816000875af1158015610ea5573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610ec99190612fe6565b9550610ed88585838c8c61174a565b50505050509392505050565b6000610ef260015460ff1690565b15610f105760405163ab35696f60e01b815260040160405180910390fd5b610f1d826060015161161b565b610f3a5760405163519bdea760e01b815260040160405180910390fd5b60a0820151349081156110d75760035484516001600160a01b03908116911614610f77576040516324d0121760e01b815260040160405180910390fd5b8360a001518214610f9b576040516342f7487960e11b815260040160405180910390fd5b6000610ff38560a001518888808060200260200160405190810160405280939291908181526020016000905b8282101561093857610fe460408302860136819003810190612fff565b81526020019060010190610fc7565b60a08601819052600154604051635023b4df60e01b81529192506000916101009091046001600160a01b031690635023b4df908490611036908a90600401613056565b60206040518083038185885af1158015611054573d6000803e3d6000fd5b50505050506040513d601f19601f820116820180604052508101906110799190612fe6565b90506110ce81848a8a808060200260200160405190810160405280939291908181526020016000905b82821015610a1d576110bf60408302860136819003810190612fff565b815260200190600101906110a2565b94505050610768565b600061113485600001518660a001518989808060200260200160405190810160405280939291908181526020016000905b82821015610a895761112560408302860136819003810190612fff565b81526020019060010190611108565b60a08601819052600154604051635023b4df60e01b81529192506000916101009091046001600160a01b031690635023b4df90611175908990600401613056565b6020604051808303816000875af1158015611194573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906111b89190612fe6565b9050611212866000015182858b8b808060200260200160405190810160405280939291908181526020016000905b82821015610b6d5761120360408302860136819003810190612fff565b815260200190600101906111e6565b98975050505050505050565b6060834211156112415760405163387b2e5560e11b815260040160405180910390fd5b61124b838361149f565b90505b9392505050565b60015460ff16156112795760405163ab35696f60e01b815260040160405180910390fd5b6003546040516370a0823160e01b81523060048201526000916001600160a01b0316906370a0823190602401602060405180830381865afa1580156112c2573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906112e69190612fe6565b905081811015611313576040516342fb4ceb60e11b81526004810183905260248101829052604401610802565b801561081557600354604051632e1a7d4d60e01b8152600481018390526001600160a01b0390911690632e1a7d4d90602401600060405180830381600087803b15801561135f57600080fd5b505af1158015611373573d6000803e3d6000fd5b5050505060006113833383611bb5565b905080610415576040516342fb4ceb60e11b81526004810184905260248101839052604401610802565b6113d77f7a8dc26796a1e50e6e190b70259f58f6a4edd5b22280ceecc82b687b8e98286933611476565b6113f3576040516282b42960e81b815260040160405180910390fd5b47156114255760006114058247611bb5565b90508061081557604051633398652560e11b815260040160405180910390fd5b50565b6114527ffcb9fcbfa83b897fb2d5cf4b58962164105c1e71489a37ef3ae0db3fdce576f633611476565b61146e576040516282b42960e81b815260040160405180910390fd5b610bd4611c5f565b6000918252602082815260408084206001600160a01b0393909316845291905290205460ff1690565b6060816001600160401b038111156114b9576114b9612b66565b6040519080825280602002602001820160405280156114ec57816020015b60608152602001906001900390816114d75790505b50905060005b8281101561158c5761155c308585848181106115105761151061310f565b90506020028101906115229190613125565b8080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250611c9a92505050565b82828151811061156e5761156e61310f565b6020026020010181905250808061158490613181565b9150506114f2565b5092915050565b6000828152602081905260409020600101546115ae8161184b565b61041583836118d9565b6040516001600160a01b03831660248201526044810182905261041590849063a9059cbb60e01b906064015b60408051601f198184030181529190526020810180516001600160e01b03166001600160e01b031990931692909217909152611cbf565b60006001600160a01b03821633148061044b57506001600160a01b038216301492915050565b60008061164d83611d94565b506116588484611e07565b509050611665818561319a565b91506116718583611f30565b935093915050565b600061168361202d565b905060006116928583866120a4565b90506000806116a18386611e07565b915091506116ae816120d0565b8315611703576000826116c1858a61319a565b6116cb919061319a565b905080156117015760006116df3383611bb5565b9050806116ff576040516382e4f46960e01b815260040160405180910390fd5b505b505b50505050505050565b6040516001600160a01b03808516602483015283166044820152606481018290526117449085906323b872dd60e01b906084016115e4565b50505050565b6040516370a0823160e01b81523060048201526000906001600160a01b038716906370a0823190602401602060405180830381865afa158015611791573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906117b59190612fe6565b905060006117c48683876120a4565b90506000611824828686808060200260200160405190810160405280939291908181526020016000905b8282101561181a5761180b60408302860136819003810190612fff565b815260200190600101906117ee565b5050505050611e07565b91505061183188826121af565b8215611701576117016001600160a01b03891633856115b8565b61142581336122b8565b61185f8282611476565b610815576000828152602081815260408083206001600160a01b03851684529091529020805460ff191660011790556118953390565b6001600160a01b0316816001600160a01b0316837f2f8788117e7eff1d82e926ec794901d17c78024a50270940304540a733656f0d60405160405180910390a45050565b6118e38282611476565b15610815576000828152602081815260408083206001600160a01b0385168085529252808320805460ff1916905551339285917ff6391f5c32d9c69d2a47ea670b442974b53935d1edc7fd64eb21e047a839171b9190a45050565b6000806014835161194f919061319a565b9050600061195f84836014612311565b905061196c81600061241e565b949350505050565b60008061198083611d94565b90506000611990826127106131ad565b905060006119a18661271084612483565b6003549091506119ba906001600160a01b031682611f30565b95945050505050565b60008060006119d28685611e07565b915091506119df816120d0565b600260009054906101000a90046001600160a01b03166001600160a01b03166312210e8a6040518163ffffffff1660e01b8152600401600060405180830381600087803b158015611a2f57600080fd5b505af1158015611a43573d6000803e3d6000fd5b505050506000828787611a56919061319a565b611a60919061319a565b90508015611a96576000611a743383611bb5565b905080611a94576040516382e4f46960e01b815260040160405180910390fd5b505b611aa083886131ad565b979650505050505050565b600080611ab783611d94565b90506000611ac7826127106131ad565b90506000611ad88661271084612483565b9050611ae48782611f30565b611af96001600160a01b03881633308961170c565b9695505050505050565b6000806000611b128685611e07565b91509150611b2087826124c3565b600082611b2d888861319a565b611b37919061319a565b9050611b4d6001600160a01b03891633836115b8565b61121283886131ad565b611b5f6125ca565b6001805460ff191690557f5db9ee0a495bf2e6ff9c91a7834c1ba4fdd244a5e8aa4e537bd38aeae4b073aa335b6040516001600160a01b03909116815260200160405180910390a1565b600061044b828261241e565b600081471015611c075760405162461bcd60e51b815260206004820152601d60248201527f416464726573733a20696e73756666696369656e742062616c616e63650000006044820152606401610802565b6040516001600160a01b038416908390600081818185875af1925050503d8060008114611c50576040519150601f19603f3d011682016040523d82523d6000602084013e611c55565b606091505b5090949350505050565b611c67612613565b6001805460ff1916811790557f62e78cea01bee320cd4e420270b5ea74000d11b0c9f74754ebdbfc544b05a25833611b8c565b606061124e83836040518060600160405280602781526020016132cb60279139612659565b6000611d14826040518060400160405280602081526020017f5361666545524332303a206c6f772d6c6576656c2063616c6c206661696c6564815250856001600160a01b03166126c79092919063ffffffff16565b9050805160001480611d35575080806020019051810190611d3591906131c0565b6104155760405162461bcd60e51b815260206004820152602a60248201527f5361666545524332303a204552433230206f7065726174696f6e20646964206e6044820152691bdd081cdd58d8d9595960b21b6064820152608401610802565b6000805b8251811015611dde57828181518110611db357611db361310f565b60200260200101516020015182611dca91906131ad565b915080611dd681613181565b915050611d98565b506103e8811115611e025760405163cd4e616760e01b815260040160405180910390fd5b919050565b6000606082516001600160401b03811115611e2457611e24612b66565b604051908082528060200260200182016040528015611e6957816020015b6040805180820190915260008082526020820152815260200190600190039081611e425790505b50905060005b8351811015611f28576000611eae858381518110611e8f57611e8f61310f565b602002602001015160200151612710886126d69092919063ffffffff16565b90506040518060400160405280868481518110611ecd57611ecd61310f565b6020026020010151600001516001600160a01b0316815260200182815250838381518110611efd57611efd61310f565b6020908102919091010152611f1281856131ad565b9350508080611f2090613181565b915050611e6f565b509250929050565b600154604051636eb1769f60e11b81523060048201526001600160a01b0361010090920482166024820152829184169063dd62ed3e90604401602060405180830381865afa158015611f86573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611faa9190612fe6565b10156108155760015460405163095ea7b360e01b81526101009091046001600160a01b039081166004830152600019602483015283169063095ea7b3906044016020604051808303816000875af1158015612009573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061041591906131c0565b60025460408051630910874560e11b8152905160009247926001600160a01b03909116916312210e8a91600480820192879290919082900301818387803b15801561207757600080fd5b505af115801561208b573d6000803e3d6000fd5b5047925061209d91508390508261319a565b9250505090565b600082156120c857816120b7848661319a565b6120c1919061319a565b905061124e565b509192915050565b60005b81518110156108155760008282815181106120f0576120f061310f565b60200260200101519050600061210e82600001518360200151611bb5565b90508061214557815160208301516040516208c3b360e61b81526001600160a01b0390921660048301526024820152604401610802565b81600001516001600160a01b0316336001600160a01b03167fe0e765ab26c1caf691c510426951246128b96830e49cc81d8c093fd551abac35846020015160405161219291815260200190565b60405180910390a3505080806121a790613181565b9150506120d3565b60005b815181101561041557612215338383815181106121d1576121d161310f565b6020026020010151600001518484815181106121ef576121ef61310f565b602002602001015160200151866001600160a01b031661170c909392919063ffffffff16565b8181815181106122275761222761310f565b6020026020010151600001516001600160a01b0316336001600160a01b0316846001600160a01b03167f1f9a9fdac86b6ca3c5300bec0b61555cded1f1a234378602dcca6c27085eac8e8585815181106122835761228361310f565b60200260200101516020015160405161229e91815260200190565b60405180910390a4806122b081613181565b9150506121b2565b6122c28282611476565b610815576122cf81612778565b6122da83602061278a565b6040516020016122eb9291906131e2565b60408051601f198184030181529082905262461bcd60e51b825261080291600401613257565b60608161231f81601f6131ad565b101561235e5760405162461bcd60e51b815260206004820152600e60248201526d736c6963655f6f766572666c6f7760901b6044820152606401610802565b61236882846131ad565b845110156123ac5760405162461bcd60e51b8152602060048201526011602482015270736c6963655f6f75744f66426f756e647360781b6044820152606401610802565b6060821580156123cb5760405191506000825260208201604052612415565b6040519150601f8416801560200281840101858101878315602002848b0101015b818310156124045780518352602092830192016123ec565b5050858452601f01601f1916604052505b50949350505050565b600061242b8260146131ad565b835110156124735760405162461bcd60e51b8152602060048201526015602482015274746f416464726573735f6f75744f66426f756e647360581b6044820152606401610802565b500160200151600160601b900490565b60006124908484846126d6565b9050600082806124a2576124a261326a565b848609111561124e5760001981106124b957600080fd5b6001019392505050565b60005b8151811015610415576125278282815181106124e4576124e461310f565b6020026020010151600001518383815181106125025761250261310f565b602002602001015160200151856001600160a01b03166115b89092919063ffffffff16565b8181815181106125395761253961310f565b6020026020010151600001516001600160a01b0316336001600160a01b0316846001600160a01b03167f1f9a9fdac86b6ca3c5300bec0b61555cded1f1a234378602dcca6c27085eac8e8585815181106125955761259561310f565b6020026020010151602001516040516125b091815260200190565b60405180910390a4806125c281613181565b9150506124c6565b60015460ff16610bd45760405162461bcd60e51b815260206004820152601460248201527314185d5cd8589b194e881b9bdd081c185d5cd95960621b6044820152606401610802565b60015460ff1615610bd45760405162461bcd60e51b815260206004820152601060248201526f14185d5cd8589b194e881c185d5cd95960821b6044820152606401610802565b6060600080856001600160a01b0316856040516126769190613280565b600060405180830381855af49150503d80600081146126b1576040519150601f19603f3d011682016040523d82523d6000602084013e6126b6565b606091505b5091509150611af986838387612925565b606061124b848460008561299e565b600083830281600019858709828110838203039150508084116126f857600080fd5b8060000361270b5750829004905061124e565b6000848688096000868103871696879004966002600389028118808a02820302808a02820302808a02820302808a02820302808a02820302808a02909103029181900381900460010186841190950394909402919094039290920491909117919091029150509392505050565b606061044b6001600160a01b03831660145b6060600061279983600261329c565b6127a49060026131ad565b6001600160401b038111156127bb576127bb612b66565b6040519080825280601f01601f1916602001820160405280156127e5576020820181803683370190505b509050600360fc1b816000815181106128005761280061310f565b60200101906001600160f81b031916908160001a905350600f60fb1b8160018151811061282f5761282f61310f565b60200101906001600160f81b031916908160001a905350600061285384600261329c565b61285e9060016131ad565b90505b60018111156128d6576f181899199a1a9b1b9c1cb0b131b232b360811b85600f16601081106128925761289261310f565b1a60f81b8282815181106128a8576128a861310f565b60200101906001600160f81b031916908160001a90535060049490941c936128cf816132b3565b9050612861565b50831561124e5760405162461bcd60e51b815260206004820181905260248201527f537472696e67733a20686578206c656e67746820696e73756666696369656e746044820152606401610802565b6060831561299457825160000361298d576001600160a01b0385163b61298d5760405162461bcd60e51b815260206004820152601d60248201527f416464726573733a2063616c6c20746f206e6f6e2d636f6e74726163740000006044820152606401610802565b508161196c565b61196c8383612a6e565b6060824710156129ff5760405162461bcd60e51b815260206004820152602660248201527f416464726573733a20696e73756666696369656e742062616c616e636520666f6044820152651c8818d85b1b60d21b6064820152608401610802565b600080866001600160a01b03168587604051612a1b9190613280565b60006040518083038185875af1925050503d8060008114612a58576040519150601f19603f3d011682016040523d82523d6000602084013e612a5d565b606091505b5091509150611aa087838387612925565b815115612a7e5781518083602001fd5b8060405162461bcd60e51b81526004016108029190613257565b6001600160a01b038116811461142557600080fd5b8035611e0281612a98565b60008060408385031215612acb57600080fd5b8235612ad681612a98565b91506020830135612ae681612a98565b809150509250929050565b600060208284031215612b0357600080fd5b81356001600160e01b03198116811461124e57600080fd5b60008083601f840112612b2d57600080fd5b5081356001600160401b03811115612b4457600080fd5b6020830191508360208260061b8501011115612b5f57600080fd5b9250929050565b634e487b7160e01b600052604160045260246000fd5b60405160e081016001600160401b0381118282101715612b9e57612b9e612b66565b60405290565b604051608081016001600160401b0381118282101715612b9e57612b9e612b66565b604051601f8201601f191681016001600160401b0381118282101715612bee57612bee612b66565b604052919050565b600060e08284031215612c0857600080fd5b612c10612b7c565b90508135612c1d81612a98565b81526020820135612c2d81612a98565b6020820152604082013562ffffff81168114612c4857600080fd5b6040820152612c5960608301612aad565b60608201526080820135608082015260a082013560a0820152612c7e60c08301612aad565b60c082015292915050565b60008060006101008486031215612c9f57600080fd5b83356001600160401b03811115612cb557600080fd5b612cc186828701612b1b565b9094509250612cd590508560208601612bf6565b90509250925092565b600060208284031215612cf057600080fd5b5035919050565b60008060408385031215612d0a57600080fd5b823591506020830135612ae681612a98565b600060808284031215612d2e57600080fd5b612d36612ba4565b905081356001600160401b0380821115612d4f57600080fd5b818401915084601f830112612d6357600080fd5b8135602082821115612d7757612d77612b66565b612d89601f8301601f19168201612bc6565b92508183528681838601011115612d9f57600080fd5b81818501828501376000818385010152828552612dbd818701612aad565b8186015250505050604082013560408201526060820135606082015292915050565b600080600060408486031215612df457600080fd5b83356001600160401b0380821115612e0b57600080fd5b612e1787838801612b1b565b90955093506020860135915080821115612e3057600080fd5b50612e3d86828701612d1c565b9150509250925092565b60008083601f840112612e5957600080fd5b5081356001600160401b03811115612e7057600080fd5b6020830191508360208260051b8501011115612b5f57600080fd5b600080600060408486031215612ea057600080fd5b8335925060208401356001600160401b03811115612ebd57600080fd5b612ec986828701612e47565b9497909650939450505050565b60005b83811015612ef1578181015183820152602001612ed9565b50506000910152565b60008151808452612f12816020860160208601612ed6565b601f01601f19169290920160200192915050565b6000602080830181845280855180835260408601915060408160051b870101925083870160005b82811015612f7b57603f19888603018452612f69858351612efa565b94509285019290850190600101612f4d565b5092979650505050505050565b600060208284031215612f9a57600080fd5b813561124e81612a98565b60008060208385031215612fb857600080fd5b82356001600160401b03811115612fce57600080fd5b612fda85828601612e47565b90969095509350505050565b600060208284031215612ff857600080fd5b5051919050565b60006040828403121561301157600080fd5b604051604081018181106001600160401b038211171561303357613033612b66565b604052823561304181612a98565b81526020928301359281019290925250919050565b60e0810161044b828480516001600160a01b03908116835260208083015182169084015260408083015162ffffff16908401526060808301518216908401526080808301519084015260a0828101519084015260c09182015116910152565b60008151608084526130ca6080850182612efa565b6020848101516001600160a01b0316908601526040808501519086015260609384015193909401929092525090919050565b60208152600061124e60208301846130b5565b634e487b7160e01b600052603260045260246000fd5b6000808335601e1984360301811261313c57600080fd5b8301803591506001600160401b0382111561315657600080fd5b602001915036819003821315612b5f57600080fd5b634e487b7160e01b600052601160045260246000fd5b6000600182016131935761319361316b565b5060010190565b8181038181111561044b5761044b61316b565b8082018082111561044b5761044b61316b565b6000602082840312156131d257600080fd5b8151801515811461124e57600080fd5b7f416363657373436f6e74726f6c3a206163636f756e742000000000000000000081526000835161321a816017850160208801612ed6565b7001034b99036b4b9b9b4b733903937b6329607d1b601791840191820152835161324b816028840160208801612ed6565b01602801949350505050565b60208152600061124e6020830184612efa565b634e487b7160e01b600052601260045260246000fd5b60008251613292818460208701612ed6565b9190910192915050565b808202811582820484141761044b5761044b61316b565b6000816132c2576132c261316b565b50600019019056fe416464726573733a206c6f772d6c6576656c2064656c65676174652063616c6c206661696c6564a2646970667358221220162c0f9d1b47c666f486fc65c7c7502bb0e7378e3166be6f93d98943154831c364736f6c63430008130033";class X8 extends yl{constructor(...e){e.length>1?super(...e):super(V8,K8,e[0])}deploy(e,t,n,r){return super.deploy(e,t,n,r||{})}getDeployTransaction(e,t,n,r){return super.getDeployTransaction(e,t,n,r||{})}attach(e){return super.attach(e)}connect(e){return super.connect(e)}static bytecode=K8;static abi=V8;static createInterface(){return new Pc(V8)}static connect(e,t){return new bl(e,V8,t)}}const $8=[{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"addr",type:"address"}],name:"getEthBalance",outputs:[{internalType:"uint256",name:"balance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"address",name:"target",type:"address"},{internalType:"uint256",name:"gasLimit",type:"uint256"},{internalType:"bytes",name:"callData",type:"bytes"}],internalType:"struct UniswapInterfaceMulticall.Call[]",name:"calls",type:"tuple[]"}],name:"multicall",outputs:[{internalType:"uint256",name:"blockNumber",type:"uint256"},{components:[{internalType:"bool",name:"success",type:"bool"},{internalType:"uint256",name:"gasUsed",type:"uint256"},{internalType:"bytes",name:"returnData",type:"bytes"}],internalType:"struct UniswapInterfaceMulticall.Result[]",name:"returnData",type:"tuple[]"}],stateMutability:"nonpayable",type:"function"}],J8="0x608060405234801561001057600080fd5b50610567806100206000396000f3fe608060405234801561001057600080fd5b50600436106100415760003560e01c80630f28c97d146100465780631749e1e3146100645780634d2301cc14610085575b600080fd5b61004e610098565b60405161005b919061041f565b60405180910390f35b6100776100723660046102a7565b61009c565b60405161005b929190610428565b61004e610093366004610286565b610220565b4290565b8051439060609067ffffffffffffffff811180156100b957600080fd5b506040519080825280602002602001820160405280156100f357816020015b6100e061023a565b8152602001906001900390816100d85790505b50905060005b835181101561021a57600080600086848151811061011357fe5b60200260200101516000015187858151811061012b57fe5b60200260200101516020015188868151811061014357fe5b60200260200101516040015192509250925060005a90506000808573ffffffffffffffffffffffffffffffffffffffff1685856040516101839190610403565b60006040518083038160008787f1925050503d80600081146101c1576040519150601f19603f3d011682016040523d82523d6000602084013e6101c6565b606091505b509150915060005a8403905060405180606001604052808415158152602001828152602001838152508989815181106101fb57fe5b60200260200101819052505050505050505080806001019150506100f9565b50915091565b73ffffffffffffffffffffffffffffffffffffffff163190565b604051806060016040528060001515815260200160008152602001606081525090565b803573ffffffffffffffffffffffffffffffffffffffff8116811461028157600080fd5b919050565b600060208284031215610297578081fd5b6102a08261025d565b9392505050565b600060208083850312156102b9578182fd5b823567ffffffffffffffff808211156102d0578384fd5b818501915085601f8301126102e3578384fd5b8135818111156102ef57fe5b6102fc8485830201610506565b81815284810190848601875b848110156103f457813587017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0606081838f03011215610346578a8bfd5b60408051606081018181108b8211171561035c57fe5b8252610369848d0161025d565b8152818401358c82015260608401358a811115610384578d8efd5b8085019450508e603f850112610398578c8dfd5b8b8401358a8111156103a657fe5b6103b68d85601f84011601610506565b93508084528f838287010111156103cb578d8efd5b808386018e86013783018c018d9052908101919091528552509287019290870190600101610308565b50909998505050505050505050565b6000825161041581846020870161052a565b9190910192915050565b90815260200190565b600060408083018584526020828186015281865180845260609350838701915083838202880101838901875b838110156104f6578983037fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa001855281518051151584528681015187850152880151888401889052805188850181905260806104b582828801858c0161052a565b96880196601f919091017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe01694909401909301925090850190600101610454565b50909a9950505050505050505050565b60405181810167ffffffffffffffff8111828210171561052257fe5b604052919050565b60005b8381101561054557818101518382015260200161052d565b83811115610554576000848401525b5050505056fea164736f6c6343000706000a";class Y8 extends yl{constructor(...e){e.length>1?super(...e):super($8,J8,e[0])}deploy(e){return super.deploy(e||{})}getDeployTransaction(e){return super.getDeployTransaction(e||{})}attach(e){return super.attach(e)}connect(e){return super.connect(e)}static bytecode=J8;static abi=$8;static createInterface(){return new Pc($8)}static connect(e,t){return new bl(e,$8,t)}}const Q8=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"int24",name:"tickLower",type:"int24"},{indexed:!0,internalType:"int24",name:"tickUpper",type:"int24"},{indexed:!1,internalType:"uint128",name:"amount",type:"uint128"},{indexed:!1,internalType:"uint256",name:"amount0",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount1",type:"uint256"}],name:"Burn",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!1,internalType:"address",name:"recipient",type:"address"},{indexed:!0,internalType:"int24",name:"tickLower",type:"int24"},{indexed:!0,internalType:"int24",name:"tickUpper",type:"int24"},{indexed:!1,internalType:"uint128",name:"amount0",type:"uint128"},{indexed:!1,internalType:"uint128",name:"amount1",type:"uint128"}],name:"Collect",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!0,internalType:"address",name:"recipient",type:"address"},{indexed:!1,internalType:"uint128",name:"amount0",type:"uint128"},{indexed:!1,internalType:"uint128",name:"amount1",type:"uint128"}],name:"CollectProtocol",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!0,internalType:"address",name:"recipient",type:"address"},{indexed:!1,internalType:"uint256",name:"amount0",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount1",type:"uint256"},{indexed:!1,internalType:"uint256",name:"paid0",type:"uint256"},{indexed:!1,internalType:"uint256",name:"paid1",type:"uint256"}],name:"Flash",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint16",name:"observationCardinalityNextOld",type:"uint16"},{indexed:!1,internalType:"uint16",name:"observationCardinalityNextNew",type:"uint16"}],name:"IncreaseObservationCardinalityNext",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint160",name:"sqrtPriceX96",type:"uint160"},{indexed:!1,internalType:"int24",name:"tick",type:"int24"}],name:"Initialize",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"sender",type:"address"},{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"int24",name:"tickLower",type:"int24"},{indexed:!0,internalType:"int24",name:"tickUpper",type:"int24"},{indexed:!1,internalType:"uint128",name:"amount",type:"uint128"},{indexed:!1,internalType:"uint256",name:"amount0",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount1",type:"uint256"}],name:"Mint",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint8",name:"feeProtocol0Old",type:"uint8"},{indexed:!1,internalType:"uint8",name:"feeProtocol1Old",type:"uint8"},{indexed:!1,internalType:"uint8",name:"feeProtocol0New",type:"uint8"},{indexed:!1,internalType:"uint8",name:"feeProtocol1New",type:"uint8"}],name:"SetFeeProtocol",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!0,internalType:"address",name:"recipient",type:"address"},{indexed:!1,internalType:"int256",name:"amount0",type:"int256"},{indexed:!1,internalType:"int256",name:"amount1",type:"int256"},{indexed:!1,internalType:"uint160",name:"sqrtPriceX96",type:"uint160"},{indexed:!1,internalType:"uint128",name:"liquidity",type:"uint128"},{indexed:!1,internalType:"int24",name:"tick",type:"int24"}],name:"Swap",type:"event"},{inputs:[{internalType:"int24",name:"tickLower",type:"int24"},{internalType:"int24",name:"tickUpper",type:"int24"},{internalType:"uint128",name:"amount",type:"uint128"}],name:"burn",outputs:[{internalType:"uint256",name:"amount0",type:"uint256"},{internalType:"uint256",name:"amount1",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"int24",name:"tickLower",type:"int24"},{internalType:"int24",name:"tickUpper",type:"int24"},{internalType:"uint128",name:"amount0Requested",type:"uint128"},{internalType:"uint128",name:"amount1Requested",type:"uint128"}],name:"collect",outputs:[{internalType:"uint128",name:"amount0",type:"uint128"},{internalType:"uint128",name:"amount1",type:"uint128"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint128",name:"amount0Requested",type:"uint128"},{internalType:"uint128",name:"amount1Requested",type:"uint128"}],name:"collectProtocol",outputs:[{internalType:"uint128",name:"amount0",type:"uint128"},{internalType:"uint128",name:"amount1",type:"uint128"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"factory",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"fee",outputs:[{internalType:"uint24",name:"",type:"uint24"}],stateMutability:"view",type:"function"},{inputs:[],name:"feeGrowthGlobal0X128",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"feeGrowthGlobal1X128",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount0",type:"uint256"},{internalType:"uint256",name:"amount1",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"flash",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint16",name:"observationCardinalityNext",type:"uint16"}],name:"increaseObservationCardinalityNext",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint160",name:"sqrtPriceX96",type:"uint160"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"liquidity",outputs:[{internalType:"uint128",name:"",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxLiquidityPerTick",outputs:[{internalType:"uint128",name:"",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"int24",name:"tickLower",type:"int24"},{internalType:"int24",name:"tickUpper",type:"int24"},{internalType:"uint128",name:"amount",type:"uint128"},{internalType:"bytes",name:"data",type:"bytes"}],name:"mint",outputs:[{internalType:"uint256",name:"amount0",type:"uint256"},{internalType:"uint256",name:"amount1",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"observations",outputs:[{internalType:"uint32",name:"blockTimestamp",type:"uint32"},{internalType:"int56",name:"tickCumulative",type:"int56"},{internalType:"uint160",name:"secondsPerLiquidityCumulativeX128",type:"uint160"},{internalType:"bool",name:"initialized",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint32[]",name:"secondsAgos",type:"uint32[]"}],name:"observe",outputs:[{internalType:"int56[]",name:"tickCumulatives",type:"int56[]"},{internalType:"uint160[]",name:"secondsPerLiquidityCumulativeX128s",type:"uint160[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"positions",outputs:[{internalType:"uint128",name:"liquidity",type:"uint128"},{internalType:"uint256",name:"feeGrowthInside0LastX128",type:"uint256"},{internalType:"uint256",name:"feeGrowthInside1LastX128",type:"uint256"},{internalType:"uint128",name:"tokensOwed0",type:"uint128"},{internalType:"uint128",name:"tokensOwed1",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[],name:"protocolFees",outputs:[{internalType:"uint128",name:"token0",type:"uint128"},{internalType:"uint128",name:"token1",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint8",name:"feeProtocol0",type:"uint8"},{internalType:"uint8",name:"feeProtocol1",type:"uint8"}],name:"setFeeProtocol",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"slot0",outputs:[{internalType:"uint160",name:"sqrtPriceX96",type:"uint160"},{internalType:"int24",name:"tick",type:"int24"},{internalType:"uint16",name:"observationIndex",type:"uint16"},{internalType:"uint16",name:"observationCardinality",type:"uint16"},{internalType:"uint16",name:"observationCardinalityNext",type:"uint16"},{internalType:"uint8",name:"feeProtocol",type:"uint8"},{internalType:"bool",name:"unlocked",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"int24",name:"tickLower",type:"int24"},{internalType:"int24",name:"tickUpper",type:"int24"}],name:"snapshotCumulativesInside",outputs:[{internalType:"int56",name:"tickCumulativeInside",type:"int56"},{internalType:"uint160",name:"secondsPerLiquidityInsideX128",type:"uint160"},{internalType:"uint32",name:"secondsInside",type:"uint32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"bool",name:"zeroForOne",type:"bool"},{internalType:"int256",name:"amountSpecified",type:"int256"},{internalType:"uint160",name:"sqrtPriceLimitX96",type:"uint160"},{internalType:"bytes",name:"data",type:"bytes"}],name:"swap",outputs:[{internalType:"int256",name:"amount0",type:"int256"},{internalType:"int256",name:"amount1",type:"int256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"int16",name:"",type:"int16"}],name:"tickBitmap",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"tickSpacing",outputs:[{internalType:"int24",name:"",type:"int24"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"int24",name:"",type:"int24"}],name:"ticks",outputs:[{internalType:"uint128",name:"liquidityGross",type:"uint128"},{internalType:"int128",name:"liquidityNet",type:"int128"},{internalType:"uint256",name:"feeGrowthOutside0X128",type:"uint256"},{internalType:"uint256",name:"feeGrowthOutside1X128",type:"uint256"},{internalType:"int56",name:"tickCumulativeOutside",type:"int56"},{internalType:"uint160",name:"secondsPerLiquidityOutsideX128",type:"uint160"},{internalType:"uint32",name:"secondsOutside",type:"uint32"},{internalType:"bool",name:"initialized",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"token0",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"token1",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}],Z8="0x6101606040523480156200001257600080fd5b503060601b60805260408051630890357360e41b81529051600091339163890357309160048082019260a092909190829003018186803b1580156200005657600080fd5b505afa1580156200006b573d6000803e3d6000fd5b505050506040513d60a08110156200008257600080fd5b508051602080830151604084015160608086015160809096015160e896871b6001600160e81b0319166101005291811b6001600160601b031990811660e05292811b831660c0529390931b1660a052600282810b900b90921b610120529150620000f79082906200010f811b62002b8417901c565b60801b6001600160801b03191661014052506200017d565b60008082600281900b620d89e719816200012557fe5b05029050600083600281900b620d89e8816200013d57fe5b0502905060008460020b83830360020b816200015557fe5b0560010190508062ffffff166001600160801b038016816200017357fe5b0495945050505050565b60805160601c60a05160601c60c05160601c60e05160601c6101005160e81c6101205160e81c6101405160801c61567e6200024a60003980611fee5280614b5f5280614b96525080610c0052806128fd5280614bca5280614bfc525080610cef52806119cb5280611a0252806129455250806111c75280611a855280611ef4528061244452806129215280613e6b5250806108d252806112f55280611a545280611e8e52806123be5280613d2252508061207b528061227d52806128d9525080612bfb525061567e6000f3fe608060405234801561001057600080fd5b50600436106101ae5760003560e01c806370cf754a116100ee578063c45a015511610097578063ddca3f4311610071578063ddca3f4314610800578063f305839914610820578063f30dba9314610828578063f637731d146108aa576101ae565b8063c45a0155146107d1578063d0c93a7c146107d9578063d21220a7146107f8576101ae565b8063883bdbfd116100c8578063883bdbfd14610633578063a34123a71461073c578063a38807f214610776576101ae565b806370cf754a146105c65780638206a4d1146105ce57806385b66729146105f6576101ae565b80633850c7bd1161015b578063490e6cbc11610135578063490e6cbc146104705780634f1eb3d8146104fc578063514ea4bf1461054d5780635339c296146105a6576101ae565b80633850c7bd1461035b5780633c8a7d8d146103b45780634614131914610456576101ae565b80631ad8b03b1161018c5780631ad8b03b146102aa578063252c09d7146102e157806332148f6714610338576101ae565b80630dfe1681146101b3578063128acb08146101d75780631a68650214610286575b600080fd5b6101bb6108d0565b604080516001600160a01b039092168252519081900360200190f35b61026d600480360360a08110156101ed57600080fd5b6001600160a01b0382358116926020810135151592604082013592606083013516919081019060a08101608082013564010000000081111561022e57600080fd5b82018360208201111561024057600080fd5b8035906020019184600183028401116401000000008311171561026257600080fd5b5090925090506108f4565b6040805192835260208301919091528051918290030190f35b61028e6114ad565b604080516001600160801b039092168252519081900360200190f35b6102b26114bc565b60405180836001600160801b03168152602001826001600160801b031681526020019250505060405180910390f35b6102fe600480360360208110156102f757600080fd5b50356114d6565b6040805163ffffffff909516855260069390930b60208501526001600160a01b039091168383015215156060830152519081900360800190f35b6103596004803603602081101561034e57600080fd5b503561ffff1661151c565b005b610363611616565b604080516001600160a01b03909816885260029690960b602088015261ffff9485168787015292841660608701529216608085015260ff90911660a0840152151560c0830152519081900360e00190f35b61026d600480360360a08110156103ca57600080fd5b6001600160a01b03823516916020810135600290810b92604083013590910b916001600160801b036060820135169181019060a08101608082013564010000000081111561041757600080fd5b82018360208201111561042957600080fd5b8035906020019184600183028401116401000000008311171561044b57600080fd5b509092509050611666565b61045e611922565b60408051918252519081900360200190f35b6103596004803603608081101561048657600080fd5b6001600160a01b0382351691602081013591604082013591908101906080810160608201356401000000008111156104bd57600080fd5b8201836020820111156104cf57600080fd5b803590602001918460018302840111640100000000831117156104f157600080fd5b509092509050611928565b6102b2600480360360a081101561051257600080fd5b506001600160a01b03813516906020810135600290810b91604081013590910b906001600160801b0360608201358116916080013516611d83565b61056a6004803603602081101561056357600080fd5b5035611f9d565b604080516001600160801b0396871681526020810195909552848101939093529084166060840152909216608082015290519081900360a00190f35b61045e600480360360208110156105bc57600080fd5b503560010b611fda565b61028e611fec565b610359600480360360408110156105e457600080fd5b5060ff81358116916020013516612010565b6102b26004803603606081101561060c57600080fd5b506001600160a01b03813516906001600160801b036020820135811691604001351661220f565b6106a36004803603602081101561064957600080fd5b81019060208101813564010000000081111561066457600080fd5b82018360208201111561067657600080fd5b8035906020019184602083028401116401000000008311171561069857600080fd5b5090925090506124dc565b604051808060200180602001838103835285818151815260200191508051906020019060200280838360005b838110156106e75781810151838201526020016106cf565b50505050905001838103825284818151815260200191508051906020019060200280838360005b8381101561072657818101518382015260200161070e565b5050505090500194505050505060405180910390f35b61026d6004803603606081101561075257600080fd5b508035600290810b91602081013590910b90604001356001600160801b0316612569565b6107a06004803603604081101561078c57600080fd5b508035600290810b9160200135900b6126e0565b6040805160069490940b84526001600160a01b03909216602084015263ffffffff1682820152519081900360600190f35b6101bb6128d7565b6107e16128fb565b6040805160029290920b8252519081900360200190f35b6101bb61291f565b610808612943565b6040805162ffffff9092168252519081900360200190f35b61045e612967565b6108486004803603602081101561083e57600080fd5b503560020b61296d565b604080516001600160801b039099168952600f9790970b602089015287870195909552606087019390935260069190910b60808601526001600160a01b031660a085015263ffffffff1660c0840152151560e083015251908190036101000190f35b610359600480360360208110156108c057600080fd5b50356001600160a01b03166129db565b7f000000000000000000000000000000000000000000000000000000000000000081565b6000806108ff612bf0565b85610936576040805162461bcd60e51b8152602060048201526002602482015261415360f01b604482015290519081900360640190fd5b6040805160e0810182526000546001600160a01b0381168252600160a01b8104600290810b810b900b602083015261ffff600160b81b8204811693830193909352600160c81b810483166060830152600160d81b8104909216608082015260ff600160e81b8304811660a0830152600160f01b909204909116151560c082018190526109ef576040805162461bcd60e51b81526020600482015260036024820152624c4f4b60e81b604482015290519081900360640190fd5b87610a3a5780600001516001600160a01b0316866001600160a01b0316118015610a35575073fffd8963efd1fc6a506488495d951d5263988d266001600160a01b038716105b610a6c565b80600001516001600160a01b0316866001600160a01b0316108015610a6c57506401000276a36001600160a01b038716115b610aa3576040805162461bcd60e51b815260206004820152600360248201526214d41360ea1b604482015290519081900360640190fd5b6000805460ff60f01b191681556040805160c08101909152808a610ad25760048460a0015160ff16901c610ae5565b60108460a0015160ff1681610ae357fe5b065b60ff1681526004546001600160801b03166020820152604001610b06612c27565b63ffffffff168152602001600060060b815260200160006001600160a01b031681526020016000151581525090506000808913905060006040518060e001604052808b81526020016000815260200185600001516001600160a01b03168152602001856020015160020b81526020018c610b8257600254610b86565b6001545b815260200160006001600160801b0316815260200184602001516001600160801b031681525090505b805115801590610bd55750886001600160a01b031681604001516001600160a01b031614155b15610f9f57610be261560e565b60408201516001600160a01b031681526060820151610c25906006907f00000000000000000000000000000000000000000000000000000000000000008f612c2b565b15156040830152600290810b810b60208301819052620d89e719910b1215610c5657620d89e7196020820152610c75565b6020810151620d89e860029190910b1315610c7557620d89e860208201525b610c828160200151612d6d565b6001600160a01b031660608201526040820151610d13908d610cbc578b6001600160a01b031683606001516001600160a01b031611610cd6565b8b6001600160a01b031683606001516001600160a01b0316105b610ce4578260600151610ce6565b8b5b60c085015185517f000000000000000000000000000000000000000000000000000000000000000061309f565b60c085015260a084015260808301526001600160a01b031660408301528215610d7557610d498160c00151826080015101613291565b825103825260a0810151610d6b90610d6090613291565b6020840151906132a7565b6020830152610db0565b610d828160a00151613291565b825101825260c08101516080820151610daa91610d9f9101613291565b6020840151906132c3565b60208301525b835160ff1615610df6576000846000015160ff168260c0015181610dd057fe5b60c0840180519290910491829003905260a0840180519091016001600160801b03169052505b60c08201516001600160801b031615610e3557610e298160c00151600160801b8460c001516001600160801b03166132d9565b60808301805190910190525b80606001516001600160a01b031682604001516001600160a01b03161415610f5e57806040015115610f35578360a00151610ebf57610e9d846040015160008760200151886040015188602001518a606001516008613389909695949392919063ffffffff16565b6001600160a01b03166080860152600690810b900b6060850152600160a08501525b6000610f0b82602001518e610ed657600154610edc565b84608001515b8f610eeb578560800151610eef565b6002545b608089015160608a015160408b0151600595949392919061351c565b90508c15610f17576000035b610f258360c00151826135ef565b6001600160801b031660c0840152505b8b610f44578060200151610f4d565b60018160200151035b600290810b900b6060830152610f99565b80600001516001600160a01b031682604001516001600160a01b031614610f9957610f8c82604001516136a5565b600290810b900b60608301525b50610baf565b836020015160020b816060015160020b1461107a57600080610fed86604001518660400151886020015188602001518a606001518b6080015160086139d1909695949392919063ffffffff16565b604085015160608601516000805461ffff60c81b1916600160c81b61ffff958616021761ffff60b81b1916600160b81b95909416949094029290921762ffffff60a01b1916600160a01b62ffffff60029490940b93909316929092029190911773ffffffffffffffffffffffffffffffffffffffff19166001600160a01b03909116179055506110ac9050565b60408101516000805473ffffffffffffffffffffffffffffffffffffffff19166001600160a01b039092169190911790555b8060c001516001600160801b031683602001516001600160801b0316146110f25760c0810151600480546001600160801b0319166001600160801b039092169190911790555b8a1561114257608081015160015560a08101516001600160801b03161561113d5760a0810151600380546001600160801b031981166001600160801b03918216909301169190911790555b611188565b608081015160025560a08101516001600160801b0316156111885760a0810151600380546001600160801b03808216600160801b92839004821690940116029190911790555b8115158b1515146111a157602081015181518b036111ae565b80600001518a0381602001515b90965094508a156112e75760008512156111f0576111f07f00000000000000000000000000000000000000000000000000000000000000008d87600003613b86565b60006111fa613cd4565b9050336001600160a01b031663fa461e3388888c8c6040518563ffffffff1660e01b815260040180858152602001848152602001806020018281038252848482818152602001925080828437600081840152601f19601f82011690508083019250505095505050505050600060405180830381600087803b15801561127e57600080fd5b505af1158015611292573d6000803e3d6000fd5b5050505061129e613cd4565b6112a88289613e0d565b11156112e1576040805162461bcd60e51b815260206004820152600360248201526249494160e81b604482015290519081900360640190fd5b50611411565b600086121561131e5761131e7f00000000000000000000000000000000000000000000000000000000000000008d88600003613b86565b6000611328613e1d565b9050336001600160a01b031663fa461e3388888c8c6040518563ffffffff1660e01b815260040180858152602001848152602001806020018281038252848482818152602001925080828437600081840152601f19601f82011690508083019250505095505050505050600060405180830381600087803b1580156113ac57600080fd5b505af11580156113c0573d6000803e3d6000fd5b505050506113cc613e1d565b6113d68288613e0d565b111561140f576040805162461bcd60e51b815260206004820152600360248201526249494160e81b604482015290519081900360640190fd5b505b60408082015160c083015160608085015184518b8152602081018b90526001600160a01b03948516818701526001600160801b039093169183019190915260020b60808201529151908e169133917fc42079f94a6350d7e6235f29174924f928cc2ac818eb64fed8004e115fbcca679181900360a00190a350506000805460ff60f01b1916600160f01b17905550919890975095505050505050565b6004546001600160801b031681565b6003546001600160801b0380821691600160801b90041682565b60088161ffff81106114e757600080fd5b015463ffffffff81169150640100000000810460060b90600160581b81046001600160a01b031690600160f81b900460ff1684565b600054600160f01b900460ff16611560576040805162461bcd60e51b81526020600482015260036024820152624c4f4b60e81b604482015290519081900360640190fd5b6000805460ff60f01b19169055611575612bf0565b60008054600160d81b900461ffff169061159160088385613eb5565b6000805461ffff808416600160d81b810261ffff60d81b19909316929092179092559192508316146115fe576040805161ffff80851682528316602082015281517fac49e518f90a358f652e4400164f05a5d8f7e35e7747279bc3a93dbf584e125a929181900390910190a15b50506000805460ff60f01b1916600160f01b17905550565b6000546001600160a01b03811690600160a01b810460020b9061ffff600160b81b8204811691600160c81b8104821691600160d81b8204169060ff600160e81b8204811691600160f01b90041687565b600080548190600160f01b900460ff166116ad576040805162461bcd60e51b81526020600482015260036024820152624c4f4b60e81b604482015290519081900360640190fd5b6000805460ff60f01b191690556001600160801b0385166116cd57600080fd5b60008061171b60405180608001604052808c6001600160a01b031681526020018b60020b81526020018a60020b81526020016117118a6001600160801b0316613f58565b600f0b9052613f69565b9250925050819350809250600080600086111561173d5761173a613cd4565b91505b841561174e5761174b613e1d565b90505b336001600160a01b031663d348799787878b8b6040518563ffffffff1660e01b815260040180858152602001848152602001806020018281038252848482818152602001925080828437600081840152601f19601f82011690508083019250505095505050505050600060405180830381600087803b1580156117d057600080fd5b505af11580156117e4573d6000803e3d6000fd5b50505050600086111561183b576117f9613cd4565b6118038388613e0d565b111561183b576040805162461bcd60e51b815260206004820152600260248201526104d360f41b604482015290519081900360640190fd5b841561188b57611849613e1d565b6118538287613e0d565b111561188b576040805162461bcd60e51b81526020600482015260026024820152614d3160f01b604482015290519081900360640190fd5b8960020b8b60020b8d6001600160a01b03167f7a53080ba414158be7ec69b987b5fb7d07dee101fe85488f0853ae16239d0bde338d8b8b60405180856001600160a01b03168152602001846001600160801b0316815260200183815260200182815260200194505050505060405180910390a450506000805460ff60f01b1916600160f01b17905550919890975095505050505050565b60025481565b600054600160f01b900460ff1661196c576040805162461bcd60e51b81526020600482015260036024820152624c4f4b60e81b604482015290519081900360640190fd5b6000805460ff60f01b19169055611981612bf0565b6004546001600160801b0316806119c3576040805162461bcd60e51b81526020600482015260016024820152601360fa1b604482015290519081900360640190fd5b60006119f8867f000000000000000000000000000000000000000000000000000000000000000062ffffff16620f42406141a9565b90506000611a2f867f000000000000000000000000000000000000000000000000000000000000000062ffffff16620f42406141a9565b90506000611a3b613cd4565b90506000611a47613e1d565b90508815611a7a57611a7a7f00000000000000000000000000000000000000000000000000000000000000008b8b613b86565b8715611aab57611aab7f00000000000000000000000000000000000000000000000000000000000000008b8a613b86565b336001600160a01b031663e9cbafb085858a8a6040518563ffffffff1660e01b815260040180858152602001848152602001806020018281038252848482818152602001925080828437600081840152601f19601f82011690508083019250505095505050505050600060405180830381600087803b158015611b2d57600080fd5b505af1158015611b41573d6000803e3d6000fd5b505050506000611b4f613cd4565b90506000611b5b613e1d565b905081611b688588613e0d565b1115611ba0576040805162461bcd60e51b8152602060048201526002602482015261046360f41b604482015290519081900360640190fd5b80611bab8487613e0d565b1115611be3576040805162461bcd60e51b8152602060048201526002602482015261463160f01b604482015290519081900360640190fd5b8382038382038115611c725760008054600160e81b9004600f16908115611c16578160ff168481611c1057fe5b04611c19565b60005b90506001600160801b03811615611c4c57600380546001600160801b038082168401166001600160801b03199091161790555b611c66818503600160801b8d6001600160801b03166132d9565b60018054909101905550505b8015611cfd5760008054600160e81b900460041c600f16908115611ca2578160ff168381611c9c57fe5b04611ca5565b60005b90506001600160801b03811615611cd757600380546001600160801b03600160801b8083048216850182160291161790555b611cf1818403600160801b8d6001600160801b03166132d9565b60028054909101905550505b8d6001600160a01b0316336001600160a01b03167fbdbdb71d7860376ba52b25a5028beea23581364a40522f6bcfb86bb1f2dca6338f8f86866040518085815260200184815260200183815260200182815260200194505050505060405180910390a350506000805460ff60f01b1916600160f01b179055505050505050505050505050565b600080548190600160f01b900460ff16611dca576040805162461bcd60e51b81526020600482015260036024820152624c4f4b60e81b604482015290519081900360640190fd5b6000805460ff60f01b19168155611de460073389896141e3565b60038101549091506001600160801b0390811690861611611e055784611e14565b60038101546001600160801b03165b60038201549093506001600160801b03600160801b909104811690851611611e3c5783611e52565b6003810154600160801b90046001600160801b03165b91506001600160801b03831615611eb7576003810180546001600160801b031981166001600160801b03918216869003821617909155611eb7907f0000000000000000000000000000000000000000000000000000000000000000908a908616613b86565b6001600160801b03821615611f1d576003810180546001600160801b03600160801b808304821686900382160291811691909117909155611f1d907f0000000000000000000000000000000000000000000000000000000000000000908a908516613b86565b604080516001600160a01b038a1681526001600160801b0380861660208301528416818301529051600288810b92908a900b9133917f70935338e69775456a85ddef226c395fb668b63fa0115f5f20610b388e6ca9c0919081900360600190a4506000805460ff60f01b1916600160f01b17905590969095509350505050565b60076020526000908152604090208054600182015460028301546003909301546001600160801b0392831693919281811691600160801b90041685565b60066020526000908152604090205481565b7f000000000000000000000000000000000000000000000000000000000000000081565b600054600160f01b900460ff16612054576040805162461bcd60e51b81526020600482015260036024820152624c4f4b60e81b604482015290519081900360640190fd5b6000805460ff60f01b1916905560408051638da5cb5b60e01b815290516001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001691638da5cb5b916004808301926020929190829003018186803b1580156120c157600080fd5b505afa1580156120d5573d6000803e3d6000fd5b505050506040513d60208110156120eb57600080fd5b50516001600160a01b0316331461210157600080fd5b60ff82161580612124575060048260ff16101580156121245750600a8260ff1611155b801561214e575060ff8116158061214e575060048160ff161015801561214e5750600a8160ff1611155b61215757600080fd5b60008054610ff0600484901b16840160ff908116600160e81b9081027fffff00ffffffffffffffffffffffffffffffffffffffffffffffffffffffffff841617909355919004167f973d8d92bb299f4af6ce49b52a8adb85ae46b9f214c4c4fc06ac77401237b1336010826040805160ff9390920683168252600f600486901c16602083015286831682820152918516606082015290519081900360800190a150506000805460ff60f01b1916600160f01b17905550565b600080548190600160f01b900460ff16612256576040805162461bcd60e51b81526020600482015260036024820152624c4f4b60e81b604482015290519081900360640190fd5b6000805460ff60f01b1916905560408051638da5cb5b60e01b815290516001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001691638da5cb5b916004808301926020929190829003018186803b1580156122c357600080fd5b505afa1580156122d7573d6000803e3d6000fd5b505050506040513d60208110156122ed57600080fd5b50516001600160a01b0316331461230357600080fd5b6003546001600160801b039081169085161161231f578361232c565b6003546001600160801b03165b6003549092506001600160801b03600160801b9091048116908416116123525782612366565b600354600160801b90046001600160801b03165b90506001600160801b038216156123e7576003546001600160801b038381169116141561239557600019909101905b600380546001600160801b031981166001600160801b039182168590038216179091556123e7907f00000000000000000000000000000000000000000000000000000000000000009087908516613b86565b6001600160801b0381161561246d576003546001600160801b03828116600160801b90920416141561241857600019015b600380546001600160801b03600160801b80830482168590038216029181169190911790915561246d907f00000000000000000000000000000000000000000000000000000000000000009087908416613b86565b604080516001600160801b0380851682528316602082015281516001600160a01b0388169233927f596b573906218d3411850b26a6b437d6c4522fdb43d2d2386263f86d50b8b151929081900390910190a36000805460ff60f01b1916600160f01b1790559094909350915050565b6060806124e7612bf0565b61255e6124f2612c27565b858580806020026020016040519081016040528093929190818152602001838360200280828437600092018290525054600454600896959450600160a01b820460020b935061ffff600160b81b8304811693506001600160801b0390911691600160c81b900416614247565b915091509250929050565b600080548190600160f01b900460ff166125b0576040805162461bcd60e51b81526020600482015260036024820152624c4f4b60e81b604482015290519081900360640190fd5b6000805460ff60f01b1916815560408051608081018252338152600288810b602083015287900b918101919091528190819061260990606081016125fc6001600160801b038a16613f58565b600003600f0b9052613f69565b925092509250816000039450806000039350600085118061262a5750600084115b15612669576003830180546001600160801b038082168089018216600160801b93849004831689019092169092029091176001600160801b0319161790555b604080516001600160801b0388168152602081018790528082018690529051600289810b92908b900b9133917f0c396cd989a39f4459b5fa1aed6a9a8dcdbc45908acfd67e028cd568da98982c919081900360600190a450506000805460ff60f01b1916600160f01b179055509094909350915050565b60008060006126ed612bf0565b6126f785856143a1565b600285810b810b60009081526005602052604080822087840b90930b825281206003830154600681900b9367010000000000000082046001600160a01b0316928492600160d81b810463ffffffff169284929091600160f81b900460ff168061275f57600080fd5b6003820154600681900b985067010000000000000081046001600160a01b03169650600160d81b810463ffffffff169450600160f81b900460ff16806127a457600080fd5b50506040805160e0810182526000546001600160a01b0381168252600160a01b8104600290810b810b810b6020840181905261ffff600160b81b8404811695850195909552600160c81b830485166060850152600160d81b8304909416608084015260ff600160e81b8304811660a0850152600160f01b909204909116151560c08301529093508e810b91900b1215905061284d575093909403965090039350900390506128d0565b8a60020b816020015160020b12156128c1576000612869612c27565b602083015160408401516004546060860151939450600093849361289f936008938893879392916001600160801b031690613389565b9a9003989098039b5050949096039290920396509091030392506128d0915050565b50949093039650039350900390505b9250925092565b7f000000000000000000000000000000000000000000000000000000000000000081565b7f000000000000000000000000000000000000000000000000000000000000000081565b7f000000000000000000000000000000000000000000000000000000000000000081565b7f000000000000000000000000000000000000000000000000000000000000000081565b60015481565b60056020526000908152604090208054600182015460028301546003909301546001600160801b03831693600160801b909304600f0b9290600681900b9067010000000000000081046001600160a01b031690600160d81b810463ffffffff1690600160f81b900460ff1688565b6000546001600160a01b031615612a1e576040805162461bcd60e51b8152602060048201526002602482015261414960f01b604482015290519081900360640190fd5b6000612a29826136a5565b9050600080612a41612a39612c27565b60089061446a565b6040805160e0810182526001600160a01b038816808252600288810b6020808501829052600085870181905261ffff898116606088018190529089166080880181905260a08801839052600160c0909801979097528154600160f01b73ffffffffffffffffffffffffffffffffffffffff19909116871762ffffff60a01b1916600160a01b62ffffff9787900b9790971696909602959095177fffffffffff00000000ffffffffffffffffffffffffffffffffffffffffffffff16600160c81b9091021761ffff60d81b1916600160d81b909602959095177fff0000ffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1692909217909355835191825281019190915281519395509193507f98636036cb66a9c19a37435efc1e90142190214e8abeb821bdba3f2990dd4c9592918290030190a150505050565b60008082600281900b620d89e71981612b9957fe5b05029050600083600281900b620d89e881612bb057fe5b0502905060008460020b83830360020b81612bc757fe5b0560010190508062ffffff166001600160801b03801681612be457fe5b0493505050505b919050565b306001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614612c2557600080fd5b565b4290565b60008060008460020b8660020b81612c3f57fe5b05905060008660020b128015612c6657508460020b8660020b81612c5f57fe5b0760020b15155b15612c7057600019015b8315612ce557600080612c82836144b6565b600182810b810b600090815260208d9052604090205460ff83169190911b80016000190190811680151597509294509092509085612cc757888360ff16860302612cda565b88612cd1826144c8565b840360ff168603025b965050505050612d63565b600080612cf4836001016144b6565b91509150600060018260ff166001901b031990506000818b60008660010b60010b8152602001908152602001600020541690508060001415955085612d4657888360ff0360ff16866001010102612d5c565b8883612d5183614568565b0360ff168660010101025b9650505050505b5094509492505050565b60008060008360020b12612d84578260020b612d8c565b8260020b6000035b9050620d89e8811115612dca576040805162461bcd60e51b81526020600482015260016024820152601560fa1b604482015290519081900360640190fd5b600060018216612dde57600160801b612df0565b6ffffcb933bd6fad37aa2d162d1a5940015b70ffffffffffffffffffffffffffffffffff1690506002821615612e24576ffff97272373d413259a46990580e213a0260801c5b6004821615612e43576ffff2e50f5f656932ef12357cf3c7fdcc0260801c5b6008821615612e62576fffe5caca7e10e4e61c3624eaa0941cd00260801c5b6010821615612e81576fffcb9843d60f6159c9db58835c9266440260801c5b6020821615612ea0576fff973b41fa98c081472e6896dfb254c00260801c5b6040821615612ebf576fff2ea16466c96a3843ec78b326b528610260801c5b6080821615612ede576ffe5dee046a99a2a811c461f1969c30530260801c5b610100821615612efe576ffcbe86c7900a88aedcffc83b479aa3a40260801c5b610200821615612f1e576ff987a7253ac413176f2b074cf7815e540260801c5b610400821615612f3e576ff3392b0822b70005940c7a398e4b70f30260801c5b610800821615612f5e576fe7159475a2c29b7443b29c7fa6e889d90260801c5b611000821615612f7e576fd097f3bdfd2022b8845ad8f792aa58250260801c5b612000821615612f9e576fa9f746462d870fdf8a65dc1f90e061e50260801c5b614000821615612fbe576f70d869a156d2a1b890bb3df62baf32f70260801c5b618000821615612fde576f31be135f97d08fd981231505542fcfa60260801c5b62010000821615612fff576f09aa508b5b7a84e1c677de54f3e99bc90260801c5b6202000082161561301f576e5d6af8dedb81196699c329225ee6040260801c5b6204000082161561303e576d2216e584f5fa1ea926041bedfe980260801c5b6208000082161561305b576b048a170391f7dc42444e8fa20260801c5b60008460020b131561307657806000198161307257fe5b0490505b64010000000081061561308a57600161308d565b60005b60ff16602082901c0192505050919050565b60008080806001600160a01b03808916908a1610158187128015906131245760006130d88989620f42400362ffffff16620f42406132d9565b9050826130f1576130ec8c8c8c6001614652565b6130fe565b6130fe8b8d8c60016146cd565b955085811061310f578a965061311e565b61311b8c8b838661478a565b96505b5061316e565b8161313b576131368b8b8b60006146cd565b613148565b6131488a8c8b6000614652565b935083886000031061315c5789955061316e565b61316b8b8a8a600003856147d6565b95505b6001600160a01b038a81169087161482156131d15780801561318d5750815b6131a35761319e878d8c60016146cd565b6131a5565b855b95508080156131b2575081155b6131c8576131c3878d8c6000614652565b6131ca565b845b945061321b565b8080156131db5750815b6131f1576131ec8c888c6001614652565b6131f3565b855b9550808015613200575081155b613216576132118c888c60006146cd565b613218565b845b94505b8115801561322b57508860000385115b15613237578860000394505b81801561325657508a6001600160a01b0316876001600160a01b031614155b15613265578589039350613282565b61327f868962ffffff168a620f42400362ffffff166141a9565b93505b50505095509550955095915050565b6000600160ff1b82106132a357600080fd5b5090565b808203828113156000831215146132bd57600080fd5b92915050565b818101828112156000831215146132bd57600080fd5b600080806000198587098686029250828110908390030390508061330f576000841161330457600080fd5b508290049050613382565b80841161331b57600080fd5b6000848688096000868103871696879004966002600389028118808a02820302808a02820302808a02820302808a02820302808a02820302808a02909103029181900381900460010186841190950394909402919094039290920491909117919091029150505b9392505050565b60008063ffffffff8716613430576000898661ffff1661ffff81106133aa57fe5b60408051608081018252919092015463ffffffff8082168084526401000000008304600690810b810b900b6020850152600160581b83046001600160a01b031694840194909452600160f81b90910460ff16151560608301529092508a161461341c57613419818a8988614822565b90505b806020015181604001519250925050613510565b8688036000806134458c8c858c8c8c8c6148d2565b91509150816000015163ffffffff168363ffffffff161415613477578160200151826040015194509450505050613510565b805163ffffffff8481169116141561349f578060200151816040015194509450505050613510565b8151815160208085015190840151918390039286039163ffffffff80841692908516910360060b816134cd57fe5b05028460200151018263ffffffff168263ffffffff1686604001518660400151036001600160a01b031602816134ff57fe5b048560400151019650965050505050505b97509795505050505050565b600295860b860b60009081526020979097526040909620600181018054909503909455938301805490920390915560038201805463ffffffff600160d81b6001600160a01b036701000000000000008085048216909603169094027fffffffffff0000000000000000000000000000000000000000ffffffffffffff90921691909117600681810b90960390950b66ffffffffffffff1666ffffffffffffff199095169490941782810485169095039093160263ffffffff60d81b1990931692909217905554600160801b9004600f0b90565b60008082600f0b121561365457826001600160801b03168260000384039150816001600160801b03161061364f576040805162461bcd60e51b81526020600482015260026024820152614c5360f01b604482015290519081900360640190fd5b6132bd565b826001600160801b03168284019150816001600160801b031610156132bd576040805162461bcd60e51b81526020600482015260026024820152614c4160f01b604482015290519081900360640190fd5b60006401000276a36001600160a01b038316108015906136e1575073fffd8963efd1fc6a506488495d951d5263988d266001600160a01b038316105b613716576040805162461bcd60e51b81526020600482015260016024820152602960f91b604482015290519081900360640190fd5b77ffffffffffffffffffffffffffffffffffffffff00000000602083901b166001600160801b03811160071b81811c67ffffffffffffffff811160061b90811c63ffffffff811160051b90811c61ffff811160041b90811c60ff8111600390811b91821c600f811160021b90811c918211600190811b92831c979088119617909417909217179091171717608081106137b757607f810383901c91506137c1565b80607f0383901b91505b908002607f81811c60ff83811c9190911c800280831c81831c1c800280841c81841c1c800280851c81851c1c800280861c81861c1c800280871c81871c1c800280881c81881c1c800280891c81891c1c8002808a1c818a1c1c8002808b1c818b1c1c8002808c1c818c1c1c8002808d1c818d1c1c8002808e1c9c81901c9c909c1c80029c8d901c9e9d607f198f0160401b60c09190911c678000000000000000161760c19b909b1c674000000000000000169a909a1760c29990991c672000000000000000169890981760c39790971c671000000000000000169690961760c49590951c670800000000000000169490941760c59390931c670400000000000000169290921760c69190911c670200000000000000161760c79190911c670100000000000000161760c89190911c6680000000000000161760c99190911c6640000000000000161760ca9190911c6620000000000000161760cb9190911c6610000000000000161760cc9190911c6608000000000000161760cd9190911c66040000000000001617693627a301d71055774c8581026f028f6481ab7f045a5af012a19d003aa9198101608090811d906fdb2df09e81959a81455e260799a0632f8301901d600281810b9083900b146139c257886001600160a01b03166139a682612d6d565b6001600160a01b031611156139bb57816139bd565b805b6139c4565b815b9998505050505050505050565b6000806000898961ffff1661ffff81106139e757fe5b60408051608081018252919092015463ffffffff8082168084526401000000008304600690810b810b900b6020850152600160581b83046001600160a01b031694840194909452600160f81b90910460ff161515606083015290925089161415613a575788859250925050613510565b8461ffff168461ffff16118015613a7857506001850361ffff168961ffff16145b15613a8557839150613a89565b8491505b8161ffff168960010161ffff1681613a9d57fe5b069250613aac81898989614822565b8a8461ffff1661ffff8110613abd57fe5b825191018054602084015160408501516060909501511515600160f81b027effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff6001600160a01b03909616600160581b027fff0000000000000000000000000000000000000000ffffffffffffffffffffff60069390930b66ffffffffffffff16640100000000026affffffffffffff000000001963ffffffff90971663ffffffff199095169490941795909516929092171692909217929092161790555097509795505050505050565b604080516001600160a01b038481166024830152604480830185905283518084039091018152606490920183526020820180516001600160e01b031663a9059cbb60e01b1781529251825160009485949389169392918291908083835b60208310613c025780518252601f199092019160209182019101613be3565b6001836020036101000a0380198251168184511680821785525050505050509050019150506000604051808303816000865af19150503d8060008114613c64576040519150601f19603f3d011682016040523d82523d6000602084013e613c69565b606091505b5091509150818015613c97575080511580613c975750808060200190516020811015613c9457600080fd5b50515b613ccd576040805162461bcd60e51b81526020600482015260026024820152612a2360f11b604482015290519081900360640190fd5b5050505050565b604080513060248083019190915282518083039091018152604490910182526020810180516001600160e01b03166370a0823160e01b17815291518151600093849384936001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001693919290918291908083835b60208310613d6d5780518252601f199092019160209182019101613d4e565b6001836020036101000a038019825116818451168082178552505050505050905001915050600060405180830381855afa9150503d8060008114613dcd576040519150601f19603f3d011682016040523d82523d6000602084013e613dd2565b606091505b5091509150818015613de657506020815110155b613def57600080fd5b808060200190516020811015613e0457600080fd5b50519250505090565b808201828110156132bd57600080fd5b604080513060248083019190915282518083039091018152604490910182526020810180516001600160e01b03166370a0823160e01b17815291518151600093849384936001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016939192909182919080838360208310613d6d5780518252601f199092019160209182019101613d4e565b6000808361ffff1611613ef3576040805162461bcd60e51b81526020600482015260016024820152604960f81b604482015290519081900360640190fd5b8261ffff168261ffff1611613f09575081613382565b825b8261ffff168161ffff161015613f4f576001858261ffff1661ffff8110613f2e57fe5b01805463ffffffff191663ffffffff92909216919091179055600101613f0b565b50909392505050565b80600f81900b8114612beb57600080fd5b6000806000613f76612bf0565b613f88846020015185604001516143a1565b6040805160e0810182526000546001600160a01b0381168252600160a01b8104600290810b810b900b602080840182905261ffff600160b81b8404811685870152600160c81b84048116606080870191909152600160d81b8504909116608086015260ff600160e81b8504811660a0870152600160f01b909404909316151560c08501528851908901519489015192890151939461402c9491939092909190614acf565b93508460600151600f0b6000146141a157846020015160020b816020015160020b12156140815761407a6140638660200151612d6d565b6140708760400151612d6d565b8760600151614c84565b92506141a1565b846040015160020b816020015160020b12156141775760045460408201516001600160801b03909116906140d3906140b7612c27565b60208501516060860151608087015160089493929187916139d1565b6000805461ffff60c81b1916600160c81b61ffff938416021761ffff60b81b1916600160b81b939092169290920217905581516040870151614123919061411990612d6d565b8860600151614c84565b93506141416141358760200151612d6d565b83516060890151614cc8565b92506141518187606001516135ef565b600480546001600160801b0319166001600160801b0392909216919091179055506141a1565b61419e6141878660200151612d6d565b6141948760400151612d6d565b8760600151614cc8565b91505b509193909250565b60006141b68484846132d9565b9050600082806141c257fe5b84860911156133825760001981106141d957600080fd5b6001019392505050565b6040805160609490941b6bffffffffffffffffffffffff1916602080860191909152600293840b60e890811b60348701529290930b90911b60378401528051808403601a018152603a90930181528251928201929092206000908152929052902090565b60608060008361ffff1611614287576040805162461bcd60e51b81526020600482015260016024820152604960f81b604482015290519081900360640190fd5b865167ffffffffffffffff8111801561429f57600080fd5b506040519080825280602002602001820160405280156142c9578160200160208202803683370190505b509150865167ffffffffffffffff811180156142e457600080fd5b5060405190808252806020026020018201604052801561430e578160200160208202803683370190505b50905060005b87518110156143945761433f8a8a8a848151811061432e57fe5b60200260200101518a8a8a8a613389565b84838151811061434b57fe5b6020026020010184848151811061435e57fe5b60200260200101826001600160a01b03166001600160a01b03168152508260060b60060b81525050508080600101915050614314565b5097509795505050505050565b8060020b8260020b126143e1576040805162461bcd60e51b8152602060048201526003602482015262544c5560e81b604482015290519081900360640190fd5b620d89e719600283900b1215614424576040805162461bcd60e51b8152602060048201526003602482015262544c4d60e81b604482015290519081900360640190fd5b620d89e8600282900b1315614466576040805162461bcd60e51b815260206004820152600360248201526254554d60e81b604482015290519081900360640190fd5b5050565b6040805160808101825263ffffffff9283168082526000602083018190529282019290925260016060909101819052835463ffffffff1916909117909116600160f81b17909155908190565b60020b600881901d9161010090910790565b60008082116144d657600080fd5b600160801b82106144e957608091821c91015b68010000000000000000821061450157604091821c91015b640100000000821061451557602091821c91015b62010000821061452757601091821c91015b610100821061453857600891821c91015b6010821061454857600491821c91015b6004821061455857600291821c91015b60028210612beb57600101919050565b600080821161457657600080fd5b5060ff6001600160801b0382161561459157607f1901614599565b608082901c91505b67ffffffffffffffff8216156145b257603f19016145ba565b604082901c91505b63ffffffff8216156145cf57601f19016145d7565b602082901c91505b61ffff8216156145ea57600f19016145f2565b601082901c91505b60ff821615614604576007190161460c565b600882901c91505b600f82161561461e5760031901614626565b600482901c91505b60038216156146385760011901614640565b600282901c91505b6001821615612beb5760001901919050565b6000836001600160a01b0316856001600160a01b03161115614672579293925b8161469f5761469a836001600160801b03168686036001600160a01b0316600160601b6132d9565b6146c2565b6146c2836001600160801b03168686036001600160a01b0316600160601b6141a9565b90505b949350505050565b6000836001600160a01b0316856001600160a01b031611156146ed579293925b7bffffffffffffffffffffffffffffffff000000000000000000000000606084901b166001600160a01b03868603811690871661472957600080fd5b8361475957866001600160a01b031661474c8383896001600160a01b03166132d9565b8161475357fe5b0461477f565b61477f6147708383896001600160a01b03166141a9565b886001600160a01b0316614cf7565b979650505050505050565b600080856001600160a01b0316116147a157600080fd5b6000846001600160801b0316116147b757600080fd5b816147c95761469a8585856001614d02565b6146c28585856001614de3565b600080856001600160a01b0316116147ed57600080fd5b6000846001600160801b03161161480357600080fd5b816148155761469a8585856000614de3565b6146c28585856000614d02565b61482a61564a565b600085600001518503905060405180608001604052808663ffffffff1681526020018263ffffffff168660020b0288602001510160060b81526020016000856001600160801b03161161487e576001614880565b845b6001600160801b031673ffffffff00000000000000000000000000000000608085901b16816148ab57fe5b048860400151016001600160a01b0316815260200160011515815250915050949350505050565b6148da61564a565b6148e261564a565b888561ffff1661ffff81106148f357fe5b60408051608081018252919092015463ffffffff81168083526401000000008204600690810b810b900b6020840152600160581b82046001600160a01b031693830193909352600160f81b900460ff1615156060820152925061495890899089614ed8565b15614990578663ffffffff16826000015163ffffffff16141561497a57613510565b8161498783898988614822565b91509150613510565b888361ffff168660010161ffff16816149a557fe5b0661ffff1661ffff81106149b557fe5b60408051608081018252929091015463ffffffff811683526401000000008104600690810b810b900b60208401526001600160a01b03600160581b8204169183019190915260ff600160f81b90910416151560608201819052909250614a6c57604080516080810182528a5463ffffffff811682526401000000008104600690810b810b900b6020830152600160581b81046001600160a01b031692820192909252600160f81b90910460ff161515606082015291505b614a7b88836000015189614ed8565b614ab2576040805162461bcd60e51b815260206004820152600360248201526213d31160ea1b604482015290519081900360640190fd5b614abf8989898887614f9b565b9150915097509795505050505050565b6000614ade60078787876141e3565b60015460025491925090600080600f87900b15614c24576000614aff612c27565b6000805460045492935090918291614b499160089186918591600160a01b810460020b9161ffff600160b81b83048116926001600160801b0390921691600160c81b900416613389565b9092509050614b8360058d8b8d8b8b87898b60007f000000000000000000000000000000000000000000000000000000000000000061513b565b9450614bba60058c8b8d8b8b87898b60017f000000000000000000000000000000000000000000000000000000000000000061513b565b93508415614bee57614bee60068d7f0000000000000000000000000000000000000000000000000000000000000000615325565b8315614c2057614c2060068c7f0000000000000000000000000000000000000000000000000000000000000000615325565b5050505b600080614c3660058c8c8b8a8a61538b565b9092509050614c47878a8484615437565b600089600f0b1215614c75578315614c6457614c6460058c6155cc565b8215614c7557614c7560058b6155cc565b50505050505095945050505050565b60008082600f0b12614caa57614ca5614ca085858560016146cd565b613291565b6146c5565b614cbd614ca085858560000360006146cd565b600003949350505050565b60008082600f0b12614ce457614ca5614ca08585856001614652565b614cbd614ca08585856000036000614652565b808204910615150190565b60008115614d755760006001600160a01b03841115614d3857614d3384600160601b876001600160801b03166132d9565b614d50565b6001600160801b038516606085901b81614d4e57fe5b045b9050614d6d614d686001600160a01b03881683613e0d565b6155f8565b9150506146c5565b60006001600160a01b03841115614da357614d9e84600160601b876001600160801b03166141a9565b614dba565b614dba606085901b6001600160801b038716614cf7565b905080866001600160a01b031611614dd157600080fd5b6001600160a01b0386160390506146c5565b600082614df15750836146c5565b7bffffffffffffffffffffffffffffffff000000000000000000000000606085901b168215614e91576001600160a01b03861684810290858281614e3157fe5b041415614e6257818101828110614e6057614e5683896001600160a01b0316836141a9565b93505050506146c5565b505b614e8882614e83878a6001600160a01b03168681614e7c57fe5b0490613e0d565b614cf7565b925050506146c5565b6001600160a01b03861684810290858281614ea857fe5b04148015614eb557508082115b614ebe57600080fd5b808203614e56614d68846001600160a01b038b16846141a9565b60008363ffffffff168363ffffffff1611158015614f0257508363ffffffff168263ffffffff1611155b15614f1e578163ffffffff168363ffffffff1611159050613382565b60008463ffffffff168463ffffffff1611614f46578363ffffffff1664010000000001614f4e565b8363ffffffff165b64ffffffffff16905060008563ffffffff168463ffffffff1611614f7f578363ffffffff1664010000000001614f87565b8363ffffffff165b64ffffffffff169091111595945050505050565b614fa361564a565b614fab61564a565b60008361ffff168560010161ffff1681614fc157fe5b0661ffff169050600060018561ffff16830103905060005b506002818301048961ffff87168281614fee57fe5b0661ffff8110614ffa57fe5b60408051608081018252929091015463ffffffff811683526401000000008104600690810b810b900b60208401526001600160a01b03600160581b8204169183019190915260ff600160f81b9091041615156060820181905290955061506557806001019250614fd9565b898661ffff16826001018161507657fe5b0661ffff811061508257fe5b60408051608081018252929091015463ffffffff811683526401000000008104600690810b810b900b60208401526001600160a01b03600160581b8204169183019190915260ff600160f81b909104161515606082015285519094506000906150ed908b908b614ed8565b905080801561510657506151068a8a8760000151614ed8565b15615111575061512e565b8061512157600182039250615128565b8160010193505b50614fd9565b5050509550959350505050565b60028a810b900b600090815260208c90526040812080546001600160801b031682615166828d6135ef565b9050846001600160801b0316816001600160801b031611156151b4576040805162461bcd60e51b81526020600482015260026024820152614c4f60f01b604482015290519081900360640190fd5b6001600160801b03828116159082161581141594501561528a578c60020b8e60020b1361525a57600183018b9055600283018a90556003830180547fffffffffff0000000000000000000000000000000000000000ffffffffffffff166701000000000000006001600160a01b038c16021766ffffffffffffff191666ffffffffffffff60068b900b161763ffffffff60d81b1916600160d81b63ffffffff8a16021790555b6003830180547effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff16600160f81b1790555b82546001600160801b0319166001600160801b038216178355856152d35782546152ce906152c990600160801b9004600f90810b810b908f900b6132c3565b613f58565b6152f4565b82546152f4906152c990600160801b9004600f90810b810b908f900b6132a7565b8354600f9190910b6001600160801b03908116600160801b0291161790925550909c9b505050505050505050505050565b8060020b8260020b8161533457fe5b0760020b1561534257600080fd5b60008061535d8360020b8560020b8161535757fe5b056144b6565b600191820b820b60009081526020979097526040909620805460ff9097169190911b90951890945550505050565b600285810b80820b60009081526020899052604080822088850b850b83529082209193849391929184918291908a900b126153d1575050600182015460028301546153e4565b8360010154880391508360020154870390505b6000808b60020b8b60020b121561540657505060018301546002840154615419565b84600101548a0391508460020154890390505b92909803979097039b96909503949094039850939650505050505050565b6040805160a08101825285546001600160801b0390811682526001870154602083015260028701549282019290925260038601548083166060830152600160801b900490911660808201526000600f85900b6154d65781516001600160801b03166154ce576040805162461bcd60e51b815260206004820152600260248201526104e560f41b604482015290519081900360640190fd5b5080516154e5565b81516154e290866135ef565b90505b60006155098360200151860384600001516001600160801b0316600160801b6132d9565b9050600061552f8460400151860385600001516001600160801b0316600160801b6132d9565b905086600f0b6000146155565787546001600160801b0319166001600160801b0384161788555b60018801869055600288018590556001600160801b03821615158061558457506000816001600160801b0316115b156155c2576003880180546001600160801b031981166001600160801b039182168501821617808216600160801b9182900483168501909216021790555b5050505050505050565b600290810b810b6000908152602092909252604082208281556001810183905590810182905560030155565b806001600160a01b0381168114612beb57600080fd5b6040805160e081018252600080825260208201819052918101829052606081018290526080810182905260a0810182905260c081019190915290565b6040805160808101825260008082526020820181905291810182905260608101919091529056fea164736f6c6343000706000a";class e4 extends yl{constructor(...e){e.length>1?super(...e):super(Q8,Z8,e[0])}deploy(e){return super.deploy(e||{})}getDeployTransaction(e){return super.getDeployTransaction(e||{})}attach(e){return super.attach(e)}connect(e){return super.connect(e)}static bytecode=Z8;static abi=Q8;static createInterface(){return new Pc(Q8)}static connect(e,t){return new bl(e,Q8,t)}}async function t4(e,t,n){const r=e4.createInterface(),i=n4(t,r),a=[];return i&&n.forEach((e=>{e&&a.push({target:e,callData:i,gasLimit:Ji.from("1000000")})})),e.callStatic.multicall(a)}const n4=(e,t)=>{const n=t?.getFunction(e);return n?t?.encodeFunctionData(n):void 0},r4={"0xcdca1753":["uint256","uint160[]","uint32[]","uint256"],"0xc6a5026a":["uint256","uint160","uint32","uint256"],"0x2f80bb1d":["uint256","uint160[]","uint32[]","uint256"],"0xbd21704a":["uint256","uint160","uint32","uint256"]};const i4=Oo("decimals()").substring(0,10);async function a4(e,t,n){if("native"===e)return n.decimals;try{const n=await t.call({to:e,data:i4});return parseInt(n,16)}catch(e){const t=e instanceof Error?e.message:"Unknown Error";throw new z8(`failed to get ERC20 decimals: ${t}`)}}function s4(e){if(e===Ds)return!1;try{return vs(e),!0}catch(e){return!1}}const o4=e=>"native"===e||s4(e),c4=e=>new N1(e.chainId,e.address,e.decimals,e.symbol,e.name),u4=e=>({chainId:e.chainId,address:e.address,decimals:e.decimals,symbol:e.symbol,name:e.name,type:"erc20"}),d4=e=>{const t=c4(e.token);return A1.fromRawAmount(t,e.value.toString())},f4=(e,t)=>({value:e,token:t}),l4=e=>"erc20"===e.token.type,h4=e=>"native"===e.token.type,p4=e=>"native"===e.type,m4=(e,t)=>{if(l4(e)&&l4(t))return((e,t)=>{if(e.token.address!==t.token.address)throw new Error("Token mismatch: token addresses must be the same");return{value:e.value.add(t.value),token:e.token}})(e,t);if(h4(e)&&h4(t))return((e,t)=>({value:e.value.add(t.value),token:e.token}))(e,t);throw new Error("Token mismatch: token types must be the same")},b4=(e,t)=>{if(l4(e)&&l4(t))return((e,t)=>{if(e.token.address!==t.token.address)throw new Error("Token mismatch: token addresses must be the same");return{value:e.value.sub(t.value),token:e.token}})(e,t);if(h4(e)&&h4(t))return((e,t)=>({value:e.value.sub(t.value),token:e.token}))(e,t);throw new Error("Token mismatch: token types must be the same")},y4=e=>{return{token:(t=e.token,"native"===t.type?{address:"native",chainId:t.chainId,decimals:t.decimals,symbol:t.symbol,name:t.name}:t),value:e.value};var t},g4=()=>Math.floor(Date.now()/1e3)+900;function v4({factoryAddress:e,erc20Pair:t,fee:n,initCodeHashManualOverride:r}){return t=w4(t),Ts(e,gb(["bytes"],[ko.encode(["address","address","uint24"],[t[0].address,t[1].address,n])]),r??"0xe34f199b19b2b4f47f68442619d555527d244f78a3297ea89325f843f87b8b54")}const w4=e=>{if(e[0].address.toLowerCase()>e[1].address.toLowerCase()){const t=e[0];e[0]=e[1],e[1]=t}return e},_4=[N6.LOWEST,N6.LOW,N6.MEDIUM,N6.HIGH],E4=(e,t,n)=>{const r=((e,t)=>{const n=new Map,r=[];[...e,...t].forEach((e=>{n.set(e.address,e),r.push(e.address)}));const i=[...new Set([...r])],a=[];for(let e=0;e<i.length;e++)for(let t=e+1;t<i.length;t++){const r=n.get(i[e]),s=n.get(i[t]);r&&s&&a.push([r,s])}return a})(e,t),i=[];for(let e=0;e<r.length;e++)for(let t=0;t<_4.length;t++){const a=v4({factoryAddress:n,erc20Pair:r[e],fee:_4[t]});i.push({erc20Pair:r[e],fee:_4[t],poolAddress:a})}return i},T4="liquidity",A4="slot0";class R4{provider;multicallContract;routingTokens;routingContracts;constructor(e,t,n,r){this.provider=e,this.multicallContract=t,this.routingTokens=n,this.routingContracts=r,this.provider=e,this.multicallContract=t,this.routingTokens=n,this.routingContracts=r}async findOptimalRoute(e,t,n,r=2){const[i,a]=this.determineERC20InAndERC20Out(n,e,t),s=[i,a],o=await(async(e,t,n,r)=>{const i=E4(t,n,r),a=i.map((e=>e.poolAddress));let s,o;try{[s,o]=await Promise.all([t4(e,A4,a),t4(e,T4,a)])}catch(e){const t=e instanceof Error?e.message:"Unknown Error";throw new z8(`failed multicall: ${t}`)}const c=s.returnData,u=o.returnData,d=e4.createInterface(),f=[];return i.forEach(((e,t)=>{const n="0x"===s.returnData[t].returnData,r="0x"===o.returnData[t].returnData;if(n||r)return;const i=d.decodeFunctionResult(A4,c[t].returnData),a=d.decodeFunctionResult(T4,u[t].returnData),l=i.sqrtPriceX96.isZero(),h=a[0].isZero();if(l||h)return;const p=new R2(c4(e.erc20Pair[0]),c4(e.erc20Pair[1]),e.fee,i.sqrtPriceX96.toString(),a.toString(),i.tick);f.push(p)})),f})(this.multicallContract,s,this.routingTokens,this.routingContracts.coreFactory);if(0===o.length)throw new q8;const c=S4(i,a,o,r,[],[],i);if(0===c.length)throw new q8;return await this.getBestQuoteFromRoutes(c,e,n)}async getBestQuoteFromRoutes(e,t,n){const r=await async function(e,t,n,r,i){const a=n.map((e=>D2.quoteCallParameters(e,d4(r),i,{useQuoterV2:!0}).calldata)),s=await Promise.allSettled(a.map((n=>e.send("eth_call",[{to:t,data:n},"latest"])))),o=s.reduce(((e,t,s)=>{if("rejected"===t.status)return e;const o=a[s].substring(0,10),c=r4[o];if(!c)throw new Error("No quoting function signature found");if("0x"===t.value)return e;try{const a=ko.decode(c,t.value);if(a){const t=a[0];if(!(t instanceof Ji))throw new Error("Expected BigNumber");const o=u4(n[s].input),c=u4(n[s].output);e.push({route:n[s],amountIn:i===u1.EXACT_INPUT?r:f4(t,o),amountOut:i===u1.EXACT_INPUT?f4(t,c):r,gasEstimate:Ji.from(a[3]),tradeType:i})}}catch{}return e}),new Array);return o}(this.provider,this.routingContracts.quoter,e,t,n);if(0===r.length)throw new q8;if(n===u1.EXACT_INPUT)return this.bestQuoteForAmountIn(r);if(n===u1.EXACT_OUTPUT)return this.bestQuoteForAmountOut(r);throw new Error("Invalid trade type")}bestQuoteForAmountIn(e){let t=e[0];for(let n=1;n<e.length;n++)e[n].amountOut.value.gt(t.amountOut.value)&&(t=e[n]);return t}bestQuoteForAmountOut(e){let t=e[0];for(let n=1;n<e.length;n++)e[n].amountIn.value.lt(t.amountIn.value)&&(t=e[n]);return t}determineERC20InAndERC20Out(e,t,n){return e===u1.EXACT_INPUT?[t.token,n]:[n,t.token]}}const S4=(e,t,n,r,i=[],a=[],s=e)=>{const o=c4(e),c=c4(t),u=c4(s);for(const e of n){const d=e.involvesToken(o),f=i.find((t=>{return(n=e)===(r=t)||n.token0.equals(r.token0)&&n.token1.equals(r.token1)&&n.fee===r.fee;var n,r}));if(!d||f)continue;const l=e.token0.equals(o)?e.token1:e.token0;l.equals(c)?a.push(new k2([...i,e],u,c)):r>1&&S4(u4(l),t,n,r-1,[...i,e],a,s)}return a},k4=async(e,t)=>{const n=await(async e=>{const[t,n]=await Promise.all([e.getBlock("latest"),e.send("eth_maxPriorityFeePerGas",[])]);if(!t.baseFeePerGas)throw new Error("Base fee per gas not found in block");return{maxFeePerGas:t.baseFeePerGas.mul(2).add(n),maxPriorityFeePerGas:n,lastBaseFeePerGas:t.baseFeePerGas}})(e).catch((()=>null));return n?f4(n.maxFeePerGas,t):null},O4=(e,t)=>f4(t.mul(e.value),e.token),I4=async(e,t,n,r)=>{const i=await(async(e,t,n,r)=>{const i=W8.connect(n.token.address,e);let a;try{a=await i.allowance(t,r)}catch(e){const t=e instanceof Error?e.message:"Unknown Error";throw new H8(`failed to get allowance: ${t}`)}const s=n.value.sub(a);return!s.isNegative()&&!s.isZero()})(e,t,n,r);return i?((e,t,n)=>{if(e===n)throw new H8("owner and spender addresses are the same");return{data:W8.createInterface().encodeFunctionData("approve",[n,t.value]),to:t.token.address,value:0,from:e}})(t,n,r):null};const x4=async(e,t,n,r)=>{const i=await I4(e,t,n.amount,n.spender);if(!i)return null;const a=await async function(e,t,n,r){const i=W8.connect(r,e);return await i.estimateGas.approve(n,zs,{from:t})}(e,t,n.spender,n.amount.token.address),s=r?O4(r,a):null;return{transaction:i,gasFeeEstimate:s?y4(s):null}},C4=e=>"native"===e.type;class M4{nativeToken;wrappedToken;constructor(e,t){this.nativeToken=e,this.wrappedToken=t}wrapAmount(e){return f4(e.value,this.wrappedToken)}unwrapAmount(e){if(e.token.address.toLowerCase()!==this.wrappedToken.address.toLowerCase())throw new Error(`cannot unwrap non-wrapped token ${e.token.address}`);return f4(e.value,this.nativeToken)}maybeWrapToken(e){return C4(e)?this.wrappedToken:e}maybeWrapAmount(e){return f4(e.value,this.maybeWrapToken(e.token))}}const P4=e=>{if(1===e.toString().split(".").length)return new k1(e,100);const t=(e/100).toString().split("."),n=t[0]+t[1],r=10**t[1].length;return new k1(n,r)};const N4=(e,t,n,r)=>{const i=function(e){return e.tradeType===u1.EXACT_INPUT?e.amountOut:e.amountIn}(t),a=C4(r)?e.unwrapAmount(i):i,s=f4(function(e,t,n){const r=P4(n).add(1),i=(e===u1.EXACT_INPUT?r.invert():r).multiply(t.toString()).quotient;return Ji.from(i.toString())}(t.tradeType,a.value,n),r);return{quotedAmount:a,quotedAmountWithMaxSlippage:s}};class B4{secondaryFees;amount;constructor(e,t){this.secondaryFees=e,this.amount=f4(Ji.from(0),t)}get token(){return this.amount.token}addAmount(e){this.amount=m4(this.amount,e)}amountWithFeesApplied(){return m4(this.amount,this.total())}amountLessFees(){return b4(this.amount,this.total())}withAmounts(){return this.secondaryFees.map((e=>{const t=this.amount.value.mul(e.basisPoints).div(1e4);return{...e,amount:f4(t,this.amount.token)}}))}total(){let e=f4(Ji.from(0),this.amount.token);for(const t of this.secondaryFees){const n=this.amount.value.mul(t.basisPoints).div(1e4);e=m4(e,f4(n,this.amount.token))}return e}}const D4=13473,L4=13371,F4={chainId:D4,address:"0x1CcCa691501174B4A623CeDA58cC8f1a76dc3439",decimals:18,symbol:"WIMX",name:"Wrapped Immutable Testnet Token",type:"erc20"},U4={chainId:L4,address:"0x3a0c2ba54d6cbd3121f01b96dfd20e99d1696c9d",decimals:18,symbol:"WIMX",name:"Wrapped Immutable Token",type:"erc20"},j4="multicall(uint256,bytes[])";function q4(e,t,n,r,i,a,s,o,c,u){const{route:d}=r.swaps[0],f=1===d.pools.length,l=i.length>0;return f?l?function(e,t,n,r,i,a,s,o){const c=a.map((e=>({feeBasisPoints:e.basisPoints,recipient:e.recipient}))),u=[];return t.tradeType===u1.EXACT_INPUT&&u.push(s.encodeFunctionData("exactInputSingleWithSecondaryFee",[c,{tokenIn:n.tokenPath[0].address,tokenOut:n.tokenPath[1].address,fee:n.pools[0].fee,recipient:e,amountIn:r,amountOutMinimum:i,sqrtPriceLimitX96:0}])),t.tradeType===u1.EXACT_OUTPUT&&u.push(s.encodeFunctionData("exactOutputSingleWithSecondaryFee",[c,{tokenIn:n.tokenPath[0].address,tokenOut:n.tokenPath[1].address,fee:n.pools[0].fee,recipient:e,amountInMaximum:r,amountOut:i,sqrtPriceLimitX96:0}])),p4(o)&&u.push(s.encodeFunctionData("unwrapNativeToken",[i])),u}(n,r,d,c,u,i,a,t):function(e,t,n,r,i,a,s,o,c){const u=[];return r.tradeType===u1.EXACT_INPUT&&u.push(o.encodeFunctionData("exactInputSingle",[{tokenIn:i.tokenPath[0].address,tokenOut:i.tokenPath[1].address,fee:i.pools[0].fee,recipient:n,amountIn:a,amountOutMinimum:s,sqrtPriceLimitX96:0}])),r.tradeType===u1.EXACT_OUTPUT&&u.push(o.encodeFunctionData("exactOutputSingle",[{tokenIn:i.tokenPath[0].address,tokenOut:i.tokenPath[1].address,fee:i.pools[0].fee,recipient:n,amountInMaximum:a,amountOut:s,sqrtPriceLimitX96:0}])),p4(e)&&u.push(c.encodeFunctionData("refundETH")),p4(t)&&u.push(c.encodeFunctionData("unwrapWETH9(uint256)",[s])),u}(e,t,n,r,d,c,u,s,o):l?function(e,t,n,r,i,a,s,o){const c=d2(n,t.tradeType===u1.EXACT_OUTPUT),u=a.map((e=>({feeBasisPoints:e.basisPoints,recipient:e.recipient}))),d=[];return t.tradeType===u1.EXACT_INPUT&&d.push(s.encodeFunctionData("exactInputWithSecondaryFee",[u,{path:c,recipient:e,amountIn:r,amountOutMinimum:i}])),t.tradeType===u1.EXACT_OUTPUT&&d.push(s.encodeFunctionData("exactOutputWithSecondaryFee",[u,{path:c,recipient:e,amountInMaximum:r,amountOut:i}])),p4(o)&&d.push(s.encodeFunctionData("unwrapNativeToken",[i])),d}(n,r,d,c,u,i,a,t):function(e,t,n,r,i,a,s,o,c){const u=d2(i,r.tradeType===u1.EXACT_OUTPUT),d=[];return r.tradeType===u1.EXACT_INPUT&&d.push(o.encodeFunctionData("exactInput",[{path:u,recipient:n,amountIn:a,amountOutMinimum:s}])),r.tradeType===u1.EXACT_OUTPUT&&d.push(o.encodeFunctionData("exactOutput",[{path:u,recipient:n,amountInMaximum:a,amountOut:s}])),p4(e)&&d.push(c.encodeFunctionData("refundETH")),p4(t)&&d.push(c.encodeFunctionData("unwrapWETH9(uint256)",[s])),d}(e,t,n,r,d,c,u,s,o)}function z4(e,t,n,r,i,a,s,o){const c=X8.createInterface(),u=q4(e,t,r,n,a,c,P8.SwapRouter.INTERFACE,P8.PaymentsExtended.INTERFACE,s,o);return c.encodeFunctionData(j4,[i.deadlineOrPreviousBlockhash,u])}function H4(e,t,n,r,i,a,s,o,c,u){const d=((e,t,n,r,i)=>p4(e)?0===i.length?n:r:t)(t,r,s,o,u),{calldata:f,maximumAmountIn:l}=function(e,t,n,r,i,a,s){const o=I2.createUncheckedTrade({route:n.route,inputAmount:d4(n.amountIn),outputAmount:d4(n.amountOut),tradeType:n.tradeType}),c={slippageTolerance:P4(i),recipient:r,deadlineOrPreviousBlockhash:a},u=u2(o.maximumAmountIn(c.slippageTolerance).quotient),d=u2(o.minimumAmountOut(c.slippageTolerance).quotient);return{calldata:z4(e,t,o,r,c,s,u,d),maximumAmountIn:u}}(e,t,n,d,i,a,u),h=c?O4(c,n.gasEstimate):null,p=((e,t)=>"native"===e.type?t:"0x00")(e,l);return{transaction:{data:f,to:u.length>0?o:s,value:p,from:r},gasFeeEstimate:h?y4(h):null}}function G4(e,t,n,r){const i=((e,t,n,r)=>{if(e.tradeType===u1.EXACT_OUTPUT){const t=C4(n.token)?r.unwrapAmount(e.amountIn):e.amountIn;return n.addAmount(t),r.maybeWrapAmount(n.amountWithFeesApplied())}return r.maybeWrapAmount(t)})(e,t,n,r);return{gasEstimate:e.gasEstimate,route:e.route,amountIn:i,amountOut:e.amountOut,tradeType:e.tradeType}}const W4={[D4]:{multicall:"0x4857Dfd11c712e862eC362cEee29F7974B70EfcD",coreFactory:"0x56c2162254b0E4417288786eE402c2B41d4e181e",quoter:"0xF6Ad3CcF71Abb3E12beCf6b3D2a74C963859ADCd",swapRouter:"0x0b012055F770AE7BB7a8303968A7Fb6088A2296e",immutableSwapProxy:"0xDdBDa144cEbe1cCd68E746CDff8a6e4Be51A9e98"},[L4]:{multicall:"0xc7efb32470dEE601959B15f1f923e017C6A918cA",coreFactory:"0x56c2162254b0E4417288786eE402c2B41d4e181e",quoter:"0xF6Ad3CcF71Abb3E12beCf6b3D2a74C963859ADCd",swapRouter:"0xE5a02c2Be08406c3fB36F9Aa29bF7C7A09CAe50B",immutableSwapProxy:"0xD67cc11151dBccCC424A16F8963ece3D0539BD61"}},V4={[D4]:{chainId:D4,rpcUrl:"https://rpc.testnet.immutable.com",contracts:W4[13473],commonRoutingTokens:[F4],nativeToken:{chainId:D4,decimals:18,symbol:"tIMX",name:"Immutable Testnet Token",type:"native"},wrappedNativeToken:F4}},K4={[L4]:{chainId:L4,rpcUrl:"https://rpc.immutable.com",contracts:W4[13371],commonRoutingTokens:[U4,{chainId:L4,address:"0x52a6c53869ce09a731cd772f245b97a4401d3348",decimals:18,symbol:"ETH",name:"Ethereum",type:"erc20"}],nativeToken:{chainId:L4,decimals:18,symbol:"IMX",name:"Immutable Token",type:"native"},wrappedNativeToken:U4}},X4={[rt.SANDBOX]:V4,[rt.PRODUCTION]:K4};class $4{baseConfig;chain;secondaryFees=[];constructor({chainId:e,baseConfig:t,secondaryFees:n,overrides:r}){if(this.baseConfig=t,this.secondaryFees=n||[],function(e){let t=0;for(const n of e){if(!s4(n.recipient))throw new B8(`Invalid secondary fee recipient address: ${n.recipient}`);if(n.basisPoints<=0||n.basisPoints>1e3)throw new B8(`Invalid secondary fee basis points: ${n.basisPoints}`);t+=n.basisPoints}if(t>1e3)throw new B8(`Invalid total secondary fee basis points: ${t}`)}(this.secondaryFees),r)return function(e){const t=["rpcURL","exchangeContracts","commonRoutingTokens","nativeToken"];for(const n of t)if(!e[n])throw new B8(`Missing override: ${n}`);Object.entries(e.exchangeContracts).forEach((([e,t])=>{if(!s4(t))throw new B8(`Invalid exchange contract address for ${e}`)}))}(r),this.chain={chainId:e,rpcUrl:r.rpcURL,contracts:r.exchangeContracts,commonRoutingTokens:r.commonRoutingTokens,nativeToken:r.nativeToken,wrappedNativeToken:r.wrappedNativeToken},void(this.secondaryFees=n||[]);const i=X4[t.environment][e];if(!i)throw new D8(e,t.environment);this.chain=i}}class J4{provider;batchProvider;router;chainId;nativeToken;wrappedNativeToken;secondaryFees;nativeTokenService;swapProxyContractAddress;routerContractAddress;constructor(e){const t=new $4(e);this.chainId=t.chain.chainId,this.nativeToken=t.chain.nativeToken,this.wrappedNativeToken=t.chain.wrappedNativeToken,this.nativeTokenService=new M4(this.nativeToken,this.wrappedNativeToken),this.secondaryFees=t.secondaryFees,this.routerContractAddress=t.chain.contracts.swapRouter,this.swapProxyContractAddress=t.chain.contracts.immutableSwapProxy,this.provider=new lm({url:t.chain.rpcUrl,skipFetchSetup:!0},t.chain.chainId),this.batchProvider=new Qm({url:t.chain.rpcUrl,skipFetchSetup:!0},t.chain.chainId);const n=Y8.connect(t.chain.contracts.multicall,this.provider);this.router=new R4(this.batchProvider,n,t.chain.commonRoutingTokens,t.chain.contracts)}static validate(e,t,n,r,i){Hw(s4(i),new U8("invalid from address")),Hw(o4(e),new U8("invalid token in address")),Hw(o4(t),new U8("invalid token out address")),Hw(e.toLocaleLowerCase()!==t.toLocaleLowerCase(),new j8),Hw(n<=10,new F8("max hops must be less than or equal to 10")),Hw(n>=1,new F8("max hops must be greater than or equal to 1")),Hw(r<=50,new L8("slippage percent must be less than or equal to 50")),Hw(r>=0,new L8("slippage percent must be greater than or equal to 0"))}async getSecondaryFees(e){if(0===this.secondaryFees.length)return[];const t=X8.connect(this.swapProxyContractAddress,e);return await t.paused()?[]:this.secondaryFees}parseTokenLiteral(e,t){return"native"===e?this.nativeToken:{type:"erc20",address:e,chainId:this.chainId,decimals:t}}async getUnsignedSwapTx(e,t,n,r,i,a,s,o){J4.validate(t,n,a,i,e);const c=[a4(t,this.batchProvider,this.nativeToken),a4(n,this.batchProvider,this.nativeToken),this.getSecondaryFees(this.batchProvider),k4(this.batchProvider,this.nativeToken)],[u,d,f,l]=await Promise.all(c),h=this.parseTokenLiteral(t,u),p=this.parseTokenLiteral(n,d),[m,b]=o===u1.EXACT_INPUT?[h,p]:[p,h],y=f4(r,m),g=new B4(f,h),v=function(e,t,n,r){return n===u1.EXACT_OUTPUT?r.maybeWrapAmount(e):(t.addAmount(e),r.maybeWrapAmount(t.amountLessFees()))}(y,g,o,this.nativeTokenService),w=G4(await this.router.findOptimalRoute(v,this.nativeTokenService.maybeWrapToken(b),o,a),y,g,this.nativeTokenService),_=H4(h,p,w,e,i,s,this.routerContractAddress,this.swapProxyContractAddress,l,f),{quotedAmount:E,quotedAmountWithMaxSlippage:T}=N4(this.nativeTokenService,w,i,b),A=((e,t,n,r,i)=>{const a=e===u1.EXACT_INPUT?t:n;return l4(a)?{spender:0===i.length?r.routerAddress:r.secondaryFeeAddress,amount:a}:null})(o,y,T,{routerAddress:this.routerContractAddress,secondaryFeeAddress:this.swapProxyContractAddress},f),R=A?await x4(this.provider,e,A,l):null,S=((e,t,n,r)=>({amount:y4(e),amountWithMaxSlippage:y4(t),slippage:n,fees:r.withAmounts().map((e=>({...e,amount:y4(e.amount)})))}))(E,T,i,g);return{quote:S,approval:R,swap:_}}async getUnsignedSwapTxFromAmountIn(e,t,n,r,i=.1,a=2,s=g4()){return await this.getUnsignedSwapTx(e,t,n,Ji.from(r),i,a,s,u1.EXACT_INPUT)}async getUnsignedSwapTxFromAmountOut(e,t,n,r,i=.1,a=2,s=g4()){return await this.getUnsignedSwapTx(e,t,n,Ji.from(r),i,a,s,u1.EXACT_OUTPUT)}}var Y4,Q4,Z4,e9,t9,n9,r9,i9,a9,s9,o9,c9,u9,d9,f9,l9,h9,p9,m9,b9,y9,g9,v9;!function(e){e.IMTBL_WIDGETS_PROVIDER="imtbl-widgets-provider",e.IMTBL_CONNECT_WIDGET_EVENT="imtbl-connect-widget",e.IMTBL_WALLET_WIDGET_EVENT="imtbl-wallet-widget",e.IMTBL_SWAP_WIDGET_EVENT="imtbl-swap-widget",e.IMTBL_BRIDGE_WIDGET_EVENT="imtbl-bridge-widget",e.IMTBL_ONRAMP_WIDGET_EVENT="imtbl-onramp-widget",e.IMTBL_SALE_WIDGET_EVENT="imtbl-sale-widget"}(Y4||(Y4={})),function(e){e.PROVIDER_UPDATED="PROVIDER_UPDATED"}(Q4||(Q4={})),function(e){e.CLOSE_WIDGET="close-widget",e.SUCCESS="success",e.FAILURE="failure",e.LANGUAGE_CHANGED="language-changed"}(Z4||(Z4={})),function(e){e.CLOSE_WIDGET="close-widget",e.NETWORK_SWITCH="network-switch",e.DISCONNECT_WALLET="disconnect-wallet",e.LANGUAGE_CHANGED="language-changed"}(e9||(e9={})),function(e){e.CLOSE_WIDGET="close-widget",e.SUCCESS="success",e.FAILURE="failure",e.REJECTED="rejected",e.LANGUAGE_CHANGED="language-changed"}(t9||(t9={})),function(e){e.CLOSE_WIDGET="close-widget",e.SUCCESS="success",e.FAILURE="failure",e.REJECTED="rejected",e.TRANSACTION_SUCCESS="transaction-success",e.LANGUAGE_CHANGED="language-changed",e.PAYMENT_METHOD="payment-method"}(n9||(n9={})),function(e){e.CRYPTO="crypto",e.FIAT="fiat"}(r9||(r9={})),function(e){e.CLOSE_WIDGET="close-widget",e.FAILURE="failure",e.TRANSACTION_SENT="transaction-sent",e.LANGUAGE_CHANGED="language-changed"}(i9||(i9={})),function(e){e.REQUEST_CONNECT="request-connect",e.REQUEST_WALLET="request-wallet",e.REQUEST_SWAP="request-swap",e.REQUEST_BRIDGE="request-bridge",e.REQUEST_ONRAMP="request-onramp"}(a9||(a9={})),function(e){e.CLOSE_WIDGET="close-widget",e.SUCCESS="success",e.FAILURE="failure",e.LANGUAGE_CHANGED="language-changed"}(s9||(s9={})),function(e){e.CONNECT="connect",e.WALLET="wallet",e.SWAP="swap",e.BRIDGE="bridge",e.ONRAMP="onramp",e.SALE="sale"}(o9||(o9={})),function(e){e.LAYER1="LAYER1",e.LAYER2="LAYER2"}(c9||(c9={})),function(e){e.LIGHT="light",e.DARK="dark"}(u9||(u9={})),function(e){e[e.IMTBL_ZKEVM_MAINNET=13371]="IMTBL_ZKEVM_MAINNET",e[e.IMTBL_ZKEVM_TESTNET=13473]="IMTBL_ZKEVM_TESTNET",e[e.IMTBL_ZKEVM_DEVNET=13433]="IMTBL_ZKEVM_DEVNET",e[e.ETHEREUM=1]="ETHEREUM",e[e.SEPOLIA=11155111]="SEPOLIA"}(d9||(d9={})),function(e){e.ETHEREUM="Ethereum",e.SEPOLIA="Sepolia",e.IMTBL_ZKEVM_TESTNET="Immutable zkEVM Test",e.IMTBL_ZKEVM_DEVNET="Immutable zkEVM Dev",e.IMTBL_ZKEVM_MAINNET="Immutable zkEVM"}(f9||(f9={})),function(e){e.ETHEREUM="ethereum",e.SEPOLIA="sepolia",e.IMTBL_ZKEVM_MAINNET="imtbl-zkevm-mainnet",e.IMTBL_ZKEVM_TESTNET="imtbl-zkevm-testnet",e.IMTBL_ZKEVM_DEVNET="imtbl-zkevm-devnet"}(l9||(l9={})),function(e){e.TRANSAK="201811419111"}(h9||(h9={})),function(e){e.BRIDGE_TO_L2="BRIDGE_TO_L2",e.SWAP="SWAP"}(p9||(p9={})),function(e){e.ALL="all"}(m9||(m9={})),function(e){e.ALL="all",e.SWAP="swap",e.BRIDGE="bridge",e.ONRAMP="onramp"}(b9||(b9={})),function(e){e.CHECK_CONNECTION="eth_accounts",e.CONNECT="eth_requestAccounts",e.ADD_NETWORK="wallet_addEthereumChain",e.SWITCH_NETWORK="wallet_switchEthereumChain",e.GET_CHAINID="eth_chainId"}(y9||(y9={})),function(e){e.ALL="all"}(g9||(g9={})),function(e){e.PASSPORT="passport",e.METAMASK="metamask"}(v9||(v9={}));const w9={allowMistmatchedChainId:!1,allowUnsupportedProvider:!1};var _9,E9,T9,A9,R9,S9,k9,O9,I9,x9;!function(e){e.SUCCESS="SUCCESS",e.FAILED="FAILED",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS"}(_9||(_9={})),function(e){e.NATIVE="NATIVE",e.ERC20="ERC20",e.ERC721="ERC721"}(E9||(E9={})),function(e){e.TRANSACTION="TRANSACTION",e.GAS="GAS"}(T9||(T9={})),function(e){e.NATIVE="NATIVE",e.ERC20="ERC20"}(A9||(A9={})),function(e){e.ROUTES_FOUND="ROUTES_FOUND",e.NO_ROUTES_FOUND="NO_ROUTES_FOUND",e.NO_ROUTE_OPTIONS="NO_ROUTE_OPTIONS"}(R9||(R9={})),function(e){e.GAS="GAS",e.BRIDGE_FEE="BRIDGE_FEE",e.SWAP_FEE="SWAP_FEE",e.IMMUTABLE_FEE="IMMUTABLE_FEE"}(S9||(S9={})),function(e){e.BRIDGE="BRIDGE",e.SWAP="SWAP",e.ONRAMP="ONRAMP"}(k9||(k9={})),function(e){e.ONRAMP="onramp"}(O9||(O9={})),function(e){e.MISSING_PARAMS="MISSING_PARAMS",e.WEB3_PROVIDER_ERROR="WEB3_PROVIDER_ERROR",e.PROVIDER_ERROR="PROVIDER_ERROR",e.DEFAULT_PROVIDER_ERROR="DEFAULT_PROVIDER_ERROR",e.CONNECT_PROVIDER_ERROR="CONNECT_PROVIDER_ERROR",e.GET_BALANCE_ERROR="GET_BALANCE_ERROR",e.GET_INDEXER_BALANCE_ERROR="GET_INDEXER_BALANCE_ERROR",e.GET_ERC20_INFO_ERROR="GET_ERC20_INFO_ERROR",e.GET_ERC20_BALANCE_ERROR="GET_ERC20_BALANCE_ERROR",e.GET_ERC721_BALANCE_ERROR="GET_ERC721_BALANCE_ERROR",e.GET_NETWORK_INFO_ERROR="GET_NETWORK_INFO_ERROR",e.METAMASK_PROVIDER_ERROR="METAMASK_PROVIDER_ERROR",e.CHAIN_NOT_SUPPORTED_ERROR="CHAIN_NOT_SUPPORTED_ERROR",e.PROVIDER_REQUEST_MISSING_ERROR="PROVIDER_REQUEST_MISSING_ERROR",e.PROVIDER_REQUEST_FAILED_ERROR="PROVIDER_REQUEST_FAILED_ERROR",e.USER_REJECTED_REQUEST_ERROR="USER_REJECTED_REQUEST_ERROR",e.TRANSACTION_FAILED="TRANSACTION_FAILED",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.INVALID_GAS_ESTIMATE_TYPE="INVALID_GAS_ESTIMATE_TYPE",e.UNSUPPORTED_TOKEN_TYPE_ERROR="UNSUPPORTED_TOKEN_TYPE_ERROR",e.UNSUPPORTED_BALANCE_REQUIREMENT_ERROR="UNSUPPORTED_BALANCE_REQUIREMENT_ERROR",e.GET_ORDER_LISTING_ERROR="GET_ORDER_LISTING_ERROR",e.CANCEL_ORDER_LISTING_ERROR="CANCEL_ORDER_LISTING_ERROR",e.PREPARE_ORDER_LISTING_ERROR="PREPARE_ORDER_LISTING_ERROR",e.CREATE_ORDER_LISTING_ERROR="CREATE_ORDER_LISTING_ERROR",e.FULFILL_ORDER_LISTING_ERROR="FULFILL_ORDER_LISTING_ERROR",e.SWITCH_NETWORK_UNSUPPORTED="SWITCH_NETWORK_UNSUPPORTED",e.GET_ERC20_ALLOWANCE_ERROR="GET_ERC20_ALLOWANCE_ERROR",e.GET_ERC721_ALLOWANCE_ERROR="GET_ERC721_ALLOWANCE_ERROR",e.EXECUTE_APPROVAL_TRANSACTION_ERROR="EXECUTE_APPROVAL_TRANSACTION_ERROR",e.EXECUTE_FULFILLMENT_TRANSACTION_ERROR="EXECUTE_FULFILLMENT_TRANSACTION_ERROR",e.SIGN_MESSAGE_ERROR="SIGN_MESSAGE_ERROR",e.BRIDGE_GAS_ESTIMATE_ERROR="BRIDGE_GAS_ESTIMATE_ERROR",e.ORDER_FEE_ERROR="ORDER_FEE_ERROR",e.ITEM_REQUIREMENTS_ERROR="ITEM_REQUIREMENTS_ERROR",e.API_ERROR="API_ERROR",e.ORDER_EXPIRED_ERROR="ORDER_EXPIRED_ERROR",e.WIDGETS_SCRIPT_LOAD_ERROR="WIDGETS_SCRIPT_LOAD_ERROR"}(I9||(I9={}));class C9 extends Error{message;type;data;constructor(e,t,n){super(e),this.message=e,this.type=t,this.data=n}}!function(e){e.REJECTED_SWITCH_AFTER_ADDING_NETWORK="REJECTED_SWITCH_AFTER_ADDING_NETWORK"}(x9||(x9={}));const M9=async(e,t)=>{try{return await e()}catch(e){const n=`${e.message}`||"UnknownError",r=t.message?`[${t.type}]:${t.message}. Cause:${n}`:`[${t.type}] Cause:${n}`;if(e instanceof C9)throw new C9(r,t.type,{...t.data,innerErrorType:e.type,...e.data});throw new C9(r,t.type,{...t.data})}};async function P9(e){if(!e.provider?.request)throw new C9("Parsed provider is not a valid Web3Provider",I9.WEB3_PROVIDER_ERROR);const t=await e.provider.request({method:y9.GET_CHAINID,params:[]});return parseInt(t,16)}async function N9(e,{type:t=m9.ALL,exclude:n}){const{networkMap:r}=e,i=await e.remote.getConfig("allowedNetworks");i||console.warn("No allowed networks configured");const a=(i||[]).filter((e=>{const r=t===m9.ALL,i=!(n||[]).map((e=>e.chainId)).includes(e.chainId);return r&&i})),s=[];return a.forEach((e=>{const t=r.get(e.chainId);t&&s.push({name:t.chainName,chainId:parseInt(t.chainIdHex,16),nativeCurrency:t.nativeCurrency,isSupported:!0})})),{networks:s}}async function B9(e,t){const{networkMap:n}=e;return M9((async()=>{try{const e=await t.getNetwork();if(Array.from(n.keys()).includes(e.chainId)){const t=n.get(e.chainId);return{name:t.chainName,chainId:parseInt(t.chainIdHex,16),nativeCurrency:t.nativeCurrency,isSupported:!0}}return{chainId:e.chainId,name:e.name,isSupported:!1}}catch(e){const r=await P9(t);return{chainId:r,isSupported:Array.from(n.keys()).includes(r)}}}),{type:I9.GET_NETWORK_INFO_ERROR})}async function D9(e,t,n){const{networkMap:r}=e;if(!(await N9(e,{type:m9.ALL})).networks.some((e=>e.chainId===n)))throw new C9(`Chain:${n} is not a supported chain`,I9.CHAIN_NOT_SUPPORTED_ERROR);if(t.provider?.isPassport)throw new C9("Switching networks with Passport provider is not supported",I9.SWITCH_NETWORK_UNSUPPORTED);try{await async function(e,t,n){if(t.provider?.request)return await t.provider.request({method:y9.SWITCH_NETWORK,params:[{chainId:e.get(n)?.chainIdHex}]})}(r,t,n)}catch(e){if(4902!==e.code)throw new C9("User cancelled switch network request",I9.USER_REJECTED_REQUEST_ERROR);try{await async function(e,t,n){if(t.provider?.request){const r=e.get(n),i={chainId:r?.chainIdHex,chainName:r?.chainName,rpcUrls:r?.rpcUrls,nativeCurrency:r?.nativeCurrency,blockExplorerUrls:r?.blockExplorerUrls};return await t.provider.request({method:y9.ADD_NETWORK,params:[i]})}}(r,t,n)}catch(e){throw new C9("User cancelled add network request",I9.USER_REJECTED_REQUEST_ERROR)}}const i=new ob(t.provider);if((await i.getNetwork()).chainId!==n)throw new C9("User cancelled switch network request",I9.USER_REJECTED_REQUEST_ERROR);return{network:await B9(e,i),provider:i}}const L9="development",F9=18,U9="native",j9={name:"IMX",symbol:"IMX",decimals:F9,address:U9},q9={[L9]:"https://api.dev.immutable.com",[rt.SANDBOX]:"https://api.sandbox.immutable.com",[rt.PRODUCTION]:"https://api.immutable.com"},z9={[L9]:"https://checkout-api.dev.immutable.com",[rt.SANDBOX]:"https://checkout-api.sandbox.immutable.com",[rt.PRODUCTION]:"https://checkout-api.immutable.com"},H9={[rt.SANDBOX]:"https://global-stg.transak.com",[rt.PRODUCTION]:"https://global.transak.com/"},G9=new Map([[d9.ETHEREUM,{chainIdHex:`0x${d9.ETHEREUM.toString(16)}`,chainName:f9.ETHEREUM,rpcUrls:["https://checkout-api.immutable.com/v1/rpc/eth-mainnet"],nativeCurrency:{name:f9.ETHEREUM,symbol:"ETH",decimals:18},blockExplorerUrls:["https://etherscan.io/"]}],[d9.IMTBL_ZKEVM_MAINNET,{chainIdHex:`0x${d9.IMTBL_ZKEVM_MAINNET.toString(16)}`,chainName:f9.IMTBL_ZKEVM_MAINNET,rpcUrls:["https://rpc.immutable.com"],nativeCurrency:j9}]]),W9=new Map([[d9.SEPOLIA,{chainIdHex:`0x${d9.SEPOLIA.toString(16)}`,chainName:f9.SEPOLIA,rpcUrls:["https://checkout-api.sandbox.immutable.com/v1/rpc/eth-sepolia"],nativeCurrency:{name:"Sep Eth",symbol:"ETH",decimals:18},blockExplorerUrls:["https://sepolia.etherscan.io/"]}],[d9.IMTBL_ZKEVM_TESTNET,{chainIdHex:`0x${d9.IMTBL_ZKEVM_TESTNET.toString(16)}`,chainName:f9.IMTBL_ZKEVM_TESTNET,rpcUrls:["https://rpc.testnet.immutable.com"],nativeCurrency:j9}]]),V9=new Map([[d9.SEPOLIA,{chainIdHex:`0x${d9.SEPOLIA.toString(16)}`,chainName:f9.SEPOLIA,rpcUrls:["https://checkout-api.dev.immutable.com/v1/rpc/eth-sepolia"],nativeCurrency:{name:"Sep Eth",symbol:"ETH",decimals:18},blockExplorerUrls:["https://sepolia.etherscan.io/"]}],[d9.IMTBL_ZKEVM_DEVNET,{chainIdHex:`0x${d9.IMTBL_ZKEVM_DEVNET.toString(16)}`,chainName:f9.IMTBL_ZKEVM_DEVNET,rpcUrls:["https://rpc.dev.immutable.com"],nativeCurrency:j9}]]),K9={[d9.IMTBL_ZKEVM_TESTNET]:{url:"https://explorer.testnet.immutable.com",nativeToken:W9.get(d9.IMTBL_ZKEVM_TESTNET).nativeCurrency},[d9.IMTBL_ZKEVM_MAINNET]:{url:"https://explorer.immutable.com",nativeToken:G9.get(d9.IMTBL_ZKEVM_MAINNET).nativeCurrency},[d9.SEPOLIA]:{url:"https://eth-sepolia.blockscout.com",nativeToken:W9.get(d9.SEPOLIA).nativeCurrency},[d9.ETHEREUM]:{url:"https://eth.blockscout.com/",nativeToken:G9.get(d9.ETHEREUM).nativeCurrency}},X9=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],$9=[{constant:!1,inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}],J9={maxFeePerGas:Ji.from(102e9),maxPriorityFeePerGas:Ji.from(101e9)},Y9=()=>"0.44.0";class Q9{httpClient;isDevelopment;isProduction;configCache;tokensCache;version="v1";constructor(e,t){this.isDevelopment=t.isDevelopment,this.isProduction=t.isProduction,this.httpClient=e}getEndpoint=()=>this.isDevelopment?z9[L9]:this.isProduction?z9[rt.PRODUCTION]:z9[rt.SANDBOX];parseResponse(e){let t=e.data;if(e.data&&"object"!=typeof e.data)try{t=JSON.parse(e.data)}catch(e){throw new C9("Invalid configuration",I9.API_ERROR)}return t}async loadConfig(){if(this.configCache)return this.configCache;let e;try{e=await this.httpClient.get(`${this.getEndpoint()}/${this.version}/config`)}catch(e){throw new C9(`Error: ${e.message}`,I9.API_ERROR)}return this.configCache=this.parseResponse(e),this.configCache}async loadConfigTokens(){if(this.tokensCache)return this.tokensCache;let e;try{e=await this.httpClient.get(`${this.getEndpoint()}/${this.version}/config/tokens`)}catch(e){throw new C9(`Error: ${e.message}`,I9.API_ERROR)}return this.tokensCache=this.parseResponse(e),this.tokensCache}async getConfig(e){const t=await this.loadConfig();if(t)return e?t[e]:t}async getTokensConfig(e){const t=await this.loadConfigTokens();return t&&t[e]?t[e]??[]:{}}getHttpClient=()=>this.httpClient}class Z9 extends Error{message;constructor(e){super(e),this.message=e}}const e7=e=>e.isProduction?d9.ETHEREUM:d9.SEPOLIA,t7=e=>e.isDevelopment?d9.IMTBL_ZKEVM_DEVNET:e.isProduction?d9.IMTBL_ZKEVM_MAINNET:d9.IMTBL_ZKEVM_TESTNET;class n7{isDevelopment=!1;isProduction;isOnRampEnabled;isSwapEnabled;isBridgeEnabled;remote;environment;networkMap;constructor(e,t){if(!Object.values(rt).includes(e.baseConfig.environment))throw new Z9("Invalid checkout configuration of environment");var n;this.environment=e.baseConfig.environment,this.isProduction=!this.isDevelopment&&this.environment===rt.PRODUCTION,this.isOnRampEnabled=e.onRamp?.enable??true,this.isSwapEnabled=e.swap?.enable??true,this.isBridgeEnabled=e.bridge?.enable??true,this.networkMap=(n=this.isProduction,this.isDevelopment?V9:n?G9:W9),this.remote=new Q9(t,{isDevelopment:this.isDevelopment,isProduction:this.isProduction})}}const r7=(e="",t="")=>e.toLowerCase()===t.toLowerCase(),i7=async(e,{type:t=b9.ALL,chainId:n,exclude:r})=>{let i,a,s=[];const o=n??e7(e);switch(t){case b9.SWAP:s=(await e.remote.getConfig("dex")).tokens||[];break;case b9.ONRAMP:i=await e.remote.getConfig("onramp"),i||(s=[]),s=i[h9.TRANSAK]?.tokens||[];break;case b9.BRIDGE:a=await e.remote.getConfig("bridge"),a||(s=[]),s=a[o]?.tokens||[];break;case b9.ALL:default:s=(await e.remote.getTokensConfig(o)).allowed}return r&&0!==r?.length?{tokens:s.filter((e=>!r.map((e=>e.address)).includes(e.address||"")))}:{tokens:s}},a7=e=>!e||r7(e,U9);async function s7(e,t){return await M9((async()=>{const n=new bl(t,JSON.stringify(X9),e),[r,i,a]=await Promise.all([n.name(),n.symbol(),n.decimals()]);return{name:r,symbol:i,decimals:a,address:t}}),{type:I9.GET_ERC20_INFO_ERROR})}class o7{url;nativeToken;ttl;chainId;cacheMap;httpClient;setCache(e,t){this.cacheMap[e]={data:t,ttl:(new Date).getTime()+1e3*this.ttl}}getCache(e){const t=this.cacheMap[e];return!t||t.ttl<=(new Date).getTime()?null:t.data}constructor(e,t,n){this.httpClient=e,this.chainId=t,this.url=K9[this.chainId].url;const r=K9[this.chainId].nativeToken;this.nativeToken={address:r.address??"",decimals:r.decimals.toString(),name:r.name,symbol:r.symbol},this.cacheMap={},this.ttl=void 0!==n?n:60}static isChainSupported=e=>Boolean(K9[e]);static isBlockscoutError=e=>"code"in e;async getTokensByWalletAddress(e){try{let t=`${this.url}/api/v2/addresses/${e.walletAddress}/tokens?type=${e.tokenType}`;e.nextPage&&(t+=`&${new URLSearchParams(e.nextPage)}`);const n=this.getCache(t);if(n)return Promise.resolve(n);const r=await this.httpClient.get(t),i={items:r.data?.items?.filter((e=>e.token.address&&e.token.address!==this.nativeToken.address)),next_page_params:r.data?.next_page_params};return this.setCache(t,i),Promise.resolve(i)}catch(e){let t=Ze.InternalServerError,n="InternalServerError";return je.isAxiosError(e)&&(t=e.response?.status||t,n=e.message),Promise.reject({code:t,message:n})}}async getNativeTokenByWalletAddress(e){try{const t=`${this.url}/api/v2/addresses/${e.walletAddress}`,n=this.getCache(t);if(n)return Promise.resolve(n);const r=await this.httpClient.get(t),i={token:this.nativeToken,value:r.data.coin_balance};return this.setCache(t,i),Promise.resolve(i)}catch(e){let t=Ze.InternalServerError,n="InternalServerError";return je.isAxiosError(e)&&(t=e.response?.status||t,n=e.message),Promise.reject({code:t,message:n})}}}var c7;!function(e){e.ERC20="ERC-20"}(c7||(c7={}));const u7=(e,t,n)=>{e.isProduction||console.info(t,n)},d7=async(e,t,n)=>{const r=performance.now(),i=await n,a=performance.now();return u7(e,t,(a-r)/1e3),i},f7=async(e,t,n)=>await M9((async()=>{const r=await B9(e,t);if(!r.isSupported)throw new C9(`Chain:${r.chainId} is not a supported chain`,I9.CHAIN_NOT_SUPPORTED_ERROR,{chainName:r.name});const i=await t.getBalance(n);return{balance:i,formattedBalance:Ab(i,r.nativeCurrency.decimals),token:r.nativeCurrency}}),{type:I9.GET_BALANCE_ERROR});async function l7(e,t,n){return await M9((async()=>{const r=new bl(n,JSON.stringify(X9),e);return Promise.all([s7(e,n),r.balanceOf(t)]).then((([e,t])=>({balance:t,formattedBalance:Ab(t,e.decimals),token:{name:e.name,symbol:e.symbol,decimals:e.decimals,address:n}})))}),{type:I9.GET_ERC20_BALANCE_ERROR})}const h7=new Map,p7=async(e,t,n,r)=>{if(!n&&!t)throw new C9("both walletAddress and provider are missing. At least one must be provided.",I9.MISSING_PARAMS);if(!e.networkMap.get(r))throw new C9(`chain ID ${r} not supported by the environment`,I9.CHAIN_NOT_SUPPORTED_ERROR);const{tokens:i}=await i7(e,{type:b9.ALL,chainId:r});let a=!1;try{a=(await e.remote.getTokensConfig(r)).blockscout||a}catch(e){console.error(e)}let s=n;if(a&&o7.isChainSupported(r)){const n=e7(e)===r;return s||(s=await(t?.getSigner().getAddress())),await d7(e,`Time to fetch balances using blockscout for ${r}`,(async(e,t,n,r)=>{const i=void 0!==r,a=Object.assign({},...(r??[]).map((e=>({[e.address||U9]:e}))));let s=h7.get(n);if(!s){const t=e.remote.getHttpClient();s=new o7(t,n),h7.set(n,s)}const o=[],c=c7.ERC20;await Promise.all([(async e=>{let n;try{do{n=await e.getTokensByWalletAddress({walletAddress:t,tokenType:c,nextPage:n?.next_page_params}),o.push(...n.items)}while(n.next_page_params)}catch(e){if(e?.code!==Ze.NotFound)throw new C9(e.message||"InternalServerError | getTokensByWalletAddress",I9.GET_INDEXER_BALANCE_ERROR,e)}})(s),(async e=>{try{const n=await e.getNativeTokenByWalletAddress({walletAddress:t});n.token.address||=U9,o.push(n)}catch(e){if(e?.code!==Ze.NotFound)throw new C9(e.message||"InternalServerError | getNativeTokenByWalletAddress",I9.GET_INDEXER_BALANCE_ERROR,e)}})(s)]);const u=[];return o.forEach((e=>{if(i&&!a[e.token.address])return;const t=e.token||{},n=Ji.from(e.value);let r=parseInt(t.decimals,10);Number.isNaN(r)&&(r=F9);const s={...t,decimals:r},o=Ab(e.value,s.decimals);u.push({balance:n,formattedBalance:o,token:s})})),{balances:u}})(e,s,r,n?i:void 0))}if(!t)throw new C9("indexer is disabled for this chain, you must provide a provider.",I9.MISSING_PARAMS);return s||=await t.getSigner().getAddress(),await d7(e,`Time to fetch balances using RPC for ${r}`,(async(e,t,n,r)=>{const i=[];return r.forEach((r=>{!r.address||r7(r.address,U9)?i.push(f7(e,t,n)):i.push(l7(t,n,r.address))})),{balances:(await Promise.allSettled(i)).filter((e=>"fulfilled"===e.status)).map((e=>{const t=e,{token:n}=t.value;return n.address&&!r7(n.address,U9)||(t.value.token.address=U9),t.value}))}})(e,t,s,i))};async function m7(e,t){let n=null;switch(e){case v9.PASSPORT:if(!t)throw console.error("WalletProviderName was PASSPORT but the passport instance was not provided to the Checkout constructor"),new C9("Passport not provided",I9.DEFAULT_PROVIDER_ERROR);n=new ob(t.connectEvm());break;case v9.METAMASK:n=await async function(){const e=await M9((async()=>await i$()),{type:I9.METAMASK_PROVIDER_ERROR});if(!e||!e.request)throw new C9("No MetaMask provider installed.",I9.METAMASK_PROVIDER_ERROR);return new ob(e)}();break;default:throw console.error("The WalletProviderName that was provided is not supported"),new C9("Provider not supported",I9.DEFAULT_PROVIDER_ERROR)}return{provider:n,walletProviderName:e}}function b7(e){return!(!e||!e.provider?.request||"function"!=typeof e.provider.request)}async function y7(e,t,n){return M9((async()=>{if(t.provider?.isPassport)return t;if(!b7(t))throw new C9("Parsed provider is not a valid Web3Provider",I9.WEB3_PROVIDER_ERROR);const r={...w9,...n},i=await P9(t);let a=t.network?.chainId;try{a=t.network?.chainId,a||(a=(await t.getNetwork()).chainId)}catch(e){throw new C9("Unable to detect the web3Provider network",I9.WEB3_PROVIDER_ERROR)}if(a!==i&&!r.allowMistmatchedChainId)throw new C9("Your wallet has changed network, please switch to a supported network",I9.WEB3_PROVIDER_ERROR);if(!(await N9(e,{type:m9.ALL})).networks.some((e=>e.chainId===i))&&!r.allowUnsupportedProvider)throw new C9("Your wallet is connected to an unsupported network, please switch to a supported network",I9.WEB3_PROVIDER_ERROR);return t}),{type:I9.WEB3_PROVIDER_ERROR})}const g7=async(e,t)=>{try{const n=e.getSigner(),r=(e=>{const t=e;return t.maxFeePerGas=J9.maxFeePerGas,t.maxPriorityFeePerGas=J9.maxPriorityFeePerGas,t})(t);return{transactionResponse:await n.sendTransaction(r)}}catch(e){if(e.code===gi.INSUFFICIENT_FUNDS)throw new C9(e.message,I9.INSUFFICIENT_FUNDS);if(e.code===gi.ACTION_REJECTED)throw new C9(e.message,I9.USER_REJECTED_REQUEST_ERROR);if(e.code===gi.UNPREDICTABLE_GAS_LIMIT)throw new C9(e.message,I9.UNPREDICTABLE_GAS_LIMIT);throw new C9(e.message,I9.TRANSACTION_FAILED)}};function v7(e,t,n,r){const i=n.get(e),a=n.get(t);if(!i)throw new C9(`Chain:${e} is not a supported chain`,I9.CHAIN_NOT_SUPPORTED_ERROR);if(!a)throw new C9(`Chain:${t} is not a supported chain`,I9.CHAIN_NOT_SUPPORTED_ERROR);let s=E0;r.isDevelopment&&(s=_0),r.isProduction&&(s=T0);const o=new Y0({baseConfig:new it({environment:r.environment}),bridgeInstance:s,rootProvider:i,childProvider:a});return new W0(o)}async function w7(e,t){const n=await t.remote.getConfig("dex");return new J4({chainId:e,baseConfig:new it({environment:t.environment}),overrides:n?.overrides,secondaryFees:n?.secondaryFees})}function _7(e){return new e$({baseConfig:{environment:e.environment}})}function E7(e){return new nr({baseConfig:{environment:e.environment}})}const T7="0x0000000000000000000000000000000000000001",A7=18;async function R7(e,t){const n=e7(t),r=t7(t);if(!e.get(n))throw new Error(`Missing JsonRpcProvider for chain id: ${n}`);try{const i=v7(n,r,e,t),a=await async function(e,t,n,r){const i=t===e7(r)?L0.DEPOSIT:L0.WITHDRAW;return await e.getFee({action:i,gasMultiplier:1.1,sourceChainId:t.toString(),destinationChainId:n.toString()})}(i,n,r,t);return{gasEstimateType:p9.BRIDGE_TO_L2,fees:a,token:t.networkMap.get(n)?.nativeCurrency}}catch{return{gasEstimateType:p9.BRIDGE_TO_L2,fees:{sourceChainGas:Ji.from(0),bridgeFee:Ji.from(0),imtblFee:Ji.from(0),totalFees:Ji.from(0)},token:t.networkMap.get(n)?.nativeCurrency}}}async function S7(e,t,n){switch(e.gasEstimateType){case p9.BRIDGE_TO_L2:return await R7(t,n);case p9.SWAP:return await async function(e){const t=t7(e),n=await e.remote.getConfig("gasEstimateTokens"),{inAddress:r,outAddress:i}=n[t].swapAddresses;try{const n=await w7(t,e),{swap:a}=await n.getUnsignedSwapTxFromAmountIn(T7,r,i,Ji.from(Rb("1",A7)));return a.gasFeeEstimate?{gasEstimateType:p9.SWAP,fees:{totalFees:a.gasFeeEstimate.value?Ji.from(a.gasFeeEstimate.value):void 0,token:{address:a.gasFeeEstimate.token.address,symbol:a.gasFeeEstimate.token.symbol??"",name:a.gasFeeEstimate.token.name??"",decimals:a.gasFeeEstimate.token.decimals??A7}}}:{gasEstimateType:p9.SWAP,fees:{}}}catch{return{gasEstimateType:p9.SWAP,fees:{}}}}(n);default:throw new C9("Invalid type provided for gasEstimateType",I9.INVALID_GAS_ESTIMATE_TYPE)}}const k7=e=>(e=>{const t=new Map,n=[];return e.forEach((e=>{const{type:r}=e;if(r!==E9.ERC721)return void n.push(e);const{contractAddress:i,spenderAddress:a,id:s}=e,o=`${i}${a}${s}`;t.get(o)||t.set(o,{...e})})),n.concat(Array.from(t.values()))})((e=>{const t=new Map,n=[];return e.forEach((e=>{const{type:r}=e;if(r!==E9.ERC20)return void n.push(e);const{tokenAddress:i,spenderAddress:a,amount:s}=e,o=`${i}${a}`,c=t.get(o);c&&c.type===E9.ERC20?c.amount=Ji.from(c.amount).add(s):t.set(o,{...e})})),n.concat(Array.from(t.values()))})((e=>{const t=new Map,n=[];return e.forEach((e=>{const{type:r}=e;if(r!==E9.NATIVE)return void n.push(e);const{amount:i}=e,a=t.get(r);a&&a.type===E9.NATIVE?a.amount=Ji.from(a.amount).add(i):t.set(r,{...e})})),n.concat(Array.from(t.values()))})(e))),O7=async(e,t,n,r)=>{try{const i=new bl(n,JSON.stringify(X9),e);return await i.allowance(t,r)}catch(e){throw new C9("Failed to get the allowance for ERC20",I9.GET_ERC20_ALLOWANCE_ERROR,{contractAddress:n})}},I7=async(e,t,n,r,i)=>{try{const a=new bl(n,JSON.stringify(X9),e),s=await a.populateTransaction.approve(r,i);return s&&(s.from=t),s}catch{throw new C9("Failed to get the approval transaction for ERC20",I9.GET_ERC20_ALLOWANCE_ERROR,{contractAddress:n})}},x7=async(e,t,n,r)=>{try{const i=new bl(n,JSON.stringify($9),e);return await i.isApprovedForAll(t,r)}catch(e){throw new C9("Failed to check approval for all ERC721s of collection",I9.GET_ERC721_ALLOWANCE_ERROR,{ownerAddress:t,contractAddress:n,spenderAddress:r})}},C7=async(e,t,n,r,i)=>{try{const a=new bl(n,JSON.stringify($9),e),s=await a.populateTransaction.approve(r,i);return s&&(s.from=t),s}catch(e){throw new C9("Failed to get the approval transaction for ERC721",I9.GET_ERC721_ALLOWANCE_ERROR,{id:i.toString(),contractAddress:n,spenderAddress:r,ownerAddress:t})}},M7=async(e,t,n)=>{try{const r=new bl(t,JSON.stringify($9),e);return await r.getApproved(n)}catch(e){throw new C9("Failed to get approved address for ERC721",I9.GET_ERC721_ALLOWANCE_ERROR,{id:n.toString(),contractAddress:t})}},P7=(e,t)=>{const n=parseInt(e,10);if(Number.isNaN(n))throw new C9("Invalid ERC721 ID",I9.GET_ERC721_ALLOWANCE_ERROR,{id:e,contractAddress:t});return n},N7=async(e,t,n)=>{let r=!0;const i=[],a=new Map,s=new Map,o=new Map,c=new Map,u=await(async(e,t,n)=>{const r=new Map,i=new Map;for(const a of t){if(a.type!==E9.ERC721)continue;const{contractAddress:t,spenderAddress:s}=a,o=`${t}-${s}`;r.set(o,!1),i.has(o)||i.set(o,x7(e,n,t,s))}const a=await Promise.all(i.values()),s=Array.from(i.keys());return a.forEach(((e,t)=>{r.set(s[t],e)})),r})(e,n,t);for(const t of n){if(t.type!==E9.ERC721)continue;const{contractAddress:n,id:r,spenderAddress:o}=t,c=`${n}-${o}`;if(u.get(c)){i.push({sufficient:!0,itemRequirement:t});continue}const d=`${n}-${r}`,f=P7(r,n);a.set(d,t),s.set(d,M7(e,n,f))}const d=await Promise.all(s.values()),f=Array.from(s.keys());for(let n=0;n<d.length;n++){const s=a.get(f[n]);if(!s||s.type!==E9.ERC721)continue;if(d[n]===s.spenderAddress){i.push({sufficient:!0,itemRequirement:s});continue}r=!1;const{contractAddress:u,id:l,spenderAddress:h}=s,p=`${u}-${l}`,m=P7(l,u);o.set(p,{type:E9.ERC721,sufficient:!1,itemRequirement:s,approvalTransaction:void 0}),c.set(p,C7(e,t,u,h,m))}const l=await Promise.all(c.values()),h=Array.from(c.keys());return l.forEach(((e,t)=>{const n=o.get(h[t]);n&&(n.sufficient||(n.approvalTransaction=e))})),{sufficient:r,allowances:i.concat(Array.from(o.values()))}},B7=e=>(e=>{const t=new Map,n=[];return e.forEach((e=>{const{type:r}=e;if(r!==E9.ERC721)return void n.push(e);const{contractAddress:i,id:a}=e,s=`${i}${a}`;t.get(s)||t.set(s,{...e})})),n.concat(Array.from(t.values()))})((e=>{const t=new Map,n=[];return e.forEach((e=>{const{type:r}=e;if(r!==E9.ERC20)return void n.push(e);const{tokenAddress:i,amount:a}=e,s=`${i}`,o=t.get(s);o&&o.type===E9.ERC20?o.amount=Ji.from(o.amount).add(a):t.set(s,{...e})})),n.concat(Array.from(t.values()))})((e=>{const t=new Map,n=[];return e.forEach((e=>{const{type:r}=e;if(r!==E9.NATIVE)return void n.push(e);const{amount:i}=e,a=t.get(r);a&&a.type===E9.NATIVE?a.amount=Ji.from(a.amount).add(i):t.set(r,{...e})})),n.concat(Array.from(t.values()))})(e))),D7=async(e,t,n,r)=>{try{const i=new Map;(e=>e.map((e=>{switch(e.type){case E9.ERC20:return{address:e.tokenAddress};case E9.NATIVE:return{address:U9};case E9.ERC721:default:return{address:e.contractAddress}}})))(r).forEach((e=>{e.address&&i.set(e.address.toLocaleLowerCase(),e)}));const{balances:a}=await p7(e,t,n,t7(e));return a.filter((e=>i.get((e.token.address||U9).toLocaleLowerCase())))}catch(e){throw new C9("Failed to get balances",I9.GET_BALANCE_ERROR)}},L7=async(e,t,n,r)=>{const i=B7(r),a=[],s=[];if(i.forEach((e=>{switch(e.type){case E9.ERC20:case E9.NATIVE:a.push(e);break;case E9.ERC721:s.push(e)}})),0===s.length&&0===a.length)throw new C9("Unsupported item requirement balance check",I9.UNSUPPORTED_BALANCE_REQUIREMENT_ERROR);const o=[];a.length>0&&o.push(D7(e,t,n,i)),s.length>0&&o.push((async(e,t,n)=>{const r=[],i=new Map,a=new Map;n.forEach((t=>{if(t.type!==E9.ERC721)return;const n=new bl(t.contractAddress,JSON.stringify($9),e);i.set(t.contractAddress,t),a.set(t.contractAddress,n.ownerOf(t.id))}));try{const e=await Promise.all(a.values()),n=Array.from(a.keys());e.forEach(((e,a)=>{const s=i.get(n[a]);let o=0;s&&r7(t,e)&&(o=1),r.push({type:E9.ERC721,balance:Ji.from(o),formattedBalance:o.toString(),contractAddress:s.contractAddress,id:s.id})}))}catch(e){throw new C9("Failed to get ERC721 balances",I9.GET_ERC721_BALANCE_ERROR)}return r})(t,n,i));const c=await Promise.all(o),u=[];if(a.length>0&&c.length>0){const e=c.shift();e&&a.forEach((t=>{u.push(((e,t)=>{let n;e.type===E9.ERC20?n=t.find((t=>r7(t.token?.address,e.tokenAddress))):e.type===E9.NATIVE&&(n=t.find((e=>a7(e.token?.address))));const r=e.amount,i=r.isNegative()||r.isZero()||(n?.balance.gte(r)??!1),a=r.sub(n?.balance??Ji.from(0));let s="",o="",c=F9;n&&(c=n.token?.decimals??F9,s=n.token.name,o=n.token.symbol);let u=n;return e.type===E9.NATIVE?(u||(u={type:E9.NATIVE,balance:Ji.from(0),formattedBalance:"0",token:j9}),{sufficient:i,type:E9.NATIVE,delta:{balance:a,formattedBalance:Ab(a,c)},current:{...u,type:E9.NATIVE},required:{...u,type:E9.NATIVE,balance:Ji.from(e.amount),formattedBalance:Ab(e.amount,c)}}):(u||(u={type:e.type,balance:Ji.from(0),formattedBalance:"0",token:{name:s,symbol:o,address:e.tokenAddress,decimals:c}}),{sufficient:i,type:E9.ERC20,delta:{balance:a,formattedBalance:Ab(a,c)},current:u,required:{...u,balance:Ji.from(e.amount),formattedBalance:Ab(e.amount,c)}})})(t,e))}))}if(s.length>0&&c.length>0){const e=c.shift();e&&s.forEach((t=>{u.push(((e,t)=>{const n=Ji.from(1),r=t.find((t=>{const n=t;return r7(n.contractAddress,e.contractAddress)&&n.id===e.id})),i=n.isNegative()||n.isZero()||(r?.balance.gte(n)??!1),a=n.sub(r?.balance??Ji.from(0));let s=r;return s||(s={type:E9.ERC721,balance:Ji.from(0),formattedBalance:"0",contractAddress:e.contractAddress,id:e.id}),{sufficient:i,type:E9.ERC721,delta:{balance:a,formattedBalance:a.toString()},current:s,required:{...s,balance:Ji.from(1),formattedBalance:"1"}}})(t,e))}))}return{sufficient:void 0===u.find((e=>!1===e.sufficient)),balanceRequirements:u}},F7=async(e,t)=>{try{return await e.estimateGas(t)}catch(e){throw new C9("Failed to estimate gas for transaction",I9.UNPREDICTABLE_GAS_LIMIT)}},U7=async(e,t,n)=>{const r=[];let i=Ji.from(0);for(const n of t)void 0!==n.approvalTransaction&&r.push(F7(e,n.approvalTransaction));if(n.type===T9.TRANSACTION)r.push(F7(e,n.transaction));else{const t=(e=>(e=>!!e.maxFeePerGas&&!!e.maxPriorityFeePerGas)(e)?Ji.from(e.maxFeePerGas).add(Ji.from(e.maxPriorityFeePerGas)):e.gasPrice?Ji.from(e.gasPrice):null)(await e.getFeeData());if(null!==t){const e=t?.mul(n.gasToken.limit);e&&(i=i.add(e))}}return(await Promise.all(r)).forEach((e=>{i=i.add(e)})),i.eq(0)?null:((e,t)=>t.type===T9.TRANSACTION||t.gasToken.type===A9.NATIVE?{type:E9.NATIVE,amount:e}:{type:E9.ERC20,amount:e,tokenAddress:t.gasToken.tokenAddress,spenderAddress:""})(i,n)},j7=(e,t)=>({checkDexAvailability:async()=>{let n;try{n=await je.post(`${e?q9[L9]:t?q9[rt.PRODUCTION]:q9[rt.SANDBOX]}/v1/availability/checkout/swap`)}catch(e){if(n=e.response,403===n.status)return!1;throw new C9(`Error fetching from api: ${n.status} ${n.statusText}`,I9.API_ERROR)}return!0}}),q7=async()=>!0,z7=async e=>{const t=j7(e.isDevelopment,e.isProduction);try{return await t.checkDexAvailability()}catch{return!1}};async function H7(e,t){if(e.isProduction&&t?.has(d9.ETHEREUM))return t;if(t?.has(d9.SEPOLIA))return t;const n=new Map;return(await N9(e,{type:m9.ALL})).networks.forEach((t=>{const r=e.networkMap.get(t.chainId)?.rpcUrls[0],i=new im(r);n.set(t.chainId,i)})),n}const G7=async(e,t,n,r,i)=>{const a=new Map;try{const s=await w7(t,e),o=[],c=[];for(const e of i)e!==r.address&&(o.push(s.getUnsignedSwapTxFromAmountOut(n,e,r.address,r.amount,1)),c.push(e));return(await d7(e,"Time to resolve swap quotes from the dex",Promise.allSettled(o))).forEach(((e,t)=>{if("rejected"===e.status)return;const n=c[t];a.set(n,{quote:e.value.quote,approval:e.value.approval?.gasFeeEstimate??null,swap:e.value.swap.gasFeeEstimate})})),a}catch{return a}},W7=(e,t,n)=>{let r,i=Ji.from(0),a="0";e&&(i=e.value,a=Ab(e.value,e.token.decimals),r={name:e.token.name??"",symbol:e.token.symbol??"",address:e.token.address,decimals:e.token.decimals});let s,o=Ji.from(0),c="0";t&&(o=t.value,c=Ab(t.value,t.token.decimals),s={name:t.token.name??"",symbol:t.token.symbol??"",address:t.token.address,decimals:t.token.decimals});const u=[];for(const e of n)u.push({type:S9.SWAP_FEE,amount:e.amount.value,formattedAmount:Ab(e.amount.value,e.amount.token.decimals),token:{name:e.amount.token.name??"",symbol:e.amount.token.symbol??"",address:e.amount.token.address,decimals:e.amount.token.decimals}});return{approvalGasFee:{type:S9.GAS,amount:i,formattedAmount:a,token:r},swapGasFee:{type:S9.GAS,amount:o,formattedAmount:c,token:s},swapFees:u}},V7=(e,t,n,r)=>{const i=n.token.address;let a=E9.ERC20;return a7(i)&&(a=E9.NATIVE),{type:k9.SWAP,chainId:e,fundingItem:{type:a,fundsRequired:{amount:t,formattedAmount:Ab(t,n.token.decimals)},userBalance:{balance:n.balance,formattedBalance:n.formattedBalance},token:n.token},fees:r}},K7=(e,t)=>{if(!t)return{sufficient:!0,approvalGasFee:Ji.from(0),approvalGasTokenAddress:""};const n=t.value,r=t.token.address;if(0===e.length)return{sufficient:!1,approvalGasFee:n,approvalGasTokenAddress:r};const i=e.find((e=>a7(e.token.address)&&a7(r)||r7(e.token.address,r)));return i?i.balance.lt(n)?{sufficient:!1,approvalGasFee:n,approvalGasTokenAddress:r}:{sufficient:!0,approvalGasFee:n,approvalGasTokenAddress:r}:{sufficient:!1,approvalGasFee:n,approvalGasTokenAddress:r}},X7=(e,t,n,r,i)=>{const a=new Map;if(t.approvalGasFee.gt(Ji.from(0))&&a.set(t.approvalGasTokenAddress,t.approvalGasFee),n){const e=a.get(n.token.address);e?a.set(n.token.address,e.add(n.value)):a.set(n.token.address,n.value)}if(i){const e=a.get(i.address);e?a.set(i.address,e.add(i.amount)):a.set(i.address,i.amount)}for(const e of r){const t=a.get(e.amount.token.address);t?a.set(e.amount.token.address,t.add(e.amount.value)):a.set(e.amount.token.address,e.amount.value)}for(const[t,n]of a.entries()){if(n===Ji.from(0))continue;const r=e.find((e=>a7(e.token.address)&&a7(t)||r7(e.token.address,t)));if(!r)return!1;if(r.balance.lt(n))return!1}return!0},$7=(e,t,n,r,i,a)=>{let s=Ji.from(0),o="",c=!1;if(t.balanceRequirements.forEach((t=>{t.type!==E9.NATIVE&&t.type!==E9.ERC20||t.required.token.address&&r7(t.required.token.address,n)&&(o=t.required.token.address,c=!0,s=e.sub(t.required.balance))})),!c)return!0;r7(i.approvalGasTokenAddress,o)&&(s=s.sub(i.approvalGasFee));for(const e of a)r7(e.amount.token.address,o)&&(s=s.sub(e.amount.value));return s.gte(r)},J7=async(e,t,n,r,i,a,s)=>{const o=[];if(!t.swap)return o;if(0===a.length)return o;if(!(e=>e.type===E9.ERC20?!!e.required.token.address:e.type===E9.NATIVE&&a7(e.required.token.address))(r))return o;const c=(e=>{let t="",n=Ji.from(0);switch(e.type){case E9.ERC20:t=e.required.token.address,n=e.delta.balance;break;case E9.NATIVE:n=e.delta.balance}return{address:t,amount:n}})(r),u=t7(e),d=i.get(u);if(!d)return o;const f=d.balances;if(0===f.length)return o;const l=await G7(e,t7(e),n,c,a),h=Array.from(l.keys());for(const e of h){const t=l.get(e);if(!t)continue;const n=f.find((t=>r7(t.token.address,e)));if(!n)continue;const r=t.quote.amount;if(n.balance.lt(r.value))continue;const i=K7(f,t.approval);if(!i.sufficient)continue;if(!X7(f,i,t.swap,t.quote.fees,{amount:r.value,address:e}))continue;if(!$7(n.balance,s,e,r.value,i,t.quote.fees))continue;const a=W7(t.approval,t.swap,t.quote.fees);o.push(V7(u,r.value,n,a))}return o},Y7=(e,t)=>t&&t.success?e.filter((e=>"address"in e?t.balances.find((t=>r7(t.token.address,e.address)&&t.balance.gt(0))):t.balances.find((e=>!("address"in e.token)&&e.balance.gt(0))))):[],Q7=async(e,t)=>{if(t.onRamp){return(await i7(e,{type:b9.ONRAMP})).tokens}return[]},Z7=async(e,t,n)=>{if(n.bridge){const n=e7(e),r=(await i7(e,{type:b9.BRIDGE,chainId:n})).tokens,i=t.get(n);return Y7(r,i)}return[]},eee=async(e,t,n)=>{const r={};return r.swap=await(async(e,t,n)=>{if(n.swap){const n=(await i7(e,{type:b9.SWAP})).tokens,r=t.get(t7(e));return Y7(n,r)}return[]})(e,t,n),r.bridge=await Z7(e,t,n),r.onRamp=await Q7(e,n),r},tee="0x0000000000000000000000000000000000000eee",nee=async(e,t)=>(await t.remote.getConfig("imxAddressMapping"))[e]??"",ree=async(e,t)=>{if(a7(t))return{l1address:await nee(e7(e),e),l2address:U9};const n=(r=t7(e))===d9.IMTBL_ZKEVM_MAINNET?l9.IMTBL_ZKEVM_MAINNET:r===d9.IMTBL_ZKEVM_TESTNET?l9.IMTBL_ZKEVM_TESTNET:r===d9.IMTBL_ZKEVM_DEVNET?l9.IMTBL_ZKEVM_DEVNET:"";var r;const i=E7(e),a=(await i.getToken({chainName:n,contractAddress:t})).result.root_contract_address;return r7(a??"",tee)?{l1address:"native",l2address:t}:null!==a?{l1address:a,l2address:t}:void 0},iee=(e,t)=>(e=>{for(const t of e.balances)if(a7(t.token.address))return t.balance;return Ji.from(0)})(e).gte(t),aee=(e,t,n,r,i)=>{const a=i?.decimals??F9,s=[];return t.gt(0)&&s.push({type:S9.BRIDGE_FEE,amount:t,formattedAmount:Ab(t,a),token:i}),n.gt(0)&&s.push({type:S9.IMMUTABLE_FEE,amount:n,formattedAmount:Ab(n,a),token:i}),{approvalGasFee:{type:S9.GAS,amount:r,formattedAmount:Ab(r,F9),token:i},bridgeGasFee:{type:S9.GAS,amount:e,formattedAmount:Ab(e,F9),token:i},bridgeFees:s}},see=(e,t,n,r,i)=>({type:k9.BRIDGE,chainId:e,fundingItem:{type:r,fundsRequired:{amount:n.amount,formattedAmount:n.formattedAmount},userBalance:{balance:t.balance,formattedBalance:t.formattedBalance},token:{name:t.token.name,symbol:t.token.symbol,address:t.token.address,decimals:t.token.decimals}},fees:i}),oee=async(e,t,n,r,i)=>{if(!n.bridge)return;const a=e7(e),s=t7(e),o=e.networkMap.get(a)?.nativeCurrency,c=i.get(a);if(!t.get(a))throw new C9("No L1 provider available",I9.PROVIDER_ERROR,{chainId:a.toString()});if(void 0===c||!1===c.success)return;const u=await Z7(e,i,n);if(0===u.length)return;const d=await ree(e,r.l2address);if(!d)return;const{l1address:f}=d;if(a7(f)){if(!u.find((e=>a7(e.address))))return}else if(!u.find((e=>r7(e.address,f))))return;const l=await(async(e,t,n,r)=>{const i=v7(n,r,t,e);try{return{...await i.getFee({action:L0.DEPOSIT,gasMultiplier:1.1,sourceChainId:n.toString(),destinationChainId:r.toString()}),approvalGas:Ji.from(0)}}catch(e){throw new C9("Error estimating gas for bridge",I9.BRIDGE_GAS_ESTIMATE_ERROR,{message:e.message})}})(e,t,a,s),{sourceChainGas:h,approvalGas:p,bridgeFee:m,imtblFee:b,totalFees:y}=l;if(!iee(c,y))return;if(a7(f)){const e=c.balances.find((e=>a7(e.token.address)));if(e&&e.balance.gte(r.amount.add(y))){const t=aee(h,m,b,p,o);return see(a,e,r,E9.NATIVE,t)}return}const g=c.balances.find((e=>r7(e.token.address,f)));if(g&&g.balance.gte(r.amount)){const e=aee(h,m,b,p,o);return see(a,g,r,E9.ERC20,e)}},cee=(e,t)=>{let n=Ji.from(0);return e.quote.fees.forEach((e=>{r7(e.amount.token.address,t)&&(n=n.add(e.amount.value))})),e.approval&&r7(e.approval.token.address,t)&&(n=n.add(e.approval.value)),n},uee=(e,t)=>{for(const n of e.balanceRequirements)if((n.type===E9.NATIVE||n.type===E9.ERC20)&&r7(n.required.token.address,t))return n.required.balance;return Ji.from(0)},dee=(e,t,n)=>{const r=n?.balance??Ji.from(0);if(r.gte(e.add(t)))return Ji.from(0);if(r.lte(0))return e.add(t);const i=r.sub(t);return i.gte(0)?e.sub(i):e.add(t).sub(r)},fee=async(e,t,n,r,i,a,s,o,c)=>{const{l1balances:u,l2balances:d}=((e,t)=>{const n={l1balances:[],l2balances:[]},r=t.get(e7(e)),i=t.get(t7(e));return r?void 0!==r.error?n:r.success&&i?void 0!==i.error?n:i.success?{l1balances:r.balances,l2balances:i.balances}:n:n:n})(e,a),f=r.required.token.address;if(((e,t,n,r,i,a)=>0===e.length||0===t.length||0===n.length||0===r.length||!i.bridge||!i.swap||void 0===a||""===a)(s,o,u,d,n,f))return[];const l=await(async(e,t)=>{const n=t.map((t=>ree(e,t.address??"")));return(await Promise.all(n)).filter((e=>void 0!==e))})(e,o),h=((e,t,n,r)=>{const i=[];for(const a of r){if(!t.includes(a.l1address))continue;if(r7(a.l2address,e))continue;const r=n.find((e=>r7(e.address,a.l2address)));r&&i.push(r)}return i})(f,s,o,l);if(0===h.length)return[];const p=await(async(e,t,n,r,i)=>{const a=[];for(const e of i)e.address&&a.push(e.address);return await G7(e,t7(e),t,{address:n,amount:r.delta.balance},a)})(e,i,f,r,h),m=((e,t,n,r,i)=>{const a=[];for(const[s,o]of e){const e=n.find((e=>r7(e.token.address,s))),c=r.find((e=>r7(e.l2address,s)));if(!c)continue;const{l1address:u,l2address:d}=c;if(!u)continue;const f=t.find((e=>!(void 0!==e.token.address||!r7(u,tee))||r7(e.token.address,u)));if(!f)continue;const l=o.quote.amountWithMaxSlippage.value,h=cee(o,s),p=l.add(h),m=uee(i,s),b=dee(p,m,e);b.lte(0)||b.gte(f.balance)||a.push({amount:b,formattedAmount:Ab(b,f.token.decimals),l2address:d})}return a})(p,u,d,l,c);if(0===m.length)return[];const b=new Map,y=new Map,g=[];for(const r of m)r.l2address&&(b.set(r.l2address,oee(e,t,n,r,a)),y.set(r.l2address,{amount:r.amount,formattedAmount:r.formattedAmount,l2address:r.l2address}));const v=await Promise.all(b.values()),w=Array.from(b.keys()),_=[];if(v.forEach(((e,t)=>{const n=w[t];if(void 0===e)return;_.push(n);const r=y.get(n);r&&g.push({amount:r.amount,formattedAmount:r.formattedAmount,l2address:r.l2address})})),0===_.length)return[];if(0===g.length)return[];const E=((e,t,n,r,i)=>{const a=new Map;for(const[e,n]of t)a.set(e,{success:n.success,balances:n.balances});const s=new Map;for(const e of n)e.token.address&&s.set(e.token.address,e);for(const e of r){const{amount:t,l2address:n}=e;if(""===n)continue;let r=Ji.from(0);const a=s.get(n);a&&(r=a.balance);const o=r.add(t),c=i.find((e=>r7(e.address,n)));s.set(n,{balance:o,formattedBalance:Ab(o,c.decimals),token:c})}const o=Array.from(s.values());return a.set(t7(e),{success:!0,balances:o}),a})(e,a,d,g,o),T=await J7(e,n,i,r,E,_,c);if(!T)return[];const A=((e,t)=>{const n=[];for(const r of t){const{chainId:t,fundingItem:i}=r,{userBalance:a}=r.fundingItem,s=e.get(t);if(!s)continue;let o=Ji.from(0),c="0";const u=s.balances.find((e=>r7(e.token.address,i.token.address)));u&&(o=u.balance,c=u.formattedBalance),a.balance=o,a.formattedBalance=c,n.push(r)}return n})(a,T);return((e,t,n)=>{const r=[];for(const i of e){if(!i)continue;const e=n.find((e=>void 0===i.fundingItem.token.address?r7(e.l1address,tee)&&e.l2address:r7(e.l1address,i.fundingItem.token.address)&&e.l2address));if(!e)continue;const a=t.find((t=>r7(t.fundingItem.token.address,e.l2address)));a&&r.push({bridgeFundingStep:i,swapFundingStep:a})}return r})(v,A,l)},lee=async(e,t,n)=>{if(!t.onRamp)return;if(void 0===n)return;const r=await(async(e,t,n)=>{if(![E9.ERC20,E9.NATIVE].includes(n.type))return;const{required:r,current:i,delta:a}=n;let s=!1;return(await Q7(e,t)).forEach((e=>{e.address&&r.token&&(a7(r.token.address)||r7(e.address,r.token.address))&&(s=!0)})),s?{type:k9.ONRAMP,chainId:t7(e),fundingItem:{type:a7(r.token.address)?E9.NATIVE:E9.ERC20,fundsRequired:{amount:a.balance,formattedAmount:a.formattedBalance},userBalance:{balance:i.balance,formattedBalance:i.formattedBalance},token:r.token}}:void 0})(e,t,n);return r},hee=async(e,t,n,r)=>{if(!(e=>e.bridge||e.swap||e.onRamp)(r))return{type:R9.NO_ROUTE_OPTIONS,message:"No routing options are available"};let i;try{i=await H7(e)}catch(e){throw new C9("Error occurred while creating read only providers",I9.PROVIDER_ERROR,{message:e.message})}const a=await d7(e,"Time to get token balances inside router",(async(e,t,n,r)=>{const i=new Map,a=new Map;if(0===t.size){const t={success:!1,error:new C9("No L1 or L2 provider available",I9.PROVIDER_ERROR),balances:[]};return i.set(e7(e),t),i.set(t7(e),t),i}if(r.bridge){const r=e7(e);t.has(r)?a.set(r,p7(e,t.get(r),n,r)):i.set(e7(e),{success:!1,error:new C9(`No L1 provider available for ${r}`,I9.PROVIDER_ERROR),balances:[]})}const s=t7(e);if(t.has(s)?a.set(s,p7(e,t.get(s),n,s)):i.set(t7(e),{success:!1,error:new C9(`No L2 provider available for ${s}`,I9.PROVIDER_ERROR),balances:[]}),a.size>0){const e=Array.from(a.keys());(await Promise.allSettled(a.values())).forEach(((t,n)=>{const r=e[n];"fulfilled"===t.status?i.set(r,{success:!0,balances:t.value.balances}):i.set(r,{success:!1,error:new C9(`Error getting ${s} balances`,I9.GET_BALANCE_ERROR),balances:[]})}))}return i})(e,i,t,r)),s=await d7(e,"Time to get routing allowlist",eee(e,a,r)),o=(e=>{let t,n=0;for(const r of e.balanceRequirements)r.sufficient||(n++,t=r);if(1===n)return t})(n),c=[];c.push((async(e,t,n,r,i)=>{let a;if(void 0===r)return;if(r.type!==E9.NATIVE&&r.type!==E9.ERC20)return;const s={amount:r.delta.balance,formattedAmount:r.delta.formattedBalance,l2address:r.required.token.address??""};return n.bridge&&r&&(a=await oee(e,t,n,s,i)),a})(e,i,r,o,a)),c.push((async(e,t,n,r,i,a,s)=>{const o=[];if(!t.swap)return o;if(void 0===n)return o;if(void 0===a)return o;const c=i.get(t7(e));if(!c)return o;if(void 0!==c.error||!c.success)return o;if(0===a.length)return o;const u=a.filter((e=>e.address)).map((e=>e.address));return 0===u.length?o:await J7(e,t,r,n,i,u,s)})(e,r,o,t,a,s.swap,n)),c.push(lee(e,r,o)),c.push((async(e,t,n,r,i,a,s,o)=>{if(!r)return[];const c=a.get(e7(e)),u=a.get(t7(e));if(!c)return[];if(void 0!==c.error||!c.success)return[];if(!u)return[];if(void 0!==u.error||!u.success)return[];const d=(s?.bridge??[]).map((e=>void 0===e.address?tee:e.address)),f=s?.swap??[];return r.type!==E9.NATIVE&&r.type!==E9.ERC20?[]:await fee(e,t,n,r,i,a,d,f,o)})(e,i,r,o,t,a,s,n));const u=await d7(e,"Time to resolve all routes",Promise.all(c));let d,f,l=[],h=[];if(u.forEach(((e,t)=>{0===t&&(d=e),1===t&&(l=e),2===t&&(f=e),3===t&&(h=e)})),!d&&0===l.length&&!f&&0===h.length)return{type:R9.NO_ROUTES_FOUND,message:"Smart Checkout did not find any funding routes to fulfill the transaction"};const p={type:R9.ROUTES_FOUND,fundingRoutes:[]};let m=0;return l.length>0&&(m++,l.forEach((e=>{p.fundingRoutes.push({priority:m,steps:[e]})}))),d&&(m++,p.fundingRoutes.push({priority:m,steps:[d]})),f&&(m++,p.fundingRoutes.push({priority:m,steps:[f]})),h&&(m++,h.forEach((e=>{const t=e.bridgeFundingStep,n=e.swapFundingStep;p.fundingRoutes.push({priority:m,steps:[t,n]})}))),p},pee=async(e,t,n,r)=>{const i=await t.getSigner().getAddress();let a=k7(n);const s=(async(e,t,n)=>{let r=!0;const i=[],a=new Map,s=new Map,o=new Map,c=new Map;for(const r of n){if(r.type!==E9.ERC20)continue;const{tokenAddress:n,spenderAddress:i}=r,o=`${n}${i}`;a.set(o,r),s.set(o,O7(e,t,n,i))}const u=await Promise.all(s.values()),d=Array.from(s.keys());for(let n=0;n<u.length;n++){const s=a.get(d[n]);if(!s||s.type!==E9.ERC20)continue;if(u[n].gte(s.amount)){i.push({sufficient:!0,itemRequirement:s});continue}r=!1;const{tokenAddress:f,spenderAddress:l}=s,h=`${f}${l}`,p=s.amount.sub(u[n]);o.set(h,{type:E9.ERC20,sufficient:!1,delta:p,itemRequirement:s,approvalTransaction:void 0}),c.set(h,I7(e,t,f,l,p))}const f=await Promise.all(c.values()),l=Array.from(c.keys());return f.forEach(((e,t)=>{const n=o.get(l[t]);n&&(n.sufficient||(n.approvalTransaction=e))})),{sufficient:r,allowances:i.concat(Array.from(o.values()))}})(t,i,a),o=N7(t,i,a),c=await d7(e,"Time to calculate token allowances",Promise.all([s,o])),u=((e,t)=>{const n=[];if(!e.sufficient)for(const t of e.allowances)t.sufficient||n.push(t);if(!t.sufficient)for(const e of t.allowances)e.sufficient||n.push(e);return n})(c[0],c[1]),d=await d7(e,"Time to run gas calculator",U7(t,u,r));null!==d&&(a.push(d),a=k7(a));const f=await d7(e,"Time to run balance checks",L7(e,t,i,a)),{sufficient:l}=f,h=f.balanceRequirements;if(l)return{sufficient:l,transactionRequirements:h};const p=await d7(e,"Time to fetch available routing options",(async(e,t)=>{const n={onRamp:e.isOnRampEnabled,swap:e.isSwapEnabled,bridge:e.isBridgeEnabled},r=[];if(n.onRamp&&r.push({id:"onRamp",promise:q7()}),n.swap&&r.push({id:"swap",promise:z7(e)}),r.length>0){const e=r.map((e=>e.promise));(await Promise.allSettled(e)).forEach(((e,t)=>{const i=r[t].id;n[i]=n[i]&&"fulfilled"===e.status&&e.value}))}return n.bridge=n.bridge&&!(e=>!0===e.provider?.isPassport??!1)(t),n})(e,t));return{sufficient:l,transactionRequirements:h,router:{availableRoutingOptions:p,routingOutcome:await d7(e,"Total time to run the routing calculator",hee(e,i,f,p))}}};var mee;!function(e){e.SUCCESS="SUCCESS",e.FAILED="FAILED"}(mee||(mee={}));const bee=async(e,t)=>{let n=[];try{const r=await Promise.all(t.map((t=>g7(e,t))));n=await Promise.all(r.map((e=>e.transactionResponse.wait())))}catch(e){throw new C9("An error occurred while executing the approval transaction",I9.EXECUTE_APPROVAL_TRANSACTION_ERROR,{message:e.message})}for(const e of n)if(0===e.status)return{type:mee.FAILED,transactionHash:e.transactionHash,reason:"Approval transaction failed and was reverted"};return{type:mee.SUCCESS}},yee=async(e,t)=>{let n=[];try{const r=await Promise.all(t.map((t=>g7(e,t))));n=await Promise.all(r.map((e=>e.transactionResponse.wait())))}catch(e){throw new C9("An error occurred while executing the fulfillment transaction",I9.EXECUTE_FULFILLMENT_TRANSACTION_ERROR,{message:e.message})}for(const e of n)if(0===e.status)return{type:mee.FAILED,transactionHash:e.transactionHash,reason:"Fulfillment transaction failed and was reverted"};return{type:mee.SUCCESS}},gee=async e=>{let t=[];const n=[];for(const t of e)t.type===UX.TRANSACTION&&t.purpose===LX.FULFILL_ORDER&&n.push(t.buildTransaction());return t=await Promise.all(n),t},vee=(e,t)=>{const n=e.amount,r=Math.round(n.percentageDecimal*10**6);return t.mul(Ji.from(r)).div(10**6)},wee=(e,t)=>Rb(e.amount.token,t),_ee=(e,t,n=18)=>{let r=Ji.from(0);const i=Ji.from(t),a=i.mul(1e6).div(10**6),s=[];for(const t of e){let e=Ji.from(0);if(Object.hasOwn(t.amount,"percentageDecimal"))e=vee(t,i),r=r.add(e);else{if(!Object.hasOwn(t.amount,"token"))throw new C9("Unknown fee type parsed, must be percentageDecimal or token",I9.ORDER_FEE_ERROR);e=wee(t,n),r=r.add(e)}if(r.gt(a))throw new C9("The combined fees are above the allowed maximum of 100%",I9.ORDER_FEE_ERROR);e.gt(0)&&s.push({amount:e.toString(),recipientAddress:t.recipient})}return s},Eee=(e,t,n,r)=>{switch(e){case E9.ERC20:return{type:e,amount:n,tokenAddress:t,spenderAddress:r};case E9.NATIVE:default:return{type:E9.NATIVE,amount:n}}},Tee=async(e,t,n)=>{if(0===n.length)throw new C9("No orders were provided to the orders array. Please provide at least one order.",I9.FULFILL_ORDER_LISTING_ERROR);let r,i="",a=18;const s=t$.estimatedFulfillmentGasGwei,o=_7(e),c=E7(e),u=await d7(e,"Time to get the address from the provider",t.getSigner().getAddress());h7.clear(),p7(e,t,u,e7(e)),p7(e,t,u,t7(e));const{id:d,takerFees:f}=n[0];let l;try{r=await d7(e,"Time to fetch the listing from the orderbook",o.getListing(d));const{seaportContractAddress:t,chainName:n}=o.config();l=n,i=t}catch(e){throw new C9("An error occurred while getting the order listing",I9.GET_ORDER_LISTING_ERROR,{orderId:d,message:e.message})}if(0===r.result.buy.length)throw new C9("An error occurred with the get order listing",I9.GET_ORDER_LISTING_ERROR,{orderId:d,message:"No buy side tokens found on order"});const h=r.result.buy[0];if("ERC20"===h.type){const t=await d7(e,"Time to get decimals of token contract for the buy token",c.getToken({contractAddress:h.contractAddress,chainName:l}));t.result.decimals&&(a=t.result.decimals)}let p=[];f&&f.length>0&&(p=_ee(f,h.amount,a));let m=[],b=[],y=[];const g=performance.now();try{const{actions:t}=await d7(e,"Time to call fulfillOrder from the orderbook",o.fulfillOrder(d,u,p));y=t,m=await d7(e,"Time to construct the unsigned approval transactions",(async e=>{let t=[];const n=[];for(const t of e)t.type===UX.TRANSACTION&&t.purpose===LX.APPROVAL&&n.push(t.buildTransaction());return t=await Promise.all(n),t})(t))}catch(t){const n=(performance.now()-g)/1e3;if(u7(e,"Time to call fulfillOrder from the orderbook",n),t.message.includes(NX.EXPIRED))throw new C9("Order is expired",I9.ORDER_EXPIRED_ERROR,{orderId:d});if(!t.message.includes("The fulfiller does not have the balances needed to fulfill"))throw new C9("Error occurred while trying to fulfill the order",I9.FULFILL_ORDER_LISTING_ERROR,{orderId:d,message:t.message})}try{b=await d7(e,"Time to construct the unsigned fulfillment transactions",gee(y))}catch{}let v=Ji.from("0"),w=E9.NATIVE,_="";const E=r.result.buy;if(E.length>0)switch(E[0].type){case"NATIVE":w=E9.NATIVE;break;case"ERC20":w=E9.ERC20,_=E[0].contractAddress;break;default:throw new C9("Purchasing token type is unsupported",I9.UNSUPPORTED_TOKEN_TYPE_ERROR,{orderId:d})}E.forEach((e=>{e.type!==E9.ERC721&&(v=v.add(Ji.from(e.amount)))}));r.result.fees.forEach((e=>{v=v.add(Ji.from(e.amount))}));const T=[Eee(w,_,v,i)],A=await d7(e,"Total time running smart checkout",pee(e,t,T,((e,t)=>t.length>0?{type:T9.TRANSACTION,transaction:t[0]}:{type:T9.GAS,gasToken:{type:A9.NATIVE,limit:Ji.from(e)}})(s,b)));if(A.sufficient){const e=await bee(t,m);if(e.type===mee.FAILED)return{status:_9.FAILED,transactionHash:e.transactionHash,reason:e.reason,smartCheckoutResult:A};try{0===b.length&&(b=await gee(y))}catch(e){throw new C9("Error fetching fulfillment transaction",I9.FULFILL_ORDER_LISTING_ERROR,{message:e.message})}const n=await yee(t,b);return n.type===mee.FAILED?{status:_9.FAILED,transactionHash:n.transactionHash,reason:n.reason,smartCheckoutResult:A}:{status:_9.SUCCESS,smartCheckoutResult:A}}return{status:_9.INSUFFICIENT_FUNDS,smartCheckoutResult:A}},Aee=(e,t,n)=>({type:E9.ERC721,id:e,contractAddress:t,spenderAddress:n}),Ree=async(e,t,n)=>{let r,i,a="";if(0===n.length)throw new C9("No orders were provided to the orders array. Please provide at least one order.",I9.PREPARE_ORDER_LISTING_ERROR);const{buyToken:s,sellToken:o,makerFees:c,orderExpiry:u}=n[0];let d=18;if(s.type===E9.ERC20){const n=new bl(s.tokenAddress,JSON.stringify(X9),t);d=await d7(e,"Time to get decimals of token contract for the buy token",n.decimals())}const f=((e,t=18)=>{const n=Rb(e.amount,t);return e.type===E9.NATIVE?{type:E9.NATIVE,amount:n.toString()}:{type:E9.ERC20,amount:n.toString(),contractAddress:e.tokenAddress}})(s,d);try{const n=await d7(e,"Time to get the address from the provider",t.getSigner().getAddress());r=_7(e);const{seaportContractAddress:s}=r.config();a=s,i=await d7(e,"Time to prepare the listing from the orderbook",r.prepareListing({makerAddress:n,buy:f,sell:{type:E9.ERC721,contractAddress:o.collectionAddress,tokenId:o.id},orderExpiry:u}))}catch(e){throw new C9("An error occurred while preparing the listing",I9.PREPARE_ORDER_LISTING_ERROR,{message:e.message,id:o.id,collectionAddress:o.collectionAddress})}const l=[Aee(o.id,o.collectionAddress,a)],h=await d7(e,"Total time running smart checkout",pee(e,t,l,{type:T9.GAS,gasToken:{type:A9.NATIVE,limit:Ji.from(t$.estimatedFulfillmentGasGwei)}}));if(h.sufficient){const e=await(async e=>{let t=[],n=[];const r=[],i=[];for(const t of e)t.type===UX.TRANSACTION&&(t.purpose===LX.APPROVAL&&r.push(t.buildTransaction()),t.purpose===LX.FULFILL_ORDER&&i.push(t.buildTransaction()));return t=await Promise.all(r),n=await Promise.all(i),{approvalTransactions:t,fulfillmentTransactions:n}})(i.actions),n=await bee(t,e.approvalTransactions);if(n.type===mee.FAILED)return{status:_9.FAILED,transactionHash:n.transactionHash,reason:n.reason,smartCheckoutResult:h};const a=((e,t,n)=>{let r;for(const e of n)e.type===UX.SIGNABLE&&e.purpose===FX.CREATE_LISTING&&(r={domain:e.message.domain,types:e.message.types,value:e.message.value});if(r)return{orderHash:e,orderComponents:t,unsignedMessage:r}})(i.orderHash,i.orderComponents,i.actions);if(!a)throw new C9("The unsigned message is missing after preparing the listing",I9.SIGN_MESSAGE_ERROR,{id:o.id,collectionAddress:o.collectionAddress});const s=await(async(e,t)=>{try{const n=await e.getSigner()._signTypedData(t.unsignedMessage.domain,t.unsignedMessage.types,t.unsignedMessage.value);return{orderComponents:t.orderComponents,orderHash:t.orderHash,signedMessage:n}}catch(e){throw new C9("An error occurred while signing the message",I9.SIGN_MESSAGE_ERROR,{message:e.message})}})(t,a);let u="";const l={orderComponents:s.orderComponents,orderHash:s.orderHash,orderSignature:s.signedMessage,makerFees:[]};if(void 0!==c){const e=_ee(c,f.amount,d);if(e.length!==c.length)throw new C9("One of the fees is too small, must be greater than 0.000001",I9.CREATE_ORDER_LISTING_ERROR);l.makerFees=e}try{u=(await r.createListing(l)).result.id}catch(e){throw new C9("An error occurred while creating the listing",I9.CREATE_ORDER_LISTING_ERROR,{message:e.message,collectionId:o.id,collectionAddress:o.collectionAddress})}return{status:_9.SUCCESS,orderIds:[u],smartCheckoutResult:h}}return{status:_9.INSUFFICIENT_FUNDS,smartCheckoutResult:h}};class See{config;constructor(e){this.config=e}async feeEstimate(){const e=await this.config.remote.getConfig("onramp");return e[h9.TRANSAK]?.fees}async createWidgetUrl(e){return await this.getTransakWidgetUrl(e)}async getTransakWidgetUrl(e){let t=`${H9[this.config.environment]}?`;if(t+=`${`apiKey=${(await this.config.remote.getConfig("onramp"))[h9.TRANSAK].publishableApiKey}`}&network=immutablezkevm&defaultPaymentMethod=credit_debit_card&disablePaymentMethods=sepa_bank_transfer,gbp_bank_transfer,pm_cash_app,pm_jwire,pm_paymaya,pm_bpi,pm_ubp,pm_grabpay,pm_shopeepay,pm_gcash,pm_pix,pm_astropay,pm_pse,inr_bank_transfer&productsAvailed=buy&exchangeScreenTitle=Buy&themeColor=0D0D0D`,e.isPassport&&e.email){t+=`&email=${encodeURIComponent(e.email)}&isAutoFillUserData=true&disableWalletAddressForm=true`}return e.tokenAmount&&e.tokenSymbol?t+=`&defaultCryptoAmount=${e.tokenAmount}&cryptoCurrencyCode=${e.tokenSymbol}`:t+="&defaultCryptoCurrency=IMX",e.walletAddress&&(t+=`&walletAddress=${e.walletAddress}`),t}}async function kee(e,t){const n=[];t.forEach((t=>{if(t.type===E9.ERC20){const{tokenAddress:r}=t;n.push(function(e,t,n){return new bl(e,t,n)}(r,X9,e).decimals())}}));const r=await Promise.all(n),i=t.map(((e,t)=>e.type===E9.NATIVE?{...e,amount:Rb(e.amount,18)}:e.type===E9.ERC20?{...e,amount:Rb(e.amount,r[t])}:e));return i}function Oee(e){if(void 0===window)throw new Error("missing window object: please run Checkout client side");if(void 0===document)throw new Error("missing document object: please run Checkout client side");const t="immutable-checkout-widgets-bundle",n=function(e){const t=Y9();if(void 0===e||void 0===e.major)return t;if(!Number.isInteger(e.major)||e.major<0)return t;if(void 0!==e.minor&&e.minor<0)return t;if(void 0!==e.patch&&e.patch<0)return t;if(0===e.major&&void 0===e.minor)return t;if(0===e.major&&0===e.minor&&void 0===e.patch)return t;if(0===e.major&&void 0===e.minor&&void 0===e.patch)return t;if(0===e.major&&0===e.minor&&0===e.patch)return t;let n=e.major.toString();return void 0===e.minor||(Number.isInteger(e.minor)&&(n+=`.${e.minor.toString()}`),void 0===e.patch||(Number.isInteger(e.patch)&&(n+=`.${e.patch.toString()}`),void 0===e.prerelease||"alpha"!==e.prerelease||("alpha"===e.prerelease&&(n+=`-${e.prerelease}`),void 0===e.build||Number.isInteger(e.build)&&e.build>=0&&(n+=`.${e.build.toString()}`)))),n}(e),r=document.getElementById(t);if(r)return{loaded:!0,element:r};const i=document.createElement("script");let a=`https://cdn.jsdelivr.net/npm/@imtbl/sdk@${n}/dist/browser/checkout/widgets.js`;return i.setAttribute("id",t),i.setAttribute("data-version",n),i.setAttribute("src",a),document.head.appendChild(i),{loaded:!1,element:i}}const Iee=["https://checkout-api.dev.immutable.com","https://checkout-api.sandbox.immutable.com","https://checkout-api.immutable.com"];class xee{config;axiosInstance;constructor(e){this.config=e,this.axiosInstance=je.create(),this.setupInterceptors()}shouldAddPublishableKey(e){return Iee.some((t=>e.startsWith(t)))}setupInterceptors(){this.axiosInstance.interceptors.request.use((e=>{const t=this.config?.baseConfig?.publishableKey;if(t&&this.shouldAddPublishableKey(e.url||"")){if(!t.startsWith("pk_imapik-"))throw new Error("Invalid Publishable key. Create your Publishable key in Immutable developer hub. https://hub.immutable.com");e.headers["x-immutable-publishable-key"]=t}return e}),(e=>Promise.reject(e)))}async request(e){return await this.axiosInstance.request(e)}async get(e,t){const n={...t,url:e};return await this.request(n)}async post(e,t,n){const r={...n,data:t,url:e};return await this.request(r)}async put(e,t,n){const r={...n,data:t,url:e};return await this.request(r)}async delete(e,t,n){const r={...n,data:t,url:e};return await this.request(r)}}const Cee={baseConfig:{environment:rt.SANDBOX},passport:void 0};var Mee=Object.freeze({__proto__:null,BlockExplorerService:class{static getTransactionLink(e,t){const n=K9?.[e]?.url;if(n&&t)return`${n}/tx/${t}`}},get BridgeEventType(){return i9},get ChainId(){return d9},get ChainName(){return f9},get ChainSlug(){return l9},Checkout:class{readOnlyProviders;httpClient;config;fiatRampService;availability;passport;constructor(e=Cee){this.httpClient=new xee(e),this.config=new n7(e,this.httpClient),this.fiatRampService=new See(this.config),this.readOnlyProviders=new Map,this.availability=j7(this.config.isDevelopment,this.config.isProduction),this.passport=e.passport}async widgets(e){const t=this;await t.config.remote.getConfig();const n=new Promise(((n,r)=>{try{Oee(e.version).loaded&&"undefined"!=typeof ImmutableCheckoutWidgets?n(new ImmutableCheckoutWidgets.WidgetsFactory(t,e.config)):function r(){"undefined"!=typeof ImmutableCheckoutWidgets?n(new ImmutableCheckoutWidgets.WidgetsFactory(t,e.config)):setTimeout(r,100)}()}catch(e){r(new C9("Failed to load widgets script",I9.WIDGETS_SCRIPT_LOAD_ERROR,{message:e.message}))}}));return n}async createProvider(e){return await m7(e.walletProviderName,this.passport)}async checkIsWalletConnected(e){return async function(e){if(!e?.provider?.request)throw new C9("Check wallet connection request failed",I9.PROVIDER_REQUEST_FAILED_ERROR,{rpcMethod:y9.CHECK_CONNECTION});let t=[];try{t=await e.provider.request({method:y9.CHECK_CONNECTION,params:[]})}catch(e){throw new C9("Check wallet connection request failed",I9.PROVIDER_REQUEST_FAILED_ERROR,{rpcMethod:y9.CHECK_CONNECTION})}return{isConnected:t&&t.length>0,walletAddress:t[0]??""}}(await y7(this.config,e.provider,{allowUnsupportedProvider:!0}))}async connect(e){const t=await y7(this.config,e.provider,{allowUnsupportedProvider:!0});return await async function(e){if(!e||!e.provider?.request)throw new C9("Incompatible provider",I9.PROVIDER_REQUEST_MISSING_ERROR,{details:"Attempting to connect with an incompatible provider"});return await M9((async()=>{e.provider.request&&await e.provider.request({method:y9.CONNECT,params:[]})}),{type:I9.USER_REJECTED_REQUEST_ERROR}),e}(t),{provider:t}}async switchNetwork(e){const t=await y7(this.config,e.provider,{allowUnsupportedProvider:!0,allowMistmatchedChainId:!0});return await D9(this.config,t,e.chainId)}async getTokenInfo(e){return await s7(e.provider,e.tokenAddress)}async getBalance(e){const t=await y7(this.config,e.provider);return e.tokenAddress&&""!==e.tokenAddress?await l7(t,e.walletAddress,e.tokenAddress):await f7(this.config,t,e.walletAddress)}async getAllBalances(e){return p7(this.config,e.provider,e.walletAddress,e.chainId)}async getNetworkAllowList(e){return await N9(this.config,e)}async getTokenAllowList(e){return await i7(this.config,e)}async getWalletAllowList(e){return await async function(e){const t=[],n=e.exclude?.map((e=>e.walletProviderName))??[];let r=Object.values(v9);0!==n.length&&(r=r.filter((e=>!n.includes(e))));for(const e of r)t.push({walletProviderName:e});return{wallets:t}}(e)}async sendTransaction(e){const t=await y7(this.config,e.provider);return await g7(t,e.transaction)}async getNetworkInfo(e){const t=await y7(this.config,e.provider,{allowUnsupportedProvider:!0,allowMistmatchedChainId:!0});return await B9(this.config,t)}async buy(e){e.orders.length>1&&console.warn("This endpoint currently only processes the first order in the array.");const t=await y7(this.config,e.provider);return await Tee(this.config,t,e.orders)}async sell(e){e.orders.length>1&&console.warn("This endpoint currently only processes the first order in the array.");const t=await y7(this.config,e.provider);return await Ree(this.config,t,e.orders)}async cancel(e){console.warn("This endpoint currently only processes the first order in the array.");const t=await y7(this.config,e.provider);return await(async(e,t,n)=>{let r;if(0===n.length)throw new C9("No orderIds were provided to the orderIds array. Please provide at least one orderId.",I9.CANCEL_ORDER_LISTING_ERROR);const i=n[0];try{const n=await d7(e,"Time to get the address from the provider",t.getSigner().getAddress()),a=_7(e),s=await d7(e,"Time to get the cancel order from the orderbook",a.cancelOrdersOnChain([i],n));r=await s.cancellationAction.buildTransaction()}catch(e){throw new C9("An error occurred while cancelling the order listing",I9.CANCEL_ORDER_LISTING_ERROR,{orderId:i,message:e.message})}const a=await yee(t,[r]);return a.type===mee.FAILED?{status:_9.FAILED,transactionHash:a.transactionHash,reason:a.reason}:{status:_9.SUCCESS}})(this.config,t,e.orderIds)}async smartCheckout(e){const t=await y7(this.config,e.provider);let n=[];try{n=await kee(t,e.itemRequirements)}catch(e){throw new C9("Failed to map item requirements",I9.ITEM_REQUIREMENTS_ERROR)}return await pee(this.config,t,n,e.transactionOrGasAmount)}static isWeb3Provider(e){return b7(e)}async gasEstimate(e){return this.readOnlyProviders=await H7(this.config,this.readOnlyProviders),await S7(e,this.readOnlyProviders,this.config)}async createFiatRampUrl(e){let t,n,r="IMX";const i=await e.web3Provider.getSigner().getAddress(),a=e.web3Provider.provider?.isPassport||!1;if(a&&e.passport){const t=await e.passport.getUserInfo();n=t?.email}const s=await i7(this.config,{type:b9.ONRAMP}),o=s.tokens?.find((t=>r7(t.address,e.tokenAddress)));return o&&(t=e.tokenAmount,r=o.symbol),await this.fiatRampService.createWidgetUrl({exchangeType:e.exchangeType,isPassport:a,walletAddress:i,tokenAmount:t,tokenSymbol:r,email:n})}async getExchangeFeeEstimate(){return await this.fiatRampService.feeEstimate()}async isSwapAvailable(){return this.availability.checkDexAvailability()}},CheckoutConfiguration:n7,get CheckoutErrorType(){return I9},get CheckoutStatus(){return _9},get ConnectEventType(){return Z4},get ConnectTargetLayer(){return c9},get ExchangeType(){return O9},get FeeType(){return S9},get FundingStepType(){return k9},get GasEstimateType(){return p9},get GasTokenType(){return A9},IMMUTABLE_API_BASE_URL:q9,get IMTBLWidgetEvents(){return Y4},get ItemType(){return E9},get NetworkFilterTypes(){return m9},get OnRampEventType(){return s9},get OrchestrationEventType(){return a9},get ProviderEventType(){return Q4},get RoutingOutcomeType(){return R9},get SaleEventType(){return n9},get SalePaymentTypes(){return r9},get SwapEventType(){return t9},get TokenFilterTypes(){return b9},get TransactionOrGasType(){return T9},get WalletEventType(){return e9},get WalletFilterTypes(){return g9},get WalletProviderName(){return v9},get WidgetTheme(){return u9},get WidgetType(){return o9}});e.blockchainData=rr,e.checkout=Mee,e.config=at,e.immutablexClient=rD,e.orderbook=n$,e.passport=FH,e.provider=L$}));
//# sourceMappingURL=index.browser.js.map
