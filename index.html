<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/@imtbl/sdk@0.34.0"></script>
    <script type="module" src="passport.js"></script>
    <script type="module" src="login.js"></script>
    <script src="//unpkg.com/alpinejs" defer></script>
  </head>
  <body
    class="prose"
    x-data='{
    user: "",
    loadingUser: false
  }'
    x-init="
window.passport.loginCallback()
"
    style="background-image: url('bg.png')"
  >
    <!--
// v0 by Vercel.
// https://v0.dev/t/Yhxfz4RFdmR
-->
    <header class="flex items-center justify-between px-4 py-2 text-white">
      <h1 class="text-2xl font-bold">Game Channel</h1>
      <div
      x-show="!user"
        class="inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2 text-white border-white"
        :class="loadingUser ? 'disabled text-gray-500 px-2' : ''"
      >
        <svg
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
        class="mr-2 h-8 w-8 animate-spin"
        :class="loadingUser ? 'block' : 'hidden'"
        >

        <path d="M21 12a9 9 0 1 1-6.219-8.56" />
        </svg>
        <button
          x-show="!user"
          @click="
        loadingUser = true
        await connectPassport()
        user = window.userProfile
        loadingUser = false
        "
          :class="loadingUser ? 'disabled' : ''"
          x-text="loadingUser ? 'Connecting...' : 'Connect Wallet'"
        >Connect Wallet</button>
      </div>
      <p
        x-text="JSON.stringify(user)"
        class="py-2 text-white"
        :class="user ? '' : 'hidden'"
      ></p>
    </header>

    <section
      class="w-full max-w-[150ch] mx-auto py-4 md:py-24 lg:py-32 text-white grid items-center gap-8"
    >
      <div class="container px-4 md:px-6">
        <div
          class="flex flex-col md:flex-row items-center md:space-x-4 space-y-4 md:space-y-0 text-center md:text-left"
        >
          <div class="space-y-2">
            <h1
              class="text-4xl text-center font-bold tracking-tighter sm:text-5xl md:text-6xl lg:text-7xl bg-clip-text text-transparent bg-gradient-to-r from-purple-500 via-pink-500 to-red-500"
            >
              Welcome to Game Channel
            </h1>
          </div>
          <div class="rounded-md w-4/5 lg:w-1/2">
            <img
              src="hero.webp"
              alt="Game Channel Image"
              class="w-full h-full object-cover rounded-md"
              width="500"
              height="500"
              style="aspect-ratio: 500 / 500; object-fit: cover"
            />
          </div>
        </div>
      </div>

      <!-- Play now button -->
      <div class="space-x-4 text-center">
        <div class="relative inline-flex group">
          <div
            class="absolute transitiona-all duration-1000 opacity-70 -inset-px bg-gradient-to-r from-[#44BCFF] via-[#FF44EC] to-[#FF675E] rounded-xl blur-lg group-hover:opacity-100 group-hover:-inset-1 group-hover:duration-200 animate-tilt"
          ></div>
          <button
            @click="
        console.log({user})
        "
            x-init="
        console.log('I will login callback')
        window.passport.loginCallback()
        console.log('I have logged in the call back')
        "
            href="#"
            title="Get quote now"
            class="relative inline-flex items-center justify-center px-8 py-4 text-lg font-bold text-white transition-all duration-200 bg-gray-900 font-pj rounded-xl focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-900"
            role="button"
          >
            Play Now
          </button>
        </div>
      </div>
    </section>
  </body>
  <!-- <script type="module" src="passport.js"></script>
  <script type="module" src="login.js"></script> -->
</html>
